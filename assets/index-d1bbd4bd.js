(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const ut of document.querySelectorAll('link[rel="modulepreload"]'))tt(ut);new MutationObserver(ut=>{for(const mt of ut)if(mt.type==="childList")for(const nn of mt.addedNodes)nn.tagName==="LINK"&&nn.rel==="modulepreload"&&tt(nn)}).observe(document,{childList:!0,subtree:!0});function $(ut){const mt={};return ut.integrity&&(mt.integrity=ut.integrity),ut.referrerPolicy&&(mt.referrerPolicy=ut.referrerPolicy),ut.crossOrigin==="use-credentials"?mt.credentials="include":ut.crossOrigin==="anonymous"?mt.credentials="omit":mt.credentials="same-origin",mt}function tt(ut){if(ut.ep)return;ut.ep=!0;const mt=$(ut);fetch(ut.href,mt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,g,$){this.props=i,this.context=g,this.refs=D$1,this.updater=$||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,g){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,g,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,g,$){this.props=i,this.context=g,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,g,$){var tt,ut={},mt=null,nn=null;if(g!=null)for(tt in g.ref!==void 0&&(nn=g.ref),g.key!==void 0&&(mt=""+g.key),g)J.call(g,tt)&&!L$1.hasOwnProperty(tt)&&(ut[tt]=g[tt]);var yn=arguments.length-2;if(yn===1)ut.children=$;else if(1<yn){for(var Dn=Array(yn),jn=0;jn<yn;jn++)Dn[jn]=arguments[jn+2];ut.children=Dn}if(i&&i.defaultProps)for(tt in yn=i.defaultProps,yn)ut[tt]===void 0&&(ut[tt]=yn[tt]);return{$$typeof:l$2,type:i,key:mt,ref:nn,props:ut,_owner:K$1.current}}function N$1(i,g){return{$$typeof:l$2,type:i.type,key:g,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape(i){var g={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function($){return g[$]})}var P$2=/\/+/g;function Q$1(i,g){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):g.toString(36)}function R$1(i,g,$,tt,ut){var mt=typeof i;(mt==="undefined"||mt==="boolean")&&(i=null);var nn=!1;if(i===null)nn=!0;else switch(mt){case"string":case"number":nn=!0;break;case"object":switch(i.$$typeof){case l$2:case n$1:nn=!0}}if(nn)return nn=i,ut=ut(nn),i=tt===""?"."+Q$1(nn,0):tt,I$1(ut)?($="",i!=null&&($=i.replace(P$2,"$&/")+"/"),R$1(ut,g,$,"",function(jn){return jn})):ut!=null&&(O$1(ut)&&(ut=N$1(ut,$+(!ut.key||nn&&nn.key===ut.key?"":(""+ut.key).replace(P$2,"$&/")+"/")+i)),g.push(ut)),1;if(nn=0,tt=tt===""?".":tt+":",I$1(i))for(var yn=0;yn<i.length;yn++){mt=i[yn];var Dn=tt+Q$1(mt,yn);nn+=R$1(mt,g,$,Dn,ut)}else if(Dn=A$1(i),typeof Dn=="function")for(i=Dn.call(i),yn=0;!(mt=i.next()).done;)mt=mt.value,Dn=tt+Q$1(mt,yn++),nn+=R$1(mt,g,$,Dn,ut);else if(mt==="object")throw g=String(i),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return nn}function S$1(i,g,$){if(i==null)return i;var tt=[],ut=0;return R$1(i,tt,"","",function(mt){return g.call($,mt,ut++)}),tt}function T$1(i){if(i._status===-1){var g=i._result;g=g(),g.then(function($){(i._status===0||i._status===-1)&&(i._status=1,i._result=$)},function($){(i._status===0||i._status===-1)&&(i._status=2,i._result=$)}),i._status===-1&&(i._status=0,i._result=g)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,g,$){S$1(i,function(){g.apply(this,arguments)},$)},count:function(i){var g=0;return S$1(i,function(){g++}),g},toArray:function(i){return S$1(i,function(g){return g})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,g,$){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var tt=C$1({},i.props),ut=i.key,mt=i.ref,nn=i._owner;if(g!=null){if(g.ref!==void 0&&(mt=g.ref,nn=K$1.current),g.key!==void 0&&(ut=""+g.key),i.type&&i.type.defaultProps)var yn=i.type.defaultProps;for(Dn in g)J.call(g,Dn)&&!L$1.hasOwnProperty(Dn)&&(tt[Dn]=g[Dn]===void 0&&yn!==void 0?yn[Dn]:g[Dn])}var Dn=arguments.length-2;if(Dn===1)tt.children=$;else if(1<Dn){yn=Array(Dn);for(var jn=0;jn<Dn;jn++)yn[jn]=arguments[jn+2];tt.children=yn}return{$$typeof:l$2,type:i.type,key:ut,ref:mt,props:tt,_owner:nn}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var g=M$1.bind(null,i);return g.type=i,g};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,g){return{$$typeof:x,type:i,compare:g===void 0?null:g}};react_production_min.startTransition=function(i){var g=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=g}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,g){return U$1.current.useCallback(i,g)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,g){return U$1.current.useEffect(i,g)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,g,$){return U$1.current.useImperativeHandle(i,g,$)};react_production_min.useInsertionEffect=function(i,g){return U$1.current.useInsertionEffect(i,g)};react_production_min.useLayoutEffect=function(i,g){return U$1.current.useLayoutEffect(i,g)};react_production_min.useMemo=function(i,g){return U$1.current.useMemo(i,g)};react_production_min.useReducer=function(i,g,$){return U$1.current.useReducer(i,g,$)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,g,$){return U$1.current.useSyncExternalStore(i,g,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(i,g,$){var tt,ut={},mt=null,nn=null;$!==void 0&&(mt=""+$),g.key!==void 0&&(mt=""+g.key),g.ref!==void 0&&(nn=g.ref);for(tt in g)m$2.call(g,tt)&&!p$2.hasOwnProperty(tt)&&(ut[tt]=g[tt]);if(i&&i.defaultProps)for(tt in g=i.defaultProps,g)ut[tt]===void 0&&(ut[tt]=g[tt]);return{$$typeof:k$1,type:i,key:mt,ref:nn,props:ut,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function g(ft,Rt){var Bt=ft.length;ft.push(Rt);e:for(;0<Bt;){var bt=Bt-1>>>1,Gt=ft[bt];if(0<ut(Gt,Rt))ft[bt]=Rt,ft[Bt]=Gt,Bt=bt;else break e}}function $(ft){return ft.length===0?null:ft[0]}function tt(ft){if(ft.length===0)return null;var Rt=ft[0],Bt=ft.pop();if(Bt!==Rt){ft[0]=Bt;e:for(var bt=0,Gt=ft.length,yt=Gt>>>1;bt<yt;){var Ct=2*(bt+1)-1,ct=ft[Ct],rt=Ct+1,_e=ft[rt];if(0>ut(ct,Bt))rt<Gt&&0>ut(_e,ct)?(ft[bt]=_e,ft[rt]=Bt,bt=rt):(ft[bt]=ct,ft[Ct]=Bt,bt=Ct);else if(rt<Gt&&0>ut(_e,Bt))ft[bt]=_e,ft[rt]=Bt,bt=rt;else break e}}return Rt}function ut(ft,Rt){var Bt=ft.sortIndex-Rt.sortIndex;return Bt!==0?Bt:ft.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var mt=performance;i.unstable_now=function(){return mt.now()}}else{var nn=Date,yn=nn.now();i.unstable_now=function(){return nn.now()-yn}}var Dn=[],jn=[],Vn=1,$n=null,Ht=3,St=!1,_=!1,pt=!1,ht=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(ft){for(var Rt=$(jn);Rt!==null;){if(Rt.callback===null)tt(jn);else if(Rt.startTime<=ft)tt(jn),Rt.sortIndex=Rt.expirationTime,g(Dn,Rt);else break;Rt=$(jn)}}function xt(ft){if(pt=!1,gt(ft),!_)if($(Dn)!==null)_=!0,pn(vt);else{var Rt=$(jn);Rt!==null&&An(xt,Rt.startTime-ft)}}function vt(ft,Rt){_=!1,pt&&(pt=!1,ot(Ot),Ot=-1),St=!0;var Bt=Ht;try{for(gt(Rt),$n=$(Dn);$n!==null&&(!($n.expirationTime>Rt)||ft&&!Qt());){var bt=$n.callback;if(typeof bt=="function"){$n.callback=null,Ht=$n.priorityLevel;var Gt=bt($n.expirationTime<=Rt);Rt=i.unstable_now(),typeof Gt=="function"?$n.callback=Gt:$n===$(Dn)&&tt(Dn),gt(Rt)}else tt(Dn);$n=$(Dn)}if($n!==null)var yt=!0;else{var Ct=$(jn);Ct!==null&&An(xt,Ct.startTime-Rt),yt=!1}return yt}finally{$n=null,Ht=Bt,St=!1}}var it=!1,kt=null,Ot=-1,an=5,gn=-1;function Qt(){return!(i.unstable_now()-gn<an)}function bn(){if(kt!==null){var ft=i.unstable_now();gn=ft;var Rt=!0;try{Rt=kt(!0,ft)}finally{Rt?fn():(it=!1,kt=null)}}else it=!1}var fn;if(typeof at=="function")fn=function(){at(bn)};else if(typeof MessageChannel<"u"){var Zn=new MessageChannel,mn=Zn.port2;Zn.port1.onmessage=bn,fn=function(){mn.postMessage(null)}}else fn=function(){ht(bn,0)};function pn(ft){kt=ft,it||(it=!0,fn())}function An(ft,Rt){Ot=ht(function(){ft(i.unstable_now())},Rt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ft){ft.callback=null},i.unstable_continueExecution=function(){_||St||(_=!0,pn(vt))},i.unstable_forceFrameRate=function(ft){0>ft||125<ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):an=0<ft?Math.floor(1e3/ft):5},i.unstable_getCurrentPriorityLevel=function(){return Ht},i.unstable_getFirstCallbackNode=function(){return $(Dn)},i.unstable_next=function(ft){switch(Ht){case 1:case 2:case 3:var Rt=3;break;default:Rt=Ht}var Bt=Ht;Ht=Rt;try{return ft()}finally{Ht=Bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ft,Rt){switch(ft){case 1:case 2:case 3:case 4:case 5:break;default:ft=3}var Bt=Ht;Ht=ft;try{return Rt()}finally{Ht=Bt}},i.unstable_scheduleCallback=function(ft,Rt,Bt){var bt=i.unstable_now();switch(typeof Bt=="object"&&Bt!==null?(Bt=Bt.delay,Bt=typeof Bt=="number"&&0<Bt?bt+Bt:bt):Bt=bt,ft){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=Bt+Gt,ft={id:Vn++,callback:Rt,priorityLevel:ft,startTime:Bt,expirationTime:Gt,sortIndex:-1},Bt>bt?(ft.sortIndex=Bt,g(jn,ft),$(Dn)===null&&ft===$(jn)&&(pt?(ot(Ot),Ot=-1):pt=!0,An(xt,Bt-bt))):(ft.sortIndex=Gt,g(Dn,ft),_||St||(_=!0,pn(vt))),ft},i.unstable_shouldYield=Qt,i.unstable_wrapCallback=function(ft){var Rt=Ht;return function(){var Bt=Ht;Ht=Rt;try{return ft.apply(this,arguments)}finally{Ht=Bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+i,$=1;$<arguments.length;$++)g+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+i+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,g){ha(i,g),ha(i+"Capture",g)}function ha(i,g){for(ea[i]=g,i=0;i<g.length;i++)da.add(g[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,g,$,tt){if($!==null&&$.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return tt?!1:$!==null?!$.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,g,$,tt){if(g===null||typeof g>"u"||pa(i,g,$,tt))return!0;if(tt)return!1;if($!==null)switch($.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v$1(i,g,$,tt,ut,mt,nn){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=tt,this.attributeNamespace=ut,this.mustUseProperty=$,this.propertyName=i,this.type=g,this.sanitizeURL=mt,this.removeEmptyString=nn}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var g=i[0];z[g]=new v$1(g,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,g,$,tt){var ut=z.hasOwnProperty(g)?z[g]:null;(ut!==null?ut.type!==0:tt||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(qa(g,$,ut,tt)&&($=null),tt||ut===null?oa(g)&&($===null?i.removeAttribute(g):i.setAttribute(g,""+$)):ut.mustUseProperty?i[ut.propertyName]=$===null?ut.type===3?!1:"":$:(g=ut.attributeName,tt=ut.attributeNamespace,$===null?i.removeAttribute(g):(ut=ut.type,$=ut===3||ut===4&&$===!0?"":""+$,tt?i.setAttributeNS(tt,g,$):i.setAttribute(g,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch($){var g=$.stack.trim().match(/\n( *(at )?)/);La=g&&g[1]||""}return`
`+La+i}var Na=!1;function Oa(i,g){if(!i||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(jn){var tt=jn}Reflect.construct(i,[],g)}else{try{g.call()}catch(jn){tt=jn}i.call(g.prototype)}else{try{throw Error()}catch(jn){tt=jn}i()}}catch(jn){if(jn&&tt&&typeof jn.stack=="string"){for(var ut=jn.stack.split(`
`),mt=tt.stack.split(`
`),nn=ut.length-1,yn=mt.length-1;1<=nn&&0<=yn&&ut[nn]!==mt[yn];)yn--;for(;1<=nn&&0<=yn;nn--,yn--)if(ut[nn]!==mt[yn]){if(nn!==1||yn!==1)do if(nn--,yn--,0>yn||ut[nn]!==mt[yn]){var Dn=`
`+ut[nn].replace(" at new "," at ");return i.displayName&&Dn.includes("<anonymous>")&&(Dn=Dn.replace("<anonymous>",i.displayName)),Dn}while(1<=nn&&0<=yn);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var g=i.render;return i=i.displayName,i||(i=g.displayName||g.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return g=i.displayName||null,g!==null?g:Qa(i.type)||"Memo";case Ha:g=i._payload,i=i._init;try{return Qa(i(g))}catch{}}return null}function Ra(i){var g=i.type;switch(i.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=g.render,i=i.displayName||i.name||"",g.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(g);case 8:return g===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var g=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ua(i){var g=Ta(i)?"checked":"value",$=Object.getOwnPropertyDescriptor(i.constructor.prototype,g),tt=""+i[g];if(!i.hasOwnProperty(g)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var ut=$.get,mt=$.set;return Object.defineProperty(i,g,{configurable:!0,get:function(){return ut.call(this)},set:function(nn){tt=""+nn,mt.call(this,nn)}}),Object.defineProperty(i,g,{enumerable:$.enumerable}),{getValue:function(){return tt},setValue:function(nn){tt=""+nn},stopTracking:function(){i._valueTracker=null,delete i[g]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var g=i._valueTracker;if(!g)return!0;var $=g.getValue(),tt="";return i&&(tt=Ta(i)?i.checked?"true":"false":i.value),i=tt,i!==$?(g.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,g){var $=g.checked;return A({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??i._wrapperState.initialChecked})}function Za(i,g){var $=g.defaultValue==null?"":g.defaultValue,tt=g.checked!=null?g.checked:g.defaultChecked;$=Sa(g.value!=null?g.value:$),i._wrapperState={initialChecked:tt,initialValue:$,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ab(i,g){g=g.checked,g!=null&&ta(i,"checked",g,!1)}function bb(i,g){ab(i,g);var $=Sa(g.value),tt=g.type;if($!=null)tt==="number"?($===0&&i.value===""||i.value!=$)&&(i.value=""+$):i.value!==""+$&&(i.value=""+$);else if(tt==="submit"||tt==="reset"){i.removeAttribute("value");return}g.hasOwnProperty("value")?cb(i,g.type,$):g.hasOwnProperty("defaultValue")&&cb(i,g.type,Sa(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(i.defaultChecked=!!g.defaultChecked)}function db(i,g,$){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var tt=g.type;if(!(tt!=="submit"&&tt!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+i._wrapperState.initialValue,$||g===i.value||(i.value=g),i.defaultValue=g}$=i.name,$!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,$!==""&&(i.name=$)}function cb(i,g,$){(g!=="number"||Xa(i.ownerDocument)!==i)&&($==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+$&&(i.defaultValue=""+$))}var eb=Array.isArray;function fb(i,g,$,tt){if(i=i.options,g){g={};for(var ut=0;ut<$.length;ut++)g["$"+$[ut]]=!0;for($=0;$<i.length;$++)ut=g.hasOwnProperty("$"+i[$].value),i[$].selected!==ut&&(i[$].selected=ut),ut&&tt&&(i[$].defaultSelected=!0)}else{for($=""+Sa($),g=null,ut=0;ut<i.length;ut++){if(i[ut].value===$){i[ut].selected=!0,tt&&(i[ut].defaultSelected=!0);return}g!==null||i[ut].disabled||(g=i[ut])}g!==null&&(g.selected=!0)}}function gb(i,g){if(g.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},g,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,g){var $=g.value;if($==null){if($=g.children,g=g.defaultValue,$!=null){if(g!=null)throw Error(p$1(92));if(eb($)){if(1<$.length)throw Error(p$1(93));$=$[0]}g=$}g==null&&(g=""),$=g}i._wrapperState={initialValue:Sa($)}}function ib(i,g){var $=Sa(g.value),tt=Sa(g.defaultValue);$!=null&&($=""+$,$!==i.value&&(i.value=$),g.defaultValue==null&&i.defaultValue!==$&&(i.defaultValue=$)),tt!=null&&(i.defaultValue=""+tt)}function jb(i){var g=i.textContent;g===i._wrapperState.initialValue&&g!==""&&g!==null&&(i.value=g)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,g){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(g):i==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,$,tt,ut){MSApp.execUnsafeLocalFunction(function(){return i(g,$,tt,ut)})}:i}(function(i,g){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=g;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;g.firstChild;)i.appendChild(g.firstChild)}});function ob(i,g){if(g){var $=i.firstChild;if($&&$===i.lastChild&&$.nodeType===3){$.nodeValue=g;return}}i.textContent=g}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(g){g=g+i.charAt(0).toUpperCase()+i.substring(1),pb[g]=pb[i]})});function rb(i,g,$){return g==null||typeof g=="boolean"||g===""?"":$||typeof g!="number"||g===0||pb.hasOwnProperty(i)&&pb[i]?(""+g).trim():g+"px"}function sb(i,g){i=i.style;for(var $ in g)if(g.hasOwnProperty($)){var tt=$.indexOf("--")===0,ut=rb($,g[$],tt);$==="float"&&($="cssFloat"),tt?i.setProperty($,ut):i[$]=ut}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,g){if(g){if(tb[i]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(p$1(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(p$1(61))}if(g.style!=null&&typeof g.style!="object")throw Error(p$1(62))}}function vb(i,g){if(i.indexOf("-")===-1)return typeof g.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var g=i.stateNode;g&&(g=Db(g),yb(i.stateNode,i.type,g))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,g=Ab;if(Ab=zb=null,Bb(i),g)for(i=0;i<g.length;i++)Bb(g[i])}}function Gb(i,g){return i(g)}function Hb(){}var Ib=!1;function Jb(i,g,$){if(Ib)return i(g,$);Ib=!0;try{return Gb(i,g,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,g){var $=i.stateNode;if($===null)return null;var tt=Db($);if(tt===null)return null;$=tt[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(i=i.type,tt=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!tt;break e;default:i=!1}if(i)return null;if($&&typeof $!="function")throw Error(p$1(231,g,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,g,$,tt,ut,mt,nn,yn,Dn){var jn=Array.prototype.slice.call(arguments,3);try{g.apply($,jn)}catch(Vn){this.onError(Vn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,g,$,tt,ut,mt,nn,yn,Dn){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,g,$,tt,ut,mt,nn,yn,Dn){if(Tb.apply(this,arguments),Ob){if(Ob){var jn=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=jn)}}function Vb(i){var g=i,$=i;if(i.alternate)for(;g.return;)g=g.return;else{i=g;do g=i,g.flags&4098&&($=g.return),i=g.return;while(i)}return g.tag===3?$:null}function Wb(i){if(i.tag===13){var g=i.memoizedState;if(g===null&&(i=i.alternate,i!==null&&(g=i.memoizedState)),g!==null)return g.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var g=i.alternate;if(!g){if(g=Vb(i),g===null)throw Error(p$1(188));return g!==i?null:i}for(var $=i,tt=g;;){var ut=$.return;if(ut===null)break;var mt=ut.alternate;if(mt===null){if(tt=ut.return,tt!==null){$=tt;continue}break}if(ut.child===mt.child){for(mt=ut.child;mt;){if(mt===$)return Xb(ut),i;if(mt===tt)return Xb(ut),g;mt=mt.sibling}throw Error(p$1(188))}if($.return!==tt.return)$=ut,tt=mt;else{for(var nn=!1,yn=ut.child;yn;){if(yn===$){nn=!0,$=ut,tt=mt;break}if(yn===tt){nn=!0,tt=ut,$=mt;break}yn=yn.sibling}if(!nn){for(yn=mt.child;yn;){if(yn===$){nn=!0,$=mt,tt=ut;break}if(yn===tt){nn=!0,tt=mt,$=ut;break}yn=yn.sibling}if(!nn)throw Error(p$1(189))}}if($.alternate!==tt)throw Error(p$1(190))}if($.tag!==3)throw Error(p$1(188));return $.stateNode.current===$?i:g}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var g=$b(i);if(g!==null)return g;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,g){var $=i.pendingLanes;if($===0)return 0;var tt=0,ut=i.suspendedLanes,mt=i.pingedLanes,nn=$&268435455;if(nn!==0){var yn=nn&~ut;yn!==0?tt=tc(yn):(mt&=nn,mt!==0&&(tt=tc(mt)))}else nn=$&~ut,nn!==0?tt=tc(nn):mt!==0&&(tt=tc(mt));if(tt===0)return 0;if(g!==0&&g!==tt&&!(g&ut)&&(ut=tt&-tt,mt=g&-g,ut>=mt||ut===16&&(mt&4194240)!==0))return g;if(tt&4&&(tt|=$&16),g=i.entangledLanes,g!==0)for(i=i.entanglements,g&=tt;0<g;)$=31-oc(g),ut=1<<$,tt|=i[$],g&=~ut;return tt}function vc(i,g){switch(i){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,g){for(var $=i.suspendedLanes,tt=i.pingedLanes,ut=i.expirationTimes,mt=i.pendingLanes;0<mt;){var nn=31-oc(mt),yn=1<<nn,Dn=ut[nn];Dn===-1?(!(yn&$)||yn&tt)&&(ut[nn]=vc(yn,g)):Dn<=g&&(i.expiredLanes|=yn),mt&=~yn}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var g=[],$=0;31>$;$++)g.push(i);return g}function Ac(i,g,$){i.pendingLanes|=g,g!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,g=31-oc(g),i[g]=$}function Bc(i,g){var $=i.pendingLanes&~g;i.pendingLanes=g,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=g,i.mutableReadLanes&=g,i.entangledLanes&=g,g=i.entanglements;var tt=i.eventTimes;for(i=i.expirationTimes;0<$;){var ut=31-oc($),mt=1<<ut;g[ut]=0,tt[ut]=-1,i[ut]=-1,$&=~mt}}function Cc(i,g){var $=i.entangledLanes|=g;for(i=i.entanglements;$;){var tt=31-oc($),ut=1<<tt;ut&g|i[tt]&g&&(i[tt]|=g),$&=~ut}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,g){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(g.pointerId)}}function Tc(i,g,$,tt,ut,mt){return i===null||i.nativeEvent!==mt?(i={blockedOn:g,domEventName:$,eventSystemFlags:tt,nativeEvent:mt,targetContainers:[ut]},g!==null&&(g=Cb(g),g!==null&&Fc(g)),i):(i.eventSystemFlags|=tt,g=i.targetContainers,ut!==null&&g.indexOf(ut)===-1&&g.push(ut),i)}function Uc(i,g,$,tt,ut){switch(g){case"focusin":return Lc=Tc(Lc,i,g,$,tt,ut),!0;case"dragenter":return Mc=Tc(Mc,i,g,$,tt,ut),!0;case"mouseover":return Nc=Tc(Nc,i,g,$,tt,ut),!0;case"pointerover":var mt=ut.pointerId;return Oc.set(mt,Tc(Oc.get(mt)||null,i,g,$,tt,ut)),!0;case"gotpointercapture":return mt=ut.pointerId,Pc.set(mt,Tc(Pc.get(mt)||null,i,g,$,tt,ut)),!0}return!1}function Vc(i){var g=Wc(i.target);if(g!==null){var $=Vb(g);if($!==null){if(g=$.tag,g===13){if(g=Wb($),g!==null){i.blockedOn=g,Ic(i.priority,function(){Gc($)});return}}else if(g===3&&$.stateNode.current.memoizedState.isDehydrated){i.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var g=i.targetContainers;0<g.length;){var $=Yc(i.domEventName,i.eventSystemFlags,g[0],i.nativeEvent);if($===null){$=i.nativeEvent;var tt=new $.constructor($.type,$);wb=tt,$.target.dispatchEvent(tt),wb=null}else return g=Cb($),g!==null&&Fc(g),i.blockedOn=$,!1;g.shift()}return!0}function Zc(i,g,$){Xc(i)&&$.delete(g)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,g){i.blockedOn===g&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function g(ut){return ad(ut,i)}if(0<Kc.length){ad(Kc[0],i);for(var $=1;$<Kc.length;$++){var tt=Kc[$];tt.blockedOn===i&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(g),Pc.forEach(g),$=0;$<Qc.length;$++)tt=Qc[$],tt.blockedOn===i&&(tt.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,g,$,tt){var ut=C,mt=cd.transition;cd.transition=null;try{C=1,fd(i,g,$,tt)}finally{C=ut,cd.transition=mt}}function gd(i,g,$,tt){var ut=C,mt=cd.transition;cd.transition=null;try{C=4,fd(i,g,$,tt)}finally{C=ut,cd.transition=mt}}function fd(i,g,$,tt){if(dd){var ut=Yc(i,g,$,tt);if(ut===null)hd(i,g,tt,id,$),Sc(i,tt);else if(Uc(ut,i,g,$,tt))tt.stopPropagation();else if(Sc(i,tt),g&4&&-1<Rc.indexOf(i)){for(;ut!==null;){var mt=Cb(ut);if(mt!==null&&Ec(mt),mt=Yc(i,g,$,tt),mt===null&&hd(i,g,tt,id,$),mt===ut)break;ut=mt}ut!==null&&tt.stopPropagation()}else hd(i,g,tt,null,$)}}var id=null;function Yc(i,g,$,tt){if(id=null,i=xb(tt),i=Wc(i),i!==null)if(g=Vb(i),g===null)i=null;else if($=g.tag,$===13){if(i=Wb(g),i!==null)return i;i=null}else if($===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;i=null}else g!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,g=ld,$=g.length,tt,ut="value"in kd?kd.value:kd.textContent,mt=ut.length;for(i=0;i<$&&g[i]===ut[i];i++);var nn=$-i;for(tt=1;tt<=nn&&g[$-tt]===ut[mt-tt];tt++);return md=ut.slice(i,1<tt?1-tt:void 0)}function od(i){var g=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&g===13&&(i=13)):i=g,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function g($,tt,ut,mt,nn){this._reactName=$,this._targetInst=ut,this.type=tt,this.nativeEvent=mt,this.target=nn,this.currentTarget=null;for(var yn in i)i.hasOwnProperty(yn)&&($=i[yn],this[yn]=$?$(mt):mt[yn]);return this.isDefaultPrevented=(mt.defaultPrevented!=null?mt.defaultPrevented:mt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),g}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(i):(i=Od[i])?!!g[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var g=Md[i.key]||i.key;if(g!=="Unidentified")return g}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,g){switch(i){case"keyup":return $d.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,g){switch(i){case"compositionend":return he(g);case"keypress":return g.which!==32?null:(fe=!0,ee);case"textInput":return i=g.data,i===ee&&fe?null:i;default:return null}}function ke(i,g){if(ie)return i==="compositionend"||!ae&&ge(i,g)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return de&&g.locale!=="ko"?null:g.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var g=i&&i.nodeName&&i.nodeName.toLowerCase();return g==="input"?!!le[i.type]:g==="textarea"}function ne(i,g,$,tt){Eb(tt),g=oe(g,"onChange"),0<g.length&&($=new td("onChange","change",null,$,tt),i.push({event:$,listeners:g}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var g=ue(i);if(Wa(g))return i}function ve(i,g){if(i==="change")return g}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var g=[];ne(g,qe,i,xb(i)),Jb(re,g)}}function Ce(i,g,$){i==="focusin"?(Ae(),pe=g,qe=$,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,g){if(i==="click")return te(g)}function Fe(i,g){if(i==="input"||i==="change")return te(g)}function Ge(i,g){return i===g&&(i!==0||1/i===1/g)||i!==i&&g!==g}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,g){if(He(i,g))return!0;if(typeof i!="object"||i===null||typeof g!="object"||g===null)return!1;var $=Object.keys(i),tt=Object.keys(g);if($.length!==tt.length)return!1;for(tt=0;tt<$.length;tt++){var ut=$[tt];if(!ja.call(g,ut)||!He(i[ut],g[ut]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,g){var $=Je(i);i=0;for(var tt;$;){if($.nodeType===3){if(tt=i+$.textContent.length,i<=g&&tt>=g)return{node:$,offset:g-i};i=tt}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(i,g){return i&&g?i===g?!0:i&&i.nodeType===3?!1:g&&g.nodeType===3?Le(i,g.parentNode):"contains"in i?i.contains(g):i.compareDocumentPosition?!!(i.compareDocumentPosition(g)&16):!1:!1}function Me(){for(var i=window,g=Xa();g instanceof i.HTMLIFrameElement;){try{var $=typeof g.contentWindow.location.href=="string"}catch{$=!1}if($)i=g.contentWindow;else break;g=Xa(i.document)}return g}function Ne(i){var g=i&&i.nodeName&&i.nodeName.toLowerCase();return g&&(g==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||g==="textarea"||i.contentEditable==="true")}function Oe(i){var g=Me(),$=i.focusedElem,tt=i.selectionRange;if(g!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(tt!==null&&Ne($)){if(g=tt.start,i=tt.end,i===void 0&&(i=g),"selectionStart"in $)$.selectionStart=g,$.selectionEnd=Math.min(i,$.value.length);else if(i=(g=$.ownerDocument||document)&&g.defaultView||window,i.getSelection){i=i.getSelection();var ut=$.textContent.length,mt=Math.min(tt.start,ut);tt=tt.end===void 0?mt:Math.min(tt.end,ut),!i.extend&&mt>tt&&(ut=tt,tt=mt,mt=ut),ut=Ke($,mt);var nn=Ke($,tt);ut&&nn&&(i.rangeCount!==1||i.anchorNode!==ut.node||i.anchorOffset!==ut.offset||i.focusNode!==nn.node||i.focusOffset!==nn.offset)&&(g=g.createRange(),g.setStart(ut.node,ut.offset),i.removeAllRanges(),mt>tt?(i.addRange(g),i.extend(nn.node,nn.offset)):(g.setEnd(nn.node,nn.offset),i.addRange(g)))}}for(g=[],i=$;i=i.parentNode;)i.nodeType===1&&g.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<g.length;$++)i=g[$],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,g,$){var tt=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(g=new td("onSelect","select",null,g,$),i.push({event:g,listeners:tt}),g.target=Qe)))}function Ve(i,g){var $={};return $[i.toLowerCase()]=g.toLowerCase(),$["Webkit"+i]="webkit"+g,$["Moz"+i]="moz"+g,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var g=We[i],$;for($ in g)if(g.hasOwnProperty($)&&$ in Ye)return Xe[i]=g[$];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,g){df.set(i,g),fa(g,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,g,$){var tt=i.type||"unknown-event";i.currentTarget=$,Ub(tt,g,void 0,i),i.currentTarget=null}function se(i,g){g=(g&4)!==0;for(var $=0;$<i.length;$++){var tt=i[$],ut=tt.event;tt=tt.listeners;e:{var mt=void 0;if(g)for(var nn=tt.length-1;0<=nn;nn--){var yn=tt[nn],Dn=yn.instance,jn=yn.currentTarget;if(yn=yn.listener,Dn!==mt&&ut.isPropagationStopped())break e;nf(ut,yn,jn),mt=Dn}else for(nn=0;nn<tt.length;nn++){if(yn=tt[nn],Dn=yn.instance,jn=yn.currentTarget,yn=yn.listener,Dn!==mt&&ut.isPropagationStopped())break e;nf(ut,yn,jn),mt=Dn}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,g){var $=g[of];$===void 0&&($=g[of]=new Set);var tt=i+"__bubble";$.has(tt)||(pf(g,i,2,!1),$.add(tt))}function qf(i,g,$){var tt=0;g&&(tt|=4),pf($,i,tt,g)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,i),qf($,!0,i))});var g=i.nodeType===9?i:i.ownerDocument;g===null||g[rf]||(g[rf]=!0,qf("selectionchange",!1,g))}}function pf(i,g,$,tt){switch(jd(g)){case 1:var ut=ed;break;case 4:ut=gd;break;default:ut=fd}$=ut.bind(null,g,$,i),ut=void 0,!Lb||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(ut=!0),tt?ut!==void 0?i.addEventListener(g,$,{capture:!0,passive:ut}):i.addEventListener(g,$,!0):ut!==void 0?i.addEventListener(g,$,{passive:ut}):i.addEventListener(g,$,!1)}function hd(i,g,$,tt,ut){var mt=tt;if(!(g&1)&&!(g&2)&&tt!==null)e:for(;;){if(tt===null)return;var nn=tt.tag;if(nn===3||nn===4){var yn=tt.stateNode.containerInfo;if(yn===ut||yn.nodeType===8&&yn.parentNode===ut)break;if(nn===4)for(nn=tt.return;nn!==null;){var Dn=nn.tag;if((Dn===3||Dn===4)&&(Dn=nn.stateNode.containerInfo,Dn===ut||Dn.nodeType===8&&Dn.parentNode===ut))return;nn=nn.return}for(;yn!==null;){if(nn=Wc(yn),nn===null)return;if(Dn=nn.tag,Dn===5||Dn===6){tt=mt=nn;continue e}yn=yn.parentNode}}tt=tt.return}Jb(function(){var jn=mt,Vn=xb($),$n=[];e:{var Ht=df.get(i);if(Ht!==void 0){var St=td,_=i;switch(i){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":St=Rd;break;case"focusin":_="focus",St=Fd;break;case"focusout":_="blur",St=Fd;break;case"beforeblur":case"afterblur":St=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Vd;break;case $e:case af:case bf:St=Hd;break;case cf:St=Xd;break;case"scroll":St=vd;break;case"wheel":St=Zd;break;case"copy":case"cut":case"paste":St=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=Td}var pt=(g&4)!==0,ht=!pt&&i==="scroll",ot=pt?Ht!==null?Ht+"Capture":null:Ht;pt=[];for(var at=jn,gt;at!==null;){gt=at;var xt=gt.stateNode;if(gt.tag===5&&xt!==null&&(gt=xt,ot!==null&&(xt=Kb(at,ot),xt!=null&&pt.push(tf(at,xt,gt)))),ht)break;at=at.return}0<pt.length&&(Ht=new St(Ht,_,null,$,Vn),$n.push({event:Ht,listeners:pt}))}}if(!(g&7)){e:{if(Ht=i==="mouseover"||i==="pointerover",St=i==="mouseout"||i==="pointerout",Ht&&$!==wb&&(_=$.relatedTarget||$.fromElement)&&(Wc(_)||_[uf]))break e;if((St||Ht)&&(Ht=Vn.window===Vn?Vn:(Ht=Vn.ownerDocument)?Ht.defaultView||Ht.parentWindow:window,St?(_=$.relatedTarget||$.toElement,St=jn,_=_?Wc(_):null,_!==null&&(ht=Vb(_),_!==ht||_.tag!==5&&_.tag!==6)&&(_=null)):(St=null,_=jn),St!==_)){if(pt=Bd,xt="onMouseLeave",ot="onMouseEnter",at="mouse",(i==="pointerout"||i==="pointerover")&&(pt=Td,xt="onPointerLeave",ot="onPointerEnter",at="pointer"),ht=St==null?Ht:ue(St),gt=_==null?Ht:ue(_),Ht=new pt(xt,at+"leave",St,$,Vn),Ht.target=ht,Ht.relatedTarget=gt,xt=null,Wc(Vn)===jn&&(pt=new pt(ot,at+"enter",_,$,Vn),pt.target=gt,pt.relatedTarget=ht,xt=pt),ht=xt,St&&_)t:{for(pt=St,ot=_,at=0,gt=pt;gt;gt=vf(gt))at++;for(gt=0,xt=ot;xt;xt=vf(xt))gt++;for(;0<at-gt;)pt=vf(pt),at--;for(;0<gt-at;)ot=vf(ot),gt--;for(;at--;){if(pt===ot||ot!==null&&pt===ot.alternate)break t;pt=vf(pt),ot=vf(ot)}pt=null}else pt=null;St!==null&&wf($n,Ht,St,pt,!1),_!==null&&ht!==null&&wf($n,ht,_,pt,!0)}}e:{if(Ht=jn?ue(jn):window,St=Ht.nodeName&&Ht.nodeName.toLowerCase(),St==="select"||St==="input"&&Ht.type==="file")var vt=ve;else if(me(Ht))if(we)vt=Fe;else{vt=De;var it=Ce}else(St=Ht.nodeName)&&St.toLowerCase()==="input"&&(Ht.type==="checkbox"||Ht.type==="radio")&&(vt=Ee);if(vt&&(vt=vt(i,jn))){ne($n,vt,$,Vn);break e}it&&it(i,Ht,jn),i==="focusout"&&(it=Ht._wrapperState)&&it.controlled&&Ht.type==="number"&&cb(Ht,"number",Ht.value)}switch(it=jn?ue(jn):window,i){case"focusin":(me(it)||it.contentEditable==="true")&&(Qe=it,Re=jn,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($n,$,Vn);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($n,$,Vn)}var kt;if(ae)e:{switch(i){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else ie?ge(i,$)&&(Ot="onCompositionEnd"):i==="keydown"&&$.keyCode===229&&(Ot="onCompositionStart");Ot&&(de&&$.locale!=="ko"&&(ie||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ie&&(kt=nd()):(kd=Vn,ld="value"in kd?kd.value:kd.textContent,ie=!0)),it=oe(jn,Ot),0<it.length&&(Ot=new Ld(Ot,i,null,$,Vn),$n.push({event:Ot,listeners:it}),kt?Ot.data=kt:(kt=he($),kt!==null&&(Ot.data=kt)))),(kt=ce?je(i,$):ke(i,$))&&(jn=oe(jn,"onBeforeInput"),0<jn.length&&(Vn=new Ld("onBeforeInput","beforeinput",null,$,Vn),$n.push({event:Vn,listeners:jn}),Vn.data=kt))}se($n,g)})}function tf(i,g,$){return{instance:i,listener:g,currentTarget:$}}function oe(i,g){for(var $=g+"Capture",tt=[];i!==null;){var ut=i,mt=ut.stateNode;ut.tag===5&&mt!==null&&(ut=mt,mt=Kb(i,$),mt!=null&&tt.unshift(tf(i,mt,ut)),mt=Kb(i,g),mt!=null&&tt.push(tf(i,mt,ut))),i=i.return}return tt}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,g,$,tt,ut){for(var mt=g._reactName,nn=[];$!==null&&$!==tt;){var yn=$,Dn=yn.alternate,jn=yn.stateNode;if(Dn!==null&&Dn===tt)break;yn.tag===5&&jn!==null&&(yn=jn,ut?(Dn=Kb($,mt),Dn!=null&&nn.unshift(tf($,Dn,yn))):ut||(Dn=Kb($,mt),Dn!=null&&nn.push(tf($,Dn,yn)))),$=$.return}nn.length!==0&&i.push({event:g,listeners:nn})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,g,$){if(g=zf(g),zf(i)!==g&&$)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,g){return i==="textarea"||i==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,g){var $=g,tt=0;do{var ut=$.nextSibling;if(i.removeChild($),ut&&ut.nodeType===8)if($=ut.data,$==="/$"){if(tt===0){i.removeChild(ut),bd(g);return}tt--}else $!=="$"&&$!=="$?"&&$!=="$!"||tt++;$=ut}while($);bd(g)}function Lf(i){for(;i!=null;i=i.nextSibling){var g=i.nodeType;if(g===1||g===3)break;if(g===8){if(g=i.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var g=0;i;){if(i.nodeType===8){var $=i.data;if($==="$"||$==="$!"||$==="$?"){if(g===0)return i;g--}else $==="/$"&&g++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var g=i[Of];if(g)return g;for(var $=i.parentNode;$;){if(g=$[uf]||$[Of]){if($=g.alternate,g.child!==null||$!==null&&$.child!==null)for(i=Mf(i);i!==null;){if($=i[Of])return $;i=Mf(i)}return g}i=$,$=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,g){Tf++,Sf[Tf]=i.current,i.current=g}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,g){var $=i.type.contextTypes;if(!$)return Vf;var tt=i.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===g)return tt.__reactInternalMemoizedMaskedChildContext;var ut={},mt;for(mt in $)ut[mt]=g[mt];return tt&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=ut),ut}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,g,$){if(H.current!==Vf)throw Error(p$1(168));G(H,g),G(Wf,$)}function bg(i,g,$){var tt=i.stateNode;if(g=g.childContextTypes,typeof tt.getChildContext!="function")return $;tt=tt.getChildContext();for(var ut in tt)if(!(ut in g))throw Error(p$1(108,Ra(i)||"Unknown",ut));return A({},$,tt)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,g,$){var tt=i.stateNode;if(!tt)throw Error(p$1(169));$?(i=bg(i,g,Xf),tt.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,g=C;try{var $=eg;for(C=1;i<$.length;i++){var tt=$[i];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(ut){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),ut}finally{C=g,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,g){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=g}function ug(i,g,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var tt=rg;i=sg;var ut=32-oc(tt)-1;tt&=~(1<<ut),$+=1;var mt=32-oc(g)+ut;if(30<mt){var nn=ut-ut%5;mt=(tt&(1<<nn)-1).toString(32),tt>>=nn,ut-=nn,rg=1<<32-oc(g)+ut|$<<ut|tt,sg=mt+i}else rg=1<<mt|$<<ut|tt,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,g){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=g,$.return=i,g=i.deletions,g===null?(i.deletions=[$],i.flags|=16):g.push($)}function Cg(i,g){switch(i.tag){case 5:var $=i.type;return g=g.nodeType!==1||$.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(i.stateNode=g,xg=i,yg=Lf(g.firstChild),!0):!1;case 6:return g=i.pendingProps===""||g.nodeType!==3?null:g,g!==null?(i.stateNode=g,xg=i,yg=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?($=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:g,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=g,$.return=i,i.child=$,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var g=yg;if(g){var $=g;if(!Cg(i,g)){if(Dg(i))throw Error(p$1(418));g=Lf($.nextSibling);var tt=xg;g&&Cg(i,g)?Ag(tt,$):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var g;if((g=i.tag!==3)&&!(g=i.tag!==5)&&(g=i.type,g=g!=="head"&&g!=="body"&&!Ef(i.type,i.memoizedProps)),g&&(g=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;g;)Ag(i,g),g=Lf(g.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,g=0;i;){if(i.nodeType===8){var $=i.data;if($==="/$"){if(g===0){yg=Lf(i.nextSibling);break e}g--}else $!=="$"&&$!=="$!"&&$!=="$?"||g++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,g,$){if(i=$.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$1(309));var tt=$.stateNode}if(!tt)throw Error(p$1(147,i));var ut=tt,mt=""+i;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===mt?g.ref:(g=function(nn){var yn=ut.refs;nn===null?delete yn[mt]:yn[mt]=nn},g._stringRef=mt,g)}if(typeof i!="string")throw Error(p$1(284));if(!$._owner)throw Error(p$1(290,i))}return i}function Mg(i,g){throw i=Object.prototype.toString.call(g),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":i))}function Ng(i){var g=i._init;return g(i._payload)}function Og(i){function g(ot,at){if(i){var gt=ot.deletions;gt===null?(ot.deletions=[at],ot.flags|=16):gt.push(at)}}function $(ot,at){if(!i)return null;for(;at!==null;)g(ot,at),at=at.sibling;return null}function tt(ot,at){for(ot=new Map;at!==null;)at.key!==null?ot.set(at.key,at):ot.set(at.index,at),at=at.sibling;return ot}function ut(ot,at){return ot=Pg(ot,at),ot.index=0,ot.sibling=null,ot}function mt(ot,at,gt){return ot.index=gt,i?(gt=ot.alternate,gt!==null?(gt=gt.index,gt<at?(ot.flags|=2,at):gt):(ot.flags|=2,at)):(ot.flags|=1048576,at)}function nn(ot){return i&&ot.alternate===null&&(ot.flags|=2),ot}function yn(ot,at,gt,xt){return at===null||at.tag!==6?(at=Qg(gt,ot.mode,xt),at.return=ot,at):(at=ut(at,gt),at.return=ot,at)}function Dn(ot,at,gt,xt){var vt=gt.type;return vt===ya?Vn(ot,at,gt.props.children,xt,gt.key):at!==null&&(at.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&Ng(vt)===at.type)?(xt=ut(at,gt.props),xt.ref=Lg(ot,at,gt),xt.return=ot,xt):(xt=Rg(gt.type,gt.key,gt.props,null,ot.mode,xt),xt.ref=Lg(ot,at,gt),xt.return=ot,xt)}function jn(ot,at,gt,xt){return at===null||at.tag!==4||at.stateNode.containerInfo!==gt.containerInfo||at.stateNode.implementation!==gt.implementation?(at=Sg(gt,ot.mode,xt),at.return=ot,at):(at=ut(at,gt.children||[]),at.return=ot,at)}function Vn(ot,at,gt,xt,vt){return at===null||at.tag!==7?(at=Tg(gt,ot.mode,xt,vt),at.return=ot,at):(at=ut(at,gt),at.return=ot,at)}function $n(ot,at,gt){if(typeof at=="string"&&at!==""||typeof at=="number")return at=Qg(""+at,ot.mode,gt),at.return=ot,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return gt=Rg(at.type,at.key,at.props,null,ot.mode,gt),gt.ref=Lg(ot,null,at),gt.return=ot,gt;case wa:return at=Sg(at,ot.mode,gt),at.return=ot,at;case Ha:var xt=at._init;return $n(ot,xt(at._payload),gt)}if(eb(at)||Ka(at))return at=Tg(at,ot.mode,gt,null),at.return=ot,at;Mg(ot,at)}return null}function Ht(ot,at,gt,xt){var vt=at!==null?at.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return vt!==null?null:yn(ot,at,""+gt,xt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===vt?Dn(ot,at,gt,xt):null;case wa:return gt.key===vt?jn(ot,at,gt,xt):null;case Ha:return vt=gt._init,Ht(ot,at,vt(gt._payload),xt)}if(eb(gt)||Ka(gt))return vt!==null?null:Vn(ot,at,gt,xt,null);Mg(ot,gt)}return null}function St(ot,at,gt,xt,vt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ot=ot.get(gt)||null,yn(at,ot,""+xt,vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return ot=ot.get(xt.key===null?gt:xt.key)||null,Dn(at,ot,xt,vt);case wa:return ot=ot.get(xt.key===null?gt:xt.key)||null,jn(at,ot,xt,vt);case Ha:var it=xt._init;return St(ot,at,gt,it(xt._payload),vt)}if(eb(xt)||Ka(xt))return ot=ot.get(gt)||null,Vn(at,ot,xt,vt,null);Mg(at,xt)}return null}function _(ot,at,gt,xt){for(var vt=null,it=null,kt=at,Ot=at=0,an=null;kt!==null&&Ot<gt.length;Ot++){kt.index>Ot?(an=kt,kt=null):an=kt.sibling;var gn=Ht(ot,kt,gt[Ot],xt);if(gn===null){kt===null&&(kt=an);break}i&&kt&&gn.alternate===null&&g(ot,kt),at=mt(gn,at,Ot),it===null?vt=gn:it.sibling=gn,it=gn,kt=an}if(Ot===gt.length)return $(ot,kt),I&&tg(ot,Ot),vt;if(kt===null){for(;Ot<gt.length;Ot++)kt=$n(ot,gt[Ot],xt),kt!==null&&(at=mt(kt,at,Ot),it===null?vt=kt:it.sibling=kt,it=kt);return I&&tg(ot,Ot),vt}for(kt=tt(ot,kt);Ot<gt.length;Ot++)an=St(kt,ot,Ot,gt[Ot],xt),an!==null&&(i&&an.alternate!==null&&kt.delete(an.key===null?Ot:an.key),at=mt(an,at,Ot),it===null?vt=an:it.sibling=an,it=an);return i&&kt.forEach(function(Qt){return g(ot,Qt)}),I&&tg(ot,Ot),vt}function pt(ot,at,gt,xt){var vt=Ka(gt);if(typeof vt!="function")throw Error(p$1(150));if(gt=vt.call(gt),gt==null)throw Error(p$1(151));for(var it=vt=null,kt=at,Ot=at=0,an=null,gn=gt.next();kt!==null&&!gn.done;Ot++,gn=gt.next()){kt.index>Ot?(an=kt,kt=null):an=kt.sibling;var Qt=Ht(ot,kt,gn.value,xt);if(Qt===null){kt===null&&(kt=an);break}i&&kt&&Qt.alternate===null&&g(ot,kt),at=mt(Qt,at,Ot),it===null?vt=Qt:it.sibling=Qt,it=Qt,kt=an}if(gn.done)return $(ot,kt),I&&tg(ot,Ot),vt;if(kt===null){for(;!gn.done;Ot++,gn=gt.next())gn=$n(ot,gn.value,xt),gn!==null&&(at=mt(gn,at,Ot),it===null?vt=gn:it.sibling=gn,it=gn);return I&&tg(ot,Ot),vt}for(kt=tt(ot,kt);!gn.done;Ot++,gn=gt.next())gn=St(kt,ot,Ot,gn.value,xt),gn!==null&&(i&&gn.alternate!==null&&kt.delete(gn.key===null?Ot:gn.key),at=mt(gn,at,Ot),it===null?vt=gn:it.sibling=gn,it=gn);return i&&kt.forEach(function(bn){return g(ot,bn)}),I&&tg(ot,Ot),vt}function ht(ot,at,gt,xt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var vt=gt.key,it=at;it!==null;){if(it.key===vt){if(vt=gt.type,vt===ya){if(it.tag===7){$(ot,it.sibling),at=ut(it,gt.props.children),at.return=ot,ot=at;break e}}else if(it.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&Ng(vt)===it.type){$(ot,it.sibling),at=ut(it,gt.props),at.ref=Lg(ot,it,gt),at.return=ot,ot=at;break e}$(ot,it);break}else g(ot,it);it=it.sibling}gt.type===ya?(at=Tg(gt.props.children,ot.mode,xt,gt.key),at.return=ot,ot=at):(xt=Rg(gt.type,gt.key,gt.props,null,ot.mode,xt),xt.ref=Lg(ot,at,gt),xt.return=ot,ot=xt)}return nn(ot);case wa:e:{for(it=gt.key;at!==null;){if(at.key===it)if(at.tag===4&&at.stateNode.containerInfo===gt.containerInfo&&at.stateNode.implementation===gt.implementation){$(ot,at.sibling),at=ut(at,gt.children||[]),at.return=ot,ot=at;break e}else{$(ot,at);break}else g(ot,at);at=at.sibling}at=Sg(gt,ot.mode,xt),at.return=ot,ot=at}return nn(ot);case Ha:return it=gt._init,ht(ot,at,it(gt._payload),xt)}if(eb(gt))return _(ot,at,gt,xt);if(Ka(gt))return pt(ot,at,gt,xt);Mg(ot,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,at!==null&&at.tag===6?($(ot,at.sibling),at=ut(at,gt),at.return=ot,ot=at):($(ot,at),at=Qg(gt,ot.mode,xt),at.return=ot,ot=at),nn(ot)):$(ot,at)}return ht}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var g=Wg.current;E(Wg),i._currentValue=g}function bh(i,g,$){for(;i!==null;){var tt=i.alternate;if((i.childLanes&g)!==g?(i.childLanes|=g,tt!==null&&(tt.childLanes|=g)):tt!==null&&(tt.childLanes&g)!==g&&(tt.childLanes|=g),i===$)break;i=i.return}}function ch(i,g){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&g&&(dh=!0),i.firstContext=null)}function eh(i){var g=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:g,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return g}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,g,$,tt){var ut=g.interleaved;return ut===null?($.next=$,gh(g)):($.next=ut.next,ut.next=$),g.interleaved=$,ih(i,tt)}function ih(i,g){i.lanes|=g;var $=i.alternate;for($!==null&&($.lanes|=g),$=i,i=i.return;i!==null;)i.childLanes|=g,$=i.alternate,$!==null&&($.childLanes|=g),$=i,i=i.return;return $.tag===3?$.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,g){i=i.updateQueue,g.updateQueue===i&&(g.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,g){return{eventTime:i,lane:g,tag:0,payload:null,callback:null,next:null}}function nh(i,g,$){var tt=i.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var ut=tt.pending;return ut===null?g.next=g:(g.next=ut.next,ut.next=g),tt.pending=g,ih(i,$)}return ut=tt.interleaved,ut===null?(g.next=g,gh(tt)):(g.next=ut.next,ut.next=g),tt.interleaved=g,ih(i,$)}function oh(i,g,$){if(g=g.updateQueue,g!==null&&(g=g.shared,($&4194240)!==0)){var tt=g.lanes;tt&=i.pendingLanes,$|=tt,g.lanes=$,Cc(i,$)}}function ph(i,g){var $=i.updateQueue,tt=i.alternate;if(tt!==null&&(tt=tt.updateQueue,$===tt)){var ut=null,mt=null;if($=$.firstBaseUpdate,$!==null){do{var nn={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};mt===null?ut=mt=nn:mt=mt.next=nn,$=$.next}while($!==null);mt===null?ut=mt=g:mt=mt.next=g}else ut=mt=g;$={baseState:tt.baseState,firstBaseUpdate:ut,lastBaseUpdate:mt,shared:tt.shared,effects:tt.effects},i.updateQueue=$;return}i=$.lastBaseUpdate,i===null?$.firstBaseUpdate=g:i.next=g,$.lastBaseUpdate=g}function qh(i,g,$,tt){var ut=i.updateQueue;jh=!1;var mt=ut.firstBaseUpdate,nn=ut.lastBaseUpdate,yn=ut.shared.pending;if(yn!==null){ut.shared.pending=null;var Dn=yn,jn=Dn.next;Dn.next=null,nn===null?mt=jn:nn.next=jn,nn=Dn;var Vn=i.alternate;Vn!==null&&(Vn=Vn.updateQueue,yn=Vn.lastBaseUpdate,yn!==nn&&(yn===null?Vn.firstBaseUpdate=jn:yn.next=jn,Vn.lastBaseUpdate=Dn))}if(mt!==null){var $n=ut.baseState;nn=0,Vn=jn=Dn=null,yn=mt;do{var Ht=yn.lane,St=yn.eventTime;if((tt&Ht)===Ht){Vn!==null&&(Vn=Vn.next={eventTime:St,lane:0,tag:yn.tag,payload:yn.payload,callback:yn.callback,next:null});e:{var _=i,pt=yn;switch(Ht=g,St=$,pt.tag){case 1:if(_=pt.payload,typeof _=="function"){$n=_.call(St,$n,Ht);break e}$n=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=pt.payload,Ht=typeof _=="function"?_.call(St,$n,Ht):_,Ht==null)break e;$n=A({},$n,Ht);break e;case 2:jh=!0}}yn.callback!==null&&yn.lane!==0&&(i.flags|=64,Ht=ut.effects,Ht===null?ut.effects=[yn]:Ht.push(yn))}else St={eventTime:St,lane:Ht,tag:yn.tag,payload:yn.payload,callback:yn.callback,next:null},Vn===null?(jn=Vn=St,Dn=$n):Vn=Vn.next=St,nn|=Ht;if(yn=yn.next,yn===null){if(yn=ut.shared.pending,yn===null)break;Ht=yn,yn=Ht.next,Ht.next=null,ut.lastBaseUpdate=Ht,ut.shared.pending=null}}while(1);if(Vn===null&&(Dn=$n),ut.baseState=Dn,ut.firstBaseUpdate=jn,ut.lastBaseUpdate=Vn,g=ut.shared.interleaved,g!==null){ut=g;do nn|=ut.lane,ut=ut.next;while(ut!==g)}else mt===null&&(ut.shared.lanes=0);rh|=nn,i.lanes=nn,i.memoizedState=$n}}function sh(i,g,$){if(i=g.effects,g.effects=null,i!==null)for(g=0;g<i.length;g++){var tt=i[g],ut=tt.callback;if(ut!==null){if(tt.callback=null,tt=$,typeof ut!="function")throw Error(p$1(191,ut));ut.call(tt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,g){switch(G(wh,g),G(vh,i),G(uh,th),i=g.nodeType,i){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lb(null,"");break;default:i=i===8?g.parentNode:g,g=i.namespaceURI||null,i=i.tagName,g=lb(g,i)}E(uh),G(uh,g)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var g=xh(uh.current),$=lb(g,i.type);g!==$&&(G(vh,i),G(uh,$))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var g=i;g!==null;){if(g.tag===13){var $=g.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(i,g){if(g===null)return!1;for(var $=0;$<g.length&&$<i.length;$++)if(!He(i[$],g[$]))return!1;return!0}function Nh(i,g,$,tt,ut,mt){if(Hh=mt,M=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=$(tt,ut),Jh){mt=0;do{if(Jh=!1,Kh=0,25<=mt)throw Error(p$1(301));mt+=1,O=N=null,g.updateQueue=null,Fh.current=Qh,i=$(tt,ut)}while(Jh)}if(Fh.current=Rh,g=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,g)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var g=O===null?M.memoizedState:O.next;if(g!==null)O=g,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,g){return typeof g=="function"?g(i):g}function Wh(i){var g=Uh(),$=g.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=i;var tt=N,ut=tt.baseQueue,mt=$.pending;if(mt!==null){if(ut!==null){var nn=ut.next;ut.next=mt.next,mt.next=nn}tt.baseQueue=ut=mt,$.pending=null}if(ut!==null){mt=ut.next,tt=tt.baseState;var yn=nn=null,Dn=null,jn=mt;do{var Vn=jn.lane;if((Hh&Vn)===Vn)Dn!==null&&(Dn=Dn.next={lane:0,action:jn.action,hasEagerState:jn.hasEagerState,eagerState:jn.eagerState,next:null}),tt=jn.hasEagerState?jn.eagerState:i(tt,jn.action);else{var $n={lane:Vn,action:jn.action,hasEagerState:jn.hasEagerState,eagerState:jn.eagerState,next:null};Dn===null?(yn=Dn=$n,nn=tt):Dn=Dn.next=$n,M.lanes|=Vn,rh|=Vn}jn=jn.next}while(jn!==null&&jn!==mt);Dn===null?nn=tt:Dn.next=yn,He(tt,g.memoizedState)||(dh=!0),g.memoizedState=tt,g.baseState=nn,g.baseQueue=Dn,$.lastRenderedState=tt}if(i=$.interleaved,i!==null){ut=i;do mt=ut.lane,M.lanes|=mt,rh|=mt,ut=ut.next;while(ut!==i)}else ut===null&&($.lanes=0);return[g.memoizedState,$.dispatch]}function Xh(i){var g=Uh(),$=g.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=i;var tt=$.dispatch,ut=$.pending,mt=g.memoizedState;if(ut!==null){$.pending=null;var nn=ut=ut.next;do mt=i(mt,nn.action),nn=nn.next;while(nn!==ut);He(mt,g.memoizedState)||(dh=!0),g.memoizedState=mt,g.baseQueue===null&&(g.baseState=mt),$.lastRenderedState=mt}return[mt,tt]}function Yh(){}function Zh(i,g){var $=M,tt=Uh(),ut=g(),mt=!He(tt.memoizedState,ut);if(mt&&(tt.memoizedState=ut,dh=!0),tt=tt.queue,$h(ai.bind(null,$,tt,i),[i]),tt.getSnapshot!==g||mt||O!==null&&O.memoizedState.tag&1){if($.flags|=2048,bi(9,ci.bind(null,$,tt,ut,g),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di($,g,ut)}return ut}function di(i,g,$){i.flags|=16384,i={getSnapshot:g,value:$},g=M.updateQueue,g===null?(g={lastEffect:null,stores:null},M.updateQueue=g,g.stores=[i]):($=g.stores,$===null?g.stores=[i]:$.push(i))}function ci(i,g,$,tt){g.value=$,g.getSnapshot=tt,ei(g)&&fi(i)}function ai(i,g,$){return $(function(){ei(g)&&fi(i)})}function ei(i){var g=i.getSnapshot;i=i.value;try{var $=g();return!He(i,$)}catch{return!0}}function fi(i){var g=ih(i,1);g!==null&&gi(g,i,1,-1)}function hi(i){var g=Th();return typeof i=="function"&&(i=i()),g.memoizedState=g.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},g.queue=i,i=i.dispatch=ii.bind(null,M,i),[g.memoizedState,i]}function bi(i,g,$,tt){return i={tag:i,create:g,destroy:$,deps:tt,next:null},g=M.updateQueue,g===null?(g={lastEffect:null,stores:null},M.updateQueue=g,g.lastEffect=i.next=i):($=g.lastEffect,$===null?g.lastEffect=i.next=i:(tt=$.next,$.next=i,i.next=tt,g.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,g,$,tt){var ut=Th();M.flags|=i,ut.memoizedState=bi(1|g,$,void 0,tt===void 0?null:tt)}function li(i,g,$,tt){var ut=Uh();tt=tt===void 0?null:tt;var mt=void 0;if(N!==null){var nn=N.memoizedState;if(mt=nn.destroy,tt!==null&&Mh(tt,nn.deps)){ut.memoizedState=bi(g,$,mt,tt);return}}M.flags|=i,ut.memoizedState=bi(1|g,$,mt,tt)}function mi(i,g){return ki(8390656,8,i,g)}function $h(i,g){return li(2048,8,i,g)}function ni(i,g){return li(4,2,i,g)}function oi(i,g){return li(4,4,i,g)}function pi(i,g){if(typeof g=="function")return i=i(),g(i),function(){g(null)};if(g!=null)return i=i(),g.current=i,function(){g.current=null}}function qi(i,g,$){return $=$!=null?$.concat([i]):null,li(4,4,pi.bind(null,g,i),$)}function ri(){}function si(i,g){var $=Uh();g=g===void 0?null:g;var tt=$.memoizedState;return tt!==null&&g!==null&&Mh(g,tt[1])?tt[0]:($.memoizedState=[i,g],i)}function ti(i,g){var $=Uh();g=g===void 0?null:g;var tt=$.memoizedState;return tt!==null&&g!==null&&Mh(g,tt[1])?tt[0]:(i=i(),$.memoizedState=[i,g],i)}function ui(i,g,$){return Hh&21?(He($,g)||($=yc(),M.lanes|=$,rh|=$,i.baseState=!0),g):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=$)}function vi(i,g){var $=C;C=$!==0&&4>$?$:4,i(!0);var tt=Gh.transition;Gh.transition={};try{i(!1),g()}finally{C=$,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi(i,g,$){var tt=yi(i);if($={lane:tt,action:$,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(g,$);else if($=hh(i,g,$,tt),$!==null){var ut=R();gi($,i,tt,ut),Bi($,g,tt)}}function ii(i,g,$){var tt=yi(i),ut={lane:tt,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(g,ut);else{var mt=i.alternate;if(i.lanes===0&&(mt===null||mt.lanes===0)&&(mt=g.lastRenderedReducer,mt!==null))try{var nn=g.lastRenderedState,yn=mt(nn,$);if(ut.hasEagerState=!0,ut.eagerState=yn,He(yn,nn)){var Dn=g.interleaved;Dn===null?(ut.next=ut,gh(g)):(ut.next=Dn.next,Dn.next=ut),g.interleaved=ut;return}}catch{}finally{}$=hh(i,g,ut,tt),$!==null&&(ut=R(),gi($,i,tt,ut),Bi($,g,tt))}}function zi(i){var g=i.alternate;return i===M||g!==null&&g===M}function Ai(i,g){Jh=Ih=!0;var $=i.pending;$===null?g.next=g:(g.next=$.next,$.next=g),i.pending=g}function Bi(i,g,$){if($&4194240){var tt=g.lanes;tt&=i.pendingLanes,$|=tt,g.lanes=$,Cc(i,$)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,g){return Th().memoizedState=[i,g===void 0?null:g],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,g,$){return $=$!=null?$.concat([i]):null,ki(4194308,4,pi.bind(null,g,i),$)},useLayoutEffect:function(i,g){return ki(4194308,4,i,g)},useInsertionEffect:function(i,g){return ki(4,2,i,g)},useMemo:function(i,g){var $=Th();return g=g===void 0?null:g,i=i(),$.memoizedState=[i,g],i},useReducer:function(i,g,$){var tt=Th();return g=$!==void 0?$(g):g,tt.memoizedState=tt.baseState=g,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},tt.queue=i,i=i.dispatch=xi.bind(null,M,i),[tt.memoizedState,i]},useRef:function(i){var g=Th();return i={current:i},g.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),g=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[g,i]},useMutableSource:function(){},useSyncExternalStore:function(i,g,$){var tt=M,ut=Th();if(I){if($===void 0)throw Error(p$1(407));$=$()}else{if($=g(),Q===null)throw Error(p$1(349));Hh&30||di(tt,g,$)}ut.memoizedState=$;var mt={value:$,getSnapshot:g};return ut.queue=mt,mi(ai.bind(null,tt,mt,i),[i]),tt.flags|=2048,bi(9,ci.bind(null,tt,mt,$,g),void 0,null),$},useId:function(){var i=Th(),g=Q.identifierPrefix;if(I){var $=sg,tt=rg;$=(tt&~(1<<32-oc(tt)-1)).toString(32)+$,g=":"+g+"R"+$,$=Kh++,0<$&&(g+="H"+$.toString(32)),g+=":"}else $=Lh++,g=":"+g+"r"+$.toString(32)+":";return i.memoizedState=g},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var g=Uh();return ui(g,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],g=Uh().memoizedState;return[i,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var g=Uh();return N===null?g.memoizedState=i:ui(g,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],g=Uh().memoizedState;return[i,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,g){if(i&&i.defaultProps){g=A({},g),i=i.defaultProps;for(var $ in i)g[$]===void 0&&(g[$]=i[$]);return g}return g}function Di(i,g,$,tt){g=i.memoizedState,$=$(tt,g),$=$==null?g:A({},g,$),i.memoizedState=$,i.lanes===0&&(i.updateQueue.baseState=$)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,g,$){i=i._reactInternals;var tt=R(),ut=yi(i),mt=mh(tt,ut);mt.payload=g,$!=null&&(mt.callback=$),g=nh(i,mt,ut),g!==null&&(gi(g,i,ut,tt),oh(g,i,ut))},enqueueReplaceState:function(i,g,$){i=i._reactInternals;var tt=R(),ut=yi(i),mt=mh(tt,ut);mt.tag=1,mt.payload=g,$!=null&&(mt.callback=$),g=nh(i,mt,ut),g!==null&&(gi(g,i,ut,tt),oh(g,i,ut))},enqueueForceUpdate:function(i,g){i=i._reactInternals;var $=R(),tt=yi(i),ut=mh($,tt);ut.tag=2,g!=null&&(ut.callback=g),g=nh(i,ut,tt),g!==null&&(gi(g,i,tt,$),oh(g,i,tt))}};function Fi(i,g,$,tt,ut,mt,nn){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(tt,mt,nn):g.prototype&&g.prototype.isPureReactComponent?!Ie($,tt)||!Ie(ut,mt):!0}function Gi(i,g,$){var tt=!1,ut=Vf,mt=g.contextType;return typeof mt=="object"&&mt!==null?mt=eh(mt):(ut=Zf(g)?Xf:H.current,tt=g.contextTypes,mt=(tt=tt!=null)?Yf(i,ut):Vf),g=new g($,mt),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ei,i.stateNode=g,g._reactInternals=i,tt&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=ut,i.__reactInternalMemoizedMaskedChildContext=mt),g}function Hi(i,g,$,tt){i=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps($,tt),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps($,tt),g.state!==i&&Ei.enqueueReplaceState(g,g.state,null)}function Ii(i,g,$,tt){var ut=i.stateNode;ut.props=$,ut.state=i.memoizedState,ut.refs={},kh(i);var mt=g.contextType;typeof mt=="object"&&mt!==null?ut.context=eh(mt):(mt=Zf(g)?Xf:H.current,ut.context=Yf(i,mt)),ut.state=i.memoizedState,mt=g.getDerivedStateFromProps,typeof mt=="function"&&(Di(i,g,mt,$),ut.state=i.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof ut.getSnapshotBeforeUpdate=="function"||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(g=ut.state,typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount(),g!==ut.state&&Ei.enqueueReplaceState(ut,ut.state,null),qh(i,$,ut,tt),ut.state=i.memoizedState),typeof ut.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,g){try{var $="",tt=g;do $+=Pa(tt),tt=tt.return;while(tt);var ut=$}catch(mt){ut=`
Error generating stack: `+mt.message+`
`+mt.stack}return{value:i,source:g,stack:ut,digest:null}}function Ki(i,g,$){return{value:i,source:null,stack:$??null,digest:g??null}}function Li(i,g){try{console.error(g.value)}catch($){setTimeout(function(){throw $})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,g,$){$=mh(-1,$),$.tag=3,$.payload={element:null};var tt=g.value;return $.callback=function(){Oi||(Oi=!0,Pi=tt),Li(i,g)},$}function Qi(i,g,$){$=mh(-1,$),$.tag=3;var tt=i.type.getDerivedStateFromError;if(typeof tt=="function"){var ut=g.value;$.payload=function(){return tt(ut)},$.callback=function(){Li(i,g)}}var mt=i.stateNode;return mt!==null&&typeof mt.componentDidCatch=="function"&&($.callback=function(){Li(i,g),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var nn=g.stack;this.componentDidCatch(g.value,{componentStack:nn!==null?nn:""})}),$}function Si(i,g,$){var tt=i.pingCache;if(tt===null){tt=i.pingCache=new Mi;var ut=new Set;tt.set(g,ut)}else ut=tt.get(g),ut===void 0&&(ut=new Set,tt.set(g,ut));ut.has($)||(ut.add($),i=Ti.bind(null,i,g,$),g.then(i,i))}function Ui(i){do{var g;if((g=i.tag===13)&&(g=i.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return i;i=i.return}while(i!==null);return null}function Vi(i,g,$,tt,ut){return i.mode&1?(i.flags|=65536,i.lanes=ut,i):(i===g?i.flags|=65536:(i.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(g=mh(-1,1),g.tag=2,nh($,g,1))),$.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,g,$,tt){g.child=i===null?Vg(g,null,$,tt):Ug(g,i.child,$,tt)}function Yi(i,g,$,tt,ut){$=$.render;var mt=g.ref;return ch(g,ut),tt=Nh(i,g,$,tt,mt,ut),$=Sh(),i!==null&&!dh?(g.updateQueue=i.updateQueue,g.flags&=-2053,i.lanes&=~ut,Zi(i,g,ut)):(I&&$&&vg(g),g.flags|=1,Xi(i,g,tt,ut),g.child)}function $i(i,g,$,tt,ut){if(i===null){var mt=$.type;return typeof mt=="function"&&!aj(mt)&&mt.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(g.tag=15,g.type=mt,bj(i,g,mt,tt,ut)):(i=Rg($.type,null,tt,g,g.mode,ut),i.ref=g.ref,i.return=g,g.child=i)}if(mt=i.child,!(i.lanes&ut)){var nn=mt.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(nn,tt)&&i.ref===g.ref)return Zi(i,g,ut)}return g.flags|=1,i=Pg(mt,tt),i.ref=g.ref,i.return=g,g.child=i}function bj(i,g,$,tt,ut){if(i!==null){var mt=i.memoizedProps;if(Ie(mt,tt)&&i.ref===g.ref)if(dh=!1,g.pendingProps=tt=mt,(i.lanes&ut)!==0)i.flags&131072&&(dh=!0);else return g.lanes=i.lanes,Zi(i,g,ut)}return cj(i,g,$,tt,ut)}function dj(i,g,$){var tt=g.pendingProps,ut=tt.children,mt=i!==null?i.memoizedState:null;if(tt.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return i=mt!==null?mt.baseLanes|$:$,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:i,cachePool:null,transitions:null},g.updateQueue=null,G(ej,fj),fj|=i,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=mt!==null?mt.baseLanes:$,G(ej,fj),fj|=tt}else mt!==null?(tt=mt.baseLanes|$,g.memoizedState=null):tt=$,G(ej,fj),fj|=tt;return Xi(i,g,ut,$),g.child}function gj(i,g){var $=g.ref;(i===null&&$!==null||i!==null&&i.ref!==$)&&(g.flags|=512,g.flags|=2097152)}function cj(i,g,$,tt,ut){var mt=Zf($)?Xf:H.current;return mt=Yf(g,mt),ch(g,ut),$=Nh(i,g,$,tt,mt,ut),tt=Sh(),i!==null&&!dh?(g.updateQueue=i.updateQueue,g.flags&=-2053,i.lanes&=~ut,Zi(i,g,ut)):(I&&tt&&vg(g),g.flags|=1,Xi(i,g,$,ut),g.child)}function hj(i,g,$,tt,ut){if(Zf($)){var mt=!0;cg(g)}else mt=!1;if(ch(g,ut),g.stateNode===null)ij(i,g),Gi(g,$,tt),Ii(g,$,tt,ut),tt=!0;else if(i===null){var nn=g.stateNode,yn=g.memoizedProps;nn.props=yn;var Dn=nn.context,jn=$.contextType;typeof jn=="object"&&jn!==null?jn=eh(jn):(jn=Zf($)?Xf:H.current,jn=Yf(g,jn));var Vn=$.getDerivedStateFromProps,$n=typeof Vn=="function"||typeof nn.getSnapshotBeforeUpdate=="function";$n||typeof nn.UNSAFE_componentWillReceiveProps!="function"&&typeof nn.componentWillReceiveProps!="function"||(yn!==tt||Dn!==jn)&&Hi(g,nn,tt,jn),jh=!1;var Ht=g.memoizedState;nn.state=Ht,qh(g,tt,nn,ut),Dn=g.memoizedState,yn!==tt||Ht!==Dn||Wf.current||jh?(typeof Vn=="function"&&(Di(g,$,Vn,tt),Dn=g.memoizedState),(yn=jh||Fi(g,$,yn,tt,Ht,Dn,jn))?($n||typeof nn.UNSAFE_componentWillMount!="function"&&typeof nn.componentWillMount!="function"||(typeof nn.componentWillMount=="function"&&nn.componentWillMount(),typeof nn.UNSAFE_componentWillMount=="function"&&nn.UNSAFE_componentWillMount()),typeof nn.componentDidMount=="function"&&(g.flags|=4194308)):(typeof nn.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=tt,g.memoizedState=Dn),nn.props=tt,nn.state=Dn,nn.context=jn,tt=yn):(typeof nn.componentDidMount=="function"&&(g.flags|=4194308),tt=!1)}else{nn=g.stateNode,lh(i,g),yn=g.memoizedProps,jn=g.type===g.elementType?yn:Ci(g.type,yn),nn.props=jn,$n=g.pendingProps,Ht=nn.context,Dn=$.contextType,typeof Dn=="object"&&Dn!==null?Dn=eh(Dn):(Dn=Zf($)?Xf:H.current,Dn=Yf(g,Dn));var St=$.getDerivedStateFromProps;(Vn=typeof St=="function"||typeof nn.getSnapshotBeforeUpdate=="function")||typeof nn.UNSAFE_componentWillReceiveProps!="function"&&typeof nn.componentWillReceiveProps!="function"||(yn!==$n||Ht!==Dn)&&Hi(g,nn,tt,Dn),jh=!1,Ht=g.memoizedState,nn.state=Ht,qh(g,tt,nn,ut);var _=g.memoizedState;yn!==$n||Ht!==_||Wf.current||jh?(typeof St=="function"&&(Di(g,$,St,tt),_=g.memoizedState),(jn=jh||Fi(g,$,jn,tt,Ht,_,Dn)||!1)?(Vn||typeof nn.UNSAFE_componentWillUpdate!="function"&&typeof nn.componentWillUpdate!="function"||(typeof nn.componentWillUpdate=="function"&&nn.componentWillUpdate(tt,_,Dn),typeof nn.UNSAFE_componentWillUpdate=="function"&&nn.UNSAFE_componentWillUpdate(tt,_,Dn)),typeof nn.componentDidUpdate=="function"&&(g.flags|=4),typeof nn.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof nn.componentDidUpdate!="function"||yn===i.memoizedProps&&Ht===i.memoizedState||(g.flags|=4),typeof nn.getSnapshotBeforeUpdate!="function"||yn===i.memoizedProps&&Ht===i.memoizedState||(g.flags|=1024),g.memoizedProps=tt,g.memoizedState=_),nn.props=tt,nn.state=_,nn.context=Dn,tt=jn):(typeof nn.componentDidUpdate!="function"||yn===i.memoizedProps&&Ht===i.memoizedState||(g.flags|=4),typeof nn.getSnapshotBeforeUpdate!="function"||yn===i.memoizedProps&&Ht===i.memoizedState||(g.flags|=1024),tt=!1)}return jj(i,g,$,tt,mt,ut)}function jj(i,g,$,tt,ut,mt){gj(i,g);var nn=(g.flags&128)!==0;if(!tt&&!nn)return ut&&dg(g,$,!1),Zi(i,g,mt);tt=g.stateNode,Wi.current=g;var yn=nn&&typeof $.getDerivedStateFromError!="function"?null:tt.render();return g.flags|=1,i!==null&&nn?(g.child=Ug(g,i.child,null,mt),g.child=Ug(g,null,yn,mt)):Xi(i,g,yn,mt),g.memoizedState=tt.state,ut&&dg(g,$,!0),g.child}function kj(i){var g=i.stateNode;g.pendingContext?ag(i,g.pendingContext,g.pendingContext!==g.context):g.context&&ag(i,g.context,!1),yh(i,g.containerInfo)}function lj(i,g,$,tt,ut){return Ig(),Jg(ut),g.flags|=256,Xi(i,g,$,tt),g.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,g,$){var tt=g.pendingProps,ut=L.current,mt=!1,nn=(g.flags&128)!==0,yn;if((yn=nn)||(yn=i!==null&&i.memoizedState===null?!1:(ut&2)!==0),yn?(mt=!0,g.flags&=-129):(i===null||i.memoizedState!==null)&&(ut|=1),G(L,ut&1),i===null)return Eg(g),i=g.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(g.mode&1?i.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(nn=tt.children,i=tt.fallback,mt?(tt=g.mode,mt=g.child,nn={mode:"hidden",children:nn},!(tt&1)&&mt!==null?(mt.childLanes=0,mt.pendingProps=nn):mt=pj(nn,tt,0,null),i=Tg(i,tt,$,null),mt.return=g,i.return=g,mt.sibling=i,g.child=mt,g.child.memoizedState=nj($),g.memoizedState=mj,i):qj(g,nn));if(ut=i.memoizedState,ut!==null&&(yn=ut.dehydrated,yn!==null))return rj(i,g,nn,tt,yn,ut,$);if(mt){mt=tt.fallback,nn=g.mode,ut=i.child,yn=ut.sibling;var Dn={mode:"hidden",children:tt.children};return!(nn&1)&&g.child!==ut?(tt=g.child,tt.childLanes=0,tt.pendingProps=Dn,g.deletions=null):(tt=Pg(ut,Dn),tt.subtreeFlags=ut.subtreeFlags&14680064),yn!==null?mt=Pg(yn,mt):(mt=Tg(mt,nn,$,null),mt.flags|=2),mt.return=g,tt.return=g,tt.sibling=mt,g.child=tt,tt=mt,mt=g.child,nn=i.child.memoizedState,nn=nn===null?nj($):{baseLanes:nn.baseLanes|$,cachePool:null,transitions:nn.transitions},mt.memoizedState=nn,mt.childLanes=i.childLanes&~$,g.memoizedState=mj,tt}return mt=i.child,i=mt.sibling,tt=Pg(mt,{mode:"visible",children:tt.children}),!(g.mode&1)&&(tt.lanes=$),tt.return=g,tt.sibling=null,i!==null&&($=g.deletions,$===null?(g.deletions=[i],g.flags|=16):$.push(i)),g.child=tt,g.memoizedState=null,tt}function qj(i,g){return g=pj({mode:"visible",children:g},i.mode,0,null),g.return=i,i.child=g}function sj(i,g,$,tt){return tt!==null&&Jg(tt),Ug(g,i.child,null,$),i=qj(g,g.pendingProps.children),i.flags|=2,g.memoizedState=null,i}function rj(i,g,$,tt,ut,mt,nn){if($)return g.flags&256?(g.flags&=-257,tt=Ki(Error(p$1(422))),sj(i,g,nn,tt)):g.memoizedState!==null?(g.child=i.child,g.flags|=128,null):(mt=tt.fallback,ut=g.mode,tt=pj({mode:"visible",children:tt.children},ut,0,null),mt=Tg(mt,ut,nn,null),mt.flags|=2,tt.return=g,mt.return=g,tt.sibling=mt,g.child=tt,g.mode&1&&Ug(g,i.child,null,nn),g.child.memoizedState=nj(nn),g.memoizedState=mj,mt);if(!(g.mode&1))return sj(i,g,nn,null);if(ut.data==="$!"){if(tt=ut.nextSibling&&ut.nextSibling.dataset,tt)var yn=tt.dgst;return tt=yn,mt=Error(p$1(419)),tt=Ki(mt,tt,void 0),sj(i,g,nn,tt)}if(yn=(nn&i.childLanes)!==0,dh||yn){if(tt=Q,tt!==null){switch(nn&-nn){case 4:ut=2;break;case 16:ut=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ut=32;break;case 536870912:ut=268435456;break;default:ut=0}ut=ut&(tt.suspendedLanes|nn)?0:ut,ut!==0&&ut!==mt.retryLane&&(mt.retryLane=ut,ih(i,ut),gi(tt,i,ut,-1))}return tj(),tt=Ki(Error(p$1(421))),sj(i,g,nn,tt)}return ut.data==="$?"?(g.flags|=128,g.child=i.child,g=uj.bind(null,i),ut._reactRetry=g,null):(i=mt.treeContext,yg=Lf(ut.nextSibling),xg=g,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=g),g=qj(g,tt.children),g.flags|=4096,g)}function vj(i,g,$){i.lanes|=g;var tt=i.alternate;tt!==null&&(tt.lanes|=g),bh(i.return,g,$)}function wj(i,g,$,tt,ut){var mt=i.memoizedState;mt===null?i.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:tt,tail:$,tailMode:ut}:(mt.isBackwards=g,mt.rendering=null,mt.renderingStartTime=0,mt.last=tt,mt.tail=$,mt.tailMode=ut)}function xj(i,g,$){var tt=g.pendingProps,ut=tt.revealOrder,mt=tt.tail;if(Xi(i,g,tt.children,$),tt=L.current,tt&2)tt=tt&1|2,g.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=g.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,$,g);else if(i.tag===19)vj(i,$,g);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===g)break e;for(;i.sibling===null;){if(i.return===null||i.return===g)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}tt&=1}if(G(L,tt),!(g.mode&1))g.memoizedState=null;else switch(ut){case"forwards":for($=g.child,ut=null;$!==null;)i=$.alternate,i!==null&&Ch(i)===null&&(ut=$),$=$.sibling;$=ut,$===null?(ut=g.child,g.child=null):(ut=$.sibling,$.sibling=null),wj(g,!1,ut,$,mt);break;case"backwards":for($=null,ut=g.child,g.child=null;ut!==null;){if(i=ut.alternate,i!==null&&Ch(i)===null){g.child=ut;break}i=ut.sibling,ut.sibling=$,$=ut,ut=i}wj(g,!0,$,null,mt);break;case"together":wj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function ij(i,g){!(g.mode&1)&&i!==null&&(i.alternate=null,g.alternate=null,g.flags|=2)}function Zi(i,g,$){if(i!==null&&(g.dependencies=i.dependencies),rh|=g.lanes,!($&g.childLanes))return null;if(i!==null&&g.child!==i.child)throw Error(p$1(153));if(g.child!==null){for(i=g.child,$=Pg(i,i.pendingProps),g.child=$,$.return=g;i.sibling!==null;)i=i.sibling,$=$.sibling=Pg(i,i.pendingProps),$.return=g;$.sibling=null}return g.child}function yj(i,g,$){switch(g.tag){case 3:kj(g),Ig();break;case 5:Ah(g);break;case 1:Zf(g.type)&&cg(g);break;case 4:yh(g,g.stateNode.containerInfo);break;case 10:var tt=g.type._context,ut=g.memoizedProps.value;G(Wg,tt._currentValue),tt._currentValue=ut;break;case 13:if(tt=g.memoizedState,tt!==null)return tt.dehydrated!==null?(G(L,L.current&1),g.flags|=128,null):$&g.child.childLanes?oj(i,g,$):(G(L,L.current&1),i=Zi(i,g,$),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(tt=($&g.childLanes)!==0,i.flags&128){if(tt)return xj(i,g,$);g.flags|=128}if(ut=g.memoizedState,ut!==null&&(ut.rendering=null,ut.tail=null,ut.lastEffect=null),G(L,L.current),tt)break;return null;case 22:case 23:return g.lanes=0,dj(i,g,$)}return Zi(i,g,$)}var zj,Aj,Bj,Cj;zj=function(i,g){for(var $=g.child;$!==null;){if($.tag===5||$.tag===6)i.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===g)break;for(;$.sibling===null;){if($.return===null||$.return===g)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(i,g,$,tt){var ut=i.memoizedProps;if(ut!==tt){i=g.stateNode,xh(uh.current);var mt=null;switch($){case"input":ut=Ya(i,ut),tt=Ya(i,tt),mt=[];break;case"select":ut=A({},ut,{value:void 0}),tt=A({},tt,{value:void 0}),mt=[];break;case"textarea":ut=gb(i,ut),tt=gb(i,tt),mt=[];break;default:typeof ut.onClick!="function"&&typeof tt.onClick=="function"&&(i.onclick=Bf)}ub($,tt);var nn;$=null;for(jn in ut)if(!tt.hasOwnProperty(jn)&&ut.hasOwnProperty(jn)&&ut[jn]!=null)if(jn==="style"){var yn=ut[jn];for(nn in yn)yn.hasOwnProperty(nn)&&($||($={}),$[nn]="")}else jn!=="dangerouslySetInnerHTML"&&jn!=="children"&&jn!=="suppressContentEditableWarning"&&jn!=="suppressHydrationWarning"&&jn!=="autoFocus"&&(ea.hasOwnProperty(jn)?mt||(mt=[]):(mt=mt||[]).push(jn,null));for(jn in tt){var Dn=tt[jn];if(yn=ut!=null?ut[jn]:void 0,tt.hasOwnProperty(jn)&&Dn!==yn&&(Dn!=null||yn!=null))if(jn==="style")if(yn){for(nn in yn)!yn.hasOwnProperty(nn)||Dn&&Dn.hasOwnProperty(nn)||($||($={}),$[nn]="");for(nn in Dn)Dn.hasOwnProperty(nn)&&yn[nn]!==Dn[nn]&&($||($={}),$[nn]=Dn[nn])}else $||(mt||(mt=[]),mt.push(jn,$)),$=Dn;else jn==="dangerouslySetInnerHTML"?(Dn=Dn?Dn.__html:void 0,yn=yn?yn.__html:void 0,Dn!=null&&yn!==Dn&&(mt=mt||[]).push(jn,Dn)):jn==="children"?typeof Dn!="string"&&typeof Dn!="number"||(mt=mt||[]).push(jn,""+Dn):jn!=="suppressContentEditableWarning"&&jn!=="suppressHydrationWarning"&&(ea.hasOwnProperty(jn)?(Dn!=null&&jn==="onScroll"&&D("scroll",i),mt||yn===Dn||(mt=[])):(mt=mt||[]).push(jn,Dn))}$&&(mt=mt||[]).push("style",$);var jn=mt;(g.updateQueue=jn)&&(g.flags|=4)}};Cj=function(i,g,$,tt){$!==tt&&(g.flags|=4)};function Dj(i,g){if(!I)switch(i.tailMode){case"hidden":g=i.tail;for(var $=null;g!==null;)g.alternate!==null&&($=g),g=g.sibling;$===null?i.tail=null:$.sibling=null;break;case"collapsed":$=i.tail;for(var tt=null;$!==null;)$.alternate!==null&&(tt=$),$=$.sibling;tt===null?g||i.tail===null?i.tail=null:i.tail.sibling=null:tt.sibling=null}}function S(i){var g=i.alternate!==null&&i.alternate.child===i.child,$=0,tt=0;if(g)for(var ut=i.child;ut!==null;)$|=ut.lanes|ut.childLanes,tt|=ut.subtreeFlags&14680064,tt|=ut.flags&14680064,ut.return=i,ut=ut.sibling;else for(ut=i.child;ut!==null;)$|=ut.lanes|ut.childLanes,tt|=ut.subtreeFlags,tt|=ut.flags,ut.return=i,ut=ut.sibling;return i.subtreeFlags|=tt,i.childLanes=$,g}function Ej(i,g,$){var tt=g.pendingProps;switch(wg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(g),null;case 1:return Zf(g.type)&&$f(),S(g),null;case 3:return tt=g.stateNode,zh(),E(Wf),E(H),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(i===null||i.child===null)&&(Gg(g)?g.flags|=4:i===null||i.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,g),S(g),null;case 5:Bh(g);var ut=xh(wh.current);if($=g.type,i!==null&&g.stateNode!=null)Bj(i,g,$,tt,ut),i.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!tt){if(g.stateNode===null)throw Error(p$1(166));return S(g),null}if(i=xh(uh.current),Gg(g)){tt=g.stateNode,$=g.type;var mt=g.memoizedProps;switch(tt[Of]=g,tt[Pf]=mt,i=(g.mode&1)!==0,$){case"dialog":D("cancel",tt),D("close",tt);break;case"iframe":case"object":case"embed":D("load",tt);break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D(lf[ut],tt);break;case"source":D("error",tt);break;case"img":case"image":case"link":D("error",tt),D("load",tt);break;case"details":D("toggle",tt);break;case"input":Za(tt,mt),D("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!mt.multiple},D("invalid",tt);break;case"textarea":hb(tt,mt),D("invalid",tt)}ub($,mt),ut=null;for(var nn in mt)if(mt.hasOwnProperty(nn)){var yn=mt[nn];nn==="children"?typeof yn=="string"?tt.textContent!==yn&&(mt.suppressHydrationWarning!==!0&&Af(tt.textContent,yn,i),ut=["children",yn]):typeof yn=="number"&&tt.textContent!==""+yn&&(mt.suppressHydrationWarning!==!0&&Af(tt.textContent,yn,i),ut=["children",""+yn]):ea.hasOwnProperty(nn)&&yn!=null&&nn==="onScroll"&&D("scroll",tt)}switch($){case"input":Va(tt),db(tt,mt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof mt.onClick=="function"&&(tt.onclick=Bf)}tt=ut,g.updateQueue=tt,tt!==null&&(g.flags|=4)}else{nn=ut.nodeType===9?ut:ut.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb($)),i==="http://www.w3.org/1999/xhtml"?$==="script"?(i=nn.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof tt.is=="string"?i=nn.createElement($,{is:tt.is}):(i=nn.createElement($),$==="select"&&(nn=i,tt.multiple?nn.multiple=!0:tt.size&&(nn.size=tt.size))):i=nn.createElementNS(i,$),i[Of]=g,i[Pf]=tt,zj(i,g,!1,!1),g.stateNode=i;e:{switch(nn=vb($,tt),$){case"dialog":D("cancel",i),D("close",i),ut=tt;break;case"iframe":case"object":case"embed":D("load",i),ut=tt;break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D(lf[ut],i);ut=tt;break;case"source":D("error",i),ut=tt;break;case"img":case"image":case"link":D("error",i),D("load",i),ut=tt;break;case"details":D("toggle",i),ut=tt;break;case"input":Za(i,tt),ut=Ya(i,tt),D("invalid",i);break;case"option":ut=tt;break;case"select":i._wrapperState={wasMultiple:!!tt.multiple},ut=A({},tt,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,tt),ut=gb(i,tt),D("invalid",i);break;default:ut=tt}ub($,ut),yn=ut;for(mt in yn)if(yn.hasOwnProperty(mt)){var Dn=yn[mt];mt==="style"?sb(i,Dn):mt==="dangerouslySetInnerHTML"?(Dn=Dn?Dn.__html:void 0,Dn!=null&&nb(i,Dn)):mt==="children"?typeof Dn=="string"?($!=="textarea"||Dn!=="")&&ob(i,Dn):typeof Dn=="number"&&ob(i,""+Dn):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea.hasOwnProperty(mt)?Dn!=null&&mt==="onScroll"&&D("scroll",i):Dn!=null&&ta(i,mt,Dn,nn))}switch($){case"input":Va(i),db(i,tt,!1);break;case"textarea":Va(i),jb(i);break;case"option":tt.value!=null&&i.setAttribute("value",""+Sa(tt.value));break;case"select":i.multiple=!!tt.multiple,mt=tt.value,mt!=null?fb(i,!!tt.multiple,mt,!1):tt.defaultValue!=null&&fb(i,!!tt.multiple,tt.defaultValue,!0);break;default:typeof ut.onClick=="function"&&(i.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return S(g),null;case 6:if(i&&g.stateNode!=null)Cj(i,g,i.memoizedProps,tt);else{if(typeof tt!="string"&&g.stateNode===null)throw Error(p$1(166));if($=xh(wh.current),xh(uh.current),Gg(g)){if(tt=g.stateNode,$=g.memoizedProps,tt[Of]=g,(mt=tt.nodeValue!==$)&&(i=xg,i!==null))switch(i.tag){case 3:Af(tt.nodeValue,$,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,$,(i.mode&1)!==0)}mt&&(g.flags|=4)}else tt=($.nodeType===9?$:$.ownerDocument).createTextNode(tt),tt[Of]=g,g.stateNode=tt}return S(g),null;case 13:if(E(L),tt=g.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&g.mode&1&&!(g.flags&128))Hg(),Ig(),g.flags|=98560,mt=!1;else if(mt=Gg(g),tt!==null&&tt.dehydrated!==null){if(i===null){if(!mt)throw Error(p$1(318));if(mt=g.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(p$1(317));mt[Of]=g}else Ig(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;S(g),mt=!1}else zg!==null&&(Fj(zg),zg=null),mt=!0;if(!mt)return g.flags&65536?g:null}return g.flags&128?(g.lanes=$,g):(tt=tt!==null,tt!==(i!==null&&i.memoizedState!==null)&&tt&&(g.child.flags|=8192,g.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),g.updateQueue!==null&&(g.flags|=4),S(g),null);case 4:return zh(),Aj(i,g),i===null&&sf(g.stateNode.containerInfo),S(g),null;case 10:return ah(g.type._context),S(g),null;case 17:return Zf(g.type)&&$f(),S(g),null;case 19:if(E(L),mt=g.memoizedState,mt===null)return S(g),null;if(tt=(g.flags&128)!==0,nn=mt.rendering,nn===null)if(tt)Dj(mt,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=g.child;i!==null;){if(nn=Ch(i),nn!==null){for(g.flags|=128,Dj(mt,!1),tt=nn.updateQueue,tt!==null&&(g.updateQueue=tt,g.flags|=4),g.subtreeFlags=0,tt=$,$=g.child;$!==null;)mt=$,i=tt,mt.flags&=14680066,nn=mt.alternate,nn===null?(mt.childLanes=0,mt.lanes=i,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=nn.childLanes,mt.lanes=nn.lanes,mt.child=nn.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=nn.memoizedProps,mt.memoizedState=nn.memoizedState,mt.updateQueue=nn.updateQueue,mt.type=nn.type,i=nn.dependencies,mt.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),$=$.sibling;return G(L,L.current&1|2),g.child}i=i.sibling}mt.tail!==null&&B()>Gj&&(g.flags|=128,tt=!0,Dj(mt,!1),g.lanes=4194304)}else{if(!tt)if(i=Ch(nn),i!==null){if(g.flags|=128,tt=!0,$=i.updateQueue,$!==null&&(g.updateQueue=$,g.flags|=4),Dj(mt,!0),mt.tail===null&&mt.tailMode==="hidden"&&!nn.alternate&&!I)return S(g),null}else 2*B()-mt.renderingStartTime>Gj&&$!==1073741824&&(g.flags|=128,tt=!0,Dj(mt,!1),g.lanes=4194304);mt.isBackwards?(nn.sibling=g.child,g.child=nn):($=mt.last,$!==null?$.sibling=nn:g.child=nn,mt.last=nn)}return mt.tail!==null?(g=mt.tail,mt.rendering=g,mt.tail=g.sibling,mt.renderingStartTime=B(),g.sibling=null,$=L.current,G(L,tt?$&1|2:$&1),g):(S(g),null);case 22:case 23:return Hj(),tt=g.memoizedState!==null,i!==null&&i.memoizedState!==null!==tt&&(g.flags|=8192),tt&&g.mode&1?fj&1073741824&&(S(g),g.subtreeFlags&6&&(g.flags|=8192)):S(g),null;case 24:return null;case 25:return null}throw Error(p$1(156,g.tag))}function Ij(i,g){switch(wg(g),g.tag){case 1:return Zf(g.type)&&$f(),i=g.flags,i&65536?(g.flags=i&-65537|128,g):null;case 3:return zh(),E(Wf),E(H),Eh(),i=g.flags,i&65536&&!(i&128)?(g.flags=i&-65537|128,g):null;case 5:return Bh(g),null;case 13:if(E(L),i=g.memoizedState,i!==null&&i.dehydrated!==null){if(g.alternate===null)throw Error(p$1(340));Ig()}return i=g.flags,i&65536?(g.flags=i&-65537|128,g):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(g.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,g){var $=i.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(tt){W(i,g,tt)}else $.current=null}function Mj(i,g,$){try{$()}catch(tt){W(i,g,tt)}}var Nj=!1;function Oj(i,g){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var $={start:i.selectionStart,end:i.selectionEnd};else e:{$=($=i.ownerDocument)&&$.defaultView||window;var tt=$.getSelection&&$.getSelection();if(tt&&tt.rangeCount!==0){$=tt.anchorNode;var ut=tt.anchorOffset,mt=tt.focusNode;tt=tt.focusOffset;try{$.nodeType,mt.nodeType}catch{$=null;break e}var nn=0,yn=-1,Dn=-1,jn=0,Vn=0,$n=i,Ht=null;t:for(;;){for(var St;$n!==$||ut!==0&&$n.nodeType!==3||(yn=nn+ut),$n!==mt||tt!==0&&$n.nodeType!==3||(Dn=nn+tt),$n.nodeType===3&&(nn+=$n.nodeValue.length),(St=$n.firstChild)!==null;)Ht=$n,$n=St;for(;;){if($n===i)break t;if(Ht===$&&++jn===ut&&(yn=nn),Ht===mt&&++Vn===tt&&(Dn=nn),(St=$n.nextSibling)!==null)break;$n=Ht,Ht=$n.parentNode}$n=St}$=yn===-1||Dn===-1?null:{start:yn,end:Dn}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:i,selectionRange:$},dd=!1,V=g;V!==null;)if(g=V,i=g.child,(g.subtreeFlags&1028)!==0&&i!==null)i.return=g,V=i;else for(;V!==null;){g=V;try{var _=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var pt=_.memoizedProps,ht=_.memoizedState,ot=g.stateNode,at=ot.getSnapshotBeforeUpdate(g.elementType===g.type?pt:Ci(g.type,pt),ht);ot.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var gt=g.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(xt){W(g,g.return,xt)}if(i=g.sibling,i!==null){i.return=g.return,V=i;break}V=g.return}return _=Nj,Nj=!1,_}function Pj(i,g,$){var tt=g.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var ut=tt=tt.next;do{if((ut.tag&i)===i){var mt=ut.destroy;ut.destroy=void 0,mt!==void 0&&Mj(g,$,mt)}ut=ut.next}while(ut!==tt)}}function Qj(i,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var $=g=g.next;do{if(($.tag&i)===i){var tt=$.create;$.destroy=tt()}$=$.next}while($!==g)}}function Rj(i){var g=i.ref;if(g!==null){var $=i.stateNode;switch(i.tag){case 5:i=$;break;default:i=$}typeof g=="function"?g(i):g.current=i}}function Sj(i){var g=i.alternate;g!==null&&(i.alternate=null,Sj(g)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(g=i.stateNode,g!==null&&(delete g[Of],delete g[Pf],delete g[of],delete g[Qf],delete g[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,g,$){var tt=i.tag;if(tt===5||tt===6)i=i.stateNode,g?$.nodeType===8?$.parentNode.insertBefore(i,g):$.insertBefore(i,g):($.nodeType===8?(g=$.parentNode,g.insertBefore(i,$)):(g=$,g.appendChild(i)),$=$._reactRootContainer,$!=null||g.onclick!==null||(g.onclick=Bf));else if(tt!==4&&(i=i.child,i!==null))for(Vj(i,g,$),i=i.sibling;i!==null;)Vj(i,g,$),i=i.sibling}function Wj(i,g,$){var tt=i.tag;if(tt===5||tt===6)i=i.stateNode,g?$.insertBefore(i,g):$.appendChild(i);else if(tt!==4&&(i=i.child,i!==null))for(Wj(i,g,$),i=i.sibling;i!==null;)Wj(i,g,$),i=i.sibling}var X=null,Xj=!1;function Yj(i,g,$){for($=$.child;$!==null;)Zj(i,g,$),$=$.sibling}function Zj(i,g,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Lj($,g);case 6:var tt=X,ut=Xj;X=null,Yj(i,g,$),X=tt,Xj=ut,X!==null&&(Xj?(i=X,$=$.stateNode,i.nodeType===8?i.parentNode.removeChild($):i.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Xj?(i=X,$=$.stateNode,i.nodeType===8?Kf(i.parentNode,$):i.nodeType===1&&Kf(i,$),bd(i)):Kf(X,$.stateNode));break;case 4:tt=X,ut=Xj,X=$.stateNode.containerInfo,Xj=!0,Yj(i,g,$),X=tt,Xj=ut;break;case 0:case 11:case 14:case 15:if(!U&&(tt=$.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){ut=tt=tt.next;do{var mt=ut,nn=mt.destroy;mt=mt.tag,nn!==void 0&&(mt&2||mt&4)&&Mj($,g,nn),ut=ut.next}while(ut!==tt)}Yj(i,g,$);break;case 1:if(!U&&(Lj($,g),tt=$.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=$.memoizedProps,tt.state=$.memoizedState,tt.componentWillUnmount()}catch(yn){W($,g,yn)}Yj(i,g,$);break;case 21:Yj(i,g,$);break;case 22:$.mode&1?(U=(tt=U)||$.memoizedState!==null,Yj(i,g,$),U=tt):Yj(i,g,$);break;default:Yj(i,g,$)}}function ak(i){var g=i.updateQueue;if(g!==null){i.updateQueue=null;var $=i.stateNode;$===null&&($=i.stateNode=new Kj),g.forEach(function(tt){var ut=bk.bind(null,i,tt);$.has(tt)||($.add(tt),tt.then(ut,ut))})}}function ck(i,g){var $=g.deletions;if($!==null)for(var tt=0;tt<$.length;tt++){var ut=$[tt];try{var mt=i,nn=g,yn=nn;e:for(;yn!==null;){switch(yn.tag){case 5:X=yn.stateNode,Xj=!1;break e;case 3:X=yn.stateNode.containerInfo,Xj=!0;break e;case 4:X=yn.stateNode.containerInfo,Xj=!0;break e}yn=yn.return}if(X===null)throw Error(p$1(160));Zj(mt,nn,ut),X=null,Xj=!1;var Dn=ut.alternate;Dn!==null&&(Dn.return=null),ut.return=null}catch(jn){W(ut,g,jn)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)dk(g,i),g=g.sibling}function dk(i,g){var $=i.alternate,tt=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(g,i),ek(i),tt&4){try{Pj(3,i,i.return),Qj(3,i)}catch(pt){W(i,i.return,pt)}try{Pj(5,i,i.return)}catch(pt){W(i,i.return,pt)}}break;case 1:ck(g,i),ek(i),tt&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(g,i),ek(i),tt&512&&$!==null&&Lj($,$.return),i.flags&32){var ut=i.stateNode;try{ob(ut,"")}catch(pt){W(i,i.return,pt)}}if(tt&4&&(ut=i.stateNode,ut!=null)){var mt=i.memoizedProps,nn=$!==null?$.memoizedProps:mt,yn=i.type,Dn=i.updateQueue;if(i.updateQueue=null,Dn!==null)try{yn==="input"&&mt.type==="radio"&&mt.name!=null&&ab(ut,mt),vb(yn,nn);var jn=vb(yn,mt);for(nn=0;nn<Dn.length;nn+=2){var Vn=Dn[nn],$n=Dn[nn+1];Vn==="style"?sb(ut,$n):Vn==="dangerouslySetInnerHTML"?nb(ut,$n):Vn==="children"?ob(ut,$n):ta(ut,Vn,$n,jn)}switch(yn){case"input":bb(ut,mt);break;case"textarea":ib(ut,mt);break;case"select":var Ht=ut._wrapperState.wasMultiple;ut._wrapperState.wasMultiple=!!mt.multiple;var St=mt.value;St!=null?fb(ut,!!mt.multiple,St,!1):Ht!==!!mt.multiple&&(mt.defaultValue!=null?fb(ut,!!mt.multiple,mt.defaultValue,!0):fb(ut,!!mt.multiple,mt.multiple?[]:"",!1))}ut[Pf]=mt}catch(pt){W(i,i.return,pt)}}break;case 6:if(ck(g,i),ek(i),tt&4){if(i.stateNode===null)throw Error(p$1(162));ut=i.stateNode,mt=i.memoizedProps;try{ut.nodeValue=mt}catch(pt){W(i,i.return,pt)}}break;case 3:if(ck(g,i),ek(i),tt&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(g.containerInfo)}catch(pt){W(i,i.return,pt)}break;case 4:ck(g,i),ek(i);break;case 13:ck(g,i),ek(i),ut=i.child,ut.flags&8192&&(mt=ut.memoizedState!==null,ut.stateNode.isHidden=mt,!mt||ut.alternate!==null&&ut.alternate.memoizedState!==null||(fk=B())),tt&4&&ak(i);break;case 22:if(Vn=$!==null&&$.memoizedState!==null,i.mode&1?(U=(jn=U)||Vn,ck(g,i),U=jn):ck(g,i),ek(i),tt&8192){if(jn=i.memoizedState!==null,(i.stateNode.isHidden=jn)&&!Vn&&i.mode&1)for(V=i,Vn=i.child;Vn!==null;){for($n=V=Vn;V!==null;){switch(Ht=V,St=Ht.child,Ht.tag){case 0:case 11:case 14:case 15:Pj(4,Ht,Ht.return);break;case 1:Lj(Ht,Ht.return);var _=Ht.stateNode;if(typeof _.componentWillUnmount=="function"){tt=Ht,$=Ht.return;try{g=tt,_.props=g.memoizedProps,_.state=g.memoizedState,_.componentWillUnmount()}catch(pt){W(tt,$,pt)}}break;case 5:Lj(Ht,Ht.return);break;case 22:if(Ht.memoizedState!==null){gk($n);continue}}St!==null?(St.return=Ht,V=St):gk($n)}Vn=Vn.sibling}e:for(Vn=null,$n=i;;){if($n.tag===5){if(Vn===null){Vn=$n;try{ut=$n.stateNode,jn?(mt=ut.style,typeof mt.setProperty=="function"?mt.setProperty("display","none","important"):mt.display="none"):(yn=$n.stateNode,Dn=$n.memoizedProps.style,nn=Dn!=null&&Dn.hasOwnProperty("display")?Dn.display:null,yn.style.display=rb("display",nn))}catch(pt){W(i,i.return,pt)}}}else if($n.tag===6){if(Vn===null)try{$n.stateNode.nodeValue=jn?"":$n.memoizedProps}catch(pt){W(i,i.return,pt)}}else if(($n.tag!==22&&$n.tag!==23||$n.memoizedState===null||$n===i)&&$n.child!==null){$n.child.return=$n,$n=$n.child;continue}if($n===i)break e;for(;$n.sibling===null;){if($n.return===null||$n.return===i)break e;Vn===$n&&(Vn=null),$n=$n.return}Vn===$n&&(Vn=null),$n.sibling.return=$n.return,$n=$n.sibling}}break;case 19:ck(g,i),ek(i),tt&4&&ak(i);break;case 21:break;default:ck(g,i),ek(i)}}function ek(i){var g=i.flags;if(g&2){try{e:{for(var $=i.return;$!==null;){if(Tj($)){var tt=$;break e}$=$.return}throw Error(p$1(160))}switch(tt.tag){case 5:var ut=tt.stateNode;tt.flags&32&&(ob(ut,""),tt.flags&=-33);var mt=Uj(i);Wj(i,mt,ut);break;case 3:case 4:var nn=tt.stateNode.containerInfo,yn=Uj(i);Vj(i,yn,nn);break;default:throw Error(p$1(161))}}catch(Dn){W(i,i.return,Dn)}i.flags&=-3}g&4096&&(i.flags&=-4097)}function hk(i,g,$){V=i,ik(i)}function ik(i,g,$){for(var tt=(i.mode&1)!==0;V!==null;){var ut=V,mt=ut.child;if(ut.tag===22&&tt){var nn=ut.memoizedState!==null||Jj;if(!nn){var yn=ut.alternate,Dn=yn!==null&&yn.memoizedState!==null||U;yn=Jj;var jn=U;if(Jj=nn,(U=Dn)&&!jn)for(V=ut;V!==null;)nn=V,Dn=nn.child,nn.tag===22&&nn.memoizedState!==null?jk(ut):Dn!==null?(Dn.return=nn,V=Dn):jk(ut);for(;mt!==null;)V=mt,ik(mt),mt=mt.sibling;V=ut,Jj=yn,U=jn}kk(i)}else ut.subtreeFlags&8772&&mt!==null?(mt.return=ut,V=mt):kk(i)}}function kk(i){for(;V!==null;){var g=V;if(g.flags&8772){var $=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:U||Qj(5,g);break;case 1:var tt=g.stateNode;if(g.flags&4&&!U)if($===null)tt.componentDidMount();else{var ut=g.elementType===g.type?$.memoizedProps:Ci(g.type,$.memoizedProps);tt.componentDidUpdate(ut,$.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var mt=g.updateQueue;mt!==null&&sh(g,mt,tt);break;case 3:var nn=g.updateQueue;if(nn!==null){if($=null,g.child!==null)switch(g.child.tag){case 5:$=g.child.stateNode;break;case 1:$=g.child.stateNode}sh(g,nn,$)}break;case 5:var yn=g.stateNode;if($===null&&g.flags&4){$=yn;var Dn=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Dn.autoFocus&&$.focus();break;case"img":Dn.src&&($.src=Dn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var jn=g.alternate;if(jn!==null){var Vn=jn.memoizedState;if(Vn!==null){var $n=Vn.dehydrated;$n!==null&&bd($n)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||g.flags&512&&Rj(g)}catch(Ht){W(g,g.return,Ht)}}if(g===i){V=null;break}if($=g.sibling,$!==null){$.return=g.return,V=$;break}V=g.return}}function gk(i){for(;V!==null;){var g=V;if(g===i){V=null;break}var $=g.sibling;if($!==null){$.return=g.return,V=$;break}V=g.return}}function jk(i){for(;V!==null;){var g=V;try{switch(g.tag){case 0:case 11:case 15:var $=g.return;try{Qj(4,g)}catch(Dn){W(g,$,Dn)}break;case 1:var tt=g.stateNode;if(typeof tt.componentDidMount=="function"){var ut=g.return;try{tt.componentDidMount()}catch(Dn){W(g,ut,Dn)}}var mt=g.return;try{Rj(g)}catch(Dn){W(g,mt,Dn)}break;case 5:var nn=g.return;try{Rj(g)}catch(Dn){W(g,nn,Dn)}}}catch(Dn){W(g,g.return,Dn)}if(g===i){V=null;break}var yn=g.sibling;if(yn!==null){yn.return=g.return,V=yn;break}V=g.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,g,$,tt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,$,tt),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=$),T===4&&Ck(i,Z)),Dk(i,tt),$===1&&K===0&&!(g.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,g){var $=i.callbackNode;wc(i,g);var tt=uc(i,i===Q?Z:0);if(tt===0)$!==null&&bc($),i.callbackNode=null,i.callbackPriority=0;else if(g=tt&-tt,i.callbackPriority!==g){if($!=null&&bc($),g===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(tt)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Fk($,Gk.bind(null,i))}i.callbackPriority=g,i.callbackNode=$}}function Gk(i,g){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var $=i.callbackNode;if(Hk()&&i.callbackNode!==$)return null;var tt=uc(i,i===Q?Z:0);if(tt===0)return null;if(tt&30||tt&i.expiredLanes||g)g=Ik(i,tt);else{g=tt;var ut=K;K|=2;var mt=Jk();(Q!==i||Z!==g)&&(uk=null,Gj=B()+500,Kk(i,g));do try{Lk();break}catch(yn){Mk(i,yn)}while(1);$g(),mk.current=mt,K=ut,Y!==null?g=0:(Q=null,Z=0,g=T)}if(g!==0){if(g===2&&(ut=xc(i),ut!==0&&(tt=ut,g=Nk(i,ut))),g===1)throw $=pk,Kk(i,0),Ck(i,tt),Dk(i,B()),$;if(g===6)Ck(i,tt);else{if(ut=i.current.alternate,!(tt&30)&&!Ok(ut)&&(g=Ik(i,tt),g===2&&(mt=xc(i),mt!==0&&(tt=mt,g=Nk(i,mt))),g===1))throw $=pk,Kk(i,0),Ck(i,tt),Dk(i,B()),$;switch(i.finishedWork=ut,i.finishedLanes=tt,g){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,tt),(tt&130023424)===tt&&(g=fk+500-B(),10<g)){if(uc(i,0)!==0)break;if(ut=i.suspendedLanes,(ut&tt)!==tt){R(),i.pingedLanes|=i.suspendedLanes&ut;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),g);break}Pk(i,tk,uk);break;case 4:if(Ck(i,tt),(tt&4194240)===tt)break;for(g=i.eventTimes,ut=-1;0<tt;){var nn=31-oc(tt);mt=1<<nn,nn=g[nn],nn>ut&&(ut=nn),tt&=~mt}if(tt=ut,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),tt);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===$?Gk.bind(null,i):null}function Nk(i,g){var $=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,g).flags|=256),i=Ik(i,g),i!==2&&(g=tk,tk=$,g!==null&&Fj(g)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var g=i;;){if(g.flags&16384){var $=g.updateQueue;if($!==null&&($=$.stores,$!==null))for(var tt=0;tt<$.length;tt++){var ut=$[tt],mt=ut.getSnapshot;ut=ut.value;try{if(!He(mt(),ut))return!1}catch{return!1}}}if($=g.child,g.subtreeFlags&16384&&$!==null)$.return=g,g=$;else{if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ck(i,g){for(g&=~rk,g&=~qk,i.suspendedLanes|=g,i.pingedLanes&=~g,i=i.expirationTimes;0<g;){var $=31-oc(g),tt=1<<$;i[$]=-1,g&=~tt}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var g=uc(i,0);if(!(g&1))return Dk(i,B()),null;var $=Ik(i,g);if(i.tag!==0&&$===2){var tt=xc(i);tt!==0&&(g=tt,$=Nk(i,tt))}if($===1)throw $=pk,Kk(i,0),Ck(i,g),Dk(i,B()),$;if($===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=g,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,g){var $=K;K|=1;try{return i(g)}finally{K=$,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var g=K;K|=1;var $=ok.transition,tt=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=tt,ok.transition=$,K=g,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,g){i.finishedWork=null,i.finishedLanes=0;var $=i.timeoutHandle;if($!==-1&&(i.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var tt=$;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=g,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(g=0;g<fh.length;g++)if($=fh[g],tt=$.interleaved,tt!==null){$.interleaved=null;var ut=tt.next,mt=$.pending;if(mt!==null){var nn=mt.next;mt.next=ut,tt.next=nn}$.pending=tt}fh=null}return i}function Mk(i,g){do{var $=Y;try{if($g(),Fh.current=Rh,Ih){for(var tt=M.memoizedState;tt!==null;){var ut=tt.queue;ut!==null&&(ut.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,$===null||$.return===null){T=1,pk=g,Y=null;break}e:{var mt=i,nn=$.return,yn=$,Dn=g;if(g=Z,yn.flags|=32768,Dn!==null&&typeof Dn=="object"&&typeof Dn.then=="function"){var jn=Dn,Vn=yn,$n=Vn.tag;if(!(Vn.mode&1)&&($n===0||$n===11||$n===15)){var Ht=Vn.alternate;Ht?(Vn.updateQueue=Ht.updateQueue,Vn.memoizedState=Ht.memoizedState,Vn.lanes=Ht.lanes):(Vn.updateQueue=null,Vn.memoizedState=null)}var St=Ui(nn);if(St!==null){St.flags&=-257,Vi(St,nn,yn,mt,g),St.mode&1&&Si(mt,jn,g),g=St,Dn=jn;var _=g.updateQueue;if(_===null){var pt=new Set;pt.add(Dn),g.updateQueue=pt}else _.add(Dn);break e}else{if(!(g&1)){Si(mt,jn,g),tj();break e}Dn=Error(p$1(426))}}else if(I&&yn.mode&1){var ht=Ui(nn);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Vi(ht,nn,yn,mt,g),Jg(Ji(Dn,yn));break e}}mt=Dn=Ji(Dn,yn),T!==4&&(T=2),sk===null?sk=[mt]:sk.push(mt),mt=nn;do{switch(mt.tag){case 3:mt.flags|=65536,g&=-g,mt.lanes|=g;var ot=Ni(mt,Dn,g);ph(mt,ot);break e;case 1:yn=Dn;var at=mt.type,gt=mt.stateNode;if(!(mt.flags&128)&&(typeof at.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Ri===null||!Ri.has(gt)))){mt.flags|=65536,g&=-g,mt.lanes|=g;var xt=Qi(mt,yn,g);ph(mt,xt);break e}}mt=mt.return}while(mt!==null)}Sk($)}catch(vt){g=vt,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(1)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,g){var $=K;K|=2;var tt=Jk();(Q!==i||Z!==g)&&(uk=null,Kk(i,g));do try{Tk();break}catch(ut){Mk(i,ut)}while(1);if($g(),K=$,mk.current=tt,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var g=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,g===null?Sk(i):Y=g,nk.current=null}function Sk(i){var g=i;do{var $=g.alternate;if(i=g.return,g.flags&32768){if($=Ij($,g),$!==null){$.flags&=32767,Y=$;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if($=Ej($,g,fj),$!==null){Y=$;return}if(g=g.sibling,g!==null){Y=g;return}Y=g=i}while(g!==null);T===0&&(T=5)}function Pk(i,g,$){var tt=C,ut=ok.transition;try{ok.transition=null,C=1,Wk(i,g,$,tt)}finally{ok.transition=ut,C=tt}return null}function Wk(i,g,$,tt){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));$=i.finishedWork;var ut=i.finishedLanes;if($===null)return null;if(i.finishedWork=null,i.finishedLanes=0,$===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var mt=$.lanes|$.childLanes;if(Bc(i,mt),i===Q&&(Y=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),mt=($.flags&15990)!==0,$.subtreeFlags&15990||mt){mt=ok.transition,ok.transition=null;var nn=C;C=1;var yn=K;K|=4,nk.current=null,Oj(i,$),dk($,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=$,hk($),dc(),K=yn,C=nn,ok.transition=mt}else i.current=$;if(vk&&(vk=!1,wk=i,xk=ut),mt=i.pendingLanes,mt===0&&(Ri=null),mc($.stateNode),Dk(i,B()),g!==null)for(tt=i.onRecoverableError,$=0;$<g.length;$++)ut=g[$],tt(ut.value,{componentStack:ut.stack,digest:ut.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),mt=i.pendingLanes,mt&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),g=ok.transition,$=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var tt=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var ut=K;for(K|=4,V=i.current;V!==null;){var mt=V,nn=mt.child;if(V.flags&16){var yn=mt.deletions;if(yn!==null){for(var Dn=0;Dn<yn.length;Dn++){var jn=yn[Dn];for(V=jn;V!==null;){var Vn=V;switch(Vn.tag){case 0:case 11:case 15:Pj(8,Vn,mt)}var $n=Vn.child;if($n!==null)$n.return=Vn,V=$n;else for(;V!==null;){Vn=V;var Ht=Vn.sibling,St=Vn.return;if(Sj(Vn),Vn===jn){V=null;break}if(Ht!==null){Ht.return=St,V=Ht;break}V=St}}}var _=mt.alternate;if(_!==null){var pt=_.child;if(pt!==null){_.child=null;do{var ht=pt.sibling;pt.sibling=null,pt=ht}while(pt!==null)}}V=mt}}if(mt.subtreeFlags&2064&&nn!==null)nn.return=mt,V=nn;else e:for(;V!==null;){if(mt=V,mt.flags&2048)switch(mt.tag){case 0:case 11:case 15:Pj(9,mt,mt.return)}var ot=mt.sibling;if(ot!==null){ot.return=mt.return,V=ot;break e}V=mt.return}}var at=i.current;for(V=at;V!==null;){nn=V;var gt=nn.child;if(nn.subtreeFlags&2064&&gt!==null)gt.return=nn,V=gt;else e:for(nn=at;V!==null;){if(yn=V,yn.flags&2048)try{switch(yn.tag){case 0:case 11:case 15:Qj(9,yn)}}catch(vt){W(yn,yn.return,vt)}if(yn===nn){V=null;break e}var xt=yn.sibling;if(xt!==null){xt.return=yn.return,V=xt;break e}V=yn.return}}if(K=ut,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}tt=!0}return tt}finally{C=$,ok.transition=g}}return!1}function Xk(i,g,$){g=Ji($,g),g=Ni(i,g,1),i=nh(i,g,1),g=R(),i!==null&&(Ac(i,1,g),Dk(i,g))}function W(i,g,$){if(i.tag===3)Xk(i,i,$);else for(;g!==null;){if(g.tag===3){Xk(g,i,$);break}else if(g.tag===1){var tt=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){i=Ji($,i),i=Qi(g,i,1),g=nh(g,i,1),i=R(),g!==null&&(Ac(g,1,i),Dk(g,i));break}}g=g.return}}function Ti(i,g,$){var tt=i.pingCache;tt!==null&&tt.delete(g),g=R(),i.pingedLanes|=i.suspendedLanes&$,Q===i&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=$),Dk(i,g)}function Yk(i,g){g===0&&(i.mode&1?(g=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):g=1);var $=R();i=ih(i,g),i!==null&&(Ac(i,g,$),Dk(i,$))}function uj(i){var g=i.memoizedState,$=0;g!==null&&($=g.retryLane),Yk(i,$)}function bk(i,g){var $=0;switch(i.tag){case 13:var tt=i.stateNode,ut=i.memoizedState;ut!==null&&($=ut.retryLane);break;case 19:tt=i.stateNode;break;default:throw Error(p$1(314))}tt!==null&&tt.delete(g),Yk(i,$)}var Vk;Vk=function(i,g,$){if(i!==null)if(i.memoizedProps!==g.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&$)&&!(g.flags&128))return dh=!1,yj(i,g,$);dh=!!(i.flags&131072)}else dh=!1,I&&g.flags&1048576&&ug(g,ng,g.index);switch(g.lanes=0,g.tag){case 2:var tt=g.type;ij(i,g),i=g.pendingProps;var ut=Yf(g,H.current);ch(g,$),ut=Nh(null,g,tt,i,ut,$);var mt=Sh();return g.flags|=1,typeof ut=="object"&&ut!==null&&typeof ut.render=="function"&&ut.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Zf(tt)?(mt=!0,cg(g)):mt=!1,g.memoizedState=ut.state!==null&&ut.state!==void 0?ut.state:null,kh(g),ut.updater=Ei,g.stateNode=ut,ut._reactInternals=g,Ii(g,tt,i,$),g=jj(null,g,tt,!0,mt,$)):(g.tag=0,I&&mt&&vg(g),Xi(null,g,ut,$),g=g.child),g;case 16:tt=g.elementType;e:{switch(ij(i,g),i=g.pendingProps,ut=tt._init,tt=ut(tt._payload),g.type=tt,ut=g.tag=Zk(tt),i=Ci(tt,i),ut){case 0:g=cj(null,g,tt,i,$);break e;case 1:g=hj(null,g,tt,i,$);break e;case 11:g=Yi(null,g,tt,i,$);break e;case 14:g=$i(null,g,tt,Ci(tt.type,i),$);break e}throw Error(p$1(306,tt,""))}return g;case 0:return tt=g.type,ut=g.pendingProps,ut=g.elementType===tt?ut:Ci(tt,ut),cj(i,g,tt,ut,$);case 1:return tt=g.type,ut=g.pendingProps,ut=g.elementType===tt?ut:Ci(tt,ut),hj(i,g,tt,ut,$);case 3:e:{if(kj(g),i===null)throw Error(p$1(387));tt=g.pendingProps,mt=g.memoizedState,ut=mt.element,lh(i,g),qh(g,tt,null,$);var nn=g.memoizedState;if(tt=nn.element,mt.isDehydrated)if(mt={element:tt,isDehydrated:!1,cache:nn.cache,pendingSuspenseBoundaries:nn.pendingSuspenseBoundaries,transitions:nn.transitions},g.updateQueue.baseState=mt,g.memoizedState=mt,g.flags&256){ut=Ji(Error(p$1(423)),g),g=lj(i,g,tt,$,ut);break e}else if(tt!==ut){ut=Ji(Error(p$1(424)),g),g=lj(i,g,tt,$,ut);break e}else for(yg=Lf(g.stateNode.containerInfo.firstChild),xg=g,I=!0,zg=null,$=Vg(g,null,tt,$),g.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),tt===ut){g=Zi(i,g,$);break e}Xi(i,g,tt,$)}g=g.child}return g;case 5:return Ah(g),i===null&&Eg(g),tt=g.type,ut=g.pendingProps,mt=i!==null?i.memoizedProps:null,nn=ut.children,Ef(tt,ut)?nn=null:mt!==null&&Ef(tt,mt)&&(g.flags|=32),gj(i,g),Xi(i,g,nn,$),g.child;case 6:return i===null&&Eg(g),null;case 13:return oj(i,g,$);case 4:return yh(g,g.stateNode.containerInfo),tt=g.pendingProps,i===null?g.child=Ug(g,null,tt,$):Xi(i,g,tt,$),g.child;case 11:return tt=g.type,ut=g.pendingProps,ut=g.elementType===tt?ut:Ci(tt,ut),Yi(i,g,tt,ut,$);case 7:return Xi(i,g,g.pendingProps,$),g.child;case 8:return Xi(i,g,g.pendingProps.children,$),g.child;case 12:return Xi(i,g,g.pendingProps.children,$),g.child;case 10:e:{if(tt=g.type._context,ut=g.pendingProps,mt=g.memoizedProps,nn=ut.value,G(Wg,tt._currentValue),tt._currentValue=nn,mt!==null)if(He(mt.value,nn)){if(mt.children===ut.children&&!Wf.current){g=Zi(i,g,$);break e}}else for(mt=g.child,mt!==null&&(mt.return=g);mt!==null;){var yn=mt.dependencies;if(yn!==null){nn=mt.child;for(var Dn=yn.firstContext;Dn!==null;){if(Dn.context===tt){if(mt.tag===1){Dn=mh(-1,$&-$),Dn.tag=2;var jn=mt.updateQueue;if(jn!==null){jn=jn.shared;var Vn=jn.pending;Vn===null?Dn.next=Dn:(Dn.next=Vn.next,Vn.next=Dn),jn.pending=Dn}}mt.lanes|=$,Dn=mt.alternate,Dn!==null&&(Dn.lanes|=$),bh(mt.return,$,g),yn.lanes|=$;break}Dn=Dn.next}}else if(mt.tag===10)nn=mt.type===g.type?null:mt.child;else if(mt.tag===18){if(nn=mt.return,nn===null)throw Error(p$1(341));nn.lanes|=$,yn=nn.alternate,yn!==null&&(yn.lanes|=$),bh(nn,$,g),nn=mt.sibling}else nn=mt.child;if(nn!==null)nn.return=mt;else for(nn=mt;nn!==null;){if(nn===g){nn=null;break}if(mt=nn.sibling,mt!==null){mt.return=nn.return,nn=mt;break}nn=nn.return}mt=nn}Xi(i,g,ut.children,$),g=g.child}return g;case 9:return ut=g.type,tt=g.pendingProps.children,ch(g,$),ut=eh(ut),tt=tt(ut),g.flags|=1,Xi(i,g,tt,$),g.child;case 14:return tt=g.type,ut=Ci(tt,g.pendingProps),ut=Ci(tt.type,ut),$i(i,g,tt,ut,$);case 15:return bj(i,g,g.type,g.pendingProps,$);case 17:return tt=g.type,ut=g.pendingProps,ut=g.elementType===tt?ut:Ci(tt,ut),ij(i,g),g.tag=1,Zf(tt)?(i=!0,cg(g)):i=!1,ch(g,$),Gi(g,tt,ut),Ii(g,tt,ut,$),jj(null,g,tt,!0,i,$);case 19:return xj(i,g,$);case 22:return dj(i,g,$)}throw Error(p$1(156,g.tag))};function Fk(i,g){return ac(i,g)}function $k(i,g,$,tt){this.tag=i,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,g,$,tt){return new $k(i,g,$,tt)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,g){var $=i.alternate;return $===null?($=Bg(i.tag,g,i.key,i.mode),$.elementType=i.elementType,$.type=i.type,$.stateNode=i.stateNode,$.alternate=i,i.alternate=$):($.pendingProps=g,$.type=i.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=i.flags&14680064,$.childLanes=i.childLanes,$.lanes=i.lanes,$.child=i.child,$.memoizedProps=i.memoizedProps,$.memoizedState=i.memoizedState,$.updateQueue=i.updateQueue,g=i.dependencies,$.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},$.sibling=i.sibling,$.index=i.index,$.ref=i.ref,$}function Rg(i,g,$,tt,ut,mt){var nn=2;if(tt=i,typeof i=="function")aj(i)&&(nn=1);else if(typeof i=="string")nn=5;else e:switch(i){case ya:return Tg($.children,ut,mt,g);case za:nn=8,ut|=8;break;case Aa:return i=Bg(12,$,g,ut|2),i.elementType=Aa,i.lanes=mt,i;case Ea:return i=Bg(13,$,g,ut),i.elementType=Ea,i.lanes=mt,i;case Fa:return i=Bg(19,$,g,ut),i.elementType=Fa,i.lanes=mt,i;case Ia:return pj($,ut,mt,g);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:nn=10;break e;case Ca:nn=9;break e;case Da:nn=11;break e;case Ga:nn=14;break e;case Ha:nn=16,tt=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return g=Bg(nn,$,g,ut),g.elementType=i,g.type=tt,g.lanes=mt,g}function Tg(i,g,$,tt){return i=Bg(7,i,tt,g),i.lanes=$,i}function pj(i,g,$,tt){return i=Bg(22,i,tt,g),i.elementType=Ia,i.lanes=$,i.stateNode={isHidden:!1},i}function Qg(i,g,$){return i=Bg(6,i,null,g),i.lanes=$,i}function Sg(i,g,$){return g=Bg(4,i.children!==null?i.children:[],i.key,g),g.lanes=$,g.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},g}function al(i,g,$,tt,ut){this.tag=g,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=ut,this.mutableSourceEagerHydrationData=null}function bl(i,g,$,tt,ut,mt,nn,yn,Dn){return i=new al(i,g,$,yn,Dn),g===1?(g=1,mt===!0&&(g|=8)):g=0,mt=Bg(3,null,null,g),i.current=mt,mt.stateNode=i,mt.memoizedState={element:tt,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(mt),i}function cl(i,g,$){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:i,containerInfo:g,implementation:$}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var g=i;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Zf(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(p$1(171))}if(i.tag===1){var $=i.type;if(Zf($))return bg(i,$,g)}return g}function el(i,g,$,tt,ut,mt,nn,yn,Dn){return i=bl($,tt,!0,i,ut,mt,nn,yn,Dn),i.context=dl(null),$=i.current,tt=R(),ut=yi($),mt=mh(tt,ut),mt.callback=g??null,nh($,mt,ut),i.current.lanes=ut,Ac(i,ut,tt),Dk(i,tt),i}function fl(i,g,$,tt){var ut=g.current,mt=R(),nn=yi(ut);return $=dl($),g.context===null?g.context=$:g.pendingContext=$,g=mh(mt,nn),g.payload={element:i},tt=tt===void 0?null:tt,tt!==null&&(g.callback=tt),i=nh(ut,g,nn),i!==null&&(gi(i,ut,nn,mt),oh(i,ut,nn)),nn}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,g){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var $=i.retryLane;i.retryLane=$!==0&&$<g?$:g}}function il(i,g){hl(i,g),(i=i.alternate)&&hl(i,g)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var g=this._internalRoot;if(g===null)throw Error(p$1(409));fl(i,g,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var g=i.containerInfo;Rk(function(){fl(null,i,null,null)}),g[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var g=Hc();i={blockedOn:null,target:i,priority:g};for(var $=0;$<Qc.length&&g!==0&&g<Qc[$].priority;$++);Qc.splice($,0,i),$===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,g,$,tt,ut){if(ut){if(typeof tt=="function"){var mt=tt;tt=function(){var jn=gl(nn);mt.call(jn)}}var nn=el(g,tt,i,0,null,!1,!1,"",pl);return i._reactRootContainer=nn,i[uf]=nn.current,sf(i.nodeType===8?i.parentNode:i),Rk(),nn}for(;ut=i.lastChild;)i.removeChild(ut);if(typeof tt=="function"){var yn=tt;tt=function(){var jn=gl(Dn);yn.call(jn)}}var Dn=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=Dn,i[uf]=Dn.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(g,Dn,$,tt)}),Dn}function rl(i,g,$,tt,ut){var mt=$._reactRootContainer;if(mt){var nn=mt;if(typeof ut=="function"){var yn=ut;ut=function(){var Dn=gl(nn);yn.call(Dn)}}fl(g,nn,i,ut)}else nn=ql($,g,i,ut,tt);return gl(nn)}Ec=function(i){switch(i.tag){case 3:var g=i.stateNode;if(g.current.memoizedState.isDehydrated){var $=tc(g.pendingLanes);$!==0&&(Cc(g,$|1),Dk(g,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var tt=ih(i,1);if(tt!==null){var ut=R();gi(tt,i,1,ut)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var g=ih(i,134217728);if(g!==null){var $=R();gi(g,i,134217728,$)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var g=yi(i),$=ih(i,g);if($!==null){var tt=R();gi($,i,g,tt)}il(i,g)}};Hc=function(){return C};Ic=function(i,g){var $=C;try{return C=i,g()}finally{C=$}};yb=function(i,g,$){switch(g){case"input":if(bb(i,$),g=$.name,$.type==="radio"&&g!=null){for($=i;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<$.length;g++){var tt=$[g];if(tt!==i&&tt.form===i.form){var ut=Db(tt);if(!ut)throw Error(p$1(90));Wa(tt),bb(tt,ut)}}}break;case"textarea":ib(i,$);break;case"select":g=$.value,g!=null&&fb(i,!!$.multiple,g,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,g){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(g))throw Error(p$1(200));return cl(i,g,null,$)};reactDom_production_min.createRoot=function(i,g){if(!nl(i))throw Error(p$1(299));var $=!1,tt="",ut=kl;return g!=null&&(g.unstable_strictMode===!0&&($=!0),g.identifierPrefix!==void 0&&(tt=g.identifierPrefix),g.onRecoverableError!==void 0&&(ut=g.onRecoverableError)),g=bl(i,1,!1,null,null,$,!1,tt,ut),i[uf]=g.current,sf(i.nodeType===8?i.parentNode:i),new ll(g)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var g=i._reactInternals;if(g===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(g),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,g,$){if(!ol(g))throw Error(p$1(200));return rl(null,i,g,!0,$)};reactDom_production_min.hydrateRoot=function(i,g,$){if(!nl(i))throw Error(p$1(405));var tt=$!=null&&$.hydratedSources||null,ut=!1,mt="",nn=kl;if($!=null&&($.unstable_strictMode===!0&&(ut=!0),$.identifierPrefix!==void 0&&(mt=$.identifierPrefix),$.onRecoverableError!==void 0&&(nn=$.onRecoverableError)),g=el(g,null,i,1,$??null,ut,!1,mt,nn),i[uf]=g.current,sf(i),tt)for(i=0;i<tt.length;i++)$=tt[i],ut=$._getVersion,ut=ut($._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[$,ut]:g.mutableSourceEagerHydrationData.push($,ut);return new ml(g)};reactDom_production_min.render=function(i,g,$){if(!ol(g))throw Error(p$1(200));return rl(null,i,g,!1,$)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,g,$,tt){if(!ol($))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,g,$,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;var main={exports:{}},excalidraw_production_min={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(i,g){(function($,tt){i.exports=tt(reactExports,reactDomExports)})(self,function($,tt){return function(){var ut,mt,nn,yn,Dn={45:function(Ht,St,_){function pt(ot){var at,gt,xt="";if(typeof ot=="string"||typeof ot=="number")xt+=ot;else if(typeof ot=="object")if(Array.isArray(ot))for(at=0;at<ot.length;at++)ot[at]&&(gt=pt(ot[at]))&&(xt&&(xt+=" "),xt+=gt);else for(at in ot)ot[at]&&(xt&&(xt+=" "),xt+=at);return xt}function ht(){for(var ot,at,gt=0,xt="";gt<arguments.length;)(ot=arguments[gt++])&&(at=pt(ot))&&(xt&&(xt+=" "),xt+=at);return xt}_.d(St,{Z:function(){return ht}})},6233:function(Ht,St){var _;_=function(pt){pt.version="0.3.0";var ht=function(){for(var gt=0,xt=new Array(256),vt=0;vt!=256;++vt)gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=1&(gt=vt)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1)?-306674912^gt>>>1:gt>>>1,xt[vt]=gt;return typeof Int32Array<"u"?new Int32Array(xt):xt}(),ot=typeof Buffer<"u";function at(gt){for(var xt=-1,vt=0,it=gt.length-7;vt<it;)xt=(xt=(xt=(xt=(xt=(xt=(xt=(xt=xt>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])];for(;vt<it+7;)xt=xt>>>8^ht[255&(xt^gt[vt++])];return-1^xt}pt.table=ht,pt.bstr=function(gt){if(gt.length>32768&&ot)return at(new Buffer(gt));for(var xt=-1,vt=gt.length-1,it=0;it<vt;)xt=ht[255&(xt^gt.charCodeAt(it++))]^xt>>>8,xt=ht[255&(xt^gt.charCodeAt(it++))]^xt>>>8;return it===vt&&(xt=xt>>>8^ht[255&(xt^gt.charCodeAt(it))]),-1^xt},pt.buf=function(gt){if(gt.length>1e4)return at(gt);for(var xt=-1,vt=0,it=gt.length-3;vt<it;)xt=(xt=(xt=(xt=xt>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])])>>>8^ht[255&(xt^gt[vt++])];for(;vt<it+3;)xt=xt>>>8^ht[255&(xt^gt[vt++])];return-1^xt},pt.str=function(gt){for(var xt,vt,it=-1,kt=0,Ot=gt.length;kt<Ot;)(xt=gt.charCodeAt(kt++))<128?it=it>>>8^ht[255&(it^xt)]:xt<2048?it=(it=it>>>8^ht[255&(it^(192|xt>>6&31))])>>>8^ht[255&(it^(128|63&xt))]:xt>=55296&&xt<57344?(xt=64+(1023&xt),vt=1023&gt.charCodeAt(kt++),it=(it=(it=(it=it>>>8^ht[255&(it^(240|xt>>8&7))])>>>8^ht[255&(it^(128|xt>>2&63))])>>>8^ht[255&(it^(128|vt>>6&15|3&xt))])>>>8^ht[255&(it^(128|63&vt))]):it=(it=(it=it>>>8^ht[255&(it^(224|xt>>12&15))])>>>8^ht[255&(it^(128|xt>>6&63))])>>>8^ht[255&(it^(128|63&xt))];return-1^it}},_(typeof DO_NOT_EXPORT_CRC>"u"?St:{})},4739:function(Ht,St,_){_.d(St,{Dv:function(){return Wt},KO:function(){return In},Vv:function(){return ft},b9:function(){return Dt},cn:function(){return $t},zt:function(){return tn}});var pt=_(9787);const ht=Symbol(),ot=rn=>!!rn[ht],at=rn=>{var _t,Et;(Et=(_t=rn[ht]).c)==null||Et.call(_t)},gt=(rn,_t)=>{const Et=rn[ht].o,Vt=_t[ht].o;return Et===Vt||rn===Vt||ot(Et)&&gt(Et,_t)},xt=rn=>{const _t={o:rn,c:null},Et=new Promise(Vt=>{_t.c=()=>{_t.c=null,Vt()},rn.then(_t.c,_t.c)});return Et[ht]=_t,Et};var vt=Object.defineProperty,it=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,Qt=(rn,_t,Et)=>_t in rn?vt(rn,_t,{enumerable:!0,configurable:!0,writable:!0,value:Et}):rn[_t]=Et;const bn=rn=>"init"in rn,fn="r",Zn="w",mn="c",pn="s",An=rn=>{const _t=new WeakMap,Et=new WeakMap,Vt=new Map;let Pt,qt;if(Pt=new Set,qt=new Set,rn)for(const[Wn,ln]of rn){const Un={v:ln,r:0,d:new Map};Object.freeze(Un),bn(Wn)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Wn),_t.set(Wn,Un)}const dn=new WeakMap,Yt=new WeakMap,Xt=Wn=>{let ln=Yt.get(Wn);return ln||(ln=new Map,Yt.set(Wn,ln)),ln},zt=(Wn,ln)=>{if(Wn){const Un=Xt(Wn);let wn=Un.get(ln);return wn||(wn=zt(Wn.p,ln),wn&&("p"in wn&&wn.p.then(()=>Un.delete(ln)),Un.set(ln,wn))),wn}return _t.get(ln)},At=(Wn,ln,Un)=>{if(Object.freeze(Un),Wn)Xt(Wn).set(ln,Un);else{const wn=_t.get(ln);_t.set(ln,Un),Vt.has(ln)||Vt.set(ln,wn)}},Ut=(Wn,ln=new Map,Un)=>{if(!Un)return ln;const wn=new Map;let Mn=!1;return Un.forEach(zn=>{var Jn;const er=((Jn=zt(Wn,zn))==null?void 0:Jn.r)||0;wn.set(zn,er),ln.get(zn)!==er&&(Mn=!0)}),ln.size!==wn.size||Mn?wn:ln},wt=(Wn,ln,Un,wn,Mn)=>{const zn=zt(Wn,ln);if(zn){if(Mn&&(!("p"in zn)||!gt(zn.p,Mn)))return zn;"p"in zn&&at(zn.p)}const Jn={v:Un,r:(zn==null?void 0:zn.r)||0,d:Ut(Wn,zn==null?void 0:zn.d,wn)};return zn&&"v"in zn&&Object.is(zn.v,Un)?Jn.d===zn.d||Jn.d.size===zn.d.size&&Array.from(Jn.d.keys()).every(er=>zn.d.has(er))||Promise.resolve().then(()=>{Pn(Wn)}):(++Jn.r,Jn.d.has(ln)&&(Jn.d=new Map(Jn.d).set(ln,Jn.r))),At(Wn,ln,Jn),Jn},Jt=(Wn,ln,Un,wn,Mn)=>{const zn=zt(Wn,ln);if(zn){if(Mn&&(!("p"in zn)||!gt(zn.p,Mn)))return zn;"p"in zn&&at(zn.p)}const Jn={e:Un,r:(zn==null?void 0:zn.r)||0,d:Ut(Wn,zn==null?void 0:zn.d,wn)};return At(Wn,ln,Jn),Jn},Mt=(Wn,ln,Un,wn)=>{const Mn=zt(Wn,ln);if(Mn&&"p"in Mn){if(gt(Mn.p,Un))return Mn;at(Mn.p)}((Jn,er,cr)=>{let or=dn.get(er);or||(or=new Map,dn.set(er,or)),cr.then(()=>{or.get(Jn)===cr&&(or.delete(Jn),or.size||dn.delete(er))}),or.set(Jn,cr)})(Wn,ln,Un);const zn={p:Un,r:(Mn==null?void 0:Mn.r)||0,d:Ut(Wn,Mn==null?void 0:Mn.d,wn)};return At(Wn,ln,zn),zn},un=(Wn,ln,Un,wn)=>{if(Un instanceof Promise){const Mn=xt(Un.then(zn=>{wt(Wn,ln,zn,wn,Mn),Pn(Wn)}).catch(zn=>{if(zn instanceof Promise)return ot(zn)?zn.then(()=>{jt(Wn,ln,!0)}):zn;Jt(Wn,ln,zn,wn,Mn),Pn(Wn)}));return Mt(Wn,ln,Mn,wn)}return wt(Wn,ln,Un,wn)},hn=(Wn,ln)=>{const Un=zt(Wn,ln);if(Un){"p"in Un&&at(Un.p);const zn=(wn=((Jn,er)=>{for(var cr in er||(er={}))an.call(er,cr)&&Qt(Jn,cr,er[cr]);if(Ot)for(var cr of Ot(er))gn.call(er,cr)&&Qt(Jn,cr,er[cr]);return Jn})({},Un),Mn={i:Un.r},it(wn,kt(Mn)));At(Wn,ln,zn)}else console.warn("[Bug] could not invalidate non existing atom",ln);var wn,Mn},jt=(Wn,ln,Un)=>{if(!Un){const Mn=zt(Wn,ln);if(Mn&&(Mn.r!==Mn.i&&"p"in Mn&&Mn.p[ht].c||(Mn.d.forEach((zn,Jn)=>{if(Jn!==ln)if(Et.has(Jn)){const er=zt(Wn,Jn);er&&er.r===er.i&&jt(Wn,Jn)}else jt(Wn,Jn)}),Array.from(Mn.d).every(([zn,Jn])=>{const er=zt(Wn,zn);return er&&"v"in er&&er.r===Jn}))))return Mn}const wn=new Set;try{const Mn=ln.read(zn=>{wn.add(zn);const Jn=zn===ln?zt(Wn,zn):jt(Wn,zn);if(Jn){if("e"in Jn)throw Jn.e;if("p"in Jn)throw Jn.p;return Jn.v}if(bn(zn))return zn.init;throw new Error("no atom init")});return un(Wn,ln,Mn,wn)}catch(Mn){if(Mn instanceof Promise){const zn=xt(Mn);return Mt(Wn,ln,zn,wn)}return Jt(Wn,ln,Mn,wn)}},vn=(Wn,ln)=>jt(ln,Wn),xn=(Wn,ln)=>!ln.l.size&&(!ln.t.size||ln.t.size===1&&ln.t.has(Wn)),Gn=(Wn,ln)=>{const Un=Et.get(ln);Un==null||Un.t.forEach(wn=>{wn!==ln&&(hn(Wn,wn),Gn(Wn,wn))})},Zt=(Wn,ln,Un)=>{let wn=!0;const Mn=(Jn,er)=>{const cr=jt(Wn,Jn);if("e"in cr)throw cr.e;if("p"in cr){if(er!=null&&er.unstable_promise)return cr.p.then(()=>Mn(Jn,er));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",Jn),cr.p}if("v"in cr)return cr.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",Jn),new Error("no value found")},zn=ln.write(Mn,(Jn,er)=>{let cr;if(Jn===ln){if(!bn(Jn))throw new Error("atom not writable");(ur=>{const Ur=new Set,Zr=dn.get(ur);return Zr&&(dn.delete(ur),Zr.forEach((yr,Ar)=>{at(yr),Ur.add(Ar)})),Ur})(Jn).forEach(ur=>{ur!==Wn&&un(ur,Jn,er)}),un(Wn,Jn,er),Gn(Wn,Jn)}else cr=Zt(Wn,Jn,er);return wn||Pn(Wn),cr},Un);return wn=!1,Wn=void 0,zn},Xn=(Wn,ln,Un)=>{const wn=Zt(Un,Wn,ln);return Pn(Un),wn},Cn=(Wn,ln)=>{const Un={t:new Set(ln&&[ln]),l:new Set};if(Et.set(Wn,Un),qt.add(Wn),jt(void 0,Wn).d.forEach((wn,Mn)=>{const zn=Et.get(Mn);zn?zn.t.add(Wn):Mn!==Wn&&Cn(Mn,Wn)}),(wn=>!!wn.write)(Wn)&&Wn.onMount){const wn=zn=>Xn(Wn,zn),Mn=Wn.onMount(wn);Mn&&(Un.u=Mn)}return Un},Qn=Wn=>{var ln;const Un=(ln=Et.get(Wn))==null?void 0:ln.u;Un&&Un(),Et.delete(Wn),qt.delete(Wn);const wn=zt(void 0,Wn);wn?wn.d.forEach((Mn,zn)=>{if(zn!==Wn){const Jn=Et.get(zn);Jn&&(Jn.t.delete(Wn),xn(zn,Jn)&&Qn(zn))}}):console.warn("[Bug] could not find atom state to unmount",Wn)},Tn=(Wn,ln,Un)=>{const wn=new Set(ln.d.keys());Un==null||Un.forEach((Mn,zn)=>{if(wn.has(zn))return void wn.delete(zn);const Jn=Et.get(zn);Jn&&(Jn.t.delete(Wn),xn(zn,Jn)&&Qn(zn))}),wn.forEach(Mn=>{const zn=Et.get(Mn);zn?zn.t.add(Wn):Et.has(Wn)&&Cn(Mn,Wn)})},Pn=Wn=>{if(Wn)Xt(Wn).forEach((ln,Un)=>{if(ln!==_t.get(Un)){const wn=Et.get(Un);wn==null||wn.l.forEach(Mn=>Mn(Wn))}});else{for(;Vt.size;){const ln=Array.from(Vt);Vt.clear(),ln.forEach(([Un,wn])=>{const Mn=zt(void 0,Un);Mn&&Mn.d!==(wn==null?void 0:wn.d)&&Tn(Un,Mn,wn==null?void 0:wn.d);const zn=Et.get(Un);zn==null||zn.l.forEach(Jn=>Jn())})}Pt.forEach(ln=>ln())}},tr=(Wn,ln)=>{ln&&(Un=>{Xt(Un).forEach((wn,Mn)=>{const zn=_t.get(Mn);(wn.r>((zn==null?void 0:zn.r)||0)||"v"in wn&&wn.r===(zn==null?void 0:zn.r)&&wn.d!==(zn==null?void 0:zn.d))&&(_t.set(Mn,wn),wn.d!==(zn==null?void 0:zn.d)&&Tn(Mn,wn,zn==null?void 0:zn.d))})})(ln),Pn(void 0)},ir=(Wn,ln)=>{const Un=(wn=>{let Mn=Et.get(wn);return Mn||(Mn=Cn(wn)),Mn})(Wn).l;return Un.add(ln),()=>{Un.delete(ln),(wn=>{const Mn=Et.get(wn);Mn&&xn(wn,Mn)&&Qn(wn)})(Wn)}},gr=(Wn,ln)=>{for(const[Un,wn]of Wn)bn(Un)&&(un(ln,Un,wn),Gn(ln,Un));Pn(ln)};return{[fn]:vn,[Zn]:Xn,[mn]:tr,[pn]:ir,h:gr,n:Wn=>(Pt.add(Wn),()=>{Pt.delete(Wn)}),l:()=>qt.values(),a:Wn=>_t.get(Wn),m:Wn=>Et.get(Wn)}},ft=rn=>{const _t=An(rn),Et=Vt=>new Promise((Pt,qt)=>{const dn=_t.r(Vt);"e"in dn?qt(dn.e):Pt("p"in dn?dn.p.then(()=>Et(Vt)):dn.v)});return{get:Vt=>{const Pt=_t.r(Vt);if("e"in Pt)throw Pt.e;if(!("p"in Pt))return Pt.v},asyncGet:Et,set:(Vt,Pt)=>_t.w(Vt,Pt),sub:(Vt,Pt)=>_t.s(Vt,Pt),SECRET_INTERNAL_store:_t}},Rt=(rn,_t)=>({s:_t?_t(rn).SECRET_INTERNAL_store:An(rn)}),Bt=new Map,bt=rn=>(Bt.has(rn)||Bt.set(rn,(0,pt.createContext)(Rt())),Bt.get(rn));var Gt=Object.defineProperty,yt=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,ct=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,lt=(rn,_t,Et)=>_t in rn?Gt(rn,_t,{enumerable:!0,configurable:!0,writable:!0,value:Et}):rn[_t]=Et,st=(rn,_t)=>{for(var Et in _t||(_t={}))rt.call(_t,Et)&&lt(rn,Et,_t[Et]);if(ct)for(var Et of ct(_t))_e.call(_t,Et)&&lt(rn,Et,_t[Et]);return rn};const It=rn=>rn.debugLabel||rn.toString(),Tt=([rn,_t])=>Object.fromEntries(_t.flatMap(Et=>{var Vt,Pt;const qt=(Vt=rn.m)==null?void 0:Vt.call(rn,Et);if(!qt)return[];const dn=qt.t,Yt=((Pt=rn.a)==null?void 0:Pt.call(rn,Et))||{};return[[It(Et),(Xt=st(st(st({},"e"in Yt&&{error:Yt.e}),"p"in Yt&&{promise:Yt.p}),"v"in Yt&&{value:Yt.v}),zt={dependents:Array.from(dn).map(It)},yt(Xt,Ct(zt)))]];var Xt,zt})),tn=({children:rn,initialValues:_t,scope:Et,unstable_createStore:Vt,unstable_enableVersionedWrite:Pt})=>{const[qt,dn]=(0,pt.useState)();(0,pt.useEffect)(()=>{qt&&(Yt.current.s.c(null,qt),delete qt.p)},[qt]);const Yt=(0,pt.useRef)();Yt.current||(Yt.current=Rt(_t,Vt),Pt&&(Yt.current.w=zt=>{dn(At=>{const Ut=At?{p:At}:{};return zt(Ut),Ut})})),Pt||(zt=>{const{s:At}=zt,[Ut,wt]=(0,pt.useState)([]);(0,pt.useEffect)(()=>{var Jt;const Mt=()=>{var hn;wt(Array.from(((hn=At.l)==null?void 0:hn.call(At))||[]))},un=(Jt=At.n)==null?void 0:Jt.call(At,Mt);return Mt(),un},[At]),(0,pt.useDebugValue)([At,Ut],Tt)})(Yt.current);const Xt=bt(Et);return(0,pt.createElement)(Xt.Provider,{value:Yt.current},rn)};let Nt=0;function $t(rn,_t){const Et="atom"+ ++Nt,Vt={toString:()=>Et};return typeof rn=="function"?Vt.read=rn:(Vt.init=rn,Vt.read=Pt=>Pt(Vt),Vt.write=(Pt,qt,dn)=>qt(Vt,typeof dn=="function"?dn(Pt(Vt)):dn)),_t&&(Vt.write=_t),Vt}function Wt(rn,_t){const Et=bt(_t),{s:Vt}=(0,pt.useContext)(Et),Pt=(0,pt.useCallback)(zt=>{const At=Vt.r(rn,zt);if("e"in At)throw At.e;if("p"in At)throw At.p;if("v"in At)return At.v;throw new Error("no atom value")},[Vt,rn]),[[qt,dn,Yt],Xt]=(0,pt.useReducer)((0,pt.useCallback)((zt,At)=>{const Ut=Pt(At);return Object.is(zt[1],Ut)&&zt[2]===rn?zt:[At,Ut,rn]},[Pt,rn]),void 0,()=>[void 0,Pt(void 0),rn]);return Yt!==rn&&Xt(void 0),(0,pt.useEffect)(()=>{const zt=Vt.s(rn,Xt);return Xt(void 0),zt},[Vt,rn]),(0,pt.useEffect)(()=>{Vt.c(rn,qt)}),(0,pt.useDebugValue)(dn),dn}function Dt(rn,_t){const Et=bt(_t),{s:Vt,w:Pt}=(0,pt.useContext)(Et);return(0,pt.useCallback)(qt=>{if(!("write"in rn))throw new Error("not writable atom");const dn=Yt=>Vt.w(rn,qt,Yt);return Pt?Pt(dn):dn()},[Vt,Pt,rn])}function In(rn,_t){return"scope"in rn&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),_t=rn.scope),[Wt(rn,_t),Dt(rn,_t)]}},200:function(Ht,St,_){var pt="Expected a function",ht=/^\s+|\s+$/g,ot=/^[-+]0x[0-9a-f]+$/i,at=/^0b[01]+$/i,gt=/^0o[0-7]+$/i,xt=parseInt,vt=typeof _.g=="object"&&_.g&&_.g.Object===Object&&_.g,it=typeof self=="object"&&self&&self.Object===Object&&self,kt=vt||it||Function("return this")(),Ot=Object.prototype.toString,an=Math.max,gn=Math.min,Qt=function(){return kt.Date.now()};function bn(mn,pn,An){var ft,Rt,Bt,bt,Gt,yt,Ct=0,ct=!1,rt=!1,_e=!0;if(typeof mn!="function")throw new TypeError(pt);function lt($t){var Wt=ft,Dt=Rt;return ft=Rt=void 0,Ct=$t,bt=mn.apply(Dt,Wt)}function st($t){return Ct=$t,Gt=setTimeout(Tt,pn),ct?lt($t):bt}function It($t){var Wt=$t-yt;return yt===void 0||Wt>=pn||Wt<0||rt&&$t-Ct>=Bt}function Tt(){var $t=Qt();if(It($t))return tn($t);Gt=setTimeout(Tt,function(Wt){var Dt=pn-(Wt-yt);return rt?gn(Dt,Bt-(Wt-Ct)):Dt}($t))}function tn($t){return Gt=void 0,_e&&ft?lt($t):(ft=Rt=void 0,bt)}function Nt(){var $t=Qt(),Wt=It($t);if(ft=arguments,Rt=this,yt=$t,Wt){if(Gt===void 0)return st(yt);if(rt)return Gt=setTimeout(Tt,pn),lt(yt)}return Gt===void 0&&(Gt=setTimeout(Tt,pn)),bt}return pn=Zn(pn)||0,fn(An)&&(ct=!!An.leading,Bt=(rt="maxWait"in An)?an(Zn(An.maxWait)||0,pn):Bt,_e="trailing"in An?!!An.trailing:_e),Nt.cancel=function(){Gt!==void 0&&clearTimeout(Gt),Ct=0,ft=yt=Rt=Gt=void 0},Nt.flush=function(){return Gt===void 0?bt:tn(Qt())},Nt}function fn(mn){var pn=typeof mn;return!!mn&&(pn=="object"||pn=="function")}function Zn(mn){if(typeof mn=="number")return mn;if(function(ft){return typeof ft=="symbol"||function(Rt){return!!Rt&&typeof Rt=="object"}(ft)&&Ot.call(ft)=="[object Symbol]"}(mn))return NaN;if(fn(mn)){var pn=typeof mn.valueOf=="function"?mn.valueOf():mn;mn=fn(pn)?pn+"":pn}if(typeof mn!="string")return mn===0?mn:+mn;mn=mn.replace(ht,"");var An=at.test(mn);return An||gt.test(mn)?xt(mn.slice(2),An?2:8):ot.test(mn)?NaN:+mn}Ht.exports=function(mn,pn,An){var ft=!0,Rt=!0;if(typeof mn!="function")throw new TypeError(pt);return fn(An)&&(ft="leading"in An?!!An.leading:ft,Rt="trailing"in An?!!An.trailing:Rt),bn(mn,pn,{leading:ft,maxWait:pn,trailing:Rt})}},2744:function(Ht,St,_){var pt={};(0,_(9187).assign)(pt,_(4395),_(578),_(2684)),Ht.exports=pt},4395:function(Ht,St,_){var pt=_(7651),ht=_(9187),ot=_(8592),at=_(5604),gt=_(249),xt=Object.prototype.toString;function vt(kt){if(!(this instanceof vt))return new vt(kt);this.options=ht.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},kt||{});var Ot=this.options;Ot.raw&&Ot.windowBits>0?Ot.windowBits=-Ot.windowBits:Ot.gzip&&Ot.windowBits>0&&Ot.windowBits<16&&(Ot.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gt,this.strm.avail_out=0;var an=pt.deflateInit2(this.strm,Ot.level,Ot.method,Ot.windowBits,Ot.memLevel,Ot.strategy);if(an!==0)throw new Error(at[an]);if(Ot.header&&pt.deflateSetHeader(this.strm,Ot.header),Ot.dictionary){var gn;if(gn=typeof Ot.dictionary=="string"?ot.string2buf(Ot.dictionary):xt.call(Ot.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ot.dictionary):Ot.dictionary,(an=pt.deflateSetDictionary(this.strm,gn))!==0)throw new Error(at[an]);this._dict_set=!0}}function it(kt,Ot){var an=new vt(Ot);if(an.push(kt,!0),an.err)throw an.msg||at[an.err];return an.result}vt.prototype.push=function(kt,Ot){var an,gn,Qt=this.strm,bn=this.options.chunkSize;if(this.ended)return!1;gn=Ot===~~Ot?Ot:Ot===!0?4:0,typeof kt=="string"?Qt.input=ot.string2buf(kt):xt.call(kt)==="[object ArrayBuffer]"?Qt.input=new Uint8Array(kt):Qt.input=kt,Qt.next_in=0,Qt.avail_in=Qt.input.length;do{if(Qt.avail_out===0&&(Qt.output=new ht.Buf8(bn),Qt.next_out=0,Qt.avail_out=bn),(an=pt.deflate(Qt,gn))!==1&&an!==0)return this.onEnd(an),this.ended=!0,!1;Qt.avail_out!==0&&(Qt.avail_in!==0||gn!==4&&gn!==2)||(this.options.to==="string"?this.onData(ot.buf2binstring(ht.shrinkBuf(Qt.output,Qt.next_out))):this.onData(ht.shrinkBuf(Qt.output,Qt.next_out)))}while((Qt.avail_in>0||Qt.avail_out===0)&&an!==1);return gn===4?(an=pt.deflateEnd(this.strm),this.onEnd(an),this.ended=!0,an===0):gn!==2||(this.onEnd(0),Qt.avail_out=0,!0)},vt.prototype.onData=function(kt){this.chunks.push(kt)},vt.prototype.onEnd=function(kt){kt===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=kt,this.msg=this.strm.msg},St.Deflate=vt,St.deflate=it,St.deflateRaw=function(kt,Ot){return(Ot=Ot||{}).raw=!0,it(kt,Ot)},St.gzip=function(kt,Ot){return(Ot=Ot||{}).gzip=!0,it(kt,Ot)}},578:function(Ht,St,_){var pt=_(7823),ht=_(9187),ot=_(8592),at=_(2684),gt=_(5604),xt=_(249),vt=_(9968),it=Object.prototype.toString;function kt(an){if(!(this instanceof kt))return new kt(an);this.options=ht.assign({chunkSize:16384,windowBits:0,to:""},an||{});var gn=this.options;gn.raw&&gn.windowBits>=0&&gn.windowBits<16&&(gn.windowBits=-gn.windowBits,gn.windowBits===0&&(gn.windowBits=-15)),!(gn.windowBits>=0&&gn.windowBits<16)||an&&an.windowBits||(gn.windowBits+=32),gn.windowBits>15&&gn.windowBits<48&&!(15&gn.windowBits)&&(gn.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xt,this.strm.avail_out=0;var Qt=pt.inflateInit2(this.strm,gn.windowBits);if(Qt!==at.Z_OK)throw new Error(gt[Qt]);if(this.header=new vt,pt.inflateGetHeader(this.strm,this.header),gn.dictionary&&(typeof gn.dictionary=="string"?gn.dictionary=ot.string2buf(gn.dictionary):it.call(gn.dictionary)==="[object ArrayBuffer]"&&(gn.dictionary=new Uint8Array(gn.dictionary)),gn.raw&&(Qt=pt.inflateSetDictionary(this.strm,gn.dictionary))!==at.Z_OK))throw new Error(gt[Qt])}function Ot(an,gn){var Qt=new kt(gn);if(Qt.push(an,!0),Qt.err)throw Qt.msg||gt[Qt.err];return Qt.result}kt.prototype.push=function(an,gn){var Qt,bn,fn,Zn,mn,pn=this.strm,An=this.options.chunkSize,ft=this.options.dictionary,Rt=!1;if(this.ended)return!1;bn=gn===~~gn?gn:gn===!0?at.Z_FINISH:at.Z_NO_FLUSH,typeof an=="string"?pn.input=ot.binstring2buf(an):it.call(an)==="[object ArrayBuffer]"?pn.input=new Uint8Array(an):pn.input=an,pn.next_in=0,pn.avail_in=pn.input.length;do{if(pn.avail_out===0&&(pn.output=new ht.Buf8(An),pn.next_out=0,pn.avail_out=An),(Qt=pt.inflate(pn,at.Z_NO_FLUSH))===at.Z_NEED_DICT&&ft&&(Qt=pt.inflateSetDictionary(this.strm,ft)),Qt===at.Z_BUF_ERROR&&Rt===!0&&(Qt=at.Z_OK,Rt=!1),Qt!==at.Z_STREAM_END&&Qt!==at.Z_OK)return this.onEnd(Qt),this.ended=!0,!1;pn.next_out&&(pn.avail_out!==0&&Qt!==at.Z_STREAM_END&&(pn.avail_in!==0||bn!==at.Z_FINISH&&bn!==at.Z_SYNC_FLUSH)||(this.options.to==="string"?(fn=ot.utf8border(pn.output,pn.next_out),Zn=pn.next_out-fn,mn=ot.buf2string(pn.output,fn),pn.next_out=Zn,pn.avail_out=An-Zn,Zn&&ht.arraySet(pn.output,pn.output,fn,Zn,0),this.onData(mn)):this.onData(ht.shrinkBuf(pn.output,pn.next_out)))),pn.avail_in===0&&pn.avail_out===0&&(Rt=!0)}while((pn.avail_in>0||pn.avail_out===0)&&Qt!==at.Z_STREAM_END);return Qt===at.Z_STREAM_END&&(bn=at.Z_FINISH),bn===at.Z_FINISH?(Qt=pt.inflateEnd(this.strm),this.onEnd(Qt),this.ended=!0,Qt===at.Z_OK):bn!==at.Z_SYNC_FLUSH||(this.onEnd(at.Z_OK),pn.avail_out=0,!0)},kt.prototype.onData=function(an){this.chunks.push(an)},kt.prototype.onEnd=function(an){an===at.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ht.flattenChunks(this.chunks)),this.chunks=[],this.err=an,this.msg=this.strm.msg},St.Inflate=kt,St.inflate=Ot,St.inflateRaw=function(an,gn){return(gn=gn||{}).raw=!0,Ot(an,gn)},St.ungzip=Ot},9187:function(Ht,St){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function pt(at,gt){return Object.prototype.hasOwnProperty.call(at,gt)}St.assign=function(at){for(var gt=Array.prototype.slice.call(arguments,1);gt.length;){var xt=gt.shift();if(xt){if(typeof xt!="object")throw new TypeError(xt+"must be non-object");for(var vt in xt)pt(xt,vt)&&(at[vt]=xt[vt])}}return at},St.shrinkBuf=function(at,gt){return at.length===gt?at:at.subarray?at.subarray(0,gt):(at.length=gt,at)};var ht={arraySet:function(at,gt,xt,vt,it){if(gt.subarray&&at.subarray)at.set(gt.subarray(xt,xt+vt),it);else for(var kt=0;kt<vt;kt++)at[it+kt]=gt[xt+kt]},flattenChunks:function(at){var gt,xt,vt,it,kt,Ot;for(vt=0,gt=0,xt=at.length;gt<xt;gt++)vt+=at[gt].length;for(Ot=new Uint8Array(vt),it=0,gt=0,xt=at.length;gt<xt;gt++)kt=at[gt],Ot.set(kt,it),it+=kt.length;return Ot}},ot={arraySet:function(at,gt,xt,vt,it){for(var kt=0;kt<vt;kt++)at[it+kt]=gt[xt+kt]},flattenChunks:function(at){return[].concat.apply([],at)}};St.setTyped=function(at){at?(St.Buf8=Uint8Array,St.Buf16=Uint16Array,St.Buf32=Int32Array,St.assign(St,ht)):(St.Buf8=Array,St.Buf16=Array,St.Buf32=Array,St.assign(St,ot))},St.setTyped(_)},8592:function(Ht,St,_){var pt=_(9187),ht=!0,ot=!0;try{String.fromCharCode.apply(null,[0])}catch{ht=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ot=!1}for(var at=new pt.Buf8(256),gt=0;gt<256;gt++)at[gt]=gt>=252?6:gt>=248?5:gt>=240?4:gt>=224?3:gt>=192?2:1;function xt(vt,it){if(it<65534&&(vt.subarray&&ot||!vt.subarray&&ht))return String.fromCharCode.apply(null,pt.shrinkBuf(vt,it));for(var kt="",Ot=0;Ot<it;Ot++)kt+=String.fromCharCode(vt[Ot]);return kt}at[254]=at[254]=1,St.string2buf=function(vt){var it,kt,Ot,an,gn,Qt=vt.length,bn=0;for(an=0;an<Qt;an++)(64512&(kt=vt.charCodeAt(an)))==55296&&an+1<Qt&&(64512&(Ot=vt.charCodeAt(an+1)))==56320&&(kt=65536+(kt-55296<<10)+(Ot-56320),an++),bn+=kt<128?1:kt<2048?2:kt<65536?3:4;for(it=new pt.Buf8(bn),gn=0,an=0;gn<bn;an++)(64512&(kt=vt.charCodeAt(an)))==55296&&an+1<Qt&&(64512&(Ot=vt.charCodeAt(an+1)))==56320&&(kt=65536+(kt-55296<<10)+(Ot-56320),an++),kt<128?it[gn++]=kt:kt<2048?(it[gn++]=192|kt>>>6,it[gn++]=128|63&kt):kt<65536?(it[gn++]=224|kt>>>12,it[gn++]=128|kt>>>6&63,it[gn++]=128|63&kt):(it[gn++]=240|kt>>>18,it[gn++]=128|kt>>>12&63,it[gn++]=128|kt>>>6&63,it[gn++]=128|63&kt);return it},St.buf2binstring=function(vt){return xt(vt,vt.length)},St.binstring2buf=function(vt){for(var it=new pt.Buf8(vt.length),kt=0,Ot=it.length;kt<Ot;kt++)it[kt]=vt.charCodeAt(kt);return it},St.buf2string=function(vt,it){var kt,Ot,an,gn,Qt=it||vt.length,bn=new Array(2*Qt);for(Ot=0,kt=0;kt<Qt;)if((an=vt[kt++])<128)bn[Ot++]=an;else if((gn=at[an])>4)bn[Ot++]=65533,kt+=gn-1;else{for(an&=gn===2?31:gn===3?15:7;gn>1&&kt<Qt;)an=an<<6|63&vt[kt++],gn--;gn>1?bn[Ot++]=65533:an<65536?bn[Ot++]=an:(an-=65536,bn[Ot++]=55296|an>>10&1023,bn[Ot++]=56320|1023&an)}return xt(bn,Ot)},St.utf8border=function(vt,it){var kt;for((it=it||vt.length)>vt.length&&(it=vt.length),kt=it-1;kt>=0&&(192&vt[kt])==128;)kt--;return kt<0||kt===0?it:kt+at[vt[kt]]>it?kt:it}},3693:function(Ht){Ht.exports=function(St,_,pt,ht){for(var ot=65535&St|0,at=St>>>16&65535|0,gt=0;pt!==0;){pt-=gt=pt>2e3?2e3:pt;do at=at+(ot=ot+_[ht++]|0)|0;while(--gt);ot%=65521,at%=65521}return ot|at<<16|0}},2684:function(Ht){Ht.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(Ht){var St=function(){for(var _,pt=[],ht=0;ht<256;ht++){_=ht;for(var ot=0;ot<8;ot++)_=1&_?3988292384^_>>>1:_>>>1;pt[ht]=_}return pt}();Ht.exports=function(_,pt,ht,ot){var at=St,gt=ot+ht;_^=-1;for(var xt=ot;xt<gt;xt++)_=_>>>8^at[255&(_^pt[xt])];return-1^_}},7651:function(Ht,St,_){var pt,ht=_(9187),ot=_(8676),at=_(3693),gt=_(8464),xt=_(5604),vt=-2,it=258,kt=262,Ot=103,an=113,gn=666;function Qt(_e,lt){return _e.msg=xt[lt],lt}function bn(_e){return(_e<<1)-(_e>4?9:0)}function fn(_e){for(var lt=_e.length;--lt>=0;)_e[lt]=0}function Zn(_e){var lt=_e.state,st=lt.pending;st>_e.avail_out&&(st=_e.avail_out),st!==0&&(ht.arraySet(_e.output,lt.pending_buf,lt.pending_out,st,_e.next_out),_e.next_out+=st,lt.pending_out+=st,_e.total_out+=st,_e.avail_out-=st,lt.pending-=st,lt.pending===0&&(lt.pending_out=0))}function mn(_e,lt){ot._tr_flush_block(_e,_e.block_start>=0?_e.block_start:-1,_e.strstart-_e.block_start,lt),_e.block_start=_e.strstart,Zn(_e.strm)}function pn(_e,lt){_e.pending_buf[_e.pending++]=lt}function An(_e,lt){_e.pending_buf[_e.pending++]=lt>>>8&255,_e.pending_buf[_e.pending++]=255&lt}function ft(_e,lt){var st,It,Tt=_e.max_chain_length,tn=_e.strstart,Nt=_e.prev_length,$t=_e.nice_match,Wt=_e.strstart>_e.w_size-kt?_e.strstart-(_e.w_size-kt):0,Dt=_e.window,In=_e.w_mask,rn=_e.prev,_t=_e.strstart+it,Et=Dt[tn+Nt-1],Vt=Dt[tn+Nt];_e.prev_length>=_e.good_match&&(Tt>>=2),$t>_e.lookahead&&($t=_e.lookahead);do if(Dt[(st=lt)+Nt]===Vt&&Dt[st+Nt-1]===Et&&Dt[st]===Dt[tn]&&Dt[++st]===Dt[tn+1]){tn+=2,st++;do;while(Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&Dt[++tn]===Dt[++st]&&tn<_t);if(It=it-(_t-tn),tn=_t-it,It>Nt){if(_e.match_start=lt,Nt=It,It>=$t)break;Et=Dt[tn+Nt-1],Vt=Dt[tn+Nt]}}while((lt=rn[lt&In])>Wt&&--Tt!=0);return Nt<=_e.lookahead?Nt:_e.lookahead}function Rt(_e){var lt,st,It,Tt,tn,Nt,$t,Wt,Dt,In,rn=_e.w_size;do{if(Tt=_e.window_size-_e.lookahead-_e.strstart,_e.strstart>=rn+(rn-kt)){ht.arraySet(_e.window,_e.window,rn,rn,0),_e.match_start-=rn,_e.strstart-=rn,_e.block_start-=rn,lt=st=_e.hash_size;do It=_e.head[--lt],_e.head[lt]=It>=rn?It-rn:0;while(--st);lt=st=rn;do It=_e.prev[--lt],_e.prev[lt]=It>=rn?It-rn:0;while(--st);Tt+=rn}if(_e.strm.avail_in===0)break;if(Nt=_e.strm,$t=_e.window,Wt=_e.strstart+_e.lookahead,Dt=Tt,In=void 0,(In=Nt.avail_in)>Dt&&(In=Dt),st=In===0?0:(Nt.avail_in-=In,ht.arraySet($t,Nt.input,Nt.next_in,In,Wt),Nt.state.wrap===1?Nt.adler=at(Nt.adler,$t,In,Wt):Nt.state.wrap===2&&(Nt.adler=gt(Nt.adler,$t,In,Wt)),Nt.next_in+=In,Nt.total_in+=In,In),_e.lookahead+=st,_e.lookahead+_e.insert>=3)for(tn=_e.strstart-_e.insert,_e.ins_h=_e.window[tn],_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[tn+1])&_e.hash_mask;_e.insert&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[tn+3-1])&_e.hash_mask,_e.prev[tn&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=tn,tn++,_e.insert--,!(_e.lookahead+_e.insert<3)););}while(_e.lookahead<kt&&_e.strm.avail_in!==0)}function Bt(_e,lt){for(var st,It;;){if(_e.lookahead<kt){if(Rt(_e),_e.lookahead<kt&&lt===0)return 1;if(_e.lookahead===0)break}if(st=0,_e.lookahead>=3&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),st!==0&&_e.strstart-st<=_e.w_size-kt&&(_e.match_length=ft(_e,st)),_e.match_length>=3)if(It=ot._tr_tally(_e,_e.strstart-_e.match_start,_e.match_length-3),_e.lookahead-=_e.match_length,_e.match_length<=_e.max_lazy_match&&_e.lookahead>=3){_e.match_length--;do _e.strstart++,_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart;while(--_e.match_length!=0);_e.strstart++}else _e.strstart+=_e.match_length,_e.match_length=0,_e.ins_h=_e.window[_e.strstart],_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+1])&_e.hash_mask;else It=ot._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++;if(It&&(mn(_e,!1),_e.strm.avail_out===0))return 1}return _e.insert=_e.strstart<2?_e.strstart:2,lt===4?(mn(_e,!0),_e.strm.avail_out===0?3:4):_e.last_lit&&(mn(_e,!1),_e.strm.avail_out===0)?1:2}function bt(_e,lt){for(var st,It,Tt;;){if(_e.lookahead<kt){if(Rt(_e),_e.lookahead<kt&&lt===0)return 1;if(_e.lookahead===0)break}if(st=0,_e.lookahead>=3&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),_e.prev_length=_e.match_length,_e.prev_match=_e.match_start,_e.match_length=2,st!==0&&_e.prev_length<_e.max_lazy_match&&_e.strstart-st<=_e.w_size-kt&&(_e.match_length=ft(_e,st),_e.match_length<=5&&(_e.strategy===1||_e.match_length===3&&_e.strstart-_e.match_start>4096)&&(_e.match_length=2)),_e.prev_length>=3&&_e.match_length<=_e.prev_length){Tt=_e.strstart+_e.lookahead-3,It=ot._tr_tally(_e,_e.strstart-1-_e.prev_match,_e.prev_length-3),_e.lookahead-=_e.prev_length-1,_e.prev_length-=2;do++_e.strstart<=Tt&&(_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[_e.strstart+3-1])&_e.hash_mask,st=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart);while(--_e.prev_length!=0);if(_e.match_available=0,_e.match_length=2,_e.strstart++,It&&(mn(_e,!1),_e.strm.avail_out===0))return 1}else if(_e.match_available){if((It=ot._tr_tally(_e,0,_e.window[_e.strstart-1]))&&mn(_e,!1),_e.strstart++,_e.lookahead--,_e.strm.avail_out===0)return 1}else _e.match_available=1,_e.strstart++,_e.lookahead--}return _e.match_available&&(It=ot._tr_tally(_e,0,_e.window[_e.strstart-1]),_e.match_available=0),_e.insert=_e.strstart<2?_e.strstart:2,lt===4?(mn(_e,!0),_e.strm.avail_out===0?3:4):_e.last_lit&&(mn(_e,!1),_e.strm.avail_out===0)?1:2}function Gt(_e,lt,st,It,Tt){this.good_length=_e,this.max_lazy=lt,this.nice_length=st,this.max_chain=It,this.func=Tt}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ht.Buf16(1146),this.dyn_dtree=new ht.Buf16(122),this.bl_tree=new ht.Buf16(78),fn(this.dyn_ltree),fn(this.dyn_dtree),fn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ht.Buf16(16),this.heap=new ht.Buf16(573),fn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ht.Buf16(573),fn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(_e){var lt;return _e&&_e.state?(_e.total_in=_e.total_out=0,_e.data_type=2,(lt=_e.state).pending=0,lt.pending_out=0,lt.wrap<0&&(lt.wrap=-lt.wrap),lt.status=lt.wrap?42:an,_e.adler=lt.wrap===2?0:1,lt.last_flush=0,ot._tr_init(lt),0):Qt(_e,vt)}function ct(_e){var lt,st=Ct(_e);return st===0&&((lt=_e.state).window_size=2*lt.w_size,fn(lt.head),lt.max_lazy_match=pt[lt.level].max_lazy,lt.good_match=pt[lt.level].good_length,lt.nice_match=pt[lt.level].nice_length,lt.max_chain_length=pt[lt.level].max_chain,lt.strstart=0,lt.block_start=0,lt.lookahead=0,lt.insert=0,lt.match_length=lt.prev_length=2,lt.match_available=0,lt.ins_h=0),st}function rt(_e,lt,st,It,Tt,tn){if(!_e)return vt;var Nt=1;if(lt===-1&&(lt=6),It<0?(Nt=0,It=-It):It>15&&(Nt=2,It-=16),Tt<1||Tt>9||st!==8||It<8||It>15||lt<0||lt>9||tn<0||tn>4)return Qt(_e,vt);It===8&&(It=9);var $t=new yt;return _e.state=$t,$t.strm=_e,$t.wrap=Nt,$t.gzhead=null,$t.w_bits=It,$t.w_size=1<<$t.w_bits,$t.w_mask=$t.w_size-1,$t.hash_bits=Tt+7,$t.hash_size=1<<$t.hash_bits,$t.hash_mask=$t.hash_size-1,$t.hash_shift=~~(($t.hash_bits+3-1)/3),$t.window=new ht.Buf8(2*$t.w_size),$t.head=new ht.Buf16($t.hash_size),$t.prev=new ht.Buf16($t.w_size),$t.lit_bufsize=1<<Tt+6,$t.pending_buf_size=4*$t.lit_bufsize,$t.pending_buf=new ht.Buf8($t.pending_buf_size),$t.d_buf=1*$t.lit_bufsize,$t.l_buf=3*$t.lit_bufsize,$t.level=lt,$t.strategy=tn,$t.method=st,ct(_e)}pt=[new Gt(0,0,0,0,function(_e,lt){var st=65535;for(st>_e.pending_buf_size-5&&(st=_e.pending_buf_size-5);;){if(_e.lookahead<=1){if(Rt(_e),_e.lookahead===0&&lt===0)return 1;if(_e.lookahead===0)break}_e.strstart+=_e.lookahead,_e.lookahead=0;var It=_e.block_start+st;if((_e.strstart===0||_e.strstart>=It)&&(_e.lookahead=_e.strstart-It,_e.strstart=It,mn(_e,!1),_e.strm.avail_out===0)||_e.strstart-_e.block_start>=_e.w_size-kt&&(mn(_e,!1),_e.strm.avail_out===0))return 1}return _e.insert=0,lt===4?(mn(_e,!0),_e.strm.avail_out===0?3:4):(_e.strstart>_e.block_start&&(mn(_e,!1),_e.strm.avail_out),1)}),new Gt(4,4,8,4,Bt),new Gt(4,5,16,8,Bt),new Gt(4,6,32,32,Bt),new Gt(4,4,16,16,bt),new Gt(8,16,32,32,bt),new Gt(8,16,128,128,bt),new Gt(8,32,128,256,bt),new Gt(32,128,258,1024,bt),new Gt(32,258,258,4096,bt)],St.deflateInit=function(_e,lt){return rt(_e,lt,8,15,8,0)},St.deflateInit2=rt,St.deflateReset=ct,St.deflateResetKeep=Ct,St.deflateSetHeader=function(_e,lt){return _e&&_e.state?_e.state.wrap!==2?vt:(_e.state.gzhead=lt,0):vt},St.deflate=function(_e,lt){var st,It,Tt,tn;if(!_e||!_e.state||lt>5||lt<0)return _e?Qt(_e,vt):vt;if(It=_e.state,!_e.output||!_e.input&&_e.avail_in!==0||It.status===gn&&lt!==4)return Qt(_e,_e.avail_out===0?-5:vt);if(It.strm=_e,st=It.last_flush,It.last_flush=lt,It.status===42)if(It.wrap===2)_e.adler=0,pn(It,31),pn(It,139),pn(It,8),It.gzhead?(pn(It,(It.gzhead.text?1:0)+(It.gzhead.hcrc?2:0)+(It.gzhead.extra?4:0)+(It.gzhead.name?8:0)+(It.gzhead.comment?16:0)),pn(It,255&It.gzhead.time),pn(It,It.gzhead.time>>8&255),pn(It,It.gzhead.time>>16&255),pn(It,It.gzhead.time>>24&255),pn(It,It.level===9?2:It.strategy>=2||It.level<2?4:0),pn(It,255&It.gzhead.os),It.gzhead.extra&&It.gzhead.extra.length&&(pn(It,255&It.gzhead.extra.length),pn(It,It.gzhead.extra.length>>8&255)),It.gzhead.hcrc&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending,0)),It.gzindex=0,It.status=69):(pn(It,0),pn(It,0),pn(It,0),pn(It,0),pn(It,0),pn(It,It.level===9?2:It.strategy>=2||It.level<2?4:0),pn(It,3),It.status=an);else{var Nt=8+(It.w_bits-8<<4)<<8;Nt|=(It.strategy>=2||It.level<2?0:It.level<6?1:It.level===6?2:3)<<6,It.strstart!==0&&(Nt|=32),Nt+=31-Nt%31,It.status=an,An(It,Nt),It.strstart!==0&&(An(It,_e.adler>>>16),An(It,65535&_e.adler)),_e.adler=1}if(It.status===69)if(It.gzhead.extra){for(Tt=It.pending;It.gzindex<(65535&It.gzhead.extra.length)&&(It.pending!==It.pending_buf_size||(It.gzhead.hcrc&&It.pending>Tt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Tt,Tt)),Zn(_e),Tt=It.pending,It.pending!==It.pending_buf_size));)pn(It,255&It.gzhead.extra[It.gzindex]),It.gzindex++;It.gzhead.hcrc&&It.pending>Tt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Tt,Tt)),It.gzindex===It.gzhead.extra.length&&(It.gzindex=0,It.status=73)}else It.status=73;if(It.status===73)if(It.gzhead.name){Tt=It.pending;do{if(It.pending===It.pending_buf_size&&(It.gzhead.hcrc&&It.pending>Tt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Tt,Tt)),Zn(_e),Tt=It.pending,It.pending===It.pending_buf_size)){tn=1;break}tn=It.gzindex<It.gzhead.name.length?255&It.gzhead.name.charCodeAt(It.gzindex++):0,pn(It,tn)}while(tn!==0);It.gzhead.hcrc&&It.pending>Tt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Tt,Tt)),tn===0&&(It.gzindex=0,It.status=91)}else It.status=91;if(It.status===91)if(It.gzhead.comment){Tt=It.pending;do{if(It.pending===It.pending_buf_size&&(It.gzhead.hcrc&&It.pending>Tt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Tt,Tt)),Zn(_e),Tt=It.pending,It.pending===It.pending_buf_size)){tn=1;break}tn=It.gzindex<It.gzhead.comment.length?255&It.gzhead.comment.charCodeAt(It.gzindex++):0,pn(It,tn)}while(tn!==0);It.gzhead.hcrc&&It.pending>Tt&&(_e.adler=gt(_e.adler,It.pending_buf,It.pending-Tt,Tt)),tn===0&&(It.status=Ot)}else It.status=Ot;if(It.status===Ot&&(It.gzhead.hcrc?(It.pending+2>It.pending_buf_size&&Zn(_e),It.pending+2<=It.pending_buf_size&&(pn(It,255&_e.adler),pn(It,_e.adler>>8&255),_e.adler=0,It.status=an)):It.status=an),It.pending!==0){if(Zn(_e),_e.avail_out===0)return It.last_flush=-1,0}else if(_e.avail_in===0&&bn(lt)<=bn(st)&&lt!==4)return Qt(_e,-5);if(It.status===gn&&_e.avail_in!==0)return Qt(_e,-5);if(_e.avail_in!==0||It.lookahead!==0||lt!==0&&It.status!==gn){var $t=It.strategy===2?function(Wt,Dt){for(var In;;){if(Wt.lookahead===0&&(Rt(Wt),Wt.lookahead===0)){if(Dt===0)return 1;break}if(Wt.match_length=0,In=ot._tr_tally(Wt,0,Wt.window[Wt.strstart]),Wt.lookahead--,Wt.strstart++,In&&(mn(Wt,!1),Wt.strm.avail_out===0))return 1}return Wt.insert=0,Dt===4?(mn(Wt,!0),Wt.strm.avail_out===0?3:4):Wt.last_lit&&(mn(Wt,!1),Wt.strm.avail_out===0)?1:2}(It,lt):It.strategy===3?function(Wt,Dt){for(var In,rn,_t,Et,Vt=Wt.window;;){if(Wt.lookahead<=it){if(Rt(Wt),Wt.lookahead<=it&&Dt===0)return 1;if(Wt.lookahead===0)break}if(Wt.match_length=0,Wt.lookahead>=3&&Wt.strstart>0&&(rn=Vt[_t=Wt.strstart-1])===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]){Et=Wt.strstart+it;do;while(rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&rn===Vt[++_t]&&_t<Et);Wt.match_length=it-(Et-_t),Wt.match_length>Wt.lookahead&&(Wt.match_length=Wt.lookahead)}if(Wt.match_length>=3?(In=ot._tr_tally(Wt,1,Wt.match_length-3),Wt.lookahead-=Wt.match_length,Wt.strstart+=Wt.match_length,Wt.match_length=0):(In=ot._tr_tally(Wt,0,Wt.window[Wt.strstart]),Wt.lookahead--,Wt.strstart++),In&&(mn(Wt,!1),Wt.strm.avail_out===0))return 1}return Wt.insert=0,Dt===4?(mn(Wt,!0),Wt.strm.avail_out===0?3:4):Wt.last_lit&&(mn(Wt,!1),Wt.strm.avail_out===0)?1:2}(It,lt):pt[It.level].func(It,lt);if($t!==3&&$t!==4||(It.status=gn),$t===1||$t===3)return _e.avail_out===0&&(It.last_flush=-1),0;if($t===2&&(lt===1?ot._tr_align(It):lt!==5&&(ot._tr_stored_block(It,0,0,!1),lt===3&&(fn(It.head),It.lookahead===0&&(It.strstart=0,It.block_start=0,It.insert=0))),Zn(_e),_e.avail_out===0))return It.last_flush=-1,0}return lt!==4?0:It.wrap<=0?1:(It.wrap===2?(pn(It,255&_e.adler),pn(It,_e.adler>>8&255),pn(It,_e.adler>>16&255),pn(It,_e.adler>>24&255),pn(It,255&_e.total_in),pn(It,_e.total_in>>8&255),pn(It,_e.total_in>>16&255),pn(It,_e.total_in>>24&255)):(An(It,_e.adler>>>16),An(It,65535&_e.adler)),Zn(_e),It.wrap>0&&(It.wrap=-It.wrap),It.pending!==0?0:1)},St.deflateEnd=function(_e){var lt;return _e&&_e.state?(lt=_e.state.status)!==42&&lt!==69&&lt!==73&&lt!==91&&lt!==Ot&&lt!==an&&lt!==gn?Qt(_e,vt):(_e.state=null,lt===an?Qt(_e,-3):0):vt},St.deflateSetDictionary=function(_e,lt){var st,It,Tt,tn,Nt,$t,Wt,Dt,In=lt.length;if(!_e||!_e.state||(tn=(st=_e.state).wrap)===2||tn===1&&st.status!==42||st.lookahead)return vt;for(tn===1&&(_e.adler=at(_e.adler,lt,In,0)),st.wrap=0,In>=st.w_size&&(tn===0&&(fn(st.head),st.strstart=0,st.block_start=0,st.insert=0),Dt=new ht.Buf8(st.w_size),ht.arraySet(Dt,lt,In-st.w_size,st.w_size,0),lt=Dt,In=st.w_size),Nt=_e.avail_in,$t=_e.next_in,Wt=_e.input,_e.avail_in=In,_e.next_in=0,_e.input=lt,Rt(st);st.lookahead>=3;){It=st.strstart,Tt=st.lookahead-2;do st.ins_h=(st.ins_h<<st.hash_shift^st.window[It+3-1])&st.hash_mask,st.prev[It&st.w_mask]=st.head[st.ins_h],st.head[st.ins_h]=It,It++;while(--Tt);st.strstart=It,st.lookahead=2,Rt(st)}return st.strstart+=st.lookahead,st.block_start=st.strstart,st.insert=st.lookahead,st.lookahead=0,st.match_length=st.prev_length=2,st.match_available=0,_e.next_in=$t,_e.input=Wt,_e.avail_in=Nt,st.wrap=tn,0},St.deflateInfo="pako deflate (from Nodeca project)"},9968:function(Ht){Ht.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(Ht){Ht.exports=function(St,_){var pt,ht,ot,at,gt,xt,vt,it,kt,Ot,an,gn,Qt,bn,fn,Zn,mn,pn,An,ft,Rt,Bt,bt,Gt,yt;pt=St.state,ht=St.next_in,Gt=St.input,ot=ht+(St.avail_in-5),at=St.next_out,yt=St.output,gt=at-(_-St.avail_out),xt=at+(St.avail_out-257),vt=pt.dmax,it=pt.wsize,kt=pt.whave,Ot=pt.wnext,an=pt.window,gn=pt.hold,Qt=pt.bits,bn=pt.lencode,fn=pt.distcode,Zn=(1<<pt.lenbits)-1,mn=(1<<pt.distbits)-1;e:do{Qt<15&&(gn+=Gt[ht++]<<Qt,Qt+=8,gn+=Gt[ht++]<<Qt,Qt+=8),pn=bn[gn&Zn];t:for(;;){if(gn>>>=An=pn>>>24,Qt-=An,(An=pn>>>16&255)===0)yt[at++]=65535&pn;else{if(!(16&An)){if(!(64&An)){pn=bn[(65535&pn)+(gn&(1<<An)-1)];continue t}if(32&An){pt.mode=12;break e}St.msg="invalid literal/length code",pt.mode=30;break e}ft=65535&pn,(An&=15)&&(Qt<An&&(gn+=Gt[ht++]<<Qt,Qt+=8),ft+=gn&(1<<An)-1,gn>>>=An,Qt-=An),Qt<15&&(gn+=Gt[ht++]<<Qt,Qt+=8,gn+=Gt[ht++]<<Qt,Qt+=8),pn=fn[gn&mn];n:for(;;){if(gn>>>=An=pn>>>24,Qt-=An,!(16&(An=pn>>>16&255))){if(!(64&An)){pn=fn[(65535&pn)+(gn&(1<<An)-1)];continue n}St.msg="invalid distance code",pt.mode=30;break e}if(Rt=65535&pn,Qt<(An&=15)&&(gn+=Gt[ht++]<<Qt,(Qt+=8)<An&&(gn+=Gt[ht++]<<Qt,Qt+=8)),(Rt+=gn&(1<<An)-1)>vt){St.msg="invalid distance too far back",pt.mode=30;break e}if(gn>>>=An,Qt-=An,Rt>(An=at-gt)){if((An=Rt-An)>kt&&pt.sane){St.msg="invalid distance too far back",pt.mode=30;break e}if(Bt=0,bt=an,Ot===0){if(Bt+=it-An,An<ft){ft-=An;do yt[at++]=an[Bt++];while(--An);Bt=at-Rt,bt=yt}}else if(Ot<An){if(Bt+=it+Ot-An,(An-=Ot)<ft){ft-=An;do yt[at++]=an[Bt++];while(--An);if(Bt=0,Ot<ft){ft-=An=Ot;do yt[at++]=an[Bt++];while(--An);Bt=at-Rt,bt=yt}}}else if(Bt+=Ot-An,An<ft){ft-=An;do yt[at++]=an[Bt++];while(--An);Bt=at-Rt,bt=yt}for(;ft>2;)yt[at++]=bt[Bt++],yt[at++]=bt[Bt++],yt[at++]=bt[Bt++],ft-=3;ft&&(yt[at++]=bt[Bt++],ft>1&&(yt[at++]=bt[Bt++]))}else{Bt=at-Rt;do yt[at++]=yt[Bt++],yt[at++]=yt[Bt++],yt[at++]=yt[Bt++],ft-=3;while(ft>2);ft&&(yt[at++]=yt[Bt++],ft>1&&(yt[at++]=yt[Bt++]))}break}}break}}while(ht<ot&&at<xt);ht-=ft=Qt>>3,gn&=(1<<(Qt-=ft<<3))-1,St.next_in=ht,St.next_out=at,St.avail_in=ht<ot?ot-ht+5:5-(ht-ot),St.avail_out=at<xt?xt-at+257:257-(at-xt),pt.hold=gn,pt.bits=Qt}},7823:function(Ht,St,_){var pt=_(9187),ht=_(3693),ot=_(8464),at=_(9365),gt=_(6446),xt=-2,vt=12,it=30;function kt(ft){return(ft>>>24&255)+(ft>>>8&65280)+((65280&ft)<<8)+((255&ft)<<24)}function Ot(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new pt.Buf16(320),this.work=new pt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function an(ft){var Rt;return ft&&ft.state?(Rt=ft.state,ft.total_in=ft.total_out=Rt.total=0,ft.msg="",Rt.wrap&&(ft.adler=1&Rt.wrap),Rt.mode=1,Rt.last=0,Rt.havedict=0,Rt.dmax=32768,Rt.head=null,Rt.hold=0,Rt.bits=0,Rt.lencode=Rt.lendyn=new pt.Buf32(852),Rt.distcode=Rt.distdyn=new pt.Buf32(592),Rt.sane=1,Rt.back=-1,0):xt}function gn(ft){var Rt;return ft&&ft.state?((Rt=ft.state).wsize=0,Rt.whave=0,Rt.wnext=0,an(ft)):xt}function Qt(ft,Rt){var Bt,bt;return ft&&ft.state?(bt=ft.state,Rt<0?(Bt=0,Rt=-Rt):(Bt=1+(Rt>>4),Rt<48&&(Rt&=15)),Rt&&(Rt<8||Rt>15)?xt:(bt.window!==null&&bt.wbits!==Rt&&(bt.window=null),bt.wrap=Bt,bt.wbits=Rt,gn(ft))):xt}function bn(ft,Rt){var Bt,bt;return ft?(bt=new Ot,ft.state=bt,bt.window=null,(Bt=Qt(ft,Rt))!==0&&(ft.state=null),Bt):xt}var fn,Zn,mn=!0;function pn(ft){if(mn){var Rt;for(fn=new pt.Buf32(512),Zn=new pt.Buf32(32),Rt=0;Rt<144;)ft.lens[Rt++]=8;for(;Rt<256;)ft.lens[Rt++]=9;for(;Rt<280;)ft.lens[Rt++]=7;for(;Rt<288;)ft.lens[Rt++]=8;for(gt(1,ft.lens,0,288,fn,0,ft.work,{bits:9}),Rt=0;Rt<32;)ft.lens[Rt++]=5;gt(2,ft.lens,0,32,Zn,0,ft.work,{bits:5}),mn=!1}ft.lencode=fn,ft.lenbits=9,ft.distcode=Zn,ft.distbits=5}function An(ft,Rt,Bt,bt){var Gt,yt=ft.state;return yt.window===null&&(yt.wsize=1<<yt.wbits,yt.wnext=0,yt.whave=0,yt.window=new pt.Buf8(yt.wsize)),bt>=yt.wsize?(pt.arraySet(yt.window,Rt,Bt-yt.wsize,yt.wsize,0),yt.wnext=0,yt.whave=yt.wsize):((Gt=yt.wsize-yt.wnext)>bt&&(Gt=bt),pt.arraySet(yt.window,Rt,Bt-bt,Gt,yt.wnext),(bt-=Gt)?(pt.arraySet(yt.window,Rt,Bt-bt,bt,0),yt.wnext=bt,yt.whave=yt.wsize):(yt.wnext+=Gt,yt.wnext===yt.wsize&&(yt.wnext=0),yt.whave<yt.wsize&&(yt.whave+=Gt))),0}St.inflateReset=gn,St.inflateReset2=Qt,St.inflateResetKeep=an,St.inflateInit=function(ft){return bn(ft,15)},St.inflateInit2=bn,St.inflate=function(ft,Rt){var Bt,bt,Gt,yt,Ct,ct,rt,_e,lt,st,It,Tt,tn,Nt,$t,Wt,Dt,In,rn,_t,Et,Vt,Pt,qt,dn=0,Yt=new pt.Buf8(4),Xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ft||!ft.state||!ft.output||!ft.input&&ft.avail_in!==0)return xt;(Bt=ft.state).mode===vt&&(Bt.mode=13),Ct=ft.next_out,Gt=ft.output,rt=ft.avail_out,yt=ft.next_in,bt=ft.input,ct=ft.avail_in,_e=Bt.hold,lt=Bt.bits,st=ct,It=rt,Vt=0;e:for(;;)switch(Bt.mode){case 1:if(Bt.wrap===0){Bt.mode=13;break}for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(2&Bt.wrap&&_e===35615){Bt.check=0,Yt[0]=255&_e,Yt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Yt,2,0),_e=0,lt=0,Bt.mode=2;break}if(Bt.flags=0,Bt.head&&(Bt.head.done=!1),!(1&Bt.wrap)||(((255&_e)<<8)+(_e>>8))%31){ft.msg="incorrect header check",Bt.mode=it;break}if((15&_e)!=8){ft.msg="unknown compression method",Bt.mode=it;break}if(lt-=4,Et=8+(15&(_e>>>=4)),Bt.wbits===0)Bt.wbits=Et;else if(Et>Bt.wbits){ft.msg="invalid window size",Bt.mode=it;break}Bt.dmax=1<<Et,ft.adler=Bt.check=1,Bt.mode=512&_e?10:vt,_e=0,lt=0;break;case 2:for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(Bt.flags=_e,(255&Bt.flags)!=8){ft.msg="unknown compression method",Bt.mode=it;break}if(57344&Bt.flags){ft.msg="unknown header flags set",Bt.mode=it;break}Bt.head&&(Bt.head.text=_e>>8&1),512&Bt.flags&&(Yt[0]=255&_e,Yt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Yt,2,0)),_e=0,lt=0,Bt.mode=3;case 3:for(;lt<32;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}Bt.head&&(Bt.head.time=_e),512&Bt.flags&&(Yt[0]=255&_e,Yt[1]=_e>>>8&255,Yt[2]=_e>>>16&255,Yt[3]=_e>>>24&255,Bt.check=ot(Bt.check,Yt,4,0)),_e=0,lt=0,Bt.mode=4;case 4:for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}Bt.head&&(Bt.head.xflags=255&_e,Bt.head.os=_e>>8),512&Bt.flags&&(Yt[0]=255&_e,Yt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Yt,2,0)),_e=0,lt=0,Bt.mode=5;case 5:if(1024&Bt.flags){for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}Bt.length=_e,Bt.head&&(Bt.head.extra_len=_e),512&Bt.flags&&(Yt[0]=255&_e,Yt[1]=_e>>>8&255,Bt.check=ot(Bt.check,Yt,2,0)),_e=0,lt=0}else Bt.head&&(Bt.head.extra=null);Bt.mode=6;case 6:if(1024&Bt.flags&&((Tt=Bt.length)>ct&&(Tt=ct),Tt&&(Bt.head&&(Et=Bt.head.extra_len-Bt.length,Bt.head.extra||(Bt.head.extra=new Array(Bt.head.extra_len)),pt.arraySet(Bt.head.extra,bt,yt,Tt,Et)),512&Bt.flags&&(Bt.check=ot(Bt.check,bt,Tt,yt)),ct-=Tt,yt+=Tt,Bt.length-=Tt),Bt.length))break e;Bt.length=0,Bt.mode=7;case 7:if(2048&Bt.flags){if(ct===0)break e;Tt=0;do Et=bt[yt+Tt++],Bt.head&&Et&&Bt.length<65536&&(Bt.head.name+=String.fromCharCode(Et));while(Et&&Tt<ct);if(512&Bt.flags&&(Bt.check=ot(Bt.check,bt,Tt,yt)),ct-=Tt,yt+=Tt,Et)break e}else Bt.head&&(Bt.head.name=null);Bt.length=0,Bt.mode=8;case 8:if(4096&Bt.flags){if(ct===0)break e;Tt=0;do Et=bt[yt+Tt++],Bt.head&&Et&&Bt.length<65536&&(Bt.head.comment+=String.fromCharCode(Et));while(Et&&Tt<ct);if(512&Bt.flags&&(Bt.check=ot(Bt.check,bt,Tt,yt)),ct-=Tt,yt+=Tt,Et)break e}else Bt.head&&(Bt.head.comment=null);Bt.mode=9;case 9:if(512&Bt.flags){for(;lt<16;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(_e!==(65535&Bt.check)){ft.msg="header crc mismatch",Bt.mode=it;break}_e=0,lt=0}Bt.head&&(Bt.head.hcrc=Bt.flags>>9&1,Bt.head.done=!0),ft.adler=Bt.check=0,Bt.mode=vt;break;case 10:for(;lt<32;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}ft.adler=Bt.check=kt(_e),_e=0,lt=0,Bt.mode=11;case 11:if(Bt.havedict===0)return ft.next_out=Ct,ft.avail_out=rt,ft.next_in=yt,ft.avail_in=ct,Bt.hold=_e,Bt.bits=lt,2;ft.adler=Bt.check=1,Bt.mode=vt;case vt:if(Rt===5||Rt===6)break e;case 13:if(Bt.last){_e>>>=7&lt,lt-=7&lt,Bt.mode=27;break}for(;lt<3;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}switch(Bt.last=1&_e,lt-=1,3&(_e>>>=1)){case 0:Bt.mode=14;break;case 1:if(pn(Bt),Bt.mode=20,Rt===6){_e>>>=2,lt-=2;break e}break;case 2:Bt.mode=17;break;case 3:ft.msg="invalid block type",Bt.mode=it}_e>>>=2,lt-=2;break;case 14:for(_e>>>=7&lt,lt-=7&lt;lt<32;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if((65535&_e)!=(_e>>>16^65535)){ft.msg="invalid stored block lengths",Bt.mode=it;break}if(Bt.length=65535&_e,_e=0,lt=0,Bt.mode=15,Rt===6)break e;case 15:Bt.mode=16;case 16:if(Tt=Bt.length){if(Tt>ct&&(Tt=ct),Tt>rt&&(Tt=rt),Tt===0)break e;pt.arraySet(Gt,bt,yt,Tt,Ct),ct-=Tt,yt+=Tt,rt-=Tt,Ct+=Tt,Bt.length-=Tt;break}Bt.mode=vt;break;case 17:for(;lt<14;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(Bt.nlen=257+(31&_e),_e>>>=5,lt-=5,Bt.ndist=1+(31&_e),_e>>>=5,lt-=5,Bt.ncode=4+(15&_e),_e>>>=4,lt-=4,Bt.nlen>286||Bt.ndist>30){ft.msg="too many length or distance symbols",Bt.mode=it;break}Bt.have=0,Bt.mode=18;case 18:for(;Bt.have<Bt.ncode;){for(;lt<3;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}Bt.lens[Xt[Bt.have++]]=7&_e,_e>>>=3,lt-=3}for(;Bt.have<19;)Bt.lens[Xt[Bt.have++]]=0;if(Bt.lencode=Bt.lendyn,Bt.lenbits=7,Pt={bits:Bt.lenbits},Vt=gt(0,Bt.lens,0,19,Bt.lencode,0,Bt.work,Pt),Bt.lenbits=Pt.bits,Vt){ft.msg="invalid code lengths set",Bt.mode=it;break}Bt.have=0,Bt.mode=19;case 19:for(;Bt.have<Bt.nlen+Bt.ndist;){for(;Wt=(dn=Bt.lencode[_e&(1<<Bt.lenbits)-1])>>>16&255,Dt=65535&dn,!(($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(Dt<16)_e>>>=$t,lt-=$t,Bt.lens[Bt.have++]=Dt;else{if(Dt===16){for(qt=$t+2;lt<qt;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(_e>>>=$t,lt-=$t,Bt.have===0){ft.msg="invalid bit length repeat",Bt.mode=it;break}Et=Bt.lens[Bt.have-1],Tt=3+(3&_e),_e>>>=2,lt-=2}else if(Dt===17){for(qt=$t+3;lt<qt;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}lt-=$t,Et=0,Tt=3+(7&(_e>>>=$t)),_e>>>=3,lt-=3}else{for(qt=$t+7;lt<qt;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}lt-=$t,Et=0,Tt=11+(127&(_e>>>=$t)),_e>>>=7,lt-=7}if(Bt.have+Tt>Bt.nlen+Bt.ndist){ft.msg="invalid bit length repeat",Bt.mode=it;break}for(;Tt--;)Bt.lens[Bt.have++]=Et}}if(Bt.mode===it)break;if(Bt.lens[256]===0){ft.msg="invalid code -- missing end-of-block",Bt.mode=it;break}if(Bt.lenbits=9,Pt={bits:Bt.lenbits},Vt=gt(1,Bt.lens,0,Bt.nlen,Bt.lencode,0,Bt.work,Pt),Bt.lenbits=Pt.bits,Vt){ft.msg="invalid literal/lengths set",Bt.mode=it;break}if(Bt.distbits=6,Bt.distcode=Bt.distdyn,Pt={bits:Bt.distbits},Vt=gt(2,Bt.lens,Bt.nlen,Bt.ndist,Bt.distcode,0,Bt.work,Pt),Bt.distbits=Pt.bits,Vt){ft.msg="invalid distances set",Bt.mode=it;break}if(Bt.mode=20,Rt===6)break e;case 20:Bt.mode=21;case 21:if(ct>=6&&rt>=258){ft.next_out=Ct,ft.avail_out=rt,ft.next_in=yt,ft.avail_in=ct,Bt.hold=_e,Bt.bits=lt,at(ft,It),Ct=ft.next_out,Gt=ft.output,rt=ft.avail_out,yt=ft.next_in,bt=ft.input,ct=ft.avail_in,_e=Bt.hold,lt=Bt.bits,Bt.mode===vt&&(Bt.back=-1);break}for(Bt.back=0;Wt=(dn=Bt.lencode[_e&(1<<Bt.lenbits)-1])>>>16&255,Dt=65535&dn,!(($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(Wt&&!(240&Wt)){for(In=$t,rn=Wt,_t=Dt;Wt=(dn=Bt.lencode[_t+((_e&(1<<In+rn)-1)>>In)])>>>16&255,Dt=65535&dn,!(In+($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}_e>>>=In,lt-=In,Bt.back+=In}if(_e>>>=$t,lt-=$t,Bt.back+=$t,Bt.length=Dt,Wt===0){Bt.mode=26;break}if(32&Wt){Bt.back=-1,Bt.mode=vt;break}if(64&Wt){ft.msg="invalid literal/length code",Bt.mode=it;break}Bt.extra=15&Wt,Bt.mode=22;case 22:if(Bt.extra){for(qt=Bt.extra;lt<qt;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}Bt.length+=_e&(1<<Bt.extra)-1,_e>>>=Bt.extra,lt-=Bt.extra,Bt.back+=Bt.extra}Bt.was=Bt.length,Bt.mode=23;case 23:for(;Wt=(dn=Bt.distcode[_e&(1<<Bt.distbits)-1])>>>16&255,Dt=65535&dn,!(($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(!(240&Wt)){for(In=$t,rn=Wt,_t=Dt;Wt=(dn=Bt.distcode[_t+((_e&(1<<In+rn)-1)>>In)])>>>16&255,Dt=65535&dn,!(In+($t=dn>>>24)<=lt);){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}_e>>>=In,lt-=In,Bt.back+=In}if(_e>>>=$t,lt-=$t,Bt.back+=$t,64&Wt){ft.msg="invalid distance code",Bt.mode=it;break}Bt.offset=Dt,Bt.extra=15&Wt,Bt.mode=24;case 24:if(Bt.extra){for(qt=Bt.extra;lt<qt;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}Bt.offset+=_e&(1<<Bt.extra)-1,_e>>>=Bt.extra,lt-=Bt.extra,Bt.back+=Bt.extra}if(Bt.offset>Bt.dmax){ft.msg="invalid distance too far back",Bt.mode=it;break}Bt.mode=25;case 25:if(rt===0)break e;if(Tt=It-rt,Bt.offset>Tt){if((Tt=Bt.offset-Tt)>Bt.whave&&Bt.sane){ft.msg="invalid distance too far back",Bt.mode=it;break}Tt>Bt.wnext?(Tt-=Bt.wnext,tn=Bt.wsize-Tt):tn=Bt.wnext-Tt,Tt>Bt.length&&(Tt=Bt.length),Nt=Bt.window}else Nt=Gt,tn=Ct-Bt.offset,Tt=Bt.length;Tt>rt&&(Tt=rt),rt-=Tt,Bt.length-=Tt;do Gt[Ct++]=Nt[tn++];while(--Tt);Bt.length===0&&(Bt.mode=21);break;case 26:if(rt===0)break e;Gt[Ct++]=Bt.length,rt--,Bt.mode=21;break;case 27:if(Bt.wrap){for(;lt<32;){if(ct===0)break e;ct--,_e|=bt[yt++]<<lt,lt+=8}if(It-=rt,ft.total_out+=It,Bt.total+=It,It&&(ft.adler=Bt.check=Bt.flags?ot(Bt.check,Gt,It,Ct-It):ht(Bt.check,Gt,It,Ct-It)),It=rt,(Bt.flags?_e:kt(_e))!==Bt.check){ft.msg="incorrect data check",Bt.mode=it;break}_e=0,lt=0}Bt.mode=28;case 28:if(Bt.wrap&&Bt.flags){for(;lt<32;){if(ct===0)break e;ct--,_e+=bt[yt++]<<lt,lt+=8}if(_e!==(4294967295&Bt.total)){ft.msg="incorrect length check",Bt.mode=it;break}_e=0,lt=0}Bt.mode=29;case 29:Vt=1;break e;case it:Vt=-3;break e;case 31:return-4;default:return xt}return ft.next_out=Ct,ft.avail_out=rt,ft.next_in=yt,ft.avail_in=ct,Bt.hold=_e,Bt.bits=lt,(Bt.wsize||It!==ft.avail_out&&Bt.mode<it&&(Bt.mode<27||Rt!==4))&&An(ft,ft.output,ft.next_out,It-ft.avail_out)?(Bt.mode=31,-4):(st-=ft.avail_in,It-=ft.avail_out,ft.total_in+=st,ft.total_out+=It,Bt.total+=It,Bt.wrap&&It&&(ft.adler=Bt.check=Bt.flags?ot(Bt.check,Gt,It,ft.next_out-It):ht(Bt.check,Gt,It,ft.next_out-It)),ft.data_type=Bt.bits+(Bt.last?64:0)+(Bt.mode===vt?128:0)+(Bt.mode===20||Bt.mode===15?256:0),(st===0&&It===0||Rt===4)&&Vt===0&&(Vt=-5),Vt)},St.inflateEnd=function(ft){if(!ft||!ft.state)return xt;var Rt=ft.state;return Rt.window&&(Rt.window=null),ft.state=null,0},St.inflateGetHeader=function(ft,Rt){var Bt;return ft&&ft.state&&2&(Bt=ft.state).wrap?(Bt.head=Rt,Rt.done=!1,0):xt},St.inflateSetDictionary=function(ft,Rt){var Bt,bt=Rt.length;return ft&&ft.state?(Bt=ft.state).wrap!==0&&Bt.mode!==11?xt:Bt.mode===11&&ht(1,Rt,bt,0)!==Bt.check?-3:An(ft,Rt,bt,bt)?(Bt.mode=31,-4):(Bt.havedict=1,0):xt},St.inflateInfo="pako inflate (from Nodeca project)"},6446:function(Ht,St,_){var pt=_(9187),ht=15,ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],at=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],gt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Ht.exports=function(vt,it,kt,Ot,an,gn,Qt,bn){var fn,Zn,mn,pn,An,ft,Rt,Bt,bt,Gt=bn.bits,yt=0,Ct=0,ct=0,rt=0,_e=0,lt=0,st=0,It=0,Tt=0,tn=0,Nt=null,$t=0,Wt=new pt.Buf16(16),Dt=new pt.Buf16(16),In=null,rn=0;for(yt=0;yt<=ht;yt++)Wt[yt]=0;for(Ct=0;Ct<Ot;Ct++)Wt[it[kt+Ct]]++;for(_e=Gt,rt=ht;rt>=1&&Wt[rt]===0;rt--);if(_e>rt&&(_e=rt),rt===0)return an[gn++]=20971520,an[gn++]=20971520,bn.bits=1,0;for(ct=1;ct<rt&&Wt[ct]===0;ct++);for(_e<ct&&(_e=ct),It=1,yt=1;yt<=ht;yt++)if(It<<=1,(It-=Wt[yt])<0)return-1;if(It>0&&(vt===0||rt!==1))return-1;for(Dt[1]=0,yt=1;yt<ht;yt++)Dt[yt+1]=Dt[yt]+Wt[yt];for(Ct=0;Ct<Ot;Ct++)it[kt+Ct]!==0&&(Qt[Dt[it[kt+Ct]]++]=Ct);if(vt===0?(Nt=In=Qt,ft=19):vt===1?(Nt=ot,$t-=257,In=at,rn-=257,ft=256):(Nt=gt,In=xt,ft=-1),tn=0,Ct=0,yt=ct,An=gn,lt=_e,st=0,mn=-1,pn=(Tt=1<<_e)-1,vt===1&&Tt>852||vt===2&&Tt>592)return 1;for(;;){Rt=yt-st,Qt[Ct]<ft?(Bt=0,bt=Qt[Ct]):Qt[Ct]>ft?(Bt=In[rn+Qt[Ct]],bt=Nt[$t+Qt[Ct]]):(Bt=96,bt=0),fn=1<<yt-st,ct=Zn=1<<lt;do an[An+(tn>>st)+(Zn-=fn)]=Rt<<24|Bt<<16|bt|0;while(Zn!==0);for(fn=1<<yt-1;tn&fn;)fn>>=1;if(fn!==0?(tn&=fn-1,tn+=fn):tn=0,Ct++,--Wt[yt]==0){if(yt===rt)break;yt=it[kt+Qt[Ct]]}if(yt>_e&&(tn&pn)!==mn){for(st===0&&(st=_e),An+=ct,It=1<<(lt=yt-st);lt+st<rt&&!((It-=Wt[lt+st])<=0);)lt++,It<<=1;if(Tt+=1<<lt,vt===1&&Tt>852||vt===2&&Tt>592)return 1;an[mn=tn&pn]=_e<<24|lt<<16|An-gn|0}}return tn!==0&&(an[An+tn]=yt-st<<24|4194304|0),bn.bits=_e,0}},5604:function(Ht){Ht.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(Ht,St,_){var pt=_(9187);function ht(Dt){for(var In=Dt.length;--In>=0;)Dt[In]=0}var ot=256,at=286,gt=30,xt=15,vt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],it=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],kt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],an=new Array(576);ht(an);var gn=new Array(60);ht(gn);var Qt=new Array(512);ht(Qt);var bn=new Array(256);ht(bn);var fn=new Array(29);ht(fn);var Zn,mn,pn,An=new Array(gt);function ft(Dt,In,rn,_t,Et){this.static_tree=Dt,this.extra_bits=In,this.extra_base=rn,this.elems=_t,this.max_length=Et,this.has_stree=Dt&&Dt.length}function Rt(Dt,In){this.dyn_tree=Dt,this.max_code=0,this.stat_desc=In}function Bt(Dt){return Dt<256?Qt[Dt]:Qt[256+(Dt>>>7)]}function bt(Dt,In){Dt.pending_buf[Dt.pending++]=255&In,Dt.pending_buf[Dt.pending++]=In>>>8&255}function Gt(Dt,In,rn){Dt.bi_valid>16-rn?(Dt.bi_buf|=In<<Dt.bi_valid&65535,bt(Dt,Dt.bi_buf),Dt.bi_buf=In>>16-Dt.bi_valid,Dt.bi_valid+=rn-16):(Dt.bi_buf|=In<<Dt.bi_valid&65535,Dt.bi_valid+=rn)}function yt(Dt,In,rn){Gt(Dt,rn[2*In],rn[2*In+1])}function Ct(Dt,In){var rn=0;do rn|=1&Dt,Dt>>>=1,rn<<=1;while(--In>0);return rn>>>1}function ct(Dt,In,rn){var _t,Et,Vt=new Array(16),Pt=0;for(_t=1;_t<=xt;_t++)Vt[_t]=Pt=Pt+rn[_t-1]<<1;for(Et=0;Et<=In;Et++){var qt=Dt[2*Et+1];qt!==0&&(Dt[2*Et]=Ct(Vt[qt]++,qt))}}function rt(Dt){var In;for(In=0;In<at;In++)Dt.dyn_ltree[2*In]=0;for(In=0;In<gt;In++)Dt.dyn_dtree[2*In]=0;for(In=0;In<19;In++)Dt.bl_tree[2*In]=0;Dt.dyn_ltree[512]=1,Dt.opt_len=Dt.static_len=0,Dt.last_lit=Dt.matches=0}function _e(Dt){Dt.bi_valid>8?bt(Dt,Dt.bi_buf):Dt.bi_valid>0&&(Dt.pending_buf[Dt.pending++]=Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0}function lt(Dt,In,rn,_t){var Et=2*In,Vt=2*rn;return Dt[Et]<Dt[Vt]||Dt[Et]===Dt[Vt]&&_t[In]<=_t[rn]}function st(Dt,In,rn){for(var _t=Dt.heap[rn],Et=rn<<1;Et<=Dt.heap_len&&(Et<Dt.heap_len&&lt(In,Dt.heap[Et+1],Dt.heap[Et],Dt.depth)&&Et++,!lt(In,_t,Dt.heap[Et],Dt.depth));)Dt.heap[rn]=Dt.heap[Et],rn=Et,Et<<=1;Dt.heap[rn]=_t}function It(Dt,In,rn){var _t,Et,Vt,Pt,qt=0;if(Dt.last_lit!==0)do _t=Dt.pending_buf[Dt.d_buf+2*qt]<<8|Dt.pending_buf[Dt.d_buf+2*qt+1],Et=Dt.pending_buf[Dt.l_buf+qt],qt++,_t===0?yt(Dt,Et,In):(yt(Dt,(Vt=bn[Et])+ot+1,In),(Pt=vt[Vt])!==0&&Gt(Dt,Et-=fn[Vt],Pt),yt(Dt,Vt=Bt(--_t),rn),(Pt=it[Vt])!==0&&Gt(Dt,_t-=An[Vt],Pt));while(qt<Dt.last_lit);yt(Dt,256,In)}function Tt(Dt,In){var rn,_t,Et,Vt=In.dyn_tree,Pt=In.stat_desc.static_tree,qt=In.stat_desc.has_stree,dn=In.stat_desc.elems,Yt=-1;for(Dt.heap_len=0,Dt.heap_max=573,rn=0;rn<dn;rn++)Vt[2*rn]!==0?(Dt.heap[++Dt.heap_len]=Yt=rn,Dt.depth[rn]=0):Vt[2*rn+1]=0;for(;Dt.heap_len<2;)Vt[2*(Et=Dt.heap[++Dt.heap_len]=Yt<2?++Yt:0)]=1,Dt.depth[Et]=0,Dt.opt_len--,qt&&(Dt.static_len-=Pt[2*Et+1]);for(In.max_code=Yt,rn=Dt.heap_len>>1;rn>=1;rn--)st(Dt,Vt,rn);Et=dn;do rn=Dt.heap[1],Dt.heap[1]=Dt.heap[Dt.heap_len--],st(Dt,Vt,1),_t=Dt.heap[1],Dt.heap[--Dt.heap_max]=rn,Dt.heap[--Dt.heap_max]=_t,Vt[2*Et]=Vt[2*rn]+Vt[2*_t],Dt.depth[Et]=(Dt.depth[rn]>=Dt.depth[_t]?Dt.depth[rn]:Dt.depth[_t])+1,Vt[2*rn+1]=Vt[2*_t+1]=Et,Dt.heap[1]=Et++,st(Dt,Vt,1);while(Dt.heap_len>=2);Dt.heap[--Dt.heap_max]=Dt.heap[1],function(Xt,zt){var At,Ut,wt,Jt,Mt,un,hn=zt.dyn_tree,jt=zt.max_code,vn=zt.stat_desc.static_tree,xn=zt.stat_desc.has_stree,Gn=zt.stat_desc.extra_bits,Zt=zt.stat_desc.extra_base,Xn=zt.stat_desc.max_length,Cn=0;for(Jt=0;Jt<=xt;Jt++)Xt.bl_count[Jt]=0;for(hn[2*Xt.heap[Xt.heap_max]+1]=0,At=Xt.heap_max+1;At<573;At++)(Jt=hn[2*hn[2*(Ut=Xt.heap[At])+1]+1]+1)>Xn&&(Jt=Xn,Cn++),hn[2*Ut+1]=Jt,Ut>jt||(Xt.bl_count[Jt]++,Mt=0,Ut>=Zt&&(Mt=Gn[Ut-Zt]),un=hn[2*Ut],Xt.opt_len+=un*(Jt+Mt),xn&&(Xt.static_len+=un*(vn[2*Ut+1]+Mt)));if(Cn!==0){do{for(Jt=Xn-1;Xt.bl_count[Jt]===0;)Jt--;Xt.bl_count[Jt]--,Xt.bl_count[Jt+1]+=2,Xt.bl_count[Xn]--,Cn-=2}while(Cn>0);for(Jt=Xn;Jt!==0;Jt--)for(Ut=Xt.bl_count[Jt];Ut!==0;)(wt=Xt.heap[--At])>jt||(hn[2*wt+1]!==Jt&&(Xt.opt_len+=(Jt-hn[2*wt+1])*hn[2*wt],hn[2*wt+1]=Jt),Ut--)}}(Dt,In),ct(Vt,Yt,Dt.bl_count)}function tn(Dt,In,rn){var _t,Et,Vt=-1,Pt=In[1],qt=0,dn=7,Yt=4;for(Pt===0&&(dn=138,Yt=3),In[2*(rn+1)+1]=65535,_t=0;_t<=rn;_t++)Et=Pt,Pt=In[2*(_t+1)+1],++qt<dn&&Et===Pt||(qt<Yt?Dt.bl_tree[2*Et]+=qt:Et!==0?(Et!==Vt&&Dt.bl_tree[2*Et]++,Dt.bl_tree[32]++):qt<=10?Dt.bl_tree[34]++:Dt.bl_tree[36]++,qt=0,Vt=Et,Pt===0?(dn=138,Yt=3):Et===Pt?(dn=6,Yt=3):(dn=7,Yt=4))}function Nt(Dt,In,rn){var _t,Et,Vt=-1,Pt=In[1],qt=0,dn=7,Yt=4;for(Pt===0&&(dn=138,Yt=3),_t=0;_t<=rn;_t++)if(Et=Pt,Pt=In[2*(_t+1)+1],!(++qt<dn&&Et===Pt)){if(qt<Yt)do yt(Dt,Et,Dt.bl_tree);while(--qt!=0);else Et!==0?(Et!==Vt&&(yt(Dt,Et,Dt.bl_tree),qt--),yt(Dt,16,Dt.bl_tree),Gt(Dt,qt-3,2)):qt<=10?(yt(Dt,17,Dt.bl_tree),Gt(Dt,qt-3,3)):(yt(Dt,18,Dt.bl_tree),Gt(Dt,qt-11,7));qt=0,Vt=Et,Pt===0?(dn=138,Yt=3):Et===Pt?(dn=6,Yt=3):(dn=7,Yt=4)}}ht(An);var $t=!1;function Wt(Dt,In,rn,_t){Gt(Dt,0+(_t?1:0),3),function(Et,Vt,Pt,qt){_e(Et),qt&&(bt(Et,Pt),bt(Et,~Pt)),pt.arraySet(Et.pending_buf,Et.window,Vt,Pt,Et.pending),Et.pending+=Pt}(Dt,In,rn,!0)}St._tr_init=function(Dt){$t||(function(){var In,rn,_t,Et,Vt,Pt=new Array(16);for(_t=0,Et=0;Et<28;Et++)for(fn[Et]=_t,In=0;In<1<<vt[Et];In++)bn[_t++]=Et;for(bn[_t-1]=Et,Vt=0,Et=0;Et<16;Et++)for(An[Et]=Vt,In=0;In<1<<it[Et];In++)Qt[Vt++]=Et;for(Vt>>=7;Et<gt;Et++)for(An[Et]=Vt<<7,In=0;In<1<<it[Et]-7;In++)Qt[256+Vt++]=Et;for(rn=0;rn<=xt;rn++)Pt[rn]=0;for(In=0;In<=143;)an[2*In+1]=8,In++,Pt[8]++;for(;In<=255;)an[2*In+1]=9,In++,Pt[9]++;for(;In<=279;)an[2*In+1]=7,In++,Pt[7]++;for(;In<=287;)an[2*In+1]=8,In++,Pt[8]++;for(ct(an,287,Pt),In=0;In<gt;In++)gn[2*In+1]=5,gn[2*In]=Ct(In,5);Zn=new ft(an,vt,257,at,xt),mn=new ft(gn,it,0,gt,xt),pn=new ft(new Array(0),kt,0,19,7)}(),$t=!0),Dt.l_desc=new Rt(Dt.dyn_ltree,Zn),Dt.d_desc=new Rt(Dt.dyn_dtree,mn),Dt.bl_desc=new Rt(Dt.bl_tree,pn),Dt.bi_buf=0,Dt.bi_valid=0,rt(Dt)},St._tr_stored_block=Wt,St._tr_flush_block=function(Dt,In,rn,_t){var Et,Vt,Pt=0;Dt.level>0?(Dt.strm.data_type===2&&(Dt.strm.data_type=function(qt){var dn,Yt=4093624447;for(dn=0;dn<=31;dn++,Yt>>>=1)if(1&Yt&&qt.dyn_ltree[2*dn]!==0)return 0;if(qt.dyn_ltree[18]!==0||qt.dyn_ltree[20]!==0||qt.dyn_ltree[26]!==0)return 1;for(dn=32;dn<ot;dn++)if(qt.dyn_ltree[2*dn]!==0)return 1;return 0}(Dt)),Tt(Dt,Dt.l_desc),Tt(Dt,Dt.d_desc),Pt=function(qt){var dn;for(tn(qt,qt.dyn_ltree,qt.l_desc.max_code),tn(qt,qt.dyn_dtree,qt.d_desc.max_code),Tt(qt,qt.bl_desc),dn=18;dn>=3&&qt.bl_tree[2*Ot[dn]+1]===0;dn--);return qt.opt_len+=3*(dn+1)+5+5+4,dn}(Dt),Et=Dt.opt_len+3+7>>>3,(Vt=Dt.static_len+3+7>>>3)<=Et&&(Et=Vt)):Et=Vt=rn+5,rn+4<=Et&&In!==-1?Wt(Dt,In,rn,_t):Dt.strategy===4||Vt===Et?(Gt(Dt,2+(_t?1:0),3),It(Dt,an,gn)):(Gt(Dt,4+(_t?1:0),3),function(qt,dn,Yt,Xt){var zt;for(Gt(qt,dn-257,5),Gt(qt,Yt-1,5),Gt(qt,Xt-4,4),zt=0;zt<Xt;zt++)Gt(qt,qt.bl_tree[2*Ot[zt]+1],3);Nt(qt,qt.dyn_ltree,dn-1),Nt(qt,qt.dyn_dtree,Yt-1)}(Dt,Dt.l_desc.max_code+1,Dt.d_desc.max_code+1,Pt+1),It(Dt,Dt.dyn_ltree,Dt.dyn_dtree)),rt(Dt),_t&&_e(Dt)},St._tr_tally=function(Dt,In,rn){return Dt.pending_buf[Dt.d_buf+2*Dt.last_lit]=In>>>8&255,Dt.pending_buf[Dt.d_buf+2*Dt.last_lit+1]=255&In,Dt.pending_buf[Dt.l_buf+Dt.last_lit]=255&rn,Dt.last_lit++,In===0?Dt.dyn_ltree[2*rn]++:(Dt.matches++,In--,Dt.dyn_ltree[2*(bn[rn]+ot+1)]++,Dt.dyn_dtree[2*Bt(In)]++),Dt.last_lit===Dt.lit_bufsize-1},St._tr_align=function(Dt){Gt(Dt,2,3),yt(Dt,256,an),function(In){In.bi_valid===16?(bt(In,In.bi_buf),In.bi_buf=0,In.bi_valid=0):In.bi_valid>=8&&(In.pending_buf[In.pending++]=255&In.bi_buf,In.bi_buf>>=8,In.bi_valid-=8)}(Dt)}},249:function(Ht){Ht.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(Ht){Ht.exports=function(St){St.data&&St.name&&(St=St.data);for(var _=!0,pt="",ht="",ot=0;ot<St.length;ot++){var at=St[ot];if(_)at?ht+=String.fromCharCode(at):_=!1;else{if(!at)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");pt+=String.fromCharCode(at)}}return{keyword:ht,text:pt}}},9686:function(Ht){Ht.exports=function(St,_){if(St=String(St),_=String(_),!/^[\x00-\xFF]+$/.test(St)||!/^[\x00-\xFF]+$/.test(_))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(St.length>=80)throw new Error('Keyword "'+St+'" is longer than the 79-character limit imposed by the PNG specification');for(var pt,ht=St.length+_.length+1,ot=new Uint8Array(ht),at=0,gt=0;gt<St.length;gt++){if(!(pt=St.charCodeAt(gt)))throw new Error("0x00 character is not permitted in tEXt keywords");ot[at++]=pt}ot[at++]=0;for(var xt=0;xt<_.length;xt++){if(!(pt=_.charCodeAt(xt)))throw new Error("0x00 character is not permitted in tEXt content");ot[at++]=pt}return{name:"tEXt",data:ot}}},1194:function(Ht,St,_){St.encode=_(9686),St.decode=_(9066)},3434:function(Ht,St,_){var pt=_(5714),ht=_(6233);Ht.exports=function(xt){var vt,it=8,kt=it;for(vt=0;vt<xt.length;vt++)it+=xt[vt].data.length,it+=12;var Ot=new Uint8Array(it);for(Ot[0]=137,Ot[1]=80,Ot[2]=78,Ot[3]=71,Ot[4]=13,Ot[5]=10,Ot[6]=26,Ot[7]=10,vt=0;vt<xt.length;vt++){var an=xt[vt],gn=an.name,Qt=an.data,bn=Qt.length,fn=[gn.charCodeAt(0),gn.charCodeAt(1),gn.charCodeAt(2),gn.charCodeAt(3)];gt[0]=bn,Ot[kt++]=ot[3],Ot[kt++]=ot[2],Ot[kt++]=ot[1],Ot[kt++]=ot[0],Ot[kt++]=fn[0],Ot[kt++]=fn[1],Ot[kt++]=fn[2],Ot[kt++]=fn[3];for(var Zn=0;Zn<bn;)Ot[kt++]=Qt[Zn++];var mn=fn.concat(pt(Qt)),pn=ht.buf(mn);at[0]=pn,Ot[kt++]=ot[3],Ot[kt++]=ot[2],Ot[kt++]=ot[1],Ot[kt++]=ot[0]}return Ot};var ot=new Uint8Array(4),at=new Int32Array(ot.buffer),gt=new Uint32Array(ot.buffer)},2983:function(Ht,St,_){var pt=_(6233);Ht.exports=function(gt){if(gt[0]!==137)throw new Error("Invalid .png file header");if(gt[1]!==80)throw new Error("Invalid .png file header");if(gt[2]!==78)throw new Error("Invalid .png file header");if(gt[3]!==71)throw new Error("Invalid .png file header");if(gt[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(gt[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(gt[6]!==26)throw new Error("Invalid .png file header");if(gt[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var xt=!1,vt=[],it=8;it<gt.length;){ht[3]=gt[it++],ht[2]=gt[it++],ht[1]=gt[it++],ht[0]=gt[it++];var kt=at[0]+4,Ot=new Uint8Array(kt);Ot[0]=gt[it++],Ot[1]=gt[it++],Ot[2]=gt[it++],Ot[3]=gt[it++];var an=String.fromCharCode(Ot[0])+String.fromCharCode(Ot[1])+String.fromCharCode(Ot[2])+String.fromCharCode(Ot[3]);if(!vt.length&&an!=="IHDR")throw new Error("IHDR header missing");if(an==="IEND"){xt=!0,vt.push({name:an,data:new Uint8Array(0)});break}for(var gn=4;gn<kt;gn++)Ot[gn]=gt[it++];ht[3]=gt[it++],ht[2]=gt[it++],ht[1]=gt[it++],ht[0]=gt[it++];var Qt=ot[0];if(pt.buf(Ot)!==Qt)throw new Error("CRC values for "+an+" header do not match, PNG file is likely corrupted");var bn=new Uint8Array(Ot.buffer.slice(4));vt.push({name:an,data:bn})}if(!xt)throw new Error(".png file ended prematurely: no IEND header was found");return vt};var ht=new Uint8Array(4),ot=new Int32Array(ht.buffer),at=new Uint32Array(ht.buffer)},1493:function(Ht,St,_){function pt(it,kt){return Math.pow(it[0]-kt[0],2)+Math.pow(it[1]-kt[1],2)}function ht(it,kt,Ot){const an=pt(kt,Ot);if(an===0)return pt(it,kt);let gn=((it[0]-kt[0])*(Ot[0]-kt[0])+(it[1]-kt[1])*(Ot[1]-kt[1]))/an;return gn=Math.max(0,Math.min(1,gn)),pt(it,ot(kt,Ot,gn))}function ot(it,kt,Ot){return[it[0]+(kt[0]-it[0])*Ot,it[1]+(kt[1]-it[1])*Ot]}function at(it,kt,Ot,an){const gn=an||[];if(function(fn,Zn){const mn=fn[Zn+0],pn=fn[Zn+1],An=fn[Zn+2],ft=fn[Zn+3];let Rt=3*pn[0]-2*mn[0]-ft[0];Rt*=Rt;let Bt=3*pn[1]-2*mn[1]-ft[1];Bt*=Bt;let bt=3*An[0]-2*ft[0]-mn[0];bt*=bt;let Gt=3*An[1]-2*ft[1]-mn[1];return Gt*=Gt,Rt<bt&&(Rt=bt),Bt<Gt&&(Bt=Gt),Rt+Bt}(it,kt)<Ot){const fn=it[kt+0];gn.length?(Qt=gn[gn.length-1],bn=fn,Math.sqrt(pt(Qt,bn))>1&&gn.push(fn)):gn.push(fn),gn.push(it[kt+3])}else{const Zn=it[kt+0],mn=it[kt+1],pn=it[kt+2],An=it[kt+3],ft=ot(Zn,mn,.5),Rt=ot(mn,pn,.5),Bt=ot(pn,An,.5),bt=ot(ft,Rt,.5),Gt=ot(Rt,Bt,.5),yt=ot(bt,Gt,.5);at([Zn,ft,bt,yt],0,Ot,gn),at([yt,Gt,Bt,An],0,Ot,gn)}var Qt,bn;return gn}function gt(it,kt){return xt(it,0,it.length,kt)}function xt(it,kt,Ot,an,gn){const Qt=gn||[],bn=it[kt],fn=it[Ot-1];let Zn=0,mn=1;for(let pn=kt+1;pn<Ot-1;++pn){const An=ht(it[pn],bn,fn);An>Zn&&(Zn=An,mn=pn)}return Math.sqrt(Zn)>an?(xt(it,kt,mn+1,an,Qt),xt(it,mn,Ot,an,Qt)):(Qt.length||Qt.push(bn),Qt.push(fn)),Qt}function vt(it,kt=.15,Ot){const an=[],gn=(it.length-1)/3;for(let Qt=0;Qt<gn;Qt++)at(it,3*Qt,kt,an);return Ot&&Ot>0?xt(an,0,an.length,Ot):an}_.d(St,{o:function(){return gt},s:function(){return vt}})},6094:function(Ht,St,_){var pt=_(9787),ht=Symbol.for("react.element"),ot=Symbol.for("react.fragment"),at=Object.prototype.hasOwnProperty,gt=pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xt={key:!0,ref:!0,__self:!0,__source:!0};function vt(it,kt,Ot){var an,gn={},Qt=null,bn=null;for(an in Ot!==void 0&&(Qt=""+Ot),kt.key!==void 0&&(Qt=""+kt.key),kt.ref!==void 0&&(bn=kt.ref),kt)at.call(kt,an)&&!xt.hasOwnProperty(an)&&(gn[an]=kt[an]);if(it&&it.defaultProps)for(an in kt=it.defaultProps)gn[an]===void 0&&(gn[an]=kt[an]);return{$$typeof:ht,type:it,key:Qt,ref:bn,props:gn,_owner:gt.current}}St.Fragment=ot,St.jsx=vt,St.jsxs=vt},4512:function(Ht,St,_){Ht.exports=_(6094)},8152:function(Ht,St,_){function pt(){return Math.floor(Math.random()*2147483648)}_.d(St,{W:function(){return pt},k:function(){return ht}});class ht{constructor(at){this.seed=at}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(Ht,St,_){function pt(Yt,Xt,zt){if(Yt&&Yt.length){const[At,Ut]=Xt,wt=Math.PI/180*zt,Jt=Math.cos(wt),Mt=Math.sin(wt);Yt.forEach(un=>{const[hn,jt]=un;un[0]=(hn-At)*Jt-(jt-Ut)*Mt+At,un[1]=(hn-At)*Mt+(jt-Ut)*Jt+Ut})}}function ht(Yt){const Xt=Yt[0],zt=Yt[1];return Math.sqrt(Math.pow(Xt[0]-zt[0],2)+Math.pow(Xt[1]-zt[1],2))}function ot(Yt,Xt){const zt=Xt.hachureAngle+90;let At=Xt.hachureGap;At<0&&(At=4*Xt.strokeWidth),At=Math.max(At,.1);const Ut=[0,0];if(zt)for(const Jt of Yt)pt(Jt,Ut,zt);const wt=function(Jt,Mt){const un=[];for(const Gn of Jt){const Zt=[...Gn];Zt[0].join(",")!==Zt[Zt.length-1].join(",")&&Zt.push([Zt[0][0],Zt[0][1]]),Zt.length>2&&un.push(Zt)}const hn=[];Mt=Math.max(Mt,.1);const jt=[];for(const Gn of un)for(let Zt=0;Zt<Gn.length-1;Zt++){const Xn=Gn[Zt],Cn=Gn[Zt+1];if(Xn[1]!==Cn[1]){const Qn=Math.min(Xn[1],Cn[1]);jt.push({ymin:Qn,ymax:Math.max(Xn[1],Cn[1]),x:Qn===Xn[1]?Xn[0]:Cn[0],islope:(Cn[0]-Xn[0])/(Cn[1]-Xn[1])})}}if(jt.sort((Gn,Zt)=>Gn.ymin<Zt.ymin?-1:Gn.ymin>Zt.ymin?1:Gn.x<Zt.x?-1:Gn.x>Zt.x?1:Gn.ymax===Zt.ymax?0:(Gn.ymax-Zt.ymax)/Math.abs(Gn.ymax-Zt.ymax)),!jt.length)return hn;let vn=[],xn=jt[0].ymin;for(;vn.length||jt.length;){if(jt.length){let Gn=-1;for(let Zt=0;Zt<jt.length&&!(jt[Zt].ymin>xn);Zt++)Gn=Zt;jt.splice(0,Gn+1).forEach(Zt=>{vn.push({s:xn,edge:Zt})})}if(vn=vn.filter(Gn=>!(Gn.edge.ymax<=xn)),vn.sort((Gn,Zt)=>Gn.edge.x===Zt.edge.x?0:(Gn.edge.x-Zt.edge.x)/Math.abs(Gn.edge.x-Zt.edge.x)),vn.length>1)for(let Gn=0;Gn<vn.length;Gn+=2){const Zt=Gn+1;if(Zt>=vn.length)break;const Xn=vn[Gn].edge,Cn=vn[Zt].edge;hn.push([[Math.round(Xn.x),xn],[Math.round(Cn.x),xn]])}xn+=Mt,vn.forEach(Gn=>{Gn.edge.x=Gn.edge.x+Mt*Gn.edge.islope})}return hn}(Yt,At);if(zt){for(const Jt of Yt)pt(Jt,Ut,-zt);(function(Jt,Mt,un){const hn=[];Jt.forEach(jt=>hn.push(...jt)),pt(hn,Mt,un)})(wt,Ut,-zt)}return wt}_.d(St,{Z:function(){return dn}});class at{constructor(Xt){this.helper=Xt}fillPolygons(Xt,zt){return this._fillPolygons(Xt,zt)}_fillPolygons(Xt,zt){const At=ot(Xt,zt);return{type:"fillSketch",ops:this.renderLines(At,zt)}}renderLines(Xt,zt){const At=[];for(const Ut of Xt)At.push(...this.helper.doubleLineOps(Ut[0][0],Ut[0][1],Ut[1][0],Ut[1][1],zt));return At}}class gt extends at{fillPolygons(Xt,zt){let At=zt.hachureGap;At<0&&(At=4*zt.strokeWidth),At=Math.max(At,.1);const Ut=ot(Xt,Object.assign({},zt,{hachureGap:At})),wt=Math.PI/180*zt.hachureAngle,Jt=[],Mt=.5*At*Math.cos(wt),un=.5*At*Math.sin(wt);for(const[hn,jt]of Ut)ht([hn,jt])&&Jt.push([[hn[0]-Mt,hn[1]+un],[...jt]],[[hn[0]+Mt,hn[1]-un],[...jt]]);return{type:"fillSketch",ops:this.renderLines(Jt,zt)}}}class xt extends at{fillPolygons(Xt,zt){const At=this._fillPolygons(Xt,zt),Ut=Object.assign({},zt,{hachureAngle:zt.hachureAngle+90}),wt=this._fillPolygons(Xt,Ut);return At.ops=At.ops.concat(wt.ops),At}}class vt{constructor(Xt){this.helper=Xt}fillPolygons(Xt,zt){const At=ot(Xt,zt=Object.assign({},zt,{hachureAngle:0}));return this.dotsOnLines(At,zt)}dotsOnLines(Xt,zt){const At=[];let Ut=zt.hachureGap;Ut<0&&(Ut=4*zt.strokeWidth),Ut=Math.max(Ut,.1);let wt=zt.fillWeight;wt<0&&(wt=zt.strokeWidth/2);const Jt=Ut/4;for(const Mt of Xt){const un=ht(Mt),hn=un/Ut,jt=Math.ceil(hn)-1,vn=un-jt*Ut,xn=(Mt[0][0]+Mt[1][0])/2-Ut/4,Gn=Math.min(Mt[0][1],Mt[1][1]);for(let Zt=0;Zt<jt;Zt++){const Xn=Gn+vn+Zt*Ut,Cn=xn-Jt+2*Math.random()*Jt,Qn=Xn-Jt+2*Math.random()*Jt,Tn=this.helper.ellipse(Cn,Qn,wt,wt,zt);At.push(...Tn.ops)}}return{type:"fillSketch",ops:At}}}class it{constructor(Xt){this.helper=Xt}fillPolygons(Xt,zt){const At=ot(Xt,zt);return{type:"fillSketch",ops:this.dashedLine(At,zt)}}dashedLine(Xt,zt){const At=zt.dashOffset<0?zt.hachureGap<0?4*zt.strokeWidth:zt.hachureGap:zt.dashOffset,Ut=zt.dashGap<0?zt.hachureGap<0?4*zt.strokeWidth:zt.hachureGap:zt.dashGap,wt=[];return Xt.forEach(Jt=>{const Mt=ht(Jt),un=Math.floor(Mt/(At+Ut)),hn=(Mt+Ut-un*(At+Ut))/2;let jt=Jt[0],vn=Jt[1];jt[0]>vn[0]&&(jt=Jt[1],vn=Jt[0]);const xn=Math.atan((vn[1]-jt[1])/(vn[0]-jt[0]));for(let Gn=0;Gn<un;Gn++){const Zt=Gn*(At+Ut),Xn=Zt+At,Cn=[jt[0]+Zt*Math.cos(xn)+hn*Math.cos(xn),jt[1]+Zt*Math.sin(xn)+hn*Math.sin(xn)],Qn=[jt[0]+Xn*Math.cos(xn)+hn*Math.cos(xn),jt[1]+Xn*Math.sin(xn)+hn*Math.sin(xn)];wt.push(...this.helper.doubleLineOps(Cn[0],Cn[1],Qn[0],Qn[1],zt))}}),wt}}class kt{constructor(Xt){this.helper=Xt}fillPolygons(Xt,zt){const At=zt.hachureGap<0?4*zt.strokeWidth:zt.hachureGap,Ut=zt.zigzagOffset<0?At:zt.zigzagOffset,wt=ot(Xt,zt=Object.assign({},zt,{hachureGap:At+Ut}));return{type:"fillSketch",ops:this.zigzagLines(wt,Ut,zt)}}zigzagLines(Xt,zt,At){const Ut=[];return Xt.forEach(wt=>{const Jt=ht(wt),Mt=Math.round(Jt/(2*zt));let un=wt[0],hn=wt[1];un[0]>hn[0]&&(un=wt[1],hn=wt[0]);const jt=Math.atan((hn[1]-un[1])/(hn[0]-un[0]));for(let vn=0;vn<Mt;vn++){const xn=2*vn*zt,Gn=2*(vn+1)*zt,Zt=Math.sqrt(2*Math.pow(zt,2)),Xn=[un[0]+xn*Math.cos(jt),un[1]+xn*Math.sin(jt)],Cn=[un[0]+Gn*Math.cos(jt),un[1]+Gn*Math.sin(jt)],Qn=[Xn[0]+Zt*Math.cos(jt+Math.PI/4),Xn[1]+Zt*Math.sin(jt+Math.PI/4)];Ut.push(...this.helper.doubleLineOps(Xn[0],Xn[1],Qn[0],Qn[1],At),...this.helper.doubleLineOps(Qn[0],Qn[1],Cn[0],Cn[1],At))}}),Ut}}const Ot={};var an=_(8152);const gn={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Qt(Yt,Xt){return Yt.type===Xt}function bn(Yt){const Xt=[],zt=function(Jt){const Mt=new Array;for(;Jt!=="";)if(Jt.match(/^([ \t\r\n,]+)/))Jt=Jt.substr(RegExp.$1.length);else if(Jt.match(/^([aAcChHlLmMqQsStTvVzZ])/))Mt[Mt.length]={type:0,text:RegExp.$1},Jt=Jt.substr(RegExp.$1.length);else{if(!Jt.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];Mt[Mt.length]={type:1,text:`${parseFloat(RegExp.$1)}`},Jt=Jt.substr(RegExp.$1.length)}return Mt[Mt.length]={type:2,text:""},Mt}(Yt);let At="BOD",Ut=0,wt=zt[Ut];for(;!Qt(wt,2);){let Jt=0;const Mt=[];if(At==="BOD"){if(wt.text!=="M"&&wt.text!=="m")return bn("M0,0"+Yt);Ut++,Jt=gn[wt.text],At=wt.text}else Qt(wt,1)?Jt=gn[At]:(Ut++,Jt=gn[wt.text],At=wt.text);if(!(Ut+Jt<zt.length))throw new Error("Path data ended short");for(let un=Ut;un<Ut+Jt;un++){const hn=zt[un];if(!Qt(hn,1))throw new Error("Param not a number: "+At+","+hn.text);Mt[Mt.length]=+hn.text}if(typeof gn[At]!="number")throw new Error("Bad segment: "+At);{const un={key:At,data:Mt};Xt.push(un),Ut+=Jt,wt=zt[Ut],At==="M"&&(At="L"),At==="m"&&(At="l")}}return Xt}function fn(Yt){let Xt=0,zt=0,At=0,Ut=0;const wt=[];for(const{key:Jt,data:Mt}of Yt)switch(Jt){case"M":wt.push({key:"M",data:[...Mt]}),[Xt,zt]=Mt,[At,Ut]=Mt;break;case"m":Xt+=Mt[0],zt+=Mt[1],wt.push({key:"M",data:[Xt,zt]}),At=Xt,Ut=zt;break;case"L":wt.push({key:"L",data:[...Mt]}),[Xt,zt]=Mt;break;case"l":Xt+=Mt[0],zt+=Mt[1],wt.push({key:"L",data:[Xt,zt]});break;case"C":wt.push({key:"C",data:[...Mt]}),Xt=Mt[4],zt=Mt[5];break;case"c":{const un=Mt.map((hn,jt)=>jt%2?hn+zt:hn+Xt);wt.push({key:"C",data:un}),Xt=un[4],zt=un[5];break}case"Q":wt.push({key:"Q",data:[...Mt]}),Xt=Mt[2],zt=Mt[3];break;case"q":{const un=Mt.map((hn,jt)=>jt%2?hn+zt:hn+Xt);wt.push({key:"Q",data:un}),Xt=un[2],zt=un[3];break}case"A":wt.push({key:"A",data:[...Mt]}),Xt=Mt[5],zt=Mt[6];break;case"a":Xt+=Mt[5],zt+=Mt[6],wt.push({key:"A",data:[Mt[0],Mt[1],Mt[2],Mt[3],Mt[4],Xt,zt]});break;case"H":wt.push({key:"H",data:[...Mt]}),Xt=Mt[0];break;case"h":Xt+=Mt[0],wt.push({key:"H",data:[Xt]});break;case"V":wt.push({key:"V",data:[...Mt]}),zt=Mt[0];break;case"v":zt+=Mt[0],wt.push({key:"V",data:[zt]});break;case"S":wt.push({key:"S",data:[...Mt]}),Xt=Mt[2],zt=Mt[3];break;case"s":{const un=Mt.map((hn,jt)=>jt%2?hn+zt:hn+Xt);wt.push({key:"S",data:un}),Xt=un[2],zt=un[3];break}case"T":wt.push({key:"T",data:[...Mt]}),Xt=Mt[0],zt=Mt[1];break;case"t":Xt+=Mt[0],zt+=Mt[1],wt.push({key:"T",data:[Xt,zt]});break;case"Z":case"z":wt.push({key:"Z",data:[]}),Xt=At,zt=Ut}return wt}function Zn(Yt){const Xt=[];let zt="",At=0,Ut=0,wt=0,Jt=0,Mt=0,un=0;for(const{key:hn,data:jt}of Yt){switch(hn){case"M":Xt.push({key:"M",data:[...jt]}),[At,Ut]=jt,[wt,Jt]=jt;break;case"C":Xt.push({key:"C",data:[...jt]}),At=jt[4],Ut=jt[5],Mt=jt[2],un=jt[3];break;case"L":Xt.push({key:"L",data:[...jt]}),[At,Ut]=jt;break;case"H":At=jt[0],Xt.push({key:"L",data:[At,Ut]});break;case"V":Ut=jt[0],Xt.push({key:"L",data:[At,Ut]});break;case"S":{let vn=0,xn=0;zt==="C"||zt==="S"?(vn=At+(At-Mt),xn=Ut+(Ut-un)):(vn=At,xn=Ut),Xt.push({key:"C",data:[vn,xn,...jt]}),Mt=jt[0],un=jt[1],At=jt[2],Ut=jt[3];break}case"T":{const[vn,xn]=jt;let Gn=0,Zt=0;zt==="Q"||zt==="T"?(Gn=At+(At-Mt),Zt=Ut+(Ut-un)):(Gn=At,Zt=Ut);const Xn=At+2*(Gn-At)/3,Cn=Ut+2*(Zt-Ut)/3,Qn=vn+2*(Gn-vn)/3,Tn=xn+2*(Zt-xn)/3;Xt.push({key:"C",data:[Xn,Cn,Qn,Tn,vn,xn]}),Mt=Gn,un=Zt,At=vn,Ut=xn;break}case"Q":{const[vn,xn,Gn,Zt]=jt,Xn=At+2*(vn-At)/3,Cn=Ut+2*(xn-Ut)/3,Qn=Gn+2*(vn-Gn)/3,Tn=Zt+2*(xn-Zt)/3;Xt.push({key:"C",data:[Xn,Cn,Qn,Tn,Gn,Zt]}),Mt=vn,un=xn,At=Gn,Ut=Zt;break}case"A":{const vn=Math.abs(jt[0]),xn=Math.abs(jt[1]),Gn=jt[2],Zt=jt[3],Xn=jt[4],Cn=jt[5],Qn=jt[6];vn===0||xn===0?(Xt.push({key:"C",data:[At,Ut,Cn,Qn,Cn,Qn]}),At=Cn,Ut=Qn):(At!==Cn||Ut!==Qn)&&(pn(At,Ut,Cn,Qn,vn,xn,Gn,Zt,Xn).forEach(function(Tn){Xt.push({key:"C",data:Tn})}),At=Cn,Ut=Qn);break}case"Z":Xt.push({key:"Z",data:[]}),At=wt,Ut=Jt}zt=hn}return Xt}function mn(Yt,Xt,zt){return[Yt*Math.cos(zt)-Xt*Math.sin(zt),Yt*Math.sin(zt)+Xt*Math.cos(zt)]}function pn(Yt,Xt,zt,At,Ut,wt,Jt,Mt,un,hn){const jt=(vn=Jt,Math.PI*vn/180);var vn;let xn=[],Gn=0,Zt=0,Xn=0,Cn=0;if(hn)[Gn,Zt,Xn,Cn]=hn;else{[Yt,Xt]=mn(Yt,Xt,-jt),[zt,At]=mn(zt,At,-jt);const Jn=(Yt-zt)/2,er=(Xt-At)/2;let cr=Jn*Jn/(Ut*Ut)+er*er/(wt*wt);cr>1&&(cr=Math.sqrt(cr),Ut*=cr,wt*=cr);const or=Ut*Ut,ur=wt*wt,Ur=or*ur-or*er*er-ur*Jn*Jn,Zr=or*er*er+ur*Jn*Jn,yr=(Mt===un?-1:1)*Math.sqrt(Math.abs(Ur/Zr));Xn=yr*Ut*er/wt+(Yt+zt)/2,Cn=yr*-wt*Jn/Ut+(Xt+At)/2,Gn=Math.asin(parseFloat(((Xt-Cn)/wt).toFixed(9))),Zt=Math.asin(parseFloat(((At-Cn)/wt).toFixed(9))),Yt<Xn&&(Gn=Math.PI-Gn),zt<Xn&&(Zt=Math.PI-Zt),Gn<0&&(Gn=2*Math.PI+Gn),Zt<0&&(Zt=2*Math.PI+Zt),un&&Gn>Zt&&(Gn-=2*Math.PI),!un&&Zt>Gn&&(Zt-=2*Math.PI)}let Qn=Zt-Gn;if(Math.abs(Qn)>120*Math.PI/180){const Jn=Zt,er=zt,cr=At;Zt=un&&Zt>Gn?Gn+120*Math.PI/180*1:Gn+120*Math.PI/180*-1,xn=pn(zt=Xn+Ut*Math.cos(Zt),At=Cn+wt*Math.sin(Zt),er,cr,Ut,wt,Jt,0,un,[Zt,Jn,Xn,Cn])}Qn=Zt-Gn;const Tn=Math.cos(Gn),Pn=Math.sin(Gn),tr=Math.cos(Zt),ir=Math.sin(Zt),gr=Math.tan(Qn/4),Wn=4/3*Ut*gr,ln=4/3*wt*gr,Un=[Yt,Xt],wn=[Yt+Wn*Pn,Xt-ln*Tn],Mn=[zt+Wn*ir,At-ln*tr],zn=[zt,At];if(wn[0]=2*Un[0]-wn[0],wn[1]=2*Un[1]-wn[1],hn)return[wn,Mn,zn].concat(xn);{xn=[wn,Mn,zn].concat(xn);const Jn=[];for(let er=0;er<xn.length;er+=3){const cr=mn(xn[er][0],xn[er][1],jt),or=mn(xn[er+1][0],xn[er+1][1],jt),ur=mn(xn[er+2][0],xn[er+2][1],jt);Jn.push([cr[0],cr[1],or[0],or[1],ur[0],ur[1]])}return Jn}}const An={randOffset:function(Yt,Xt){return st(Yt,Xt)},randOffsetWithRange:function(Yt,Xt,zt){return lt(Yt,Xt,zt)},ellipse:function(Yt,Xt,zt,At,Ut){const wt=Gt(zt,At,Ut);return yt(Yt,Xt,Ut,wt).opset},doubleLineOps:function(Yt,Xt,zt,At,Ut){return It(Yt,Xt,zt,At,Ut,!0)}};function ft(Yt,Xt,zt,At,Ut){return{type:"path",ops:It(Yt,Xt,zt,At,Ut)}}function Rt(Yt,Xt,zt){const At=(Yt||[]).length;if(At>2){const Ut=[];for(let wt=0;wt<At-1;wt++)Ut.push(...It(Yt[wt][0],Yt[wt][1],Yt[wt+1][0],Yt[wt+1][1],zt));return Xt&&Ut.push(...It(Yt[At-1][0],Yt[At-1][1],Yt[0][0],Yt[0][1],zt)),{type:"path",ops:Ut}}return At===2?ft(Yt[0][0],Yt[0][1],Yt[1][0],Yt[1][1],zt):{type:"path",ops:[]}}function Bt(Yt,Xt,zt,At,Ut){return function(wt,Jt){return Rt(wt,!0,Jt)}([[Yt,Xt],[Yt+zt,Xt],[Yt+zt,Xt+At],[Yt,Xt+At]],Ut)}function bt(Yt,Xt){let zt=tn(Yt,1*(1+.2*Xt.roughness),Xt);if(!Xt.disableMultiStroke){const At=tn(Yt,1.5*(1+.22*Xt.roughness),function(Ut){const wt=Object.assign({},Ut);return wt.randomizer=void 0,Ut.seed&&(wt.seed=Ut.seed+1),wt}(Xt));zt=zt.concat(At)}return{type:"path",ops:zt}}function Gt(Yt,Xt,zt){const At=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Yt/2,2)+Math.pow(Xt/2,2))/2)),Ut=Math.ceil(Math.max(zt.curveStepCount,zt.curveStepCount/Math.sqrt(200)*At)),wt=2*Math.PI/Ut;let Jt=Math.abs(Yt/2),Mt=Math.abs(Xt/2);const un=1-zt.curveFitting;return Jt+=st(Jt*un,zt),Mt+=st(Mt*un,zt),{increment:wt,rx:Jt,ry:Mt}}function yt(Yt,Xt,zt,At){const[Ut,wt]=$t(At.increment,Yt,Xt,At.rx,At.ry,1,At.increment*lt(.1,lt(.4,1,zt),zt),zt);let Jt=Nt(Ut,null,zt);if(!zt.disableMultiStroke&&zt.roughness!==0){const[Mt]=$t(At.increment,Yt,Xt,At.rx,At.ry,1.5,0,zt),un=Nt(Mt,null,zt);Jt=Jt.concat(un)}return{estimatedPoints:wt,opset:{type:"path",ops:Jt}}}function Ct(Yt,Xt,zt,At,Ut,wt,Jt,Mt,un){const hn=Yt,jt=Xt;let vn=Math.abs(zt/2),xn=Math.abs(At/2);vn+=st(.01*vn,un),xn+=st(.01*xn,un);let Gn=Ut,Zt=wt;for(;Gn<0;)Gn+=2*Math.PI,Zt+=2*Math.PI;Zt-Gn>2*Math.PI&&(Gn=0,Zt=2*Math.PI);const Xn=2*Math.PI/un.curveStepCount,Cn=Math.min(Xn/2,(Zt-Gn)/2),Qn=Wt(Cn,hn,jt,vn,xn,Gn,Zt,1,un);if(!un.disableMultiStroke){const Tn=Wt(Cn,hn,jt,vn,xn,Gn,Zt,1.5,un);Qn.push(...Tn)}return Jt&&(Mt?Qn.push(...It(hn,jt,hn+vn*Math.cos(Gn),jt+xn*Math.sin(Gn),un),...It(hn,jt,hn+vn*Math.cos(Zt),jt+xn*Math.sin(Zt),un)):Qn.push({op:"lineTo",data:[hn,jt]},{op:"lineTo",data:[hn+vn*Math.cos(Gn),jt+xn*Math.sin(Gn)]})),{type:"path",ops:Qn}}function ct(Yt,Xt){const zt=[];for(const At of Yt)if(At.length){const Ut=Xt.maxRandomnessOffset||0,wt=At.length;if(wt>2){zt.push({op:"move",data:[At[0][0]+st(Ut,Xt),At[0][1]+st(Ut,Xt)]});for(let Jt=1;Jt<wt;Jt++)zt.push({op:"lineTo",data:[At[Jt][0]+st(Ut,Xt),At[Jt][1]+st(Ut,Xt)]})}}return{type:"fillPath",ops:zt}}function rt(Yt,Xt){return function(zt,At){let Ut=zt.fillStyle||"hachure";if(!Ot[Ut])switch(Ut){case"zigzag":Ot[Ut]||(Ot[Ut]=new gt(At));break;case"cross-hatch":Ot[Ut]||(Ot[Ut]=new xt(At));break;case"dots":Ot[Ut]||(Ot[Ut]=new vt(At));break;case"dashed":Ot[Ut]||(Ot[Ut]=new it(At));break;case"zigzag-line":Ot[Ut]||(Ot[Ut]=new kt(At));break;default:Ut="hachure",Ot[Ut]||(Ot[Ut]=new at(At))}return Ot[Ut]}(Xt,An).fillPolygons(Yt,Xt)}function _e(Yt){return Yt.randomizer||(Yt.randomizer=new an.k(Yt.seed||0)),Yt.randomizer.next()}function lt(Yt,Xt,zt,At=1){return zt.roughness*At*(_e(zt)*(Xt-Yt)+Yt)}function st(Yt,Xt,zt=1){return lt(-Yt,Yt,Xt,zt)}function It(Yt,Xt,zt,At,Ut,wt=!1){const Jt=wt?Ut.disableMultiStrokeFill:Ut.disableMultiStroke,Mt=Tt(Yt,Xt,zt,At,Ut,!0,!1);if(Jt)return Mt;const un=Tt(Yt,Xt,zt,At,Ut,!0,!0);return Mt.concat(un)}function Tt(Yt,Xt,zt,At,Ut,wt,Jt){const Mt=Math.pow(Yt-zt,2)+Math.pow(Xt-At,2),un=Math.sqrt(Mt);let hn=1;hn=un<200?1:un>500?.4:-.0016668*un+1.233334;let jt=Ut.maxRandomnessOffset||0;jt*jt*100>Mt&&(jt=un/10);const vn=jt/2,xn=.2+.2*_e(Ut);let Gn=Ut.bowing*Ut.maxRandomnessOffset*(At-Xt)/200,Zt=Ut.bowing*Ut.maxRandomnessOffset*(Yt-zt)/200;Gn=st(Gn,Ut,hn),Zt=st(Zt,Ut,hn);const Xn=[],Cn=()=>st(vn,Ut,hn),Qn=()=>st(jt,Ut,hn),Tn=Ut.preserveVertices;return wt&&(Jt?Xn.push({op:"move",data:[Yt+(Tn?0:Cn()),Xt+(Tn?0:Cn())]}):Xn.push({op:"move",data:[Yt+(Tn?0:st(jt,Ut,hn)),Xt+(Tn?0:st(jt,Ut,hn))]})),Jt?Xn.push({op:"bcurveTo",data:[Gn+Yt+(zt-Yt)*xn+Cn(),Zt+Xt+(At-Xt)*xn+Cn(),Gn+Yt+2*(zt-Yt)*xn+Cn(),Zt+Xt+2*(At-Xt)*xn+Cn(),zt+(Tn?0:Cn()),At+(Tn?0:Cn())]}):Xn.push({op:"bcurveTo",data:[Gn+Yt+(zt-Yt)*xn+Qn(),Zt+Xt+(At-Xt)*xn+Qn(),Gn+Yt+2*(zt-Yt)*xn+Qn(),Zt+Xt+2*(At-Xt)*xn+Qn(),zt+(Tn?0:Qn()),At+(Tn?0:Qn())]}),Xn}function tn(Yt,Xt,zt){const At=[];At.push([Yt[0][0]+st(Xt,zt),Yt[0][1]+st(Xt,zt)]),At.push([Yt[0][0]+st(Xt,zt),Yt[0][1]+st(Xt,zt)]);for(let Ut=1;Ut<Yt.length;Ut++)At.push([Yt[Ut][0]+st(Xt,zt),Yt[Ut][1]+st(Xt,zt)]),Ut===Yt.length-1&&At.push([Yt[Ut][0]+st(Xt,zt),Yt[Ut][1]+st(Xt,zt)]);return Nt(At,null,zt)}function Nt(Yt,Xt,zt){const At=Yt.length,Ut=[];if(At>3){const wt=[],Jt=1-zt.curveTightness;Ut.push({op:"move",data:[Yt[1][0],Yt[1][1]]});for(let Mt=1;Mt+2<At;Mt++){const un=Yt[Mt];wt[0]=[un[0],un[1]],wt[1]=[un[0]+(Jt*Yt[Mt+1][0]-Jt*Yt[Mt-1][0])/6,un[1]+(Jt*Yt[Mt+1][1]-Jt*Yt[Mt-1][1])/6],wt[2]=[Yt[Mt+1][0]+(Jt*Yt[Mt][0]-Jt*Yt[Mt+2][0])/6,Yt[Mt+1][1]+(Jt*Yt[Mt][1]-Jt*Yt[Mt+2][1])/6],wt[3]=[Yt[Mt+1][0],Yt[Mt+1][1]],Ut.push({op:"bcurveTo",data:[wt[1][0],wt[1][1],wt[2][0],wt[2][1],wt[3][0],wt[3][1]]})}if(Xt&&Xt.length===2){const Mt=zt.maxRandomnessOffset;Ut.push({op:"lineTo",data:[Xt[0]+st(Mt,zt),Xt[1]+st(Mt,zt)]})}}else At===3?(Ut.push({op:"move",data:[Yt[1][0],Yt[1][1]]}),Ut.push({op:"bcurveTo",data:[Yt[1][0],Yt[1][1],Yt[2][0],Yt[2][1],Yt[2][0],Yt[2][1]]})):At===2&&Ut.push(...It(Yt[0][0],Yt[0][1],Yt[1][0],Yt[1][1],zt));return Ut}function $t(Yt,Xt,zt,At,Ut,wt,Jt,Mt){const un=[],hn=[];if(Mt.roughness===0){Yt/=4,hn.push([Xt+At*Math.cos(-Yt),zt+Ut*Math.sin(-Yt)]);for(let jt=0;jt<=2*Math.PI;jt+=Yt){const vn=[Xt+At*Math.cos(jt),zt+Ut*Math.sin(jt)];un.push(vn),hn.push(vn)}hn.push([Xt+At*Math.cos(0),zt+Ut*Math.sin(0)]),hn.push([Xt+At*Math.cos(Yt),zt+Ut*Math.sin(Yt)])}else{const jt=st(.5,Mt)-Math.PI/2;hn.push([st(wt,Mt)+Xt+.9*At*Math.cos(jt-Yt),st(wt,Mt)+zt+.9*Ut*Math.sin(jt-Yt)]);const vn=2*Math.PI+jt-.01;for(let xn=jt;xn<vn;xn+=Yt){const Gn=[st(wt,Mt)+Xt+At*Math.cos(xn),st(wt,Mt)+zt+Ut*Math.sin(xn)];un.push(Gn),hn.push(Gn)}hn.push([st(wt,Mt)+Xt+At*Math.cos(jt+2*Math.PI+.5*Jt),st(wt,Mt)+zt+Ut*Math.sin(jt+2*Math.PI+.5*Jt)]),hn.push([st(wt,Mt)+Xt+.98*At*Math.cos(jt+Jt),st(wt,Mt)+zt+.98*Ut*Math.sin(jt+Jt)]),hn.push([st(wt,Mt)+Xt+.9*At*Math.cos(jt+.5*Jt),st(wt,Mt)+zt+.9*Ut*Math.sin(jt+.5*Jt)])}return[hn,un]}function Wt(Yt,Xt,zt,At,Ut,wt,Jt,Mt,un){const hn=wt+st(.1,un),jt=[];jt.push([st(Mt,un)+Xt+.9*At*Math.cos(hn-Yt),st(Mt,un)+zt+.9*Ut*Math.sin(hn-Yt)]);for(let vn=hn;vn<=Jt;vn+=Yt)jt.push([st(Mt,un)+Xt+At*Math.cos(vn),st(Mt,un)+zt+Ut*Math.sin(vn)]);return jt.push([Xt+At*Math.cos(Jt),zt+Ut*Math.sin(Jt)]),jt.push([Xt+At*Math.cos(Jt),zt+Ut*Math.sin(Jt)]),Nt(jt,null,un)}function Dt(Yt,Xt,zt,At,Ut,wt,Jt,Mt){const un=[],hn=[Mt.maxRandomnessOffset||1,(Mt.maxRandomnessOffset||1)+.3];let jt=[0,0];const vn=Mt.disableMultiStroke?1:2,xn=Mt.preserveVertices;for(let Gn=0;Gn<vn;Gn++)Gn===0?un.push({op:"move",data:[Jt[0],Jt[1]]}):un.push({op:"move",data:[Jt[0]+(xn?0:st(hn[0],Mt)),Jt[1]+(xn?0:st(hn[0],Mt))]}),jt=xn?[Ut,wt]:[Ut+st(hn[Gn],Mt),wt+st(hn[Gn],Mt)],un.push({op:"bcurveTo",data:[Yt+st(hn[Gn],Mt),Xt+st(hn[Gn],Mt),zt+st(hn[Gn],Mt),At+st(hn[Gn],Mt),jt[0],jt[1]]});return un}function In(Yt){return[...Yt]}var rn=_(1493);const _t="none";class Et{constructor(Xt){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=Xt||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,an.W)()}_o(Xt){return Xt?Object.assign({},this.defaultOptions,Xt):this.defaultOptions}_d(Xt,zt,At){return{shape:Xt,sets:zt||[],options:At||this.defaultOptions}}line(Xt,zt,At,Ut,wt){const Jt=this._o(wt);return this._d("line",[ft(Xt,zt,At,Ut,Jt)],Jt)}rectangle(Xt,zt,At,Ut,wt){const Jt=this._o(wt),Mt=[],un=Bt(Xt,zt,At,Ut,Jt);if(Jt.fill){const hn=[[Xt,zt],[Xt+At,zt],[Xt+At,zt+Ut],[Xt,zt+Ut]];Jt.fillStyle==="solid"?Mt.push(ct([hn],Jt)):Mt.push(rt([hn],Jt))}return Jt.stroke!==_t&&Mt.push(un),this._d("rectangle",Mt,Jt)}ellipse(Xt,zt,At,Ut,wt){const Jt=this._o(wt),Mt=[],un=Gt(At,Ut,Jt),hn=yt(Xt,zt,Jt,un);if(Jt.fill)if(Jt.fillStyle==="solid"){const jt=yt(Xt,zt,Jt,un).opset;jt.type="fillPath",Mt.push(jt)}else Mt.push(rt([hn.estimatedPoints],Jt));return Jt.stroke!==_t&&Mt.push(hn.opset),this._d("ellipse",Mt,Jt)}circle(Xt,zt,At,Ut){const wt=this.ellipse(Xt,zt,At,At,Ut);return wt.shape="circle",wt}linearPath(Xt,zt){const At=this._o(zt);return this._d("linearPath",[Rt(Xt,!1,At)],At)}arc(Xt,zt,At,Ut,wt,Jt,Mt=!1,un){const hn=this._o(un),jt=[],vn=Ct(Xt,zt,At,Ut,wt,Jt,Mt,!0,hn);if(Mt&&hn.fill)if(hn.fillStyle==="solid"){const xn=Object.assign({},hn);xn.disableMultiStroke=!0;const Gn=Ct(Xt,zt,At,Ut,wt,Jt,!0,!1,xn);Gn.type="fillPath",jt.push(Gn)}else jt.push(function(xn,Gn,Zt,Xn,Cn,Qn,Tn){const Pn=xn,tr=Gn;let ir=Math.abs(Zt/2),gr=Math.abs(Xn/2);ir+=st(.01*ir,Tn),gr+=st(.01*gr,Tn);let Wn=Cn,ln=Qn;for(;Wn<0;)Wn+=2*Math.PI,ln+=2*Math.PI;ln-Wn>2*Math.PI&&(Wn=0,ln=2*Math.PI);const Un=(ln-Wn)/Tn.curveStepCount,wn=[];for(let Mn=Wn;Mn<=ln;Mn+=Un)wn.push([Pn+ir*Math.cos(Mn),tr+gr*Math.sin(Mn)]);return wn.push([Pn+ir*Math.cos(ln),tr+gr*Math.sin(ln)]),wn.push([Pn,tr]),rt([wn],Tn)}(Xt,zt,At,Ut,wt,Jt,hn));return hn.stroke!==_t&&jt.push(vn),this._d("arc",jt,hn)}curve(Xt,zt){const At=this._o(zt),Ut=[],wt=bt(Xt,At);if(At.fill&&At.fill!==_t&&Xt.length>=3){const Jt=function(un,hn=0){const jt=un.length;if(jt<3)throw new Error("A curve must have at least three points.");const vn=[];if(jt===3)vn.push(In(un[0]),In(un[1]),In(un[2]),In(un[2]));else{const xn=[];xn.push(un[0],un[0]);for(let Xn=1;Xn<un.length;Xn++)xn.push(un[Xn]),Xn===un.length-1&&xn.push(un[Xn]);const Gn=[],Zt=1-hn;vn.push(In(xn[0]));for(let Xn=1;Xn+2<xn.length;Xn++){const Cn=xn[Xn];Gn[0]=[Cn[0],Cn[1]],Gn[1]=[Cn[0]+(Zt*xn[Xn+1][0]-Zt*xn[Xn-1][0])/6,Cn[1]+(Zt*xn[Xn+1][1]-Zt*xn[Xn-1][1])/6],Gn[2]=[xn[Xn+1][0]+(Zt*xn[Xn][0]-Zt*xn[Xn+2][0])/6,xn[Xn+1][1]+(Zt*xn[Xn][1]-Zt*xn[Xn+2][1])/6],Gn[3]=[xn[Xn+1][0],xn[Xn+1][1]],vn.push(Gn[1],Gn[2],Gn[3])}}return vn}(Xt),Mt=(0,rn.s)(Jt,10,(1+At.roughness)/2);At.fillStyle==="solid"?Ut.push(ct([Mt],At)):Ut.push(rt([Mt],At))}return At.stroke!==_t&&Ut.push(wt),this._d("curve",Ut,At)}polygon(Xt,zt){const At=this._o(zt),Ut=[],wt=Rt(Xt,!0,At);return At.fill&&(At.fillStyle==="solid"?Ut.push(ct([Xt],At)):Ut.push(rt([Xt],At))),At.stroke!==_t&&Ut.push(wt),this._d("polygon",Ut,At)}path(Xt,zt){const At=this._o(zt),Ut=[];if(!Xt)return this._d("path",Ut,At);Xt=(Xt||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const wt=At.fill&&At.fill!=="transparent"&&At.fill!==_t,Jt=At.stroke!==_t,Mt=!!(At.simplification&&At.simplification<1),un=function(hn,jt,vn){const xn=Zn(fn(bn(hn))),Gn=[];let Zt=[],Xn=[0,0],Cn=[];const Qn=()=>{Cn.length>=4&&Zt.push(...(0,rn.s)(Cn,jt)),Cn=[]},Tn=()=>{Qn(),Zt.length&&(Gn.push(Zt),Zt=[])};for(const{key:tr,data:ir}of xn)switch(tr){case"M":Tn(),Xn=[ir[0],ir[1]],Zt.push(Xn);break;case"L":Qn(),Zt.push([ir[0],ir[1]]);break;case"C":if(!Cn.length){const gr=Zt.length?Zt[Zt.length-1]:Xn;Cn.push([gr[0],gr[1]])}Cn.push([ir[0],ir[1]]),Cn.push([ir[2],ir[3]]),Cn.push([ir[4],ir[5]]);break;case"Z":Qn(),Zt.push([Xn[0],Xn[1]])}if(Tn(),!vn)return Gn;const Pn=[];for(const tr of Gn){const ir=(0,rn.o)(tr,vn);ir.length&&Pn.push(ir)}return Pn}(Xt,1,Mt?4-4*At.simplification:(1+At.roughness)/2);return wt&&(At.fillStyle==="solid"?Ut.push(ct(un,At)):Ut.push(rt(un,At))),Jt&&(Mt?un.forEach(hn=>{Ut.push(Rt(hn,!1,At))}):Ut.push(function(hn,jt){const vn=Zn(fn(bn(hn))),xn=[];let Gn=[0,0],Zt=[0,0];for(const{key:Xn,data:Cn}of vn)switch(Xn){case"M":{const Qn=1*(jt.maxRandomnessOffset||0),Tn=jt.preserveVertices;xn.push({op:"move",data:Cn.map(Pn=>Pn+(Tn?0:st(Qn,jt)))}),Zt=[Cn[0],Cn[1]],Gn=[Cn[0],Cn[1]];break}case"L":xn.push(...It(Zt[0],Zt[1],Cn[0],Cn[1],jt)),Zt=[Cn[0],Cn[1]];break;case"C":{const[Qn,Tn,Pn,tr,ir,gr]=Cn;xn.push(...Dt(Qn,Tn,Pn,tr,ir,gr,Zt,jt)),Zt=[ir,gr];break}case"Z":xn.push(...It(Zt[0],Zt[1],Gn[0],Gn[1],jt)),Zt=[Gn[0],Gn[1]]}return{type:"path",ops:xn}}(Xt,At))),this._d("path",Ut,At)}opsToPath(Xt,zt){let At="";for(const Ut of Xt.ops){const wt=typeof zt=="number"&&zt>=0?Ut.data.map(Jt=>+Jt.toFixed(zt)):Ut.data;switch(Ut.op){case"move":At+=`M${wt[0]} ${wt[1]} `;break;case"bcurveTo":At+=`C${wt[0]} ${wt[1]}, ${wt[2]} ${wt[3]}, ${wt[4]} ${wt[5]} `;break;case"lineTo":At+=`L${wt[0]} ${wt[1]} `}}return At.trim()}toPaths(Xt){const zt=Xt.sets||[],At=Xt.options||this.defaultOptions,Ut=[];for(const wt of zt){let Jt=null;switch(wt.type){case"path":Jt={d:this.opsToPath(wt),stroke:At.stroke,strokeWidth:At.strokeWidth,fill:_t};break;case"fillPath":Jt={d:this.opsToPath(wt),stroke:_t,strokeWidth:0,fill:At.fill||_t};break;case"fillSketch":Jt=this.fillSketch(wt,At)}Jt&&Ut.push(Jt)}return Ut}fillSketch(Xt,zt){let At=zt.fillWeight;return At<0&&(At=zt.strokeWidth/2),{d:this.opsToPath(Xt),stroke:zt.fill||_t,strokeWidth:At,fill:_t}}}class Vt{constructor(Xt,zt){this.canvas=Xt,this.ctx=this.canvas.getContext("2d"),this.gen=new Et(zt)}draw(Xt){const zt=Xt.sets||[],At=Xt.options||this.getDefaultOptions(),Ut=this.ctx,wt=Xt.options.fixedDecimalPlaceDigits;for(const Jt of zt)switch(Jt.type){case"path":Ut.save(),Ut.strokeStyle=At.stroke==="none"?"transparent":At.stroke,Ut.lineWidth=At.strokeWidth,At.strokeLineDash&&Ut.setLineDash(At.strokeLineDash),At.strokeLineDashOffset&&(Ut.lineDashOffset=At.strokeLineDashOffset),this._drawToContext(Ut,Jt,wt),Ut.restore();break;case"fillPath":{Ut.save(),Ut.fillStyle=At.fill||"";const Mt=Xt.shape==="curve"||Xt.shape==="polygon"||Xt.shape==="path"?"evenodd":"nonzero";this._drawToContext(Ut,Jt,wt,Mt),Ut.restore();break}case"fillSketch":this.fillSketch(Ut,Jt,At)}}fillSketch(Xt,zt,At){let Ut=At.fillWeight;Ut<0&&(Ut=At.strokeWidth/2),Xt.save(),At.fillLineDash&&Xt.setLineDash(At.fillLineDash),At.fillLineDashOffset&&(Xt.lineDashOffset=At.fillLineDashOffset),Xt.strokeStyle=At.fill||"",Xt.lineWidth=Ut,this._drawToContext(Xt,zt,At.fixedDecimalPlaceDigits),Xt.restore()}_drawToContext(Xt,zt,At,Ut="nonzero"){Xt.beginPath();for(const wt of zt.ops){const Jt=typeof At=="number"&&At>=0?wt.data.map(Mt=>+Mt.toFixed(At)):wt.data;switch(wt.op){case"move":Xt.moveTo(Jt[0],Jt[1]);break;case"bcurveTo":Xt.bezierCurveTo(Jt[0],Jt[1],Jt[2],Jt[3],Jt[4],Jt[5]);break;case"lineTo":Xt.lineTo(Jt[0],Jt[1])}}zt.type==="fillPath"?Xt.fill(Ut):Xt.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(Xt,zt,At,Ut,wt){const Jt=this.gen.line(Xt,zt,At,Ut,wt);return this.draw(Jt),Jt}rectangle(Xt,zt,At,Ut,wt){const Jt=this.gen.rectangle(Xt,zt,At,Ut,wt);return this.draw(Jt),Jt}ellipse(Xt,zt,At,Ut,wt){const Jt=this.gen.ellipse(Xt,zt,At,Ut,wt);return this.draw(Jt),Jt}circle(Xt,zt,At,Ut){const wt=this.gen.circle(Xt,zt,At,Ut);return this.draw(wt),wt}linearPath(Xt,zt){const At=this.gen.linearPath(Xt,zt);return this.draw(At),At}polygon(Xt,zt){const At=this.gen.polygon(Xt,zt);return this.draw(At),At}arc(Xt,zt,At,Ut,wt,Jt,Mt=!1,un){const hn=this.gen.arc(Xt,zt,At,Ut,wt,Jt,Mt,un);return this.draw(hn),hn}curve(Xt,zt){const At=this.gen.curve(Xt,zt);return this.draw(At),At}path(Xt,zt){const At=this.gen.path(Xt,zt);return this.draw(At),At}}const Pt="http://www.w3.org/2000/svg";class qt{constructor(Xt,zt){this.svg=Xt,this.gen=new Et(zt)}draw(Xt){const zt=Xt.sets||[],At=Xt.options||this.getDefaultOptions(),Ut=this.svg.ownerDocument||window.document,wt=Ut.createElementNS(Pt,"g"),Jt=Xt.options.fixedDecimalPlaceDigits;for(const Mt of zt){let un=null;switch(Mt.type){case"path":un=Ut.createElementNS(Pt,"path"),un.setAttribute("d",this.opsToPath(Mt,Jt)),un.setAttribute("stroke",At.stroke),un.setAttribute("stroke-width",At.strokeWidth+""),un.setAttribute("fill","none"),At.strokeLineDash&&un.setAttribute("stroke-dasharray",At.strokeLineDash.join(" ").trim()),At.strokeLineDashOffset&&un.setAttribute("stroke-dashoffset",`${At.strokeLineDashOffset}`);break;case"fillPath":un=Ut.createElementNS(Pt,"path"),un.setAttribute("d",this.opsToPath(Mt,Jt)),un.setAttribute("stroke","none"),un.setAttribute("stroke-width","0"),un.setAttribute("fill",At.fill||""),Xt.shape!=="curve"&&Xt.shape!=="polygon"||un.setAttribute("fill-rule","evenodd");break;case"fillSketch":un=this.fillSketch(Ut,Mt,At)}un&&wt.appendChild(un)}return wt}fillSketch(Xt,zt,At){let Ut=At.fillWeight;Ut<0&&(Ut=At.strokeWidth/2);const wt=Xt.createElementNS(Pt,"path");return wt.setAttribute("d",this.opsToPath(zt,At.fixedDecimalPlaceDigits)),wt.setAttribute("stroke",At.fill||""),wt.setAttribute("stroke-width",Ut+""),wt.setAttribute("fill","none"),At.fillLineDash&&wt.setAttribute("stroke-dasharray",At.fillLineDash.join(" ").trim()),At.fillLineDashOffset&&wt.setAttribute("stroke-dashoffset",`${At.fillLineDashOffset}`),wt}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(Xt,zt){return this.gen.opsToPath(Xt,zt)}line(Xt,zt,At,Ut,wt){const Jt=this.gen.line(Xt,zt,At,Ut,wt);return this.draw(Jt)}rectangle(Xt,zt,At,Ut,wt){const Jt=this.gen.rectangle(Xt,zt,At,Ut,wt);return this.draw(Jt)}ellipse(Xt,zt,At,Ut,wt){const Jt=this.gen.ellipse(Xt,zt,At,Ut,wt);return this.draw(Jt)}circle(Xt,zt,At,Ut){const wt=this.gen.circle(Xt,zt,At,Ut);return this.draw(wt)}linearPath(Xt,zt){const At=this.gen.linearPath(Xt,zt);return this.draw(At)}polygon(Xt,zt){const At=this.gen.polygon(Xt,zt);return this.draw(At)}arc(Xt,zt,At,Ut,wt,Jt,Mt=!1,un){const hn=this.gen.arc(Xt,zt,At,Ut,wt,Jt,Mt,un);return this.draw(hn)}curve(Xt,zt){const At=this.gen.curve(Xt,zt);return this.draw(At)}path(Xt,zt){const At=this.gen.path(Xt,zt);return this.draw(At)}}var dn={canvas:(Yt,Xt)=>new Vt(Yt,Xt),svg:(Yt,Xt)=>new qt(Yt,Xt),generator:Yt=>new Et(Yt),newSeed:()=>Et.newSeed()}},5714:function(Ht){Ht.exports=function(St,_,pt){var ht=[],ot=St.length;if(ot===0)return ht;var at=_<0?Math.max(0,_+ot):_||0;for(pt!==void 0&&(ot=pt<0?pt+ot:pt);ot-- >at;)ht[ot-at]=St[ot];return ht}},5422:function(Ht,St,_){var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),vt=_(4010),it=_.n(vt),kt=_(1469),Ot=_.n(kt),an=_(9329),gn=_.n(an),Qt=_(2044),bn={};bn.styleTagTransform=gn(),bn.setAttributes=it(),bn.insert=xt().bind(null,"head"),bn.domAPI=at(),bn.insertStyleElement=Ot(),ht()(Qt.Z,bn),Qt.Z&&Qt.Z.locals&&Qt.Z.locals},487:function(Ht){var St=[];function _(ot){for(var at=-1,gt=0;gt<St.length;gt++)if(St[gt].identifier===ot){at=gt;break}return at}function pt(ot,at){for(var gt={},xt=[],vt=0;vt<ot.length;vt++){var it=ot[vt],kt=at.base?it[0]+at.base:it[0],Ot=gt[kt]||0,an="".concat(kt," ").concat(Ot);gt[kt]=Ot+1;var gn=_(an),Qt={css:it[1],media:it[2],sourceMap:it[3],supports:it[4],layer:it[5]};if(gn!==-1)St[gn].references++,St[gn].updater(Qt);else{var bn=ht(Qt,at);at.byIndex=vt,St.splice(vt,0,{identifier:an,updater:bn,references:1})}xt.push(an)}return xt}function ht(ot,at){var gt=at.domAPI(at);return gt.update(ot),function(xt){if(xt){if(xt.css===ot.css&&xt.media===ot.media&&xt.sourceMap===ot.sourceMap&&xt.supports===ot.supports&&xt.layer===ot.layer)return;gt.update(ot=xt)}else gt.remove()}}Ht.exports=function(ot,at){var gt=pt(ot=ot||[],at=at||{});return function(xt){xt=xt||[];for(var vt=0;vt<gt.length;vt++){var it=_(gt[vt]);St[it].references--}for(var kt=pt(xt,at),Ot=0;Ot<gt.length;Ot++){var an=_(gt[Ot]);St[an].references===0&&(St[an].updater(),St.splice(an,1))}gt=kt}}},2052:function(Ht){var St={};Ht.exports=function(_,pt){var ht=function(ot){if(St[ot]===void 0){var at=document.querySelector(ot);if(window.HTMLIFrameElement&&at instanceof window.HTMLIFrameElement)try{at=at.contentDocument.head}catch{at=null}St[ot]=at}return St[ot]}(_);if(!ht)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ht.appendChild(pt)}},1469:function(Ht){Ht.exports=function(St){var _=document.createElement("style");return St.setAttributes(_,St.attributes),St.insert(_,St.options),_}},4010:function(Ht,St,_){Ht.exports=function(pt){var ht=_.nc;ht&&pt.setAttribute("nonce",ht)}},631:function(Ht){Ht.exports=function(St){var _=St.insertStyleElement(St);return{update:function(pt){(function(ht,ot,at){var gt="";at.supports&&(gt+="@supports (".concat(at.supports,") {")),at.media&&(gt+="@media ".concat(at.media," {"));var xt=at.layer!==void 0;xt&&(gt+="@layer".concat(at.layer.length>0?" ".concat(at.layer):""," {")),gt+=at.css,xt&&(gt+="}"),at.media&&(gt+="}"),at.supports&&(gt+="}");var vt=at.sourceMap;vt&&typeof btoa<"u"&&(gt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(vt))))," */")),ot.styleTagTransform(gt,ht,ot.options)})(_,St,pt)},remove:function(){(function(pt){if(pt.parentNode===null)return!1;pt.parentNode.removeChild(pt)})(_)}}}},9329:function(Ht){Ht.exports=function(St,_){if(_.styleSheet)_.styleSheet.cssText=St;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(St))}}},2173:function(Ht,St,_){var pt=_(9787),ht=typeof Object.is=="function"?Object.is:function(kt,Ot){return kt===Ot&&(kt!==0||1/kt==1/Ot)||kt!=kt&&Ot!=Ot},ot=pt.useState,at=pt.useEffect,gt=pt.useLayoutEffect,xt=pt.useDebugValue;function vt(kt){var Ot=kt.getSnapshot;kt=kt.value;try{var an=Ot();return!ht(kt,an)}catch{return!0}}var it=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(kt,Ot){return Ot()}:function(kt,Ot){var an=Ot(),gn=ot({inst:{value:an,getSnapshot:Ot}}),Qt=gn[0].inst,bn=gn[1];return gt(function(){Qt.value=an,Qt.getSnapshot=Ot,vt(Qt)&&bn({inst:Qt})},[kt,an,Ot]),at(function(){return vt(Qt)&&bn({inst:Qt}),kt(function(){vt(Qt)&&bn({inst:Qt})})},[kt]),xt(an),an};St.useSyncExternalStore=pt.useSyncExternalStore!==void 0?pt.useSyncExternalStore:it},5917:function(Ht,St,_){var pt=_(9787),ht=_(1374),ot=typeof Object.is=="function"?Object.is:function(kt,Ot){return kt===Ot&&(kt!==0||1/kt==1/Ot)||kt!=kt&&Ot!=Ot},at=ht.useSyncExternalStore,gt=pt.useRef,xt=pt.useEffect,vt=pt.useMemo,it=pt.useDebugValue;St.useSyncExternalStoreWithSelector=function(kt,Ot,an,gn,Qt){var bn=gt(null);if(bn.current===null){var fn={hasValue:!1,value:null};bn.current=fn}else fn=bn.current;bn=vt(function(){function mn(Bt){if(!ft){if(ft=!0,pn=Bt,Bt=gn(Bt),Qt!==void 0&&fn.hasValue){var bt=fn.value;if(Qt(bt,Bt))return An=bt}return An=Bt}if(bt=An,ot(pn,Bt))return bt;var Gt=gn(Bt);return Qt!==void 0&&Qt(bt,Gt)?bt:(pn=Bt,An=Gt)}var pn,An,ft=!1,Rt=an===void 0?null:an;return[function(){return mn(Ot())},Rt===null?void 0:function(){return mn(Rt())}]},[Ot,an,gn,Qt]);var Zn=at(kt,bn[0],bn[1]);return xt(function(){fn.hasValue=!0,fn.value=Zn},[Zn]),it(Zn),Zn}},1374:function(Ht,St,_){Ht.exports=_(2173)},5668:function(Ht,St,_){Ht.exports=_(5917)},940:function(Ht,St,_){var pt={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function ht(ot){if(!_.o(pt,ot))return Promise.resolve().then(function(){var xt=new Error("Cannot find module '"+ot+"'");throw xt.code="MODULE_NOT_FOUND",xt});var at=pt[ot],gt=at[0];return Promise.all(at.slice(1).map(_.e)).then(function(){return _.t(gt,19)})}ht.keys=function(){return Object.keys(pt)},ht.id=940,Ht.exports=ht},9713:function(Ht){Ht.exports=function(St,_,pt){return _ in St?Object.defineProperty(St,_,{value:pt,enumerable:!0,configurable:!0,writable:!0}):St[_]=pt,St}},6479:function(Ht,St,_){var pt=_(7316);Ht.exports=function(ht,ot){if(ht==null)return{};var at,gt,xt=pt(ht,ot);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ht);for(gt=0;gt<vt.length;gt++)at=vt[gt],ot.indexOf(at)>=0||Object.prototype.propertyIsEnumerable.call(ht,at)&&(xt[at]=ht[at])}return xt}},7316:function(Ht){Ht.exports=function(St,_){if(St==null)return{};var pt,ht,ot={},at=Object.keys(St);for(ht=0;ht<at.length;ht++)pt=at[ht],_.indexOf(pt)>=0||(ot[pt]=St[pt]);return ot}},4295:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),vt=new URL(_(3940),_.b),it=new URL(_(3147),_.b),kt=new URL(_(8303),_.b),Ot=new URL(_(1273),_.b),an=new URL(_(9577),_.b),gn=new URL(_(9729),_.b),Qt=at()(ht()),bn=xt()(vt),fn=xt()(it),Zn=xt()(kt),mn=xt()(Ot),pn=xt()(an),An=xt()(gn);Qt.push([Ht.id,'@font-face{font-family:"Virgil";src:url('+bn+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+fn+');font-display:swap}@font-face{font-family:"Assistant";src:url('+Zn+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+mn+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+pn+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+An+");font-display:swap;font-weight:700}",""]),St.Z=Qt},6086:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),St.Z=at},3729:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),St.Z=at},3137:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),vt=new URL(_(7984),_.b),it=new URL(_(1639),_.b),kt=at()(ht()),Ot=xt()(vt),an=xt()(it);kt.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+Ot+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+an+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),St.Z=kt},4241:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),St.Z=at},6029:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),St.Z=at},2345:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),vt=new URL(_(9669),_.b),it=at()(ht()),kt=xt()(vt);it.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+kt+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),St.Z=it},9393:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),St.Z=at},6578:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),St.Z=at},9482:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),St.Z=at},6148:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),St.Z=at},7955:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),vt=new URL(_(9669),_.b),it=at()(ht()),kt=xt()(vt);it.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+kt+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),St.Z=it},3195:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),St.Z=at},2978:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),St.Z=at},1587:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),St.Z=at},9478:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),St.Z=at},7369:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),St.Z=at},1434:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),St.Z=at},2316:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),St.Z=at},8923:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),St.Z=at},6440:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),St.Z=at},2701:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),St.Z=at},6843:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),St.Z=at},8461:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),St.Z=at},9935:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),St.Z=at},532:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),St.Z=at},7589:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),St.Z=at},8208:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),St.Z=at},5892:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),St.Z=at},3874:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),St.Z=at},2681:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),St.Z=at},6759:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),St.Z=at},9650:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),St.Z=at},2044:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),St.Z=at},9144:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),St.Z=at},6626:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),St.Z=at},6359:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),St.Z=at},7399:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),St.Z=at},8793:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),St.Z=at},3397:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),St.Z=at},4343:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),St.Z=at},1569:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),St.Z=at},9915:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),St.Z=at},9310:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot),gt=_(1667),xt=_.n(gt),vt=new URL(_(7984),_.b),it=new URL(_(1639),_.b),kt=at()(ht()),Ot=xt()(vt),an=xt()(it);kt.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+Ot+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+an+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:auto;max-width:90vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),St.Z=kt},6464:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,"",""]),at.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},St.Z=at},5260:function(Ht,St,_){var pt=_(8081),ht=_.n(pt),ot=_(3645),at=_.n(ot)()(ht());at.push([Ht.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),St.Z=at},3645:function(Ht){Ht.exports=function(St){var _=[];return _.toString=function(){return this.map(function(pt){var ht="",ot=pt[5]!==void 0;return pt[4]&&(ht+="@supports (".concat(pt[4],") {")),pt[2]&&(ht+="@media ".concat(pt[2]," {")),ot&&(ht+="@layer".concat(pt[5].length>0?" ".concat(pt[5]):""," {")),ht+=St(pt),ot&&(ht+="}"),pt[2]&&(ht+="}"),pt[4]&&(ht+="}"),ht}).join("")},_.i=function(pt,ht,ot,at,gt){typeof pt=="string"&&(pt=[[null,pt,void 0]]);var xt={};if(ot)for(var vt=0;vt<this.length;vt++){var it=this[vt][0];it!=null&&(xt[it]=!0)}for(var kt=0;kt<pt.length;kt++){var Ot=[].concat(pt[kt]);ot&&xt[Ot[0]]||(gt!==void 0&&(Ot[5]===void 0||(Ot[1]="@layer".concat(Ot[5].length>0?" ".concat(Ot[5]):""," {").concat(Ot[1],"}")),Ot[5]=gt),ht&&(Ot[2]&&(Ot[1]="@media ".concat(Ot[2]," {").concat(Ot[1],"}")),Ot[2]=ht),at&&(Ot[4]?(Ot[1]="@supports (".concat(Ot[4],") {").concat(Ot[1],"}"),Ot[4]=at):Ot[4]="".concat(at)),_.push(Ot))}},_}},1667:function(Ht){Ht.exports=function(St,_){return _||(_={}),St&&(St=String(St.__esModule?St.default:St),/^['"].*['"]$/.test(St)&&(St=St.slice(1,-1)),_.hash&&(St+=_.hash),/["'() \t\n]|(%20)/.test(St)||_.needQuotes?'"'.concat(St.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):St)}},8081:function(Ht){Ht.exports=function(St){return St[1]}},202:function(Ht,St,_){_.d(St,{JQ:function(){return An},vD:function(){return mn},y7:function(){return Zn}});var pt=_(1930),ht=_(7169),ot=_(2335),at=_(1047),gt=_(1935),xt=_(5710),vt=_(6906),it=_(1974),kt=_(75),Ot=_(6340),an=_(7901);function gn(ft,Rt){var Bt=typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(!Bt){if(Array.isArray(ft)||(Bt=function(rt,_e){if(rt){if(typeof rt=="string")return Qt(rt,_e);var lt=Object.prototype.toString.call(rt).slice(8,-1);if(lt==="Object"&&rt.constructor&&(lt=rt.constructor.name),lt==="Map"||lt==="Set")return Array.from(rt);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return Qt(rt,_e)}}(ft))||Rt&&ft&&typeof ft.length=="number"){Bt&&(ft=Bt);var bt=0,Gt=function(){};return{s:Gt,n:function(){return bt>=ft.length?{done:!0}:{done:!1,value:ft[bt++]}},e:function(rt){throw rt},f:Gt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yt,Ct=!0,ct=!1;return{s:function(){Bt=Bt.call(ft)},n:function(){var rt=Bt.next();return Ct=rt.done,rt},e:function(rt){ct=!0,yt=rt},f:function(){try{Ct||Bt.return==null||Bt.return()}finally{if(ct)throw yt}}}}function Qt(ft,Rt){(Rt==null||Rt>ft.length)&&(Rt=ft.length);for(var Bt=0,bt=new Array(Rt);Bt<Rt;Bt++)bt[Bt]=ft[Bt];return bt}function bn(ft,Rt){var Bt=Object.keys(ft);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(ft);Rt&&(bt=bt.filter(function(Gt){return Object.getOwnPropertyDescriptor(ft,Gt).enumerable})),Bt.push.apply(Bt,bt)}return Bt}function fn(ft){for(var Rt=1;Rt<arguments.length;Rt++){var Bt=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?bn(Object(Bt),!0).forEach(function(bt){(0,ht.Z)(ft,bt,Bt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Bt)):bn(Object(Bt)).forEach(function(bt){Object.defineProperty(ft,bt,Object.getOwnPropertyDescriptor(Bt,bt))})}return ft}var Zn=(0,an.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(ft,Rt){return(0,kt.eD)(ft,Rt).some(function(Bt){return(0,it.Xo)(Bt)})},perform:function(ft,Rt){return(0,kt.eD)((0,at.Lm)(ft),Rt).forEach(function(Bt){var bt=(0,xt.WJ)(Bt);if(bt){var Gt,yt=(0,xt.X1)(bt.originalText,(0,Ot.mO)(bt),bt.lineHeight),Ct=yt.width,ct=yt.height,rt=yt.baseline,_e=(0,vt.eR)(Bt.id);(0,vt.kT)(Bt.id);var lt=(0,xt.FE)(Bt,bt),st=lt.x,It=lt.y;(0,gt.DR)(bt,{containerId:null,width:Ct,height:ct,baseline:rt,text:bt.originalText,x:st,y:It}),(0,gt.DR)(Bt,{boundElements:(Gt=Bt.boundElements)===null||Gt===void 0?void 0:Gt.filter(function(Tt){return Tt.id!==bt.id}),height:_e||Bt.height})}}),{elements:ft,appState:Rt,commitToHistory:!0}}}),mn=(0,an.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(ft,Rt){var Bt=(0,kt.eD)(ft,Rt);if(Bt.length===2){var bt,Gt=(0,at.iB)(Bt[0])||(0,at.iB)(Bt[1]);if((0,it.mG)(Bt[0])?bt=Bt[0]:(0,it.mG)(Bt[1])&&(bt=Bt[1]),Gt&&bt&&(0,xt.WJ)(bt)===null)return!0}return!1},perform:function(ft,Rt){var Bt,bt,Gt=(0,kt.eD)((0,at.Lm)(ft),Rt);(0,at.iB)(Gt[0])&&(0,it.mG)(Gt[1])?(Bt=Gt[0],bt=Gt[1]):(Bt=Gt[1],bt=Gt[0]),(0,gt.DR)(Bt,{containerId:bt.id,verticalAlign:ot.oX.MIDDLE,textAlign:ot.I8.CENTER}),(0,gt.DR)(bt,{boundElements:(bt.boundElements||[]).concat({type:"text",id:Bt.id})});var yt=bt.height;return(0,xt.oN)(Bt,bt),(0,vt.h_)(bt.id,yt),{elements:pn(ft,bt,Bt),appState:fn(fn({},Rt),{},{selectedElementIds:(0,ht.Z)({},bt.id,!0)}),commitToHistory:!0}}}),pn=function(ft,Rt,Bt){var bt=ft.slice(),Gt=bt.findIndex(function(Ct){return Ct.id===Bt.id});bt.splice(Gt,1);var yt=bt.findIndex(function(Ct){return Ct.id===Rt.id});return bt.splice(yt+1,0,Bt),bt},An=(0,an.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(ft,Rt){var Bt=(0,kt.eD)(ft,Rt),bt=Bt.every(function(Gt){return(0,at.iB)(Gt)});return Bt.length>0&&bt},perform:function(ft,Rt){var Bt,bt=(0,kt.eD)((0,at.Lm)(ft),Rt),Gt=ft.slice(),yt={},Ct=gn(bt);try{var ct=function(){var rt=Bt.value;if((0,at.iB)(rt)){var _e,lt=(0,at.Up)({type:"rectangle",backgroundColor:Rt.currentItemBackgroundColor,boundElements:[].concat((0,pt.Z)(rt.boundElements||[]),[{id:rt.id,type:"text"}]),angle:rt.angle,fillStyle:Rt.currentItemFillStyle,strokeColor:Rt.currentItemStrokeColor,roughness:Rt.currentItemRoughness,strokeWidth:Rt.currentItemStrokeWidth,strokeStyle:Rt.currentItemStrokeStyle,roundness:Rt.currentItemRoundness==="round"?{type:(0,it.QI)("rectangle")?ot.a6.ADAPTIVE_RADIUS:ot.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:rt.x-ot.gK,y:rt.y-ot.gK,width:(0,xt.NS)(rt.width,"rectangle"),height:(0,xt.NS)(rt.height,"rectangle"),groupIds:rt.groupIds});if((_e=rt.boundElements)!==null&&_e!==void 0&&_e.length){var st=rt.boundElements.filter(function(It){return It.type==="arrow"}).map(function(It){return It.id});Gt.filter(function(It){return st.includes(It.id)}).forEach(function(It){var Tt,tn,Nt=It.startBinding,$t=It.endBinding;((Tt=Nt)===null||Tt===void 0?void 0:Tt.elementId)===rt.id&&(Nt=fn(fn({},Nt),{},{elementId:lt.id})),((tn=$t)===null||tn===void 0?void 0:tn.elementId)===rt.id&&($t=fn(fn({},$t),{},{elementId:lt.id})),(Nt||$t)&&(0,gt.DR)(It,{startBinding:Nt,endBinding:$t},!1)})}(0,gt.DR)(rt,{containerId:lt.id,verticalAlign:ot.oX.MIDDLE,boundElements:null,textAlign:ot.I8.CENTER},!1),(0,xt.oN)(rt,lt),Gt=function(It,Tt,tn){var Nt=It.slice(),$t=Nt.findIndex(function(Dt){return Dt.id===Tt.id});Nt.splice($t,1);var Wt=Nt.findIndex(function(Dt){return Dt.id===tn.id});return Nt.splice(Wt,0,Tt),Nt}([].concat((0,pt.Z)(Gt),[lt]),lt,rt),yt[lt.id]=!0}};for(Ct.s();!(Bt=Ct.n()).done;)ct()}catch(rt){Ct.e(rt)}finally{Ct.f()}return{elements:Gt,appState:fn(fn({},Rt),{},{selectedElementIds:yt}),commitToHistory:!0}}})},2416:function(Ht,St,_){_.d(St,{CZ:function(){return bt},Lo:function(){return Bt},Zp:function(){return Ct},eF:function(){return ct},md:function(){return yt},mo:function(){return Rt}});var pt=_(2577),ht=_(7169),ot=_(4499),at=_(3646),gt=_(1319),xt=_(2335),vt=_(1047),it=_(8211),kt=_(6066),Ot=_(75),an=_(2264),gn=_(746),Qt=_(6340),bn=_(7901),fn=_(1894),Zn=_(1935),mn=_(8897),pn=_(4512);function An(rt,_e){var lt=Object.keys(rt);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(rt);_e&&(st=st.filter(function(It){return Object.getOwnPropertyDescriptor(rt,It).enumerable})),lt.push.apply(lt,st)}return lt}function ft(rt){for(var _e=1;_e<arguments.length;_e++){var lt=arguments[_e]!=null?arguments[_e]:{};_e%2?An(Object(lt),!0).forEach(function(st){(0,ht.Z)(rt,st,lt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(lt)):An(Object(lt)).forEach(function(st){Object.defineProperty(rt,st,Object.getOwnPropertyDescriptor(lt,st))})}return rt}(0,bn.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(rt,_e,lt,st){return!!st.props.UIOptions.canvasActions.changeViewBackgroundColor&&!_e.viewModeEnabled},perform:function(rt,_e,lt){return{appState:ft(ft({},_e),lt),commitToHistory:!!lt.viewBackgroundColor}},PanelComponent:function(rt){var _e=rt.elements,lt=rt.appState,st=rt.updateData;return(0,pn.jsx)("div",{style:{position:"relative"},children:(0,pn.jsx)(ot.z,{label:(0,it.t)("labels.canvasBackground"),type:"canvasBackground",color:lt.viewBackgroundColor,onChange:function(It){return st({viewBackgroundColor:It})},isActive:lt.openPopup==="canvasColorPicker",setActive:function(It){return st({openPopup:It?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:_e,appState:lt})})}});var Rt=(0,bn.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(rt,_e,lt,st){return!!st.props.UIOptions.canvasActions.clearCanvas&&!_e.viewModeEnabled},perform:function(rt,_e,lt,st){return st.imageCache.clear(),{elements:rt.map(function(It){return(0,Zn.BE)(It,{isDeleted:!0})}),appState:ft(ft({},(0,mn.im)()),{},{files:{},theme:_e.theme,penMode:_e.penMode,penDetected:_e.penDetected,exportBackground:_e.exportBackground,exportEmbedScene:_e.exportEmbedScene,gridSize:_e.gridSize,showStats:_e.showStats,pasteDialog:_e.pasteDialog,activeTool:_e.activeTool.type==="image"?ft(ft({},_e.activeTool),{},{type:"selection"}):_e.activeTool}),commitToHistory:!0}}}),Bt=(0,bn.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(rt,_e,lt,st){return{appState:ft(ft({},_e),(0,gn.E)({viewportX:_e.width/2+_e.offsetLeft,viewportY:_e.height/2+_e.offsetTop,nextZoom:(0,Ot.j)(_e.zoom.value+xt.V4)},_e)),commitToHistory:!1}},PanelComponent:function(rt){var _e=rt.updateData;return(0,pn.jsx)(gt.V,{type:"button",className:"zoom-in-button zoom-button",icon:at.Sd,title:"".concat((0,it.t)("buttons.zoomIn"),"  ").concat((0,Qt.uY)("CtrlOrCmd++")),"aria-label":(0,it.t)("buttons.zoomIn"),onClick:function(){_e(null)}})},keyTest:function(rt){return(rt.code===kt.aU.EQUAL||rt.code===kt.aU.NUM_ADD)&&(rt[kt.tW.CTRL_OR_CMD]||rt.shiftKey)}}),bt=(0,bn.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(rt,_e,lt,st){return{appState:ft(ft({},_e),(0,gn.E)({viewportX:_e.width/2+_e.offsetLeft,viewportY:_e.height/2+_e.offsetTop,nextZoom:(0,Ot.j)(_e.zoom.value-xt.V4)},_e)),commitToHistory:!1}},PanelComponent:function(rt){var _e=rt.updateData;return(0,pn.jsx)(gt.V,{type:"button",className:"zoom-out-button zoom-button",icon:at.xL,title:"".concat((0,it.t)("buttons.zoomOut"),"  ").concat((0,Qt.uY)("CtrlOrCmd+-")),"aria-label":(0,it.t)("buttons.zoomOut"),onClick:function(){_e(null)}})},keyTest:function(rt){return(rt.code===kt.aU.MINUS||rt.code===kt.aU.NUM_SUBTRACT)&&(rt[kt.tW.CTRL_OR_CMD]||rt.shiftKey)}}),Gt=((0,bn.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(rt,_e,lt,st){return{appState:ft(ft({},_e),(0,gn.E)({viewportX:_e.width/2+_e.offsetLeft,viewportY:_e.height/2+_e.offsetTop,nextZoom:(0,Ot.j)(1)},_e)),commitToHistory:!1}},PanelComponent:function(rt){var _e=rt.updateData,lt=rt.appState;return(0,pn.jsx)(fn.u,{label:(0,it.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,pn.jsxs)(gt.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,it.t)("buttons.resetZoom"),"aria-label":(0,it.t)("buttons.resetZoom"),onClick:function(){_e(null)},children:[(100*lt.zoom.value).toFixed(0),"%"]})})},keyTest:function(rt){return(rt.code===kt.aU.ZERO||rt.code===kt.aU.NUM_ZERO)&&(rt[kt.tW.CTRL_OR_CMD]||rt.shiftKey)}}),function(rt,_e){var lt=(0,pt.Z)(rt,4),st=lt[0],It=lt[1],Tt=lt[2],tn=lt[3],Nt=Tt-st,$t=_e.width/Nt,Wt=tn-It,Dt=_e.height/Wt,In=Math.min($t,Dt),rn=Math.floor(In/xt.V4)*xt.V4;return Math.min(Math.max(rn,xt.Zj),1)}),yt=function(rt,_e,lt){var st=(0,vt.Lm)(rt),It=(0,Ot.eD)(st,_e),Tt=lt&&It.length>0?(0,vt.KP)(It):(0,vt.KP)(st),tn={value:Gt(Tt,{width:_e.width,height:_e.height})},Nt=(0,pt.Z)(Tt,4),$t=Nt[0],Wt=Nt[1],Dt=($t+Nt[2])/2,In=(Wt+Nt[3])/2;return{appState:ft(ft(ft({},_e),(0,an.s)({scenePoint:{x:Dt,y:In},viewportDimensions:{width:_e.width,height:_e.height},zoom:tn})),{},{zoom:tn}),commitToHistory:!1}},Ct=((0,bn.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(rt,_e){return yt(rt,_e,!0)},keyTest:function(rt){return rt.code===kt.aU.TWO&&rt.shiftKey&&!rt.altKey&&!rt[kt.tW.CTRL_OR_CMD]}}),(0,bn.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(rt,_e){return yt(rt,_e,!1)},keyTest:function(rt){return rt.code===kt.aU.ONE&&rt.shiftKey&&!rt.altKey&&!rt[kt.tW.CTRL_OR_CMD]}}),(0,bn.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(rt,_e,lt){return{appState:ft(ft({},_e),{},{theme:lt||(_e.theme===xt.C6.LIGHT?xt.C6.DARK:xt.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(rt){return rt.altKey&&rt.shiftKey&&rt.code===kt.aU.D},predicate:function(rt,_e,lt,st){return!!st.props.UIOptions.canvasActions.toggleTheme}})),ct=((0,bn.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(rt,_e){var lt;return lt=(0,mn.EN)(_e)?(0,Qt.Om)(_e,ft(ft({},_e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,Qt.Om)(_e,{type:"eraser",lastActiveToolBeforeEraser:_e.activeTool}),{appState:ft(ft({},_e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:lt}),commitToHistory:!0}},keyTest:function(rt){return rt.key===kt.tW.E}}),(0,bn.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(rt,_e,lt,st){var It;return(0,mn.l$)(_e)?It=(0,Qt.Om)(_e,ft(ft({},_e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(It=(0,Qt.Om)(_e,{type:"hand",lastActiveToolBeforeEraser:_e.activeTool}),(0,Qt.KJ)(st.canvas,xt.oc.GRAB)),{appState:ft(ft({},_e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:It}),commitToHistory:!0}},keyTest:function(rt){return rt.key===kt.tW.H}}))},4688:function(Ht,St,_){_.d(St,{FA:function(){return ft},ZM:function(){return An},jK:function(){return Rt},uN:function(){return mn},yQ:function(){return pn},zp:function(){return Bt}});var pt=_(7169),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(6066),xt=_(7901),vt=_(6665),it=_(533),kt=_(1868),Ot=_(9485),an=_(1047),gn=_(8211);function Qt(bt,Gt){var yt=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(bt);Gt&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(bt,ct).enumerable})),yt.push.apply(yt,Ct)}return yt}function bn(bt){for(var Gt=1;Gt<arguments.length;Gt++){var yt=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?Qt(Object(yt),!0).forEach(function(Ct){(0,pt.Z)(bt,Ct,yt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(yt)):Qt(Object(yt)).forEach(function(Ct){Object.defineProperty(bt,Ct,Object.getOwnPropertyDescriptor(yt,Ct))})}return bt}var fn,Zn,mn=(0,xt.z)({name:"copy",trackEvent:{category:"element"},perform:function(bt,Gt,yt,Ct){var ct=(0,kt.eD)(bt,Gt,!0);return(0,vt.vQ)(ct,Gt,Ct.files),{commitToHistory:!1}},predicate:function(bt,Gt,yt,Ct){return Ct.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),pn=(0,xt.z)({name:"paste",trackEvent:{category:"element"},perform:function(bt,Gt,yt,Ct){return Ct.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(bt,Gt,yt,Ct){return Ct.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),An=(0,xt.z)({name:"cut",trackEvent:{category:"element"},perform:function(bt,Gt,yt,Ct){return mn.perform(bt,Gt,yt,Ct),it.X.perform(bt,Gt)},predicate:function(bt,Gt,yt,Ct){return Ct.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(bt){return bt[gt.tW.CTRL_OR_CMD]&&bt.key===gt.tW.X}}),ft=(0,xt.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(fn=(0,ht.Z)(at().mark(function bt(Gt,yt,Ct,ct){var rt;return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(ct.canvas){_e.next=2;break}return _e.abrupt("return",{commitToHistory:!1});case 2:return rt=(0,kt.eD)((0,an.Lm)(Gt),yt,!0),_e.prev=3,_e.next=6,(0,Ot.p1)("clipboard-svg",rt.length?rt:(0,an.Lm)(Gt),yt,ct.files,yt);case 6:return _e.abrupt("return",{commitToHistory:!1});case 9:return _e.prev=9,_e.t0=_e.catch(3),console.error(_e.t0),_e.abrupt("return",{appState:bn(bn({},yt),{},{errorMessage:_e.t0.message}),commitToHistory:!1});case 13:case"end":return _e.stop()}},bt,null,[[3,9]])})),function(bt,Gt,yt,Ct){return fn.apply(this,arguments)}),predicate:function(bt){return vt.wx&&bt.length>0},contextItemLabel:"labels.copyAsSvg"}),Rt=(0,xt.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(Zn=(0,ht.Z)(at().mark(function bt(Gt,yt,Ct,ct){var rt;return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(ct.canvas){_e.next=2;break}return _e.abrupt("return",{commitToHistory:!1});case 2:return rt=(0,kt.eD)((0,an.Lm)(Gt),yt,!0),_e.prev=3,_e.next=6,(0,Ot.p1)("clipboard",rt.length?rt:(0,an.Lm)(Gt),yt,ct.files,yt);case 6:return _e.abrupt("return",{appState:bn(bn({},yt),{},{toast:{message:(0,gn.t)("toast.copyToClipboardAsPng",{exportSelection:rt.length?(0,gn.t)("toast.selection"):(0,gn.t)("toast.canvas"),exportColorScheme:yt.exportWithDarkMode?(0,gn.t)("buttons.darkMode"):(0,gn.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return _e.prev=9,_e.t0=_e.catch(3),console.error(_e.t0),_e.abrupt("return",{appState:bn(bn({},yt),{},{errorMessage:_e.t0.message}),commitToHistory:!1});case 13:case"end":return _e.stop()}},bt,null,[[3,9]])})),function(bt,Gt,yt,Ct){return Zn.apply(this,arguments)}),predicate:function(bt){return vt.vt&&bt.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(bt){return bt.code===gt.aU.C&&bt.altKey&&bt.shiftKey}}),Bt=(0,xt.z)({name:"copyText",trackEvent:{category:"element"},perform:function(bt,Gt){var yt=(0,kt.eD)((0,an.Lm)(bt),Gt,!0).reduce(function(Ct,ct){return(0,an.iB)(ct)&&Ct.push(ct.text),Ct},[]).join(`

`);return(0,vt.dd)(yt),{commitToHistory:!1}},predicate:function(bt,Gt){return vt.wx&&(0,kt.eD)(bt,Gt,!0).some(an.iB)},contextItemLabel:"labels.copyText"})},533:function(Ht,St,_){_.d(St,{X:function(){return An}});var pt=_(7169),ht=_(75),ot=_(6066),at=_(1319),gt=_(8211),xt=_(7901),vt=_(1047),it=_(1935),kt=_(242),Ot=_(6938),an=_(8290),gn=_(1974),Qt=_(6340),bn=_(3646),fn=_(4512);function Zn(ft,Rt){var Bt=Object.keys(ft);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(ft);Rt&&(bt=bt.filter(function(Gt){return Object.getOwnPropertyDescriptor(ft,Gt).enumerable})),Bt.push.apply(Bt,bt)}return Bt}function mn(ft){for(var Rt=1;Rt<arguments.length;Rt++){var Bt=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?Zn(Object(Bt),!0).forEach(function(bt){(0,pt.Z)(ft,bt,Bt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Bt)):Zn(Object(Bt)).forEach(function(bt){Object.defineProperty(ft,bt,Object.getOwnPropertyDescriptor(Bt,bt))})}return ft}var pn=function(ft,Rt){if(ft.editingGroupId){var Bt=(0,kt.Fb)((0,vt.Lm)(Rt),ft.editingGroupId);if(Bt.length)return mn(mn({},ft),{},{selectedElementIds:(0,pt.Z)({},Bt[0].id,!0)})}return ft},An=(0,xt.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(ft,Rt){if(Rt.editingLinearElement){var Bt=Rt.editingLinearElement,bt=Bt.elementId,Gt=Bt.selectedPointsIndices,yt=Bt.startBindingElement,Ct=Bt.endBindingElement,ct=Ot._.getElement(bt);if(!ct||Gt==null)return!1;if(ct.points.length<2){var rt=ft.map(function(Tt){return Tt.id===ct.id?(0,it.BE)(Tt,{isDeleted:!0}):Tt});return{elements:rt,appState:mn(mn({},pn(Rt,rt)),{},{editingLinearElement:null}),commitToHistory:!1}}var _e={startBindingElement:Gt!=null&&Gt.includes(0)?null:yt,endBindingElement:Gt!=null&&Gt.includes(ct.points.length-1)?null:Ct};return Ot._.deletePoints(ct,Gt),{elements:ft,appState:mn(mn({},Rt),{},{editingLinearElement:mn(mn(mn({},Rt.editingLinearElement),_e),{},{selectedPointsIndices:(Gt==null?void 0:Gt[0])>0?[Gt[0]-1]:[0]})}),commitToHistory:!0}}var lt=function(Tt,tn){return{elements:Tt.map(function(Nt){return tn.selectedElementIds[Nt.id]||(0,gn.Xh)(Nt)&&tn.selectedElementIds[Nt.containerId]?(0,it.BE)(Nt,{isDeleted:!0}):Nt}),appState:mn(mn({},tn),{},{selectedElementIds:{}})}}(ft,Rt),st=lt.elements,It=lt.appState;return(0,an.$q)(st,ft.filter(function(Tt){var tn=Tt.id;return Rt.selectedElementIds[tn]})),{elements:st,appState:mn(mn({},It=pn(It,st)),{},{activeTool:(0,Qt.Om)(Rt,{type:"selection"}),multiElement:null}),commitToHistory:(0,ht.N)((0,vt.Lm)(ft),Rt)}},contextItemLabel:"labels.delete",keyTest:function(ft,Rt,Bt){return(ft.key===ot.tW.BACKSPACE||ft.key===ot.tW.DELETE)&&!ft[ot.tW.CTRL_OR_CMD]},PanelComponent:function(ft){var Rt=ft.elements,Bt=ft.appState,bt=ft.updateData;return(0,fn.jsx)(at.V,{type:"button",icon:bn.XH,title:(0,gt.t)("labels.delete"),"aria-label":(0,gt.t)("labels.delete"),onClick:function(){return bt(null)},visible:(0,ht.N)((0,vt.Lm)(Rt),Bt)})}})},8671:function(Ht,St,_){_.d(St,{_d:function(){return Jt},mM:function(){return wt},ns:function(){return Ut}});var pt=_(8950),ht=_(2577),ot=_(7169),at=_(2975),gt=_.n(at),xt=_(3646),vt=_(487),it=_.n(vt),kt=_(631),Ot=_.n(kt),an=_(2052),gn=_.n(an),Qt=_(4010),bn=_.n(Qt),fn=_(1469),Zn=_.n(fn),mn=_(9329),pn=_.n(mn),An=_(6759),ft={};ft.styleTagTransform=pn(),ft.setAttributes=bn(),ft.insert=gn().bind(null,"head"),ft.domAPI=Ot(),ft.insertStyleElement=Zn(),it()(An.Z,ft),An.Z&&An.Z.locals&&An.Z.locals;var Rt=_(9787),Bt=_(6340),bt=_(532),Gt={};Gt.styleTagTransform=pn(),Gt.setAttributes=bn(),Gt.insert=gn().bind(null,"head"),Gt.domAPI=Ot(),Gt.insertStyleElement=Zn(),it()(bt.Z,Gt),bt.Z&&bt.Z.locals&&bt.Z.locals;var yt=_(2134),Ct=_(4512),ct=function(Mt){var un=(0,yt.J0)().id,hn=(0,Rt.useState)(Mt.value),jt=(0,ht.Z)(hn,2),vn=jt[0],xn=jt[1];return(0,Ct.jsxs)("div",{className:"ProjectName",children:[(0,Ct.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(Mt.label).concat(Mt.isNameEditable?"":":")}),Mt.isNameEditable?(0,Ct.jsx)("input",{type:"text",className:"TextInput",onBlur:function(Gn){(0,Bt.qz)(Gn.target);var Zt=Gn.target.value;Zt!==Mt.value&&Mt.onChange(Zt)},onKeyDown:function(Gn){if(Gn.key==="Enter"){if(Gn.preventDefault(),Gn.nativeEvent.isComposing||Gn.keyCode===229)return;Gn.currentTarget.blur()}},id:"".concat(un,"-filename"),value:vn,onChange:function(Gn){return xn(Gn.target.value)}}):(0,Ct.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(un,"-filename"),children:Mt.value})]})},rt=_(1319),_e=_(1894),lt=(_(5422),_(8211)),st=_(2335),It=function(Mt){var un=Mt.title||(Mt.value==="dark"?(0,lt.t)("buttons.lightMode"):(0,lt.t)("buttons.darkMode"));return(0,Ct.jsx)(rt.V,{type:"icon",icon:Mt.value===st.C6.LIGHT?Tt.MOON:Tt.SUN,title:un,"aria-label":un,onClick:function(){return Mt.onChange(Mt.value===st.C6.DARK?st.C6.LIGHT:st.C6.DARK)},"data-testid":"toggle-dark-mode"})},Tt={SUN:(0,Ct.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,Ct.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,Ct.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,Ct.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},tn=_(9485),Nt=_(1047),$t=_(434);function Wt(Mt,un){var hn=Object.keys(Mt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(Mt);un&&(jt=jt.filter(function(vn){return Object.getOwnPropertyDescriptor(Mt,vn).enumerable})),hn.push.apply(hn,jt)}return hn}function Dt(Mt){for(var un=1;un<arguments.length;un++){var hn=arguments[un]!=null?arguments[un]:{};un%2?Wt(Object(hn),!0).forEach(function(jt){(0,ot.Z)(Mt,jt,hn[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(hn)):Wt(Object(hn)).forEach(function(jt){Object.defineProperty(Mt,jt,Object.getOwnPropertyDescriptor(hn,jt))})}return Mt}var In=function(){var Mt=(0,pt.Z)(gt().mark(function un(hn,jt,vn){var xn,Gn,Zt,Xn,Cn,Qn;return gt().wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:if(Gn=(xn=jt).exportBackground,Zt=xn.viewBackgroundColor,Xn=xn.name,Cn=xn.fileHandle,Qn=(0,$t.Qk)(Cn),Cn&&(0,$t.DQ)(Qn)){Tn.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return jt=Dt(Dt({},jt),{},{exportEmbedScene:!0}),Tn.next=7,(0,tn.p1)(Qn,(0,Nt.Lm)(hn),jt,vn,{exportBackground:Gn,viewBackgroundColor:Zt,name:Xn,fileHandle:Cn});case 7:return Tn.abrupt("return",{fileHandle:Cn});case 8:case"end":return Tn.stop()}},un)}));return function(un,hn,jt){return Mt.apply(this,arguments)}}(),rn=_(6066),_t=_(7901),Et=_(3807),Vt=_(4162),Pt=_(75),qt=_(1393);function dn(Mt,un){var hn=Object.keys(Mt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(Mt);un&&(jt=jt.filter(function(vn){return Object.getOwnPropertyDescriptor(Mt,vn).enumerable})),hn.push.apply(hn,jt)}return hn}function Yt(Mt){for(var un=1;un<arguments.length;un++){var hn=arguments[un]!=null?arguments[un]:{};un%2?dn(Object(hn),!0).forEach(function(jt){(0,ot.Z)(Mt,jt,hn[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(hn)):dn(Object(hn)).forEach(function(jt){Object.defineProperty(Mt,jt,Object.getOwnPropertyDescriptor(hn,jt))})}return Mt}(0,_t.z)({name:"changeProjectName",trackEvent:!1,perform:function(Mt,un,hn){return{appState:Yt(Yt({},un),{},{name:hn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,hn=Mt.updateData,jt=Mt.appProps;return(0,Ct.jsx)(ct,{label:(0,lt.t)("labels.fileTitle"),value:un.name||"Unnamed",onChange:function(vn){return hn(vn)},isNameEditable:jt.name===void 0&&!un.viewModeEnabled})}}),(0,_t.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(Mt,un,hn){return{appState:Yt(Yt({},un),{},{exportScale:hn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.elements,hn=Mt.appState,jt=Mt.updateData,vn=(0,Nt.Lm)(un),xn=(0,Pt.N)(vn,hn)?(0,Pt.eD)(vn,hn):vn;return(0,Ct.jsx)(Ct.Fragment,{children:st.ZB.map(function(Gn){var Zt=(0,Vt.Cg)(xn,st.qy,Gn),Xn=(0,ht.Z)(Zt,2),Cn=Xn[0],Qn=Xn[1],Tn="".concat((0,lt.t)("buttons.scale")," ").concat(Gn,"x (").concat(Cn,"x").concat(Qn,")");return(0,Ct.jsx)(rt.V,{size:"small",type:"radio",icon:"".concat(Gn,"x"),name:"export-canvas-scale",title:Tn,"aria-label":Tn,id:"export-canvas-scale",checked:Gn===hn.exportScale,onChange:function(){return jt(Gn)}},Gn)})})}}),(0,_t.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(Mt,un,hn){return{appState:Yt(Yt({},un),{},{exportBackground:hn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,hn=Mt.updateData;return(0,Ct.jsx)(Et.o,{checked:un.exportBackground,onChange:function(jt){return hn(jt)},children:(0,lt.t)("labels.withBackground")})}}),(0,_t.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(Mt,un,hn){return{appState:Yt(Yt({},un),{},{exportEmbedScene:hn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,hn=Mt.updateData;return(0,Ct.jsxs)(Et.o,{checked:un.exportEmbedScene,onChange:function(jt){return hn(jt)},children:[(0,lt.t)("labels.exportEmbedScene"),(0,Ct.jsx)(_e.u,{label:(0,lt.t)("labels.exportEmbedScene_details"),long:!0,children:(0,Ct.jsx)("div",{className:"excalidraw-tooltip-icon",children:xt.Vl})})]})}});var Xt,zt,At,Ut=(0,_t.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(Mt,un,hn,jt){return!!jt.props.UIOptions.canvasActions.saveToActiveFile&&!!un.fileHandle&&!un.viewModeEnabled},perform:(Xt=(0,pt.Z)(gt().mark(function Mt(un,hn,jt,vn){var xn,Gn,Zt;return gt().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:if(xn=!!hn.fileHandle,Xn.prev=1,!(0,$t.g8)(hn.fileHandle)){Xn.next=8;break}return Xn.next=5,In(un,hn,vn.files);case 5:Xn.t0=Xn.sent,Xn.next=11;break;case 8:return Xn.next=10,(0,tn.Um)(un,hn,vn.files);case 10:Xn.t0=Xn.sent;case 11:return Gn=Xn.t0,Zt=Gn.fileHandle,Xn.abrupt("return",{commitToHistory:!1,appState:Yt(Yt({},hn),{},{fileHandle:Zt,toast:xn?{message:Zt!=null&&Zt.name?(0,lt.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Zt.name,'"')):(0,lt.t)("toast.fileSaved")}:null})});case 16:return Xn.prev=16,Xn.t1=Xn.catch(1),(Xn.t1===null||Xn.t1===void 0?void 0:Xn.t1.name)!=="AbortError"?console.error(Xn.t1):console.warn(Xn.t1),Xn.abrupt("return",{commitToHistory:!1});case 20:case"end":return Xn.stop()}},Mt,null,[[1,16]])})),function(Mt,un,hn,jt){return Xt.apply(this,arguments)}),keyTest:function(Mt){return Mt.key===rn.tW.S&&Mt[rn.tW.CTRL_OR_CMD]&&!Mt.shiftKey}}),wt=(0,_t.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(zt=(0,pt.Z)(gt().mark(function Mt(un,hn,jt,vn){var xn,Gn;return gt().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.prev=0,Zt.next=3,(0,tn.Um)(un,Yt(Yt({},hn),{},{fileHandle:null}),vn.files);case 3:return xn=Zt.sent,Gn=xn.fileHandle,Zt.abrupt("return",{commitToHistory:!1,appState:Yt(Yt({},hn),{},{fileHandle:Gn})});case 8:return Zt.prev=8,Zt.t0=Zt.catch(0),(Zt.t0===null||Zt.t0===void 0?void 0:Zt.t0.name)!=="AbortError"?console.error(Zt.t0):console.warn(Zt.t0),Zt.abrupt("return",{commitToHistory:!1});case 12:case"end":return Zt.stop()}},Mt,null,[[0,8]])})),function(Mt,un,hn,jt){return zt.apply(this,arguments)}),keyTest:function(Mt){return Mt.key===rn.tW.S&&Mt.shiftKey&&Mt[rn.tW.CTRL_OR_CMD]},PanelComponent:function(Mt){var un=Mt.updateData;return(0,Ct.jsx)(rt.V,{type:"button",icon:xt.po,title:(0,lt.t)("buttons.saveAs"),"aria-label":(0,lt.t)("buttons.saveAs"),showAriaLabel:(0,yt.Fy)().isMobile,hidden:!qt.kr,onClick:function(){return un(null)},"data-testid":"save-as-button"})}}),Jt=(0,_t.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(Mt,un,hn,jt){return!!jt.props.UIOptions.canvasActions.loadScene&&!un.viewModeEnabled},perform:(At=(0,pt.Z)(gt().mark(function Mt(un,hn,jt,vn){var xn,Gn,Zt,Xn;return gt().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Cn.prev=0,Cn.next=3,(0,tn.n8)(hn,un);case 3:return xn=Cn.sent,Gn=xn.elements,Zt=xn.appState,Xn=xn.files,Cn.abrupt("return",{elements:Gn,appState:Zt,files:Xn,commitToHistory:!0});case 10:if(Cn.prev=10,Cn.t0=Cn.catch(0),(Cn.t0===null||Cn.t0===void 0?void 0:Cn.t0.name)!=="AbortError"){Cn.next=15;break}return console.warn(Cn.t0),Cn.abrupt("return",!1);case 15:return Cn.abrupt("return",{elements:un,appState:Yt(Yt({},hn),{},{errorMessage:Cn.t0.message}),files:vn.files,commitToHistory:!1});case 16:case"end":return Cn.stop()}},Mt,null,[[0,10]])})),function(Mt,un,hn,jt){return At.apply(this,arguments)}),keyTest:function(Mt){return Mt[rn.tW.CTRL_OR_CMD]&&Mt.key===rn.tW.O}});(0,_t.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(Mt,un,hn){return{appState:Yt(Yt({},un),{},{exportWithDarkMode:hn}),commitToHistory:!1}},PanelComponent:function(Mt){var un=Mt.appState,hn=Mt.updateData;return(0,Ct.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,Ct.jsx)(It,{value:un.exportWithDarkMode?st.C6.DARK:st.C6.LIGHT,onChange:function(jt){hn(jt===st.C6.DARK)},title:(0,lt.t)("labels.toggleExportColorScheme")})})}})},6208:function(Ht,St,_){_.d(St,{Tu:function(){return Xt},Zq:function(){return zt}});var pt=_(1930),ht=_(7169),ot=_(7047),at=_(45),gt=_(4512),xt=function(At){return(0,gt.jsx)("div",{className:"buttonList buttonListIcon",children:At.options.map(function(Ut){var wt;return At.type==="button"?(0,gt.jsx)("button",{onClick:function(Jt){return At.onClick(Ut.value,Jt)},className:(0,at.Z)({active:(wt=Ut.active)!==null&&wt!==void 0?wt:At.value===Ut.value}),"data-testid":Ut.testId,title:Ut.text,children:Ut.icon},Ut.text):(0,gt.jsxs)("label",{className:(0,at.Z)({active:At.value===Ut.value}),title:Ut.text,children:[(0,gt.jsx)("input",{type:"radio",name:At.group,onChange:function(){return At.onChange(Ut.value)},checked:At.value===Ut.value,"data-testid":Ut.testId}),Ut.icon]},Ut.text)})})},vt=_(4499),it=_(2577),kt=_(9787),Ot=_.n(kt),an=_(2891),gn=_(487),Qt=_.n(gn),bn=_(631),fn=_.n(bn),Zn=_(2052),mn=_.n(Zn),pn=_(4010),An=_.n(pn),ft=_(1469),Rt=_.n(ft),Bt=_(9329),bt=_.n(Bt),Gt=_(9478),yt={};yt.styleTagTransform=bt(),yt.setAttributes=An(),yt.insert=mn().bind(null,"head"),yt.domAPI=fn(),yt.insertStyleElement=Rt(),Qt()(Gt.Z,yt),Gt.Z&&Gt.Z.locals&&Gt.Z.locals;var Ct=_(6066),ct=_(8211);function rt(At,Ut){var wt=Object.keys(At);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(At);Ut&&(Jt=Jt.filter(function(Mt){return Object.getOwnPropertyDescriptor(At,Mt).enumerable})),wt.push.apply(wt,Jt)}return wt}function _e(At){for(var Ut=1;Ut<arguments.length;Ut++){var wt=arguments[Ut]!=null?arguments[Ut]:{};Ut%2?rt(Object(wt),!0).forEach(function(Jt){(0,ht.Z)(At,Jt,wt[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(wt)):rt(Object(wt)).forEach(function(Jt){Object.defineProperty(At,Jt,Object.getOwnPropertyDescriptor(wt,Jt))})}return At}function lt(At){var Ut=At.options,wt=At.value,Jt=At.label,Mt=At.onChange,un=At.onClose,hn=Ot().useRef(),jt=Ot().useRef(),vn=Ot().useRef(null);return Ot().useEffect(function(){jt.current?jt.current.focus():vn.current&&vn.current.focus()},[]),(0,gt.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Jt,onKeyDown:function(xn){var Gn=Ut.find(function(tr){return tr.keyBinding===xn.key.toLowerCase()});if(xn.metaKey||xn.altKey||xn.ctrlKey||!Gn)if(xn.key===Ct.tW.TAB)setTimeout(function(){jt.current!==document.activeElement&&un()},0);else if((0,Ct.Wl)(xn.key)){var Zt=document.activeElement,Xn=(0,ct.G3)().rtl,Cn=Array.prototype.indexOf.call(vn.current.children,Zt);if(Cn!==-1){var Qn=Ut.length,Tn=Cn;switch(xn.key){case(Xn?Ct.tW.ARROW_LEFT:Ct.tW.ARROW_RIGHT):case Ct.tW.ARROW_DOWN:Tn=(Cn+1)%Qn;break;case(Xn?Ct.tW.ARROW_RIGHT:Ct.tW.ARROW_LEFT):case Ct.tW.ARROW_UP:Tn=(Qn+Cn-1)%Qn}vn.current.children[Tn].focus()}xn.preventDefault()}else xn.key!==Ct.tW.ESCAPE&&xn.key!==Ct.tW.ENTER||(xn.preventDefault(),un());else{var Pn=Ut.indexOf(Gn);vn.current.children[Pn].focus(),xn.preventDefault()}xn.nativeEvent.stopImmediatePropagation(),xn.stopPropagation()},children:(0,gt.jsx)("div",{className:"picker-content",ref:vn,children:Ut.map(function(xn,Gn){return(0,gt.jsxs)("button",{className:(0,at.Z)("picker-option",{active:wt===xn.value}),onClick:function(Zt){Zt.currentTarget.focus(),Mt(xn.value)},title:"".concat(xn.text,"  ").concat(xn.keyBinding.toUpperCase()),"aria-label":xn.text||"none","aria-keyshortcuts":xn.keyBinding,ref:function(Zt){Zt&&Gn===0&&(hn.current=Zt),Zt&&xn.value===wt&&(jt.current=Zt)},onFocus:function(){Mt(xn.value)},children:[xn.icon,(0,gt.jsx)("span",{className:"picker-keybinding",children:xn.keyBinding})]},xn.text)})})})}function st(At){var Ut,wt=At.value,Jt=At.label,Mt=At.options,un=At.onChange,hn=At.group,jt=hn===void 0?"":hn,vn=Ot().useState(!1),xn=(0,it.Z)(vn,2),Gn=xn[0],Zt=xn[1],Xn=Ot().useRef(null),Cn=(0,ct.G3)().rtl;return(0,gt.jsxs)("div",{children:[(0,gt.jsx)("button",{name:jt,className:Gn?"active":"","aria-label":Jt,onClick:function(){return Zt(!Gn)},ref:Xn,children:(Ut=Mt.find(function(Qn){return Qn.value===wt}))===null||Ut===void 0?void 0:Ut.icon}),(0,gt.jsx)(Ot().Suspense,{fallback:"",children:Gn?(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)(an.J,_e(_e({onCloseRequest:function(Qn){return Qn.target!==Xn.current&&Zt(!1)}},Cn?{right:5.5}:{left:-5.5}),{},{children:(0,gt.jsx)(lt,{options:Mt,value:wt,label:Jt,onChange:un,onClose:function(){var Qn;Zt(!1),(Qn=Xn.current)===null||Qn===void 0||Qn.focus()}})})),(0,gt.jsx)("div",{className:"picker-triangle"})]}):null})]})}var It=_(3646),Tt=_(2335),tn=_(1047),Nt=_(1935),$t=_(5710),Wt=_(1974),Dt=_(6954),In=_(75),rn=_(8120),_t=_(6340),Et=_(7901);function Vt(At,Ut){var wt=Object.keys(At);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(At);Ut&&(Jt=Jt.filter(function(Mt){return Object.getOwnPropertyDescriptor(At,Mt).enumerable})),wt.push.apply(wt,Jt)}return wt}function Pt(At){for(var Ut=1;Ut<arguments.length;Ut++){var wt=arguments[Ut]!=null?arguments[Ut]:{};Ut%2?Vt(Object(wt),!0).forEach(function(Jt){(0,ht.Z)(At,Jt,wt[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(wt)):Vt(Object(wt)).forEach(function(Jt){Object.defineProperty(At,Jt,Object.getOwnPropertyDescriptor(wt,Jt))})}return At}var qt=function(At,Ut,wt){var Jt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Mt=(0,_t.xn)((0,In.eD)(At,Ut,Jt));return At.map(function(un){var hn;return Mt.get(un.id)||un.id===((hn=Ut.editingElement)===null||hn===void 0?void 0:hn.id)?wt(un):un})},dn=function(At,Ut,wt,Jt){var Mt,un,hn=Ut.editingElement,jt=(0,tn.Lm)(At);return(Mt=(un=hn&&wt(hn))!==null&&un!==void 0?un:(0,In.N)(jt,Ut)?(0,In.PR)(jt,Ut,wt):Jt)!==null&&Mt!==void 0?Mt:null},Yt=function(At,Ut,wt,Jt){var Mt=new Set;return{elements:qt(At,Ut,function(un){if((0,tn.iB)(un)){var hn=wt(un);Mt.add(hn);var jt=(0,Nt.BE)(un,{fontSize:hn});return(0,tn.oN)(jt,(0,$t.tl)(un)),vn=un,xn=jt,jt=(0,Wt.Xh)(xn)?xn:(0,Nt.DR)(xn,{x:vn.textAlign==="left"?vn.x:vn.x+(vn.width-xn.width)/(vn.textAlign==="center"?2:1),y:vn.y+(vn.height-xn.height)/2},!1)}var vn,xn;return un},!0),appState:Pt(Pt({},Ut),{},{currentItemFontSize:Mt.size===1?(0,pt.Z)(Mt)[0]:Jt??Ut.currentItemFontSize}),commitToHistory:!0}},Xt=((0,Et.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(At,Ut,wt){return Pt(Pt({},wt.currentItemStrokeColor&&{elements:qt(At,Ut,function(Jt){return(0,rn.PD)(Jt.type)?(0,Nt.BE)(Jt,{strokeColor:wt.currentItemStrokeColor}):Jt},!0)}),{},{appState:Pt(Pt({},Ut),wt),commitToHistory:!!wt.currentItemStrokeColor})},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("h3",{"aria-hidden":"true",children:(0,ct.t)("labels.stroke")}),(0,gt.jsx)(vt.z,{type:"elementStroke",label:(0,ct.t)("labels.stroke"),color:dn(Ut,wt,function(Mt){return Mt.strokeColor},wt.currentItemStrokeColor),onChange:function(Mt){return Jt({currentItemStrokeColor:Mt})},isActive:wt.openPopup==="strokeColorPicker",setActive:function(Mt){return Jt({openPopup:Mt?"strokeColorPicker":null})},elements:Ut,appState:wt})]})}}),(0,Et.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(At,Ut,wt){return Pt(Pt({},wt.currentItemBackgroundColor&&{elements:qt(At,Ut,function(Jt){return(0,Nt.BE)(Jt,{backgroundColor:wt.currentItemBackgroundColor})})}),{},{appState:Pt(Pt({},Ut),wt),commitToHistory:!!wt.currentItemBackgroundColor})},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)(gt.Fragment,{children:[(0,gt.jsx)("h3",{"aria-hidden":"true",children:(0,ct.t)("labels.background")}),(0,gt.jsx)(vt.z,{type:"elementBackground",label:(0,ct.t)("labels.background"),color:dn(Ut,wt,function(Mt){return Mt.backgroundColor},wt.currentItemBackgroundColor),onChange:function(Mt){return Jt({currentItemBackgroundColor:Mt})},isActive:wt.openPopup==="backgroundColorPicker",setActive:function(Mt){return Jt({openPopup:Mt?"backgroundColorPicker":null})},elements:Ut,appState:wt})]})}}),(0,Et.z)({name:"changeFillStyle",trackEvent:!1,perform:function(At,Ut,wt,Jt){return(0,ot.L)("element","changeFillStyle","".concat(wt," (").concat(Jt.device.isMobile?"mobile":"desktop",")")),{elements:qt(At,Ut,function(Mt){return(0,Nt.BE)(Mt,{fillStyle:wt})}),appState:Pt(Pt({},Ut),{},{currentItemFillStyle:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData,Mt=(0,In.eD)(Ut,wt),un=Mt.length>0&&Mt.every(function(hn){return hn.fillStyle==="zigzag"});return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.fill")}),(0,gt.jsx)(xt,{type:"button",options:[{value:"hachure",text:"".concat(un?(0,ct.t)("labels.zigzag"):(0,ct.t)("labels.hachure")," (").concat((0,_t.uY)("Alt-Click"),")"),icon:un?It.lF:It.a0,active:!!un||void 0},{value:"cross-hatch",text:(0,ct.t)("labels.crossHatch"),icon:It.np},{value:"solid",text:(0,ct.t)("labels.solid"),icon:It.X7}],value:dn(Ut,wt,function(hn){return hn.fillStyle},wt.currentItemFillStyle),onClick:function(hn,jt){var vn=jt.altKey&&hn==="hachure"&&Mt.every(function(xn){return xn.fillStyle==="hachure"})?"zigzag":hn;Jt(vn)}})]})}}),(0,Et.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){return(0,Nt.BE)(Jt,{strokeWidth:wt})}),appState:Pt(Pt({},Ut),{},{currentItemStrokeWidth:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.strokeWidth")}),(0,gt.jsx)(xt,{group:"stroke-width",options:[{value:1,text:(0,ct.t)("labels.thin"),icon:It.ZA},{value:2,text:(0,ct.t)("labels.bold"),icon:It.Wl},{value:4,text:(0,ct.t)("labels.extraBold"),icon:It.m9}],value:dn(Ut,wt,function(Mt){return Mt.strokeWidth},wt.currentItemStrokeWidth),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,Et.z)({name:"changeSloppiness",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){return(0,Nt.BE)(Jt,{seed:(0,Dt.LU)(),roughness:wt})}),appState:Pt(Pt({},Ut),{},{currentItemRoughness:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.sloppiness")}),(0,gt.jsx)(xt,{group:"sloppiness",options:[{value:0,text:(0,ct.t)("labels.architect"),icon:It.bf},{value:1,text:(0,ct.t)("labels.artist"),icon:It.kM},{value:2,text:(0,ct.t)("labels.cartoonist"),icon:It.W2}],value:dn(Ut,wt,function(Mt){return Mt.roughness},wt.currentItemRoughness),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,Et.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){return(0,Nt.BE)(Jt,{strokeStyle:wt})}),appState:Pt(Pt({},Ut),{},{currentItemStrokeStyle:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.strokeStyle")}),(0,gt.jsx)(xt,{group:"strokeStyle",options:[{value:"solid",text:(0,ct.t)("labels.strokeStyle_solid"),icon:It.ZA},{value:"dashed",text:(0,ct.t)("labels.strokeStyle_dashed"),icon:It.a5},{value:"dotted",text:(0,ct.t)("labels.strokeStyle_dotted"),icon:It.aT}],value:dn(Ut,wt,function(Mt){return Mt.strokeStyle},wt.currentItemStrokeStyle),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,Et.z)({name:"changeOpacity",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){return(0,Nt.BE)(Jt,{opacity:wt})},!0),appState:Pt(Pt({},Ut),{},{currentItemOpacity:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut,wt=At.elements,Jt=At.appState,Mt=At.updateData;return(0,gt.jsxs)("label",{className:"control-label",children:[(0,ct.t)("labels.opacity"),(0,gt.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(un){return Mt(+un.target.value)},value:(Ut=dn(wt,Jt,function(un){return un.opacity},Jt.currentItemOpacity))!==null&&Ut!==void 0?Ut:void 0})]})}}),(0,Et.z)({name:"changeFontSize",trackEvent:!1,perform:function(At,Ut,wt){return Yt(At,Ut,function(){return wt},wt)},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.fontSize")}),(0,gt.jsx)(xt,{group:"font-size",options:[{value:16,text:(0,ct.t)("labels.small"),icon:It.q0,testId:"fontSize-small"},{value:20,text:(0,ct.t)("labels.medium"),icon:It.nq,testId:"fontSize-medium"},{value:28,text:(0,ct.t)("labels.large"),icon:It.tW,testId:"fontSize-large"},{value:36,text:(0,ct.t)("labels.veryLarge"),icon:It.OA,testId:"fontSize-veryLarge"}],value:dn(Ut,wt,function(Mt){if((0,tn.iB)(Mt))return Mt.fontSize;var un=(0,$t.WJ)(Mt);return un?un.fontSize:null},wt.currentItemFontSize||Tt.n5),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,Et.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(At,Ut,wt){return Yt(At,Ut,function(Jt){return Math.round(1/1.1*Jt.fontSize)})},keyTest:function(At){return At[Ct.tW.CTRL_OR_CMD]&&At.shiftKey&&(At.key===Ct.tW.CHEVRON_LEFT||At.key===Ct.tW.COMMA)}})),zt=(0,Et.z)({name:"increaseFontSize",trackEvent:!1,perform:function(At,Ut,wt){return Yt(At,Ut,function(Jt){return Math.round(1.1*Jt.fontSize)})},keyTest:function(At){return At[Ct.tW.CTRL_OR_CMD]&&At.shiftKey&&(At.key===Ct.tW.CHEVRON_RIGHT||At.key===Ct.tW.PERIOD)}});(0,Et.z)({name:"changeFontFamily",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){if((0,tn.iB)(Jt)){var Mt=(0,Nt.BE)(Jt,{fontFamily:wt,lineHeight:(0,$t.PT)(wt)});return(0,tn.oN)(Mt,(0,$t.tl)(Jt)),Mt}return Jt},!0),appState:Pt(Pt({},Ut),{},{currentItemFontFamily:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData,Mt=[{value:Tt.ut.Virgil,text:(0,ct.t)("labels.handDrawn"),icon:It.Pm},{value:Tt.ut.Helvetica,text:(0,ct.t)("labels.normal"),icon:It.vo},{value:Tt.ut.Cascadia,text:(0,ct.t)("labels.code"),icon:It.z6}];return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.fontFamily")}),(0,gt.jsx)(xt,{group:"font-family",options:Mt,value:dn(Ut,wt,function(un){if((0,tn.iB)(un))return un.fontFamily;var hn=(0,$t.WJ)(un);return hn?hn.fontFamily:null},wt.currentItemFontFamily||Tt.rk),onChange:function(un){return Jt(un)}})]})}}),(0,Et.z)({name:"changeTextAlign",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){if((0,tn.iB)(Jt)){var Mt=(0,Nt.BE)(Jt,{textAlign:wt});return(0,tn.oN)(Mt,(0,$t.tl)(Jt)),Mt}return Jt},!0),appState:Pt(Pt({},Ut),{},{currentItemTextAlign:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.textAlign")}),(0,gt.jsx)(xt,{group:"text-align",options:[{value:"left",text:(0,ct.t)("labels.left"),icon:It.rr,testId:"align-left"},{value:"center",text:(0,ct.t)("labels.center"),icon:It.o3,testId:"align-horizontal-center"},{value:"right",text:(0,ct.t)("labels.right"),icon:It.oT,testId:"align-right"}],value:dn(Ut,wt,function(Mt){if((0,tn.iB)(Mt))return Mt.textAlign;var un=(0,$t.WJ)(Mt);return un?un.textAlign:null},wt.currentItemTextAlign),onChange:function(Mt){return Jt(Mt)}})]})}}),(0,Et.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){if((0,tn.iB)(Jt)){var Mt=(0,Nt.BE)(Jt,{verticalAlign:wt});return(0,tn.oN)(Mt,(0,$t.tl)(Jt)),Mt}return Jt},!0),appState:Pt({},Ut),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData;return(0,gt.jsx)("fieldset",{children:(0,gt.jsx)(xt,{group:"text-align",options:[{value:Tt.oX.TOP,text:(0,ct.t)("labels.alignTop"),icon:(0,gt.jsx)(It.EO,{theme:wt.theme}),testId:"align-top"},{value:Tt.oX.MIDDLE,text:(0,ct.t)("labels.centerVertically"),icon:(0,gt.jsx)(It.P7,{theme:wt.theme}),testId:"align-middle"},{value:Tt.oX.BOTTOM,text:(0,ct.t)("labels.alignBottom"),icon:(0,gt.jsx)(It.aA,{theme:wt.theme}),testId:"align-bottom"}],value:dn(Ut,wt,function(Mt){if((0,tn.iB)(Mt)&&Mt.containerId)return Mt.verticalAlign;var un=(0,$t.WJ)(Mt);return un?un.verticalAlign:null}),onChange:function(Mt){return Jt(Mt)}})})}}),(0,Et.z)({name:"changeRoundness",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){return(0,Nt.BE)(Jt,{roundness:wt==="round"?{type:(0,Wt.QI)(Jt.type)?Tt.a6.ADAPTIVE_RADIUS:Tt.a6.PROPORTIONAL_RADIUS}:null})}),appState:Pt(Pt({},Ut),{},{currentItemRoundness:wt}),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData,Mt=(0,In.Zs)((0,tn.Lm)(Ut),wt).some(function(un){var hn;return((hn=un.roundness)===null||hn===void 0?void 0:hn.type)===Tt.a6.LEGACY});return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.edges")}),(0,gt.jsx)(xt,{group:"edges",options:[{value:"sharp",text:(0,ct.t)("labels.sharp"),icon:It.wr},{value:"round",text:(0,ct.t)("labels.round"),icon:It.DS}],value:dn(Ut,wt,function(un){return Mt?null:un.roundness?"round":"sharp"},(0,In.sh)(wt.activeTool.type)&&wt.currentItemRoundness||null),onChange:function(un){return Jt(un)}})]})}}),(0,Et.z)({name:"changeArrowhead",trackEvent:!1,perform:function(At,Ut,wt){return{elements:qt(At,Ut,function(Jt){if((0,Wt.bt)(Jt)){var Mt=wt.position,un=wt.type;if(Mt==="start")return(0,Nt.BE)(Jt,{startArrowhead:un});if(Mt==="end")return(0,Nt.BE)(Jt,{endArrowhead:un})}return Jt}),appState:Pt(Pt({},Ut),{},(0,ht.Z)({},wt.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",wt.type)),commitToHistory:!0}},PanelComponent:function(At){var Ut=At.elements,wt=At.appState,Jt=At.updateData,Mt=(0,ct.G3)().rtl;return(0,gt.jsxs)("fieldset",{children:[(0,gt.jsx)("legend",{children:(0,ct.t)("labels.arrowheads")}),(0,gt.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,gt.jsx)(st,{label:"arrowhead_start",options:[{value:null,text:(0,ct.t)("labels.arrowhead_none"),icon:It.fr,keyBinding:"q"},{value:"arrow",text:(0,ct.t)("labels.arrowhead_arrow"),icon:(0,gt.jsx)(It.il,{flip:!Mt}),keyBinding:"w"},{value:"bar",text:(0,ct.t)("labels.arrowhead_bar"),icon:(0,gt.jsx)(It.m,{flip:!Mt}),keyBinding:"e"},{value:"dot",text:(0,ct.t)("labels.arrowhead_dot"),icon:(0,gt.jsx)(It.tn,{flip:!Mt}),keyBinding:"r"},{value:"triangle",text:(0,ct.t)("labels.arrowhead_triangle"),icon:(0,gt.jsx)(It.j8,{flip:!Mt}),keyBinding:"t"}],value:dn(Ut,wt,function(un){return(0,Wt.bt)(un)&&(0,In.Un)(un.type)?un.startArrowhead:wt.currentItemStartArrowhead},wt.currentItemStartArrowhead),onChange:function(un){return Jt({position:"start",type:un})}}),(0,gt.jsx)(st,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,ct.t)("labels.arrowhead_none"),keyBinding:"q",icon:It.fr},{value:"arrow",text:(0,ct.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,gt.jsx)(It.il,{flip:Mt})},{value:"bar",text:(0,ct.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,gt.jsx)(It.m,{flip:Mt})},{value:"dot",text:(0,ct.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,gt.jsx)(It.tn,{flip:Mt})},{value:"triangle",text:(0,ct.t)("labels.arrowhead_triangle"),icon:(0,gt.jsx)(It.j8,{flip:Mt}),keyBinding:"t"}],value:dn(Ut,wt,function(un){return(0,Wt.bt)(un)&&(0,In.Un)(un.type)?un.endArrowhead:wt.currentItemEndArrowhead},wt.currentItemEndArrowhead),onChange:function(un){return Jt({position:"end",type:un})}})]})]})}})},4958:function(Ht,St,_){_.d(St,{u:function(){return xt}});var pt=_(7169),ht=_(7901),ot=_(6066);function at(vt,it){var kt=Object.keys(vt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(vt);it&&(Ot=Ot.filter(function(an){return Object.getOwnPropertyDescriptor(vt,an).enumerable})),kt.push.apply(kt,Ot)}return kt}function gt(vt){for(var it=1;it<arguments.length;it++){var kt=arguments[it]!=null?arguments[it]:{};it%2?at(Object(kt),!0).forEach(function(Ot){(0,pt.Z)(vt,Ot,kt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(kt)):at(Object(kt)).forEach(function(Ot){Object.defineProperty(vt,Ot,Object.getOwnPropertyDescriptor(kt,Ot))})}return vt}var xt=(0,ht.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(vt,it){return{appState:gt(gt({},it),{},{showStats:!this.checked(it)}),commitToHistory:!1}},checked:function(vt){return vt.showStats},contextItemLabel:"stats.title",keyTest:function(vt){return!vt[ot.tW.CTRL_OR_CMD]&&vt.altKey&&vt.code===ot.aU.SLASH}})},6710:function(Ht,St,_){_.d(St,{FL:function(){return Co},vD:function(){return _o.vD},yA:function(){return Gt},BZ:function(){return Ct},mo:function(){return Yt.mo},uN:function(){return ro.uN},jK:function(){return ro.jK},FA:function(){return ro.FA},pw:function(){return jt},ZM:function(){return ro.ZM},X9:function(){return pt.X},xF:function(){return qt},pL:function(){return wt},jl:function(){return so},kt:function(){return mo},EQ:function(){return gr},nz:function(){return os.nz},_d:function(){return Jt._d},W3:function(){return vn},ns:function(){return Jt.ns},Yy:function(){return Tt},V:function(){return bt},zi:function(){return yt},jY:function(){return Zt},Pb:function(){return Lo},Qs:function(){return nu},iL:function(){return ys},u0:function(){return Xl.u},Zp:function(){return Yt.Zp},JN:function(){return Ll},y7:function(){return _o.y7},s:function(){return Wn},zp:function(){return ro.zp}});var pt=_(533),ht=_(1930),ot=_(1935),at=_(242),gt=_(75),xt=_(1564),vt=_(6340),it=function(on,Bn){for(var On=[],Hn=[],br=null,xr=-1,Tr=(0,vt.xn)((0,gt.eD)(on,Bn,!0));++xr<on.length;)Tr.get(on[xr].id)?(Hn.length&&(On=On.concat(Hn),Hn=[]),On.push(xr),br=xr+1):on[xr].isDeleted&&br===xr?(br=xr+1,Hn.push(xr)):Hn=[];return On},kt=function(on,Bn,On){if("containerId"in on&&on.containerId){if(On!=="left")return Bn.indexOf(on);var Hn=xt.Z.getScene(on).getElement(on.containerId);if(Hn)return Bn.indexOf(Hn)}else{var br,xr,Tr=(br=on.boundElements)===null||br===void 0||(xr=br.find(function(fr){return fr.type!=="arrow"}))===null||xr===void 0?void 0:xr.id;if(Tr){if(On==="left")return Bn.indexOf(on);var Vr=xt.Z.getScene(on).getElement(Tr);if(Vr)return Bn.indexOf(Vr)}}},Ot=function(on,Bn){return Bn.reduce(function(On,Hn){var br=on[Hn];return On[br.id]=br,On},{})},an=function(on,Bn,On){var Hn,br,xr=it(Bn,on),Tr=Ot(Bn,xr),Vr=(br=0,(Hn=xr).reduce(function(fr,zr,Xr){return Xr>0&&Hn[Xr-1]!==zr-1&&(br=++br),(fr[br]||(fr[br]=[])).push(zr),fr},[]));return On==="right"&&(Vr=Vr.reverse()),Vr.forEach(function(fr,zr){var Xr=fr[0],xa=fr[fr.length-1],jr=On==="left"?Xr:xa,Mr=function(Ho,Oo,Al,ko){var yo,Dr=Oo[Al],To=function(hs){return!hs.isDeleted&&(!Ho.editingGroupId||hs.groupIds.includes(Ho.editingGroupId))},Fl=ko==="left"?(0,vt.qr)(Oo,To,Math.max(0,Al-1)):(0,vt.cx)(Oo,To,Al+1),Ro=Oo[Fl];if(!Ro)return-1;if(Ho.editingGroupId){var Po;if((Dr==null?void 0:Dr.groupIds.join(""))===(Ro==null?void 0:Ro.groupIds.join("")))return(Po=kt(Ro,Oo,ko))!==null&&Po!==void 0?Po:Fl;if(Ro==null||!Ro.groupIds.includes(Ho.editingGroupId))return-1}if(!Ro.groupIds.length)return(yo=kt(Ro,Oo,ko))!==null&&yo!==void 0?yo:Fl;var zl=Ho.editingGroupId?Ro.groupIds[Ro.groupIds.indexOf(Ho.editingGroupId)-1]:Ro.groupIds[Ro.groupIds.length-1],yl=(0,at.Fb)(Oo,zl);return yl.length?ko==="left"?Oo.indexOf(yl[0]):Oo.indexOf(yl[yl.length-1]):Fl}(on,Bn,jr,On);if(Mr!==-1&&jr!==Mr){var fo=On==="left"?Bn.slice(0,Mr):Bn.slice(0,Xr),no=Bn.slice(Xr,xa+1),_r=On==="left"?Bn.slice(Mr,Xr):Bn.slice(xa+1,Mr+1),Ko=On==="left"?Bn.slice(xa+1):Bn.slice(Mr+1);Bn=On==="left"?[].concat((0,ht.Z)(fo),(0,ht.Z)(no),(0,ht.Z)(_r),(0,ht.Z)(Ko)):[].concat((0,ht.Z)(fo),(0,ht.Z)(_r),(0,ht.Z)(no),(0,ht.Z)(Ko))}}),Bn.map(function(fr){return Tr[fr.id]?(0,ot.ZP)(fr):fr})},gn=function(on,Bn,On){var Hn,br,xr=it(on,Bn),Tr=Ot(on,xr),Vr=[];if(On==="left"){if(Bn.editingGroupId){var fr=(0,at.Fb)(on,Bn.editingGroupId);if(!fr.length)return on;Hn=on.indexOf(fr[0])}else Hn=0;br=xr[xr.length-1]}else{if(Bn.editingGroupId){var zr=(0,at.Fb)(on,Bn.editingGroupId);if(!zr.length)return on;br=on.indexOf(zr[zr.length-1])}else br=on.length-1;Hn=xr[0]}for(var Xr=Hn;Xr<br+1;Xr++)xr.includes(Xr)||Vr.push(on[Xr]);var xa=Object.values(Tr).map(function(fo){return(0,ot.ZP)(fo)}),jr=on.slice(0,Hn),Mr=on.slice(br+1);return On==="left"?[].concat((0,ht.Z)(jr),(0,ht.Z)(xa),Vr,(0,ht.Z)(Mr)):[].concat((0,ht.Z)(jr),Vr,(0,ht.Z)(xa),(0,ht.Z)(Mr))},Qt=function(on,Bn){return an(Bn,on,"left")},bn=function(on,Bn){return an(Bn,on,"right")},fn=function(on,Bn){return gn(on,Bn,"left")},Zn=function(on,Bn){return gn(on,Bn,"right")},mn=_(6066),pn=_(8211),An=_(7901),ft=_(3646),Rt=_(2335),Bt=_(4512),bt=(0,An.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Qt(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&!on.shiftKey&&on.code===mn.aU.BRACKET_LEFT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Bn(null)},title:"".concat((0,pn.t)("labels.sendBackward"),"  ").concat((0,vt.uY)("CtrlOrCmd+[")),children:ft.Gc})}}),Gt=(0,An.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:bn(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&!on.shiftKey&&on.code===mn.aU.BRACKET_RIGHT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Bn(null)},title:"".concat((0,pn.t)("labels.bringForward"),"  ").concat((0,vt.uY)("CtrlOrCmd+]")),children:ft.t5})}}),yt=(0,An.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:fn(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(on){return Rt.Um?on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.BRACKET_LEFT:on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.code===mn.aU.BRACKET_LEFT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Bn(null)},title:"".concat((0,pn.t)("labels.sendToBack"),"  ").concat(Rt.Um?(0,vt.uY)("CtrlOrCmd+Alt+["):(0,vt.uY)("CtrlOrCmd+Shift+[")),children:ft.pw})}}),Ct=(0,An.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Zn(on,Bn),appState:Bn,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(on){return Rt.Um?on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.BRACKET_RIGHT:on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.code===mn.aU.BRACKET_RIGHT},PanelComponent:function(on){var Bn=on.updateData;return on.appState,(0,Bt.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(On){return Bn(null)},title:"".concat((0,pn.t)("labels.bringToFront"),"  ").concat(Rt.Um?(0,vt.uY)("CtrlOrCmd+Alt+]"):(0,vt.uY)("CtrlOrCmd+Shift+]")),children:ft.IN})}}),ct=_(7169),rt=_(1047),_e=_(1974),lt=_(6938);function st(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function It(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?st(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):st(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Tt=(0,An.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(on,Bn,On,Hn){if(Bn.editingLinearElement)return!1;var br=on.reduce(function(xr,Tr){return Tr.isDeleted||(0,rt.iB)(Tr)&&Tr.containerId||Tr.locked||(xr[Tr.id]=!0),xr},{});return{appState:(0,at.bO)(It(It({},Bn),{},{selectedLinearElement:Object.keys(br).length===1&&(0,_e.bt)(on[0])?new lt._(on[0],Hn.scene):null,editingGroupId:null,selectedElementIds:br}),(0,rt.Lm)(on)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.A}}),tn=_(1319),Nt=_(8290),$t=_(5710);function Wt(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return Dt(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return Dt(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function Dt(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}var In=function(on){var Bn=on.slice(),On=new Set,Hn=function xr(Tr){var Vr,fr,zr,Xr=(Vr=Tr[0])===null||Vr===void 0||(fr=Vr.groupIds)===null||fr===void 0?void 0:fr.join(""),xa=[Tr[0]],jr=[],Mr=Wt(Tr.slice(1));try{for(Mr.s();!(zr=Mr.n()).done;){var fo,no=zr.value;((fo=no.groupIds)===null||fo===void 0?void 0:fo.join(""))===Xr?xa.push(no):jr.push(no)}}catch(_r){Mr.e(_r)}finally{Mr.f()}return jr.length?[].concat(xa,(0,ht.Z)(xr(jr))):xa},br=new Map;return Bn.forEach(function(xr,Tr){var Vr;if(!br.has(xr.id))if((Vr=xr.groupIds)!==null&&Vr!==void 0&&Vr.length){var fr,zr=xr.groupIds[xr.groupIds.length-1],Xr=Bn.slice(Tr).filter(function(Mr){var fo,no=Mr==null||(fo=Mr.groupIds)===null||fo===void 0?void 0:fo.some(function(_r){return _r===zr});return no&&br.set(Mr.id,!0),no}),xa=Wt(Hn(Xr));try{for(xa.s();!(fr=xa.n()).done;){var jr=fr.value;On.add(jr)}}catch(Mr){xa.e(Mr)}finally{xa.f()}}else On.add(xr)}),On.size!==on.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),on):(0,ht.Z)(On)},rn=function(on){var Bn=function(On){var Hn=(0,vt.I4)(On),br=On.slice(),xr=new Set;return br.forEach(function(Tr,Vr){var fr;if(Tr)if((fr=Tr.boundElements)!==null&&fr!==void 0&&fr.length)xr.add(Tr),br[Vr]=null,Tr.boundElements.forEach(function(xa){var jr=Hn.get(xa.id);jr&&xa.type==="text"&&(xr.add(jr[0]),br[jr[1]]=null)});else if(Tr.type==="text"&&Tr.containerId){var zr,Xr=Hn.get(Tr.containerId);Xr!=null&&(zr=Xr[0].boundElements)!==null&&zr!==void 0&&zr.find(function(xa){return xa.id===Tr.id})||(xr.add(Tr),br[Vr]=null)}else xr.add(Tr),br[Vr]=null}),xr.size!==On.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),On):(0,ht.Z)(xr)}(In(on));return Bn};function _t(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return Et(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return Et(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function Et(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}function Vt(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Pt(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Vt(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Vt(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var qt=(0,An.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(on,Bn){if(Bn.editingLinearElement){var On=lt._.duplicateSelectedPoints(Bn);return!!On&&{elements:on,appState:On.appState,commitToHistory:!0}}return Pt(Pt({},dn(on,Bn)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.D},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{type:"button",icon:ft.NA,title:"".concat((0,pn.t)("labels.duplicateSelection"),"  ").concat((0,vt.uY)("CtrlOrCmd+D")),"aria-label":(0,pn.t)("labels.duplicateSelection"),onClick:function(){return Hn(null)},visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),dn=function(on,Bn){for(var On=rn(on),Hn=new Map,br=[],xr=[],Tr=new Map,Vr=function(ko){var yo=(0,rt.Sy)(Bn.editingGroupId,Hn,ko,{x:ko.x+Rt.k/2,y:ko.y+Rt.k/2});return Tr.set(ko.id,yo.id),xr.push(ko),br.push(yo),yo},fr=(0,vt.xn)((0,gt.eD)(On,Bn,!0)),zr=new Map,Xr=function(ko){var yo,Dr=_t(ko);try{for(Dr.s();!(yo=Dr.n()).done;){var To=yo.value;zr.set(To.id,!0)}}catch(Fl){Dr.e(Fl)}finally{Dr.f()}return ko},xa=[],jr=-1;++jr<On.length;){var Mr=On[jr];if(!zr.get(Mr.id)){var fo=(0,$t.WJ)(Mr);if(fr.get(Mr.id)){if(Mr.groupIds.length||fo){var no=(0,at.yO)(Bn,Mr);if(no){var _r=(0,at.Fb)(On,no);xa.push.apply(xa,(0,ht.Z)(Xr([].concat((0,ht.Z)(_r),(0,ht.Z)(_r.map(function(ko){return Vr(ko)}))))));continue}if(fo){xa.push.apply(xa,(0,ht.Z)(Xr([Mr,fo,Vr(Mr),Vr(fo)])));continue}}xa.push.apply(xa,(0,ht.Z)(Xr([Mr,Vr(Mr)])))}else xa.push.apply(xa,(0,ht.Z)(Xr([Mr])))}}var Ko=[],Ho=new Map;for(jr=xa.length;--jr>=0;){var Oo=xa[jr];Ho.get(Oo.id)||(Ho.set(Oo.id,!0),Ko.push(Oo))}var Al=Ko.reverse();return(0,$t.P7)(xa,xr,Tr),(0,Nt.ek)(xa,xr,Tr),{elements:Al,appState:(0,at.bO)(Pt(Pt({},Bn),{},{selectedGroupIds:{},selectedElementIds:br.reduce(function(ko,yo){return(0,_e.Xh)(yo)||(ko[yo.id]=!0),ko},{})}),(0,rt.Lm)(Al))}},Yt=(_(6208),_(2416)),Xt=_(2577),zt=_(6552);function At(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Ut(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?At(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):At(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var wt=(0,An.z)({name:"finalize",trackEvent:!1,perform:function(on,Bn,On,Hn){var br,xr=Hn.canvas,Tr=Hn.focusContainer,Vr=Hn.scene;if(Bn.editingLinearElement){var fr=Bn.editingLinearElement,zr=fr.elementId,Xr=fr.startBindingElement,xa=fr.endBindingElement,jr=lt._.getElement(zr);if(jr)return(0,_e.Mn)(jr)&&(0,Nt.HG)(jr,Xr,xa),{elements:jr.points.length<2||(0,rt.QD)(jr)?on.filter(function(Ro){return Ro.id!==jr.id}):void 0,appState:Ut(Ut({},Bn),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Mr=on,fo=Bn.pendingImageElementId&&Vr.getElement(Bn.pendingImageElementId);fo&&(0,ot.DR)(fo,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&Tr();var no,_r=Bn.multiElement?Bn.multiElement:((br=Bn.editingElement)===null||br===void 0?void 0:br.type)==="freedraw"?Bn.editingElement:null;if(_r){if(_r.type!=="freedraw"&&Bn.lastPointerDownWith!=="touch"){var Ko=_r.points,Ho=_r.lastCommittedPoint;Ho&&Ko[Ko.length-1]===Ho||(0,ot.DR)(_r,{points:_r.points.slice(0,-1)})}(0,rt.QD)(_r)&&(Mr=Mr.slice(0,-1));var Oo=(0,zt.g6)(_r.points,Bn.zoom.value);if((_r.type==="line"||_r.type==="freedraw")&&Oo){var Al=_r.points,ko=Al[0];(0,ot.DR)(_r,{points:Al.map(function(Ro,Po){return Po===Al.length-1?[ko[0],ko[1]]:Ro})})}if((0,_e.Mn)(_r)&&!Oo&&_r.points.length>1){var yo=lt._.getPointAtIndexGlobalCoordinates(_r,-1),Dr=(0,Xt.Z)(yo,2),To=Dr[0],Fl=Dr[1];(0,Nt.R)(_r,Bn,xt.Z.getScene(_r),{x:To,y:Fl})}Bn.activeTool.locked||Bn.activeTool.type==="freedraw"||(Bn.selectedElementIds[_r.id]=!0)}return(Bn.activeTool.locked||Bn.activeTool.type==="freedraw")&&_r||(0,vt.z8)(xr),no=Bn.activeTool.type==="eraser"?(0,vt.Om)(Bn,Ut(Ut({},Bn.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,vt.Om)(Bn,{type:"selection"}),{elements:Mr,appState:Ut(Ut({},Bn),{},{cursorButton:"up",activeTool:(Bn.activeTool.locked||Bn.activeTool.type==="freedraw")&&_r?Bn.activeTool:no,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:_r&&!Bn.activeTool.locked&&Bn.activeTool.type!=="freedraw"?Ut(Ut({},Bn.selectedElementIds),{},(0,ct.Z)({},_r.id,!0)):Bn.selectedElementIds,selectedLinearElement:_r&&(0,_e.bt)(_r)?new lt._(_r,Vr):Bn.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Bn.activeTool.type==="freedraw"}},keyTest:function(on,Bn){return on.key===mn.tW.ESCAPE&&(Bn.editingLinearElement!==null||!Bn.draggingElement&&Bn.multiElement===null)||(on.key===mn.tW.ESCAPE||on.key===mn.tW.ENTER)&&Bn.multiElement!==null},PanelComponent:function(on){var Bn=on.appState,On=on.updateData,Hn=on.data;return(0,Bt.jsx)(tn.V,{type:"button",icon:ft.$c,title:(0,pn.t)("buttons.done"),"aria-label":(0,pn.t)("buttons.done"),onClick:On,visible:Bn.multiElement!=null,size:(Hn==null?void 0:Hn.size)||"medium"})}}),Jt=_(8671);function Mt(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function un(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Mt(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Mt(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var hn="{}",jt=(0,An.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(on,Bn){var On=[],Hn=on.find(function(xr){return Bn.selectedElementIds[xr.id]});if(On.push(Hn),Hn&&(0,_e.Xo)(Hn)){var br=(0,$t.WJ)(Hn);On.push(br)}return Hn&&(hn=JSON.stringify(On)),{appState:un(un({},Bn),{},{toast:{message:(0,pn.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.C}}),vn=(0,An.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(on,Bn){var On=JSON.parse(hn),Hn=On[0],br=On[1];if(!(0,rt.r2)(Hn))return{elements:on,commitToHistory:!1};var xr=(0,gt.eD)(on,Bn,!0),Tr=xr.map(function(Vr){return Vr.id});return{elements:on.map(function(Vr){if(Tr.includes(Vr.id)){var fr,zr,Xr,xa,jr,Mr,fo,no=Hn;if((0,rt.iB)(Vr)&&Vr.containerId&&(no=br),!no)return Vr;var _r=(0,ot.BE)(Vr,{backgroundColor:(fr=no)===null||fr===void 0?void 0:fr.backgroundColor,strokeWidth:(zr=no)===null||zr===void 0?void 0:zr.strokeWidth,strokeColor:(Xr=no)===null||Xr===void 0?void 0:Xr.strokeColor,strokeStyle:(xa=no)===null||xa===void 0?void 0:xa.strokeStyle,fillStyle:(jr=no)===null||jr===void 0?void 0:jr.fillStyle,opacity:(Mr=no)===null||Mr===void 0?void 0:Mr.opacity,roughness:(fo=no)===null||fo===void 0?void 0:fo.roughness,roundness:no.roundness?(0,_e.eK)(no.roundness.type,Vr)?no.roundness:(0,_e.UQ)(Vr):null});if((0,rt.iB)(_r)){var Ko,Ho,Oo,Al=((Ko=no)===null||Ko===void 0?void 0:Ko.fontSize)||Rt.n5,ko=((Ho=no)===null||Ho===void 0?void 0:Ho.fontFamily)||Rt.rk,yo=null;(_r=(0,ot.BE)(_r,{fontSize:Al,fontFamily:ko,textAlign:((Oo=no)===null||Oo===void 0?void 0:Oo.textAlign)||Rt.Hg,lineHeight:no.lineHeight||(0,$t.PT)(ko)})).containerId&&(yo=xr.find(function(Dr){return(0,rt.iB)(_r)&&Dr.id===_r.containerId})||null),(0,rt.oN)(_r,yo)}return _r.type==="arrow"&&(_r=(0,ot.BE)(_r,{startArrowhead:no.startArrowhead,endArrowhead:no.endArrowhead})),_r}return Vr}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.V}});function xn(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Gn(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?xn(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):xn(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}(0,An.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(on,Bn){return{appState:Gn(Gn({},Bn),{},{openMenu:Bn.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(on){var Bn=on.appState,On=on.updateData;return(0,Bt.jsx)(tn.V,{type:"button",icon:ft.RY,"aria-label":(0,pn.t)("buttons.menu"),onClick:On,selected:Bn.openMenu==="canvas"})}}),(0,An.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(on,Bn){return{appState:Gn(Gn({},Bn),{},{openMenu:Bn.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{visible:(0,rt.RT)(On,(0,rt.Lm)(Bn)),type:"button",icon:ft.DG,"aria-label":(0,pn.t)("buttons.edit"),onClick:Hn,selected:On.openMenu==="shape"})}}),(0,An.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(on){return!(0,vt.rB)()}},perform:function(){return(0,vt.rB)()||(0,vt.wo)(),(0,vt.rB)()&&(0,vt.Pr)(),{commitToHistory:!1}},keyTest:function(on){return on.key===mn.tW.F&&!on[mn.tW.CTRL_OR_CMD]}});var Zt=(0,An.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(on,Bn,On,Hn){var br=Hn.focusContainer;return Bn.openDialog==="help"&&br(),{appState:Gn(Gn({},Bn),{},{openDialog:Bn.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(on){return on.key===mn.tW.QUESTION_MARK}}),Xn=_(6655),Cn=_(6954);function Qn(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Tn(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Qn(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Qn(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}function Pn(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return tr(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return tr(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function tr(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}var ir=function(on,Bn){var On=(0,gt.eD)((0,rt.Lm)(on),Bn,!0);return On.length>=2&&!function(Hn){if(Hn.length>=2){var br,xr=Pn(Hn[0].groupIds);try{var Tr=function(){var fr=br.value;if(Hn.reduce(function(zr,Xr){return zr&&(0,at.Nd)(Xr,fr)},!0))return{v:!0}};for(xr.s();!(br=xr.n()).done;){var Vr=Tr();if((0,Xn.Z)(Vr)==="object")return Vr.v}}catch(fr){xr.e(fr)}finally{xr.f()}}return!1}(On)},gr=(0,An.z)({name:"group",trackEvent:{category:"element"},perform:function(on,Bn){var On=(0,gt.eD)((0,rt.Lm)(on),Bn,!0);if(On.length<2)return{appState:Bn,elements:on,commitToHistory:!1};var Hn=(0,at.iJ)(Bn);if(Hn.length===1){var br=Hn[0],xr=new Set((0,at.Fb)(on,br).map(function(_r){return _r.id})),Tr=new Set(On.map(function(_r){return _r.id}));if(new Set([].concat((0,ht.Z)(Array.from(xr)),(0,ht.Z)(Array.from(Tr)))).size===xr.size)return{appState:Bn,elements:on,commitToHistory:!1}}var Vr=(0,Cn.kb)(),fr=(0,vt.xn)(On),zr=on.map(function(_r){return fr.get(_r.id)?(0,ot.BE)(_r,{groupIds:(0,at.S_)(_r.groupIds,Vr,Bn.editingGroupId)}):_r}),Xr=(0,at.Fb)(zr,Vr),xa=Xr[Xr.length-1],jr=zr.lastIndexOf(xa),Mr=zr.slice(jr+1),fo=zr.slice(0,jr).filter(function(_r){return!(0,at.Nd)(_r,Vr)}),no=[].concat((0,ht.Z)(fo),(0,ht.Z)(Xr),(0,ht.Z)(Mr));return{appState:(0,at.F$)(Vr,Tn(Tn({},Bn),{},{selectedGroupIds:{}}),(0,rt.Lm)(no)),elements:no,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(on,Bn){return ir(on,Bn)},keyTest:function(on){return!on.shiftKey&&on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.G},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!ir(Bn,On),type:"button",icon:(0,Bt.jsx)(ft.BF,{theme:On.theme}),onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.group"),"  ").concat((0,vt.uY)("CtrlOrCmd+G")),"aria-label":(0,pn.t)("labels.group"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),Wn=(0,An.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(on,Bn){if((0,at.iJ)(Bn).length===0)return{appState:Bn,elements:on,commitToHistory:!1};var On=[],Hn=on.map(function(xr){(0,_e.Xh)(xr)&&On.push(xr.id);var Tr=(0,at.h6)(xr.groupIds,Bn.selectedGroupIds);return Tr.length===xr.groupIds.length?xr:(0,ot.BE)(xr,{groupIds:Tr})}),br=(0,at.bO)(Tn(Tn({},Bn),{},{selectedGroupIds:{}}),(0,rt.Lm)(Hn));return On.forEach(function(xr){return br.selectedElementIds[xr]=!1}),{appState:br,elements:Hn,commitToHistory:!0}},keyTest:function(on){return on.shiftKey&&on[mn.tW.CTRL_OR_CMD]&&on.key===mn.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(on,Bn){return(0,at.iJ)(Bn).length>0},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{type:"button",hidden:(0,at.iJ)(On).length===0,icon:(0,Bt.jsx)(ft.RJ,{theme:On.theme}),onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.ungroup"),"  ").concat((0,vt.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,pn.t)("labels.ungroup"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),ln=_(8982),Un=_(487),wn=_.n(Un),Mn=_(631),zn=_.n(Mn),Jn=_(2052),er=_.n(Jn),cr=_(4010),or=_.n(cr),ur=_(1469),Ur=_.n(ur),Zr=_(9329),yr=_.n(Zr),Ar=_(3729),pr={};pr.styleTagTransform=yr(),pr.setAttributes=or(),pr.insert=er().bind(null,"head"),pr.domAPI=zn(),pr.insertStyleElement=Ur(),wn()(Ar.Z,pr),Ar.Z&&Ar.Z.locals&&Ar.Z.locals;var Nr=_(9787),Or=function(on){var Bn=on.color,On=on.onClick,Hn=on.name,br=on.src,xr=(0,ln.f)(Hn),Tr=(0,Nr.useState)(!1),Vr=(0,Xt.Z)(Tr,2),fr=Vr[0],zr=Vr[1],Xr=!fr&&br,xa=Xr?void 0:{background:Bn};return(0,Bt.jsx)("div",{className:"Avatar",style:xa,onClick:On,children:Xr?(0,Bt.jsx)("img",{className:"Avatar-img",src:br,alt:xr,referrerPolicy:"no-referrer",onError:function(){return zr(!0)}}):xr})},ba=_(2264);function ho(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function oo(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?ho(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):ho(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}(0,An.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(on,Bn,On){var Hn=On;return Hn?{appState:oo(oo(oo({},Bn),(0,ba.s)({scenePoint:Hn,viewportDimensions:{width:Bn.width,height:Bn.height},zoom:Bn.zoom})),{},{openMenu:Bn.openMenu==="canvas"?null:Bn.openMenu}),commitToHistory:!1}:{appState:Bn,commitToHistory:!1}},PanelComponent:function(on){var Bn=on.appState,On=on.updateData,Hn=on.data,br=(0,Xt.Z)(Hn,2),xr=br[0],Tr=br[1],Vr=(0,ln.X)(xr,Bn),fr=Vr.background,zr=Vr.stroke;return(0,Bt.jsx)(Or,{color:fr,border:zr,onClick:function(){return On(Tr.pointer)},name:Tr.username||"",src:Tr.avatarUrl})}});var lo=_(2791);function $r(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function qr(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?$r(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):$r(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Co=(0,An.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(on,Bn,On,Hn){var br=(0,gt.eD)((0,rt.Lm)(on),Bn,!0);return br.some(function(xr){return xr.type==="image"})?{commitToHistory:!1,appState:qr(qr({},Bn),{},{errorMessage:"Support for adding images to the library coming soon!"})}:Hn.library.getLatestLibrary().then(function(xr){return Hn.library.setLibrary([{id:(0,Cn.kb)(),status:"unpublished",elements:br.map(lo.OL),created:Date.now()}].concat((0,ht.Z)(xr)))}).then(function(){return{commitToHistory:!1,appState:qr(qr({},Bn),{},{toast:{message:(0,pn.t)("toast.addedToLibrary")}})}}).catch(function(xr){return{commitToHistory:!1,appState:qr(qr({},Bn),{},{errorMessage:xr.message})}})},contextItemLabel:"labels.addToLibrary"}),po=_(8925);function na(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function lr(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?na(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):na(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Ir=function(on,Bn,On){var Hn=On.axis,br=On.position,xr=(0,po.v2)(on),Tr=Hn==="x"?["minX","maxX"]:["minY","maxY"],Vr=(0,Xt.Z)(Tr,2),fr=Vr[0],zr=Vr[1],Xr={x:0,y:0};return lr(lr({},Xr),{},br==="start"?(0,ct.Z)({},Hn,Bn[fr]-xr[fr]):br==="end"?(0,ct.Z)({},Hn,Bn[zr]-xr[zr]):(0,ct.Z)({},Hn,(Bn[fr]+Bn[zr])/2-(xr[fr]+xr[zr])/2))},Cr=function(on,Bn){return(0,gt.eD)((0,rt.Lm)(on),Bn).length>1},wr=function(on,Bn,On){var Hn=function(xr,Tr){var Vr=(0,at.AI)(xr),fr=(0,po.v2)(xr);return Vr.flatMap(function(zr){var Xr=Ir(zr,fr,Tr);return zr.map(function(xa){return(0,ot.BE)(xa,{x:xa.x+Xr.x,y:xa.y+Xr.y})})})}((0,gt.eD)((0,rt.Lm)(on),Bn),On),br=(0,vt.xn)(Hn);return on.map(function(xr){return br.get(xr.id)||xr})};(0,An.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_UP},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:ft.Ct,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignTop"),"  ").concat((0,vt.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,pn.t)("labels.alignTop"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),(0,An.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_DOWN},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:ft.HL,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignBottom"),"  ").concat((0,vt.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,pn.t)("labels.alignBottom"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),(0,An.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_LEFT},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:ft.xs,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignLeft"),"  ").concat((0,vt.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,pn.t)("labels.alignLeft"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),(0,An.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&on.key===mn.tW.ARROW_RIGHT},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:ft.mh,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.alignRight"),"  ").concat((0,vt.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,pn.t)("labels.alignRight"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),(0,An.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:ft.ST,onClick:function(){return Hn(null)},title:(0,pn.t)("labels.centerVertically"),"aria-label":(0,pn.t)("labels.centerVertically"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),(0,An.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:wr(on,Bn,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Cr(Bn,On),type:"button",icon:ft.gK,onClick:function(){return Hn(null)},title:(0,pn.t)("labels.centerHorizontally"),"aria-label":(0,pn.t)("labels.centerHorizontally"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}});function Er(on,Bn){var On=typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(!On){if(Array.isArray(on)||(On=function(fr,zr){if(fr){if(typeof fr=="string")return Rr(fr,zr);var Xr=Object.prototype.toString.call(fr).slice(8,-1);if(Xr==="Object"&&fr.constructor&&(Xr=fr.constructor.name),Xr==="Map"||Xr==="Set")return Array.from(fr);if(Xr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xr))return Rr(fr,zr)}}(on))||Bn&&on&&typeof on.length=="number"){On&&(on=On);var Hn=0,br=function(){};return{s:br,n:function(){return Hn>=on.length?{done:!0}:{done:!1,value:on[Hn++]}},e:function(fr){throw fr},f:br}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xr,Tr=!0,Vr=!1;return{s:function(){On=On.call(on)},n:function(){var fr=On.next();return Tr=fr.done,fr},e:function(fr){Vr=!0,xr=fr},f:function(){try{Tr||On.return==null||On.return()}finally{if(Vr)throw xr}}}}function Rr(on,Bn){(Bn==null||Bn>on.length)&&(Bn=on.length);for(var On=0,Hn=new Array(Bn);On<Bn;On++)Hn[On]=on[On];return Hn}var Kr=function(on,Bn){return(0,gt.eD)((0,rt.Lm)(on),Bn).length>1},ga=function(on,Bn,On){var Hn=function(xr,Tr){var Vr,fr=Tr.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],zr=(0,Xt.Z)(fr,4),Xr=zr[0],xa=zr[1],jr=zr[2],Mr=zr[3],fo=(0,po.v2)(xr),no=(0,at.AI)(xr).map(function(To){return[To,(0,po.v2)(To)]}).sort(function(To,Fl){return To[1][xa]-Fl[1][xa]}),_r=0,Ko=Er(no);try{for(Ko.s();!(Vr=Ko.n()).done;)_r+=Vr.value[1][Mr]}catch(To){Ko.e(To)}finally{Ko.f()}var Ho=(fo[Mr]-_r)/(no.length-1);if(Ho<0){var Oo=no.findIndex(function(To){return To[1][Xr]===fo[Xr]}),Al=no.findIndex(function(To){return To[1][jr]===fo[jr]}),ko=(no[Al][1][xa]-no[Oo][1][xa])/(no.length-1),yo=no[Oo][1][xa];return no.flatMap(function(To,Fl){var Ro=(0,Xt.Z)(To,2),Po=Ro[0],zl=Ro[1],yl={x:0,y:0};return Fl!==Oo&&Fl!==Al&&(yo+=ko,yl[Tr.axis]=yo-zl[xa]),Po.map(function(hs){return(0,ot.BE)(hs,{x:hs.x+yl.x,y:hs.y+yl.y})})})}var Dr=fo[Xr];return no.flatMap(function(To){var Fl=(0,Xt.Z)(To,2),Ro=Fl[0],Po=Fl[1],zl={x:0,y:0};return zl[Tr.axis]=Dr-Po[Xr],Dr+=Ho,Dr+=Po[Mr],Ro.map(function(yl){return(0,ot.BE)(yl,{x:yl.x+zl.x,y:yl.y+zl.y})})})}((0,gt.eD)((0,rt.Lm)(on),Bn),On),br=(0,vt.xn)(Hn);return on.map(function(xr){return br.get(xr.id)||xr})},to=((0,An.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:ga(on,Bn,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(on){return!on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.H},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Kr(Bn,On),type:"button",icon:ft.uD,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.distributeHorizontally"),"  ").concat((0,vt.uY)("Alt+H")),"aria-label":(0,pn.t)("labels.distributeHorizontally"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),(0,An.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(on,Bn){return{appState:Bn,elements:ga(on,Bn,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(on){return!on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.V},PanelComponent:function(on){var Bn=on.elements,On=on.appState,Hn=on.updateData;return(0,Bt.jsx)(tn.V,{hidden:!Kr(Bn,On),type:"button",icon:ft.W5,onClick:function(){return Hn(null)},title:"".concat((0,pn.t)("labels.distributeVertically"),"  ").concat((0,vt.uY)("Alt+V")),"aria-label":(0,pn.t)("labels.distributeVertically"),visible:(0,gt.N)((0,rt.Lm)(Bn),On)})}}),_(8634)),io=_(267),so=(0,An.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Zo(on,Bn,"horizontal"),appState:Bn,commitToHistory:!0}},keyTest:function(on){return on.shiftKey&&on.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",predicate:function(on,Bn){return function(On,Hn){var br=(0,gt.eD)((0,rt.Lm)(On),Hn);return br.length===1&&br[0].type!=="text"}(on,Bn)}}),mo=(0,An.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(on,Bn){return{elements:Zo(on,Bn,"vertical"),appState:Bn,commitToHistory:!0}},keyTest:function(on){return on.shiftKey&&on.code==="KeyV"&&!on[mn.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function(on,Bn){return function(On,Hn){return(0,gt.eD)((0,rt.Lm)(On),Hn).length===1}(on,Bn)}}),Zo=function(on,Bn,On){var Hn=(0,gt.eD)((0,rt.Lm)(on),Bn);if(Hn.length>1)return on;var br=No(Hn,Bn,On),xr=(0,vt.xn)(br);return on.map(function(Tr){return xr.get(Tr.id)||Tr})},No=function(on,Bn,On){return on.forEach(function(Hn){Jo(Hn,Bn),On==="vertical"&&Bl(Hn,Math.PI)}),on},Jo=function(on,Bn){var On=on.x,Hn=on.y,br=on.width,xr=on.height,Tr=(0,to.LW)(on.angle);(0,ot.DR)(on,{angle:(0,to.LW)(0)});var Vr=(0,io.PC)(on,Bn.zoom),fr=!0,zr=Vr.nw;if(zr||(fr=!1,zr=Vr.ne)){var Xr,xa=0;(0,_e.bt)(on)&&on.points.length<3&&(xa=2*on.points.reduce(function(Oo,Al){return Math.max(Oo,Al[0])},0)-on.width),(0,_e.bt)(on)&&(Xr=(0,po.Ut)(on,on.points));var jr=(0,po.qf)(on);if((0,_e.bt)(on)&&on.points.length<3){for(var Mr=1;Mr<on.points.length;Mr++)lt._.movePoints(on,[{index:Mr,point:[-on.points[Mr][0],on.points[Mr][1]]}]);lt._.normalizePoints(on)}else{var fo=Xr?Xr[2]-Xr[0]:jr[2]-jr[0],no=Xr?[Xr[0],Xr[1]]:[jr[0],jr[1]];(0,to.l2)(new Map().set(on.id,on),!1,on,fr?"nw":"ne",!0,fr?no[0]+fo:no[0]-fo,no[1])}var _r=(0,to.LW)(2*Math.PI-Tr);if(_r<0&&(_r=(0,to.LW)(_r+2*Math.PI)),(0,ot.DR)(on,{angle:_r}),(0,ot.DR)(on,{x:On+xa,y:Hn,width:br,height:xr}),(0,Nt.Ww)(on),Xr&&(0,_e.bt)(on)){var Ko=(0,po.Ut)(on,on.points),Ho=Xr[0]-Ko[0]+(Xr[2]-Ko[2]);(0,ot.DR)(on,{x:on.x+.5*Ho,y:on.y,width:br,height:xr})}}else(0,ot.DR)(on,{angle:Tr})},Bl=function(on,Bn){var On=on.x,Hn=on.y,br=(0,to.LW)(on.angle+Bn);br<0&&(br=(0,to.LW)(2*Math.PI+br)),(0,ot.DR)(on,{angle:br}),(0,ot.DR)(on,{x:On,y:Hn})},ro=_(4688);function Io(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Qo(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Io(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Io(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Lo=(0,An.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(on){return!on.gridSize}},perform:function(on,Bn){return{appState:Qo(Qo({},Bn),{},{gridSize:this.checked(Bn)?null:Rt.k}),commitToHistory:!1}},checked:function(on){return on.gridSize!==null},predicate:function(on,Bn,On){return On.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(on){return on[mn.tW.CTRL_OR_CMD]&&on.code===mn.aU.QUOTE}});function Vl(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Dl(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Vl(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Vl(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var Ll=(0,An.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(on){return!on.zenModeEnabled}},perform:function(on,Bn){return{appState:Dl(Dl({},Bn),{},{zenModeEnabled:!this.checked(Bn)}),commitToHistory:!1}},checked:function(on){return on.zenModeEnabled},predicate:function(on,Bn,On){return On.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(on){return!on[mn.tW.CTRL_OR_CMD]&&on.altKey&&on.code===mn.aU.Z}}),Xl=_(4958),_o=_(202),os=_(4929);function Zl(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Hl(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Zl(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Zl(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var ys=(0,An.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(on,Bn){var On=(0,gt.eD)(on,Bn,!0);if(!On.length)return!1;var Hn=_c(On),br=(0,vt.xn)(On),xr=Hn==="lock";return{elements:on.map(function(Tr){return br.has(Tr.id)?(0,ot.BE)(Tr,{locked:xr}):Tr}),appState:Hl(Hl({},Bn),{},{selectedLinearElement:xr?null:Bn.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(on,Bn){var On=(0,gt.eD)(on,Bn,!1);return On.length===1?On[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":_c(On)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(on,Bn,On){return on.key.toLocaleLowerCase()===mn.tW.L&&on[mn.tW.CTRL_OR_CMD]&&on.shiftKey&&(0,gt.eD)(On,Bn,!1).length>0}}),_c=function(on){return on.some(function(Bn){return!Bn.locked})?"lock":"unlock"};function Us(on,Bn){var On=Object.keys(on);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(on);Bn&&(Hn=Hn.filter(function(br){return Object.getOwnPropertyDescriptor(on,br).enumerable})),On.push.apply(On,Hn)}return On}function Ms(on){for(var Bn=1;Bn<arguments.length;Bn++){var On=arguments[Bn]!=null?arguments[Bn]:{};Bn%2?Us(Object(On),!0).forEach(function(Hn){(0,ct.Z)(on,Hn,On[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(on,Object.getOwnPropertyDescriptors(On)):Us(Object(On)).forEach(function(Hn){Object.defineProperty(on,Hn,Object.getOwnPropertyDescriptor(On,Hn))})}return on}var nu=(0,An.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(on,Bn){var On=(0,gt.eD)(on,Bn);return!(On.length!==1||!(0,_e.bt)(On[0]))},perform:function(on,Bn,On,Hn){var br,xr=(0,gt.eD)((0,rt.Lm)(on),Bn,!0)[0],Tr=((br=Bn.editingLinearElement)===null||br===void 0?void 0:br.elementId)===xr.id?null:new lt._(xr,Hn.scene);return{appState:Ms(Ms({},Bn),{},{editingLinearElement:Tr}),commitToHistory:!1}},contextItemLabel:function(on,Bn){var On,Hn=(0,gt.eD)((0,rt.Lm)(on),Bn,!0)[0];return((On=Bn.editingLinearElement)===null||On===void 0?void 0:On.elementId)===Hn.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(Ht,St,_){_.d(St,{N:function(){return pt},z:function(){return ht}});var pt=[],ht=function(ot){return pt=pt.concat(ot),ot}},785:function(Ht,St,_){_.d(St,{C:function(){return gt}});var pt=_(2335),ht=_(8211),ot=_(6340),at={toggleTheme:[(0,ot.uY)("Shift+Alt+D")],saveScene:[(0,ot.uY)("CtrlOrCmd+S")],loadScene:[(0,ot.uY)("CtrlOrCmd+O")],clearCanvas:[(0,ot.uY)("CtrlOrCmd+Delete")],imageExport:[(0,ot.uY)("CtrlOrCmd+Shift+E")],cut:[(0,ot.uY)("CtrlOrCmd+X")],copy:[(0,ot.uY)("CtrlOrCmd+C")],paste:[(0,ot.uY)("CtrlOrCmd+V")],copyStyles:[(0,ot.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,ot.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,ot.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,ot.uY)("Delete")],duplicateSelection:[(0,ot.uY)("CtrlOrCmd+D"),(0,ot.uY)("Alt+".concat((0,ht.t)("helpDialog.drag")))],sendBackward:[(0,ot.uY)("CtrlOrCmd+[")],bringForward:[(0,ot.uY)("CtrlOrCmd+]")],sendToBack:[pt.Um?(0,ot.uY)("CtrlOrCmd+Alt+["):(0,ot.uY)("CtrlOrCmd+Shift+[")],bringToFront:[pt.Um?(0,ot.uY)("CtrlOrCmd+Alt+]"):(0,ot.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,ot.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,ot.uY)("CtrlOrCmd+G")],ungroup:[(0,ot.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,ot.uY)("CtrlOrCmd+'")],zenMode:[(0,ot.uY)("Alt+Z")],stats:[(0,ot.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,ot.uY)("Shift+H")],flipVertical:[(0,ot.uY)("Shift+V")],viewMode:[(0,ot.uY)("Alt+R")],hyperlink:[(0,ot.uY)("CtrlOrCmd+K")],toggleLock:[(0,ot.uY)("CtrlOrCmd+Shift+L")]},gt=function(xt){var vt=at[xt];return vt&&vt.length>0?vt[0]:""}},7047:function(Ht,St,_){_.d(St,{L:function(){return pt}});var pt=function(ht,ot,at,gt){try{if(typeof window>"u"||{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.2",IS_EXCALIDRAW_NPM_PACKAGE:!0}.JEST_WORKER_ID)return;window.gtag&&window.gtag("event",ot,{event_category:ht,event_label:at,value:gt}),window._paq&&window._paq.push(["trackEvent",ht,ot,at,gt])}catch(xt){console.error("error during analytics",xt)}}},8897:function(Ht,St,_){_.d(St,{EN:function(){return an},eS:function(){return Ot},im:function(){return xt},l$:function(){return gn},s:function(){return kt}});var pt=_(5284),ht=_(2335),ot=_(8211),at=_(6340),gt=ht.ZB.includes(devicePixelRatio)?devicePixelRatio:1,xt=function(){return{showWelcomeScreen:!1,theme:ht.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:ht.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:ht.HN.fillStyle,currentItemFontFamily:ht.rk,currentItemFontSize:ht.n5,currentItemOpacity:ht.HN.opacity,currentItemRoughness:ht.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:ht.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:ht.HN.strokeStyle,currentItemStrokeWidth:ht.HN.strokeWidth,currentItemTextAlign:ht.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:ht.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:gt,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,ot.t)("labels.untitled"),"-").concat((0,at.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:pt.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},vt={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},it=function(Qt,bn){for(var fn={},Zn=0,mn=Object.keys(Qt);Zn<mn.length;Zn++){var pn=mn[Zn],An=vt[pn];if(An!=null&&An[bn]){var ft=Qt[pn];fn[pn]=ft}}return fn},kt=function(Qt){return it(Qt,"export")},Ot=function(Qt){return it(Qt,"server")},an=function(Qt){return Qt.activeTool.type==="eraser"},gn=function(Qt){return Qt.activeTool.type==="hand"}},5674:function(Ht,St,_){_.d(St,{dz:function(){return ft},i$:function(){return Zn},ps:function(){return yt}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(56),gt=_(2335),xt=_(1047),vt=_(6954);function it(Ct,ct){var rt=typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(!rt){if(Array.isArray(Ct)||(rt=function(tn,Nt){if(tn){if(typeof tn=="string")return kt(tn,Nt);var $t=Object.prototype.toString.call(tn).slice(8,-1);if($t==="Object"&&tn.constructor&&($t=tn.constructor.name),$t==="Map"||$t==="Set")return Array.from(tn);if($t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($t))return kt(tn,Nt)}}(Ct))||ct&&Ct&&typeof Ct.length=="number"){rt&&(Ct=rt);var _e=0,lt=function(){};return{s:lt,n:function(){return _e>=Ct.length?{done:!0}:{done:!1,value:Ct[_e++]}},e:function(tn){throw tn},f:lt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st,It=!0,Tt=!1;return{s:function(){rt=rt.call(Ct)},n:function(){var tn=rt.next();return It=tn.done,tn},e:function(tn){Tt=!0,st=tn},f:function(){try{It||rt.return==null||rt.return()}finally{if(Tt)throw st}}}}function kt(Ct,ct){(ct==null||ct>Ct.length)&&(ct=Ct.length);for(var rt=0,_e=new Array(ct);rt<ct;rt++)_e[rt]=Ct[rt];return _e}function Ot(Ct,ct){var rt=Object.keys(Ct);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ct);ct&&(_e=_e.filter(function(lt){return Object.getOwnPropertyDescriptor(Ct,lt).enumerable})),rt.push.apply(rt,_e)}return rt}function an(Ct){for(var ct=1;ct<arguments.length;ct++){var rt=arguments[ct]!=null?arguments[ct]:{};ct%2?Ot(Object(rt),!0).forEach(function(_e){(0,ht.Z)(Ct,_e,rt[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(rt)):Ot(Object(rt)).forEach(function(_e){Object.defineProperty(Ct,_e,Object.getOwnPropertyDescriptor(rt,_e))})}return Ct}var gn=32,Qt=12,bn=256,fn="NOT_SPREADSHEET",Zn="VALID_SPREADSHEET",mn=function(Ct){var ct=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(Ct);return ct?parseFloat("".concat((ct[1]||ct[2])+ct[3]).replace(/,/g,"")):null},pn=function(Ct,ct){return Ct.slice(1).every(function(rt){return mn(rt[ct])!==null})},An=function(Ct){var ct=Ct[0].length;if(ct>2)return{type:fn,reason:"More than 2 columns"};if(ct===1){if(!pn(Ct,0))return{type:fn,reason:"Value is not numeric"};var rt=mn(Ct[0][0])===null,_e=(rt?Ct.slice(1):Ct).map(function(Dt){return mn(Dt[0])});return _e.length<2?{type:fn,reason:"Less than two rows"}:{type:Zn,spreadsheet:{title:rt?Ct[0][0]:null,labels:null,values:_e}}}var lt=pn(Ct,0),st=pn(Ct,1);if(!lt&&!st)return{type:fn,reason:"Value is not numeric"};var It=st?[0,1]:[1,0],Tt=(0,ot.Z)(It,2),tn=Tt[0],Nt=Tt[1],$t=mn(Ct[0][Nt])===null,Wt=$t?Ct.slice(1):Ct;return Wt.length<2?{type:fn,reason:"Less than 2 rows"}:{type:Zn,spreadsheet:{title:$t?Ct[0][Nt]:null,labels:Wt.map(function(Dt){return Dt[tn]}),values:Wt.map(function(Dt){return mn(Dt[Nt])})}}},ft=function(Ct){var ct=Ct.trim().split(`
`).map(function(st){return st.trim().split("	")});if(ct.length&&ct[0].length!==2&&(ct=Ct.trim().split(`
`).map(function(st){return st.trim().split(",")})),ct.length===0)return{type:fn,reason:"No values"};var rt=ct[0].length;if(!ct.every(function(st){return st.length===rt}))return{type:fn,reason:"All rows don't have same number of columns"};var _e=An(ct);if(_e.type!==Zn){var lt=An(function(st){for(var It=[],Tt=0;Tt<st[0].length;Tt++){for(var tn=[],Nt=0;Nt<st.length;Nt++)tn.push(st[Nt][Tt]);It.push(tn)}return It}(ct));if(lt.type===Zn)return lt}return _e},Rt=at.Z.elementBackground.slice(2,at.Z.elementBackground.length),Bt={strokeColor:at.Z.elementStroke[0]},bt=function(Ct){return{chartWidth:44*Ct.values.length+Qt,chartHeight:280}},Gt=function(Ct,ct,rt,_e,lt,st){var It=bt(Ct),Tt=It.chartWidth,tn=It.chartHeight,Nt=Ct.title?(0,xt.VL)(an(an({backgroundColor:lt,groupIds:[_e]},Bt),{},{text:Ct.title,x:ct+Tt/2,y:rt-bn-24-gt.n5,roundness:null,textAlign:"center"})):null,$t=st?(0,xt.Up)(an(an({backgroundColor:lt,groupIds:[_e]},Bt),{},{type:"rectangle",x:ct,y:rt-tn,width:Tt,height:tn,strokeColor:at.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,pt.Z)($t?[$t]:[]),(0,pt.Z)(Nt?[Nt]:[]),(0,pt.Z)(function(Wt,Dt,In,rn,_t){var Et;return((Et=Wt.labels)===null||Et===void 0?void 0:Et.map(function(Vt,Pt){return(0,xt.VL)(an(an({groupIds:[rn],backgroundColor:_t},Bt),{},{text:Vt.length>8?"".concat(Vt.slice(0,5),"..."):Vt,x:Dt+44*Pt+24,y:In+6,width:gn,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(Ct,ct,rt,_e,lt)),(0,pt.Z)(function(Wt,Dt,In,rn,_t){var Et=(0,xt.VL)(an(an({groupIds:[rn],backgroundColor:_t},Bt),{},{x:Dt-Qt,y:In-Qt,text:"0",textAlign:"right"}));return[Et,(0,xt.VL)(an(an({groupIds:[rn],backgroundColor:_t},Bt),{},{x:Dt-Qt,y:In-bn-Et.height/2,text:Math.max.apply(Math,(0,pt.Z)(Wt.values)).toLocaleString(),textAlign:"right"}))]}(Ct,ct,rt,_e,lt)),(0,pt.Z)(function(Wt,Dt,In,rn,_t){var Et=bt(Wt),Vt=Et.chartWidth,Pt=Et.chartHeight;return[(0,xt.y8)(an(an({backgroundColor:_t,groupIds:[rn]},Bt),{},{type:"line",x:Dt,y:In,startArrowhead:null,endArrowhead:null,width:Vt,points:[[0,0],[Vt,0]]})),(0,xt.y8)(an(an({backgroundColor:_t,groupIds:[rn]},Bt),{},{type:"line",x:Dt,y:In,startArrowhead:null,endArrowhead:null,height:Pt,points:[[0,0],[0,-Pt]]})),(0,xt.y8)(an(an({backgroundColor:_t,groupIds:[rn]},Bt),{},{type:"line",x:Dt,y:In-bn-Qt,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Vt,opacity:50,points:[[0,0],[Vt,0]]}))]}(Ct,ct,rt,_e,lt)))},yt=function(Ct,ct,rt,_e){return Ct==="line"?function(lt,st,It){var Tt,tn=Math.max.apply(Math,(0,pt.Z)(lt.values)),Nt=(0,vt.kb)(),$t=Rt[Math.floor(Math.random()*Rt.length)],Wt=0,Dt=[],In=it(lt.values);try{for(In.s();!(Tt=In.n()).done;){var rn=Tt.value,_t=44*Wt,Et=-rn/tn*bn;Dt.push([_t,Et]),Wt++}}catch(At){In.e(At)}finally{In.f()}var Vt=Math.max.apply(Math,(0,pt.Z)(Dt.map(function(At){return At[0]}))),Pt=Math.max.apply(Math,(0,pt.Z)(Dt.map(function(At){return At[1]}))),qt=Math.min.apply(Math,(0,pt.Z)(Dt.map(function(At){return At[0]}))),dn=Math.min.apply(Math,(0,pt.Z)(Dt.map(function(At){return At[1]}))),Yt=(0,xt.y8)(an(an({backgroundColor:$t,groupIds:[Nt]},Bt),{},{type:"line",x:st+Qt+16,y:It-Qt,startArrowhead:null,endArrowhead:null,height:Pt-dn,width:Vt-qt,strokeWidth:2,points:Dt})),Xt=lt.values.map(function(At,Ut){var wt=44*Ut+6,Jt=-At/tn*bn+6;return(0,xt.Up)(an(an({backgroundColor:$t,groupIds:[Nt]},Bt),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:st+wt+16,y:It+Jt-24,width:Qt,height:Qt}))}),zt=lt.values.map(function(At,Ut){var wt=44*Ut+6,Jt=At/tn*bn+6+Qt;return(0,xt.y8)(an(an({backgroundColor:$t,groupIds:[Nt]},Bt),{},{type:"line",x:st+wt+16+6,y:It-Jt,startArrowhead:null,endArrowhead:null,height:Jt,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Jt]]}))});return[].concat((0,pt.Z)(Gt(lt,st,It,Nt,$t,gt.Vi.DEVELOPMENT==="production")),[Yt],(0,pt.Z)(zt),(0,pt.Z)(Xt))}(ct,rt,_e):function(lt,st,It){var Tt=Math.max.apply(Math,(0,pt.Z)(lt.values)),tn=(0,vt.kb)(),Nt=Rt[Math.floor(Math.random()*Rt.length)],$t=lt.values.map(function(Wt,Dt){var In=Wt/Tt*bn;return(0,xt.Up)(an(an({backgroundColor:Nt,groupIds:[tn]},Bt),{},{type:"rectangle",x:st+44*Dt+Qt,y:It-In-Qt,width:gn,height:In}))});return[].concat((0,pt.Z)($t),(0,pt.Z)(Gt(lt,st,It,tn,Nt,gt.Vi.DEVELOPMENT==="production")))}(ct,rt,_e)}},8982:function(Ht,St,_){_.d(St,{X:function(){return ht},f:function(){return ot}});var pt=_(56),ht=function(at,gt){if(gt!=null&&gt.collaborators){var xt=gt.collaborators.get(at);if(xt!=null&&xt.color)return xt.color}var vt=at.split("").reduce(function(Ot,an){return Ot+an.charCodeAt(0)},0),it=pt.Z.elementBackground.slice(3),kt=pt.Z.elementStroke.slice(3);return{background:it[vt%it.length],stroke:kt[vt%kt.length]}},ot=function(at){return at!=null&&at.trim()?at.trim()[0].toUpperCase():"?"}},6665:function(Ht,St,_){_.d(St,{dd:function(){return Gt},mQ:function(){return Bt},uR:function(){return bt},vQ:function(){return pn},vt:function(){return Zn},wx:function(){return fn}});var pt=_(7169),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(4162),xt=_(5674),vt=_(2335),it=_(1974),kt=_(6340);function Ot(Ct,ct){var rt=Object.keys(Ct);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ct);ct&&(_e=_e.filter(function(lt){return Object.getOwnPropertyDescriptor(Ct,lt).enumerable})),rt.push.apply(rt,_e)}return rt}function an(Ct){for(var ct=1;ct<arguments.length;ct++){var rt=arguments[ct]!=null?arguments[ct]:{};ct%2?Ot(Object(rt),!0).forEach(function(_e){(0,pt.Z)(Ct,_e,rt[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(rt)):Ot(Object(rt)).forEach(function(_e){Object.defineProperty(Ct,_e,Object.getOwnPropertyDescriptor(rt,_e))})}return Ct}var gn="",Qt=!1,bn="clipboard"in navigator&&"readText"in navigator.clipboard,fn="clipboard"in navigator&&"writeText"in navigator.clipboard,Zn="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,mn=function(Ct){return!(![vt.r8.excalidraw,vt.r8.excalidrawClipboard].includes(Ct==null?void 0:Ct.type)||!Array.isArray(Ct.elements))},pn=function(){var Ct=(0,ht.Z)(at().mark(function ct(rt,_e,lt){var st,It;return at().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return st={type:vt.r8.excalidrawClipboard,elements:rt,files:lt?rt.reduce(function(tn,Nt){return(0,it.wi)(Nt)&&lt[Nt.fileId]&&(tn[Nt.fileId]=lt[Nt.fileId]),tn},{}):void 0},It=JSON.stringify(st),gn=It,Tt.prev=3,Qt=!1,Tt.next=7,Gt(It);case 7:Tt.next=13;break;case 9:Tt.prev=9,Tt.t0=Tt.catch(3),Qt=!0,console.error(Tt.t0);case 13:case"end":return Tt.stop()}},ct,null,[[3,9]])}));return function(ct,rt,_e){return Ct.apply(this,arguments)}}(),An=function(){if(!gn)return{};try{return JSON.parse(gn)}catch(Ct){return console.error(Ct),{}}},ft=function(Ct){var ct=(0,xt.dz)(Ct);return ct.type===xt.i$?{spreadsheet:ct.spreadsheet}:null},Rt=function(){var Ct=(0,ht.Z)(at().mark(function ct(rt){var _e,lt;return at().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(st.prev=0,!rt){st.next=5;break}st.t0=(_e=rt.clipboardData)===null||_e===void 0?void 0:_e.getData("text/plain"),st.next=11;break;case 5:if(st.t1=bn,!st.t1){st.next=10;break}return st.next=9,navigator.clipboard.readText();case 9:st.t1=st.sent;case 10:st.t0=st.t1;case 11:return lt=st.t0,st.abrupt("return",(lt||"").trim());case 15:return st.prev=15,st.t2=st.catch(0),st.abrupt("return","");case 18:case"end":return st.stop()}},ct,null,[[0,15]])}));return function(ct){return Ct.apply(this,arguments)}}(),Bt=function(){var Ct=(0,ht.Z)(at().mark(function ct(rt){var _e,lt,st,It,Tt,tn=arguments;return at().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return _e=tn.length>1&&tn[1]!==void 0&&tn[1],Nt.next=3,Rt(rt);case 3:if((lt=Nt.sent)&&(_e||!lt.includes(gt.oj))){Nt.next=6;break}return Nt.abrupt("return",An());case 6:if(!(st=!_e&&ft(lt))){Nt.next=9;break}return Nt.abrupt("return",st);case 9:if(It=An(),Nt.prev=10,Tt=JSON.parse(lt),!mn(Tt)){Nt.next=14;break}return Nt.abrupt("return",{elements:Tt.elements,files:Tt.files,text:_e?JSON.stringify(Tt.elements,null,2):void 0});case 14:Nt.next=18;break;case 16:Nt.prev=16,Nt.t0=Nt.catch(10);case 18:return Nt.abrupt("return",Qt&&It.elements?an(an({},It),{},{text:_e?JSON.stringify(It.elements,null,2):void 0}):{text:lt});case 19:case"end":return Nt.stop()}},ct,null,[[10,16]])}));return function(ct){return Ct.apply(this,arguments)}}(),bt=function(){var Ct=(0,ht.Z)(at().mark(function ct(rt){return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,pt.Z)({},vt.LO.png,rt))]);case 3:case 21:_e.next=24;break;case 5:if(_e.prev=5,_e.t0=_e.catch(0),!(0,kt.y8)(rt)){_e.next=23;break}return _e.t1=navigator.clipboard,_e.t2=window.ClipboardItem,_e.t3=pt.Z,_e.t4={},_e.t5=vt.LO.png,_e.next=15,rt;case 15:return _e.t6=_e.sent,_e.t7=(0,_e.t3)(_e.t4,_e.t5,_e.t6),_e.t8=new _e.t2(_e.t7),_e.t9=[_e.t8],_e.next=21,_e.t1.write.call(_e.t1,_e.t9);case 23:throw _e.t0;case 24:case"end":return _e.stop()}},ct,null,[[0,5]])}));return function(ct){return Ct.apply(this,arguments)}}(),Gt=function(){var Ct=(0,ht.Z)(at().mark(function ct(rt){var _e;return at().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(_e=!1,!fn){lt.next=11;break}return lt.prev=2,lt.next=5,navigator.clipboard.writeText(rt||"");case 5:_e=!0,lt.next=11;break;case 8:lt.prev=8,lt.t0=lt.catch(2),console.error(lt.t0);case 11:if(_e||yt(rt||" ")){lt.next=13;break}throw new Error("couldn't copy");case 13:case"end":return lt.stop()}},ct,null,[[2,8]])}));return function(ct){return Ct.apply(this,arguments)}}(),yt=function(Ct){var ct=document.documentElement.getAttribute("dir")==="rtl",rt=document.createElement("textarea");rt.style.border="0",rt.style.padding="0",rt.style.margin="0",rt.style.position="absolute",rt.style[ct?"right":"left"]="-9999px";var _e=window.pageYOffset||document.documentElement.scrollTop;rt.style.top="".concat(_e,"px"),rt.style.fontSize="12pt",rt.setAttribute("readonly",""),rt.value=Ct,document.body.appendChild(rt);var lt=!1;try{rt.select(),rt.setSelectionRange(0,rt.value.length),lt=document.execCommand("copy")}catch(st){console.error(st)}return rt.remove(),lt}},56:function(Ht,St,_){var pt=_(1930),ht=_(5284),ot=function(at){return[ht.red[at],ht.pink[at],ht.grape[at],ht.violet[at],ht.indigo[at],ht.blue[at],ht.cyan[at],ht.teal[at],ht.green[at],ht.lime[at],ht.yellow[at],ht.orange[at]]};St.Z={canvasBackground:[ht.white,ht.gray[0],ht.gray[1]].concat((0,pt.Z)(ot(0))),elementBackground:["transparent",ht.gray[4],ht.gray[6]].concat((0,pt.Z)(ot(6))),elementStroke:[ht.black,ht.gray[8],ht.gray[7]].concat((0,pt.Z)(ot(9)))}},6798:function(Ht,St,_){_.d(St,{o:function(){return Ot},w:function(){return kt}});var pt=_(2577),ht=_(4739),ot=_(6710),at=_(8211),gt=_(9487),xt=_(2134),vt=_(7046),it=_(4512),kt=(0,ht.cn)(null),Ot=function(){var an=(0,ht.KO)(kt,gt.yE),gn=(0,pt.Z)(an,2),Qt=gn[0],bn=gn[1],fn=(0,xt.eh)();return Qt&&Qt==="clearCanvas"?(0,it.jsx)(vt.Z,{onConfirm:function(){fn.executeAction(ot.mo),bn(null)},onCancel:function(){return bn(null)},title:(0,at.t)("clearCanvasDialog.title"),children:(0,it.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,at.t)("alerts.clearReset")]})}):null}},2134:function(Ht,St,_){_.d(St,{ZP:function(){return Du},Fy:function(){return Sl},eh:function(){return Tu},gF:function(){return Ls},J0:function(){return lu},bd:function(){return _d},n9:function(){return cu}});var pt=_(6655),ht=_(2577),ot=_(1930),at=_(8950),gt=_(8821),xt=_(5169),vt=_(3173),it=_(2248),kt=_(7245),Ot=_(2312),an=_(7169),gn=_(2975),Qt=_.n(gn),bn=_(9787),fn=_.n(bn),Zn=_(5156),mn=_(8234),pn=_(45),An=_(5605),ft=_(6710),Rt=_(3646),Bt=_(1319),bt=_(8211),Gt=_(6066),yt=_(1935),Ct=_(8290),ct=_(6340),rt=_(2335),_e=_(4512);function lt(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function st(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?lt(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):lt(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}var It=function(nt,Ft,en){var cn=!1;if(!(Ft.multiElement||Ft.resizingElement||Ft.editingElement||Ft.draggingElement)){var kn=en();if(kn===null)return{commitToHistory:cn};var sn=(0,ct.xn)(nt),Lt=kn.elements,En=(0,ct.xn)(Lt),Nn=nt.filter(function(Yn){return!En.has(Yn.id)}),Ln=Lt.map(function(Yn){return(0,yt.BE)(sn.get(Yn.id)||Yn,Yn)}).concat(Nn.map(function(Yn){return(0,yt.BE)(Yn,{isDeleted:!0})}));return(0,Ct.$q)(Ln,Nn),{elements:Ln,appState:st(st({},Ft),kn.appState),commitToHistory:cn,syncHistory:!0}}return{commitToHistory:cn}},Tt=_(7047),tn=function(nt,Ft,en,cn,kn,sn){if(nt.trackEvent)try{(0,pt.Z)(nt.trackEvent)==="object"&&(!nt.trackEvent.predicate||nt.trackEvent.predicate(en,cn,sn))&&(0,Tt.L)(nt.trackEvent.category,nt.trackEvent.action||nt.name,"".concat(Ft," (").concat(kn.device.isMobile?"mobile":"desktop",")"))}catch(Lt){console.error("error while logging action:",Lt)}},Nt=function(){function nt(Ft,en,cn,kn){var sn=this;(0,gt.Z)(this,nt),this.actions={},this.renderAction=function(Lt,En){var Nn=sn.app.props.UIOptions.canvasActions;if(sn.actions[Lt]&&"PanelComponent"in sn.actions[Lt]&&(!(Lt in Nn)||Nn[Lt])){var Ln=sn.actions[Lt],Yn=Ln.PanelComponent;Yn.displayName="PanelComponent";var qn=sn.getElementsIncludingDeleted(),nr=sn.getAppState();return(0,_e.jsx)(Yn,{elements:sn.getElementsIncludingDeleted(),appState:sn.getAppState(),updateData:function(hr){tn(Ln,"ui",nr,qn,sn.app,hr),sn.updater(Ln.perform(sn.getElementsIncludingDeleted(),sn.getAppState(),hr,sn.app))},appProps:sn.app.props,data:En})}return null},this.isActionEnabled=function(Lt){var En=sn.getElementsIncludingDeleted(),Nn=sn.getAppState();return!Lt.predicate||Lt.predicate(En,Nn,sn.app.props,sn.app)},this.updater=function(Lt){if(!Lt||!("then"in Lt))return Ft(Lt);Lt.then(function(En){return Ft(En)})},this.getAppState=en,this.getElementsIncludingDeleted=cn,this.app=kn}return(0,xt.Z)(nt,[{key:"registerAction",value:function(Ft){this.actions[Ft.name]=Ft}},{key:"registerAll",value:function(Ft){var en=this;Ft.forEach(function(cn){return en.registerAction(cn)})}},{key:"handleKeyDown",value:function(Ft){var en=this,cn=this.app.props.UIOptions.canvasActions,kn=Object.values(this.actions).sort(function(Nn,Ln){return(Ln.keyPriority||0)-(Nn.keyPriority||0)}).filter(function(Nn){return(!(Nn.name in cn)||cn[Nn.name])&&Nn.keyTest&&Nn.keyTest(Ft,en.getAppState(),en.getElementsIncludingDeleted())});if(kn.length!==1)return kn.length>1&&console.warn("Canceling as multiple actions match this shortcut",kn),!1;var sn=kn[0];if(this.getAppState().viewModeEnabled&&sn.viewMode!==!0)return!1;var Lt=this.getElementsIncludingDeleted(),En=this.getAppState();return tn(sn,"keyboard",En,Lt,this.app,null),Ft.preventDefault(),Ft.stopPropagation(),this.updater(kn[0].perform(Lt,En,null,this.app)),!0}},{key:"executeAction",value:function(Ft){var en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",cn=this.getElementsIncludingDeleted(),kn=this.getAppState(),sn=null;tn(Ft,en,kn,cn,this.app,sn),this.updater(Ft.perform(cn,kn,sn,this.app))}}]),nt}(),$t=_(7901),Wt=_(8897),Dt=_(6665),In=_(9485),rn=_(7053),_t=_(679),Et=_(1047),Vt=_(6938),Pt=_(2791),qt=_(1974),dn=function(nt){var Ft=Array.from(nt.values());return{x:Xt(Ft,function(en){return en.x})/Ft.length,y:Xt(Ft,function(en){return en.y})/Ft.length}},Yt=function(nt){var Ft=(0,ht.Z)(nt,2),en=Ft[0],cn=Ft[1];return Math.hypot(en.x-cn.x,en.y-cn.y)},Xt=function(nt,Ft){return nt.reduce(function(en,cn){return en+Ft(cn)},0)},zt=_(242);function At(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function Ut(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?At(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):At(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}var wt=function(nt){return{selectedElementIds:nt.selectedElementIds,selectedGroupIds:nt.selectedGroupIds,viewBackgroundColor:nt.viewBackgroundColor,editingLinearElement:nt.editingLinearElement,editingGroupId:nt.editingGroupId,name:nt.name}},Jt=function(){function nt(){var Ft=this;(0,gt.Z)(this,nt),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(en,cn){return Ft.dehydrateHistoryEntry({appState:wt(en),elements:cn.reduce(function(kn,sn){if((0,qt.bt)(sn)&&en.multiElement&&en.multiElement.id===sn.id){if(en.multiElement&&en.multiElement.id===sn.id&&sn.points.length<2)return kn;kn.push(Ut(Ut({},sn),{},{points:sn.lastCommittedPoint!==sn.points[sn.points.length-1]?sn.points.slice(0,-1):sn.points}))}else kn.push(sn);return kn},[])})}}return(0,xt.Z)(nt,[{key:"hydrateHistoryEntry",value:function(Ft){var en=this,cn=Ft.appState,kn=Ft.elements;return{appState:JSON.parse(cn),elements:kn.map(function(sn){var Lt,En=(Lt=en.elementCache.get(sn.id))===null||Lt===void 0?void 0:Lt.get(sn.versionNonce);if(!En)throw new Error("Element not found: ".concat(sn.id,":").concat(sn.versionNonce));return En})}}},{key:"dehydrateHistoryEntry",value:function(Ft){var en=this,cn=Ft.appState,kn=Ft.elements;return{appState:JSON.stringify(cn),elements:kn.map(function(sn){en.elementCache.has(sn.id)||en.elementCache.set(sn.id,new Map);var Lt=en.elementCache.get(sn.id);return Lt.has(sn.versionNonce)||Lt.set(sn.versionNonce,(0,Pt.OL)(sn)),{id:sn.id,versionNonce:sn.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var Ft=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(en){return Ft.hydrateHistoryEntry(en)}),redoStack:this.redoStack.map(function(en){return Ft.hydrateHistoryEntry(en)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(Ft){var en,cn=this.lastEntry;if(!cn||Ft.elements.length!==cn.elements.length)return!0;for(var kn=Ft.elements.length-1;kn>-1;kn--){var sn=Ft.elements[kn],Lt=cn.elements[kn];if(!sn||!Lt||sn.id!==Lt.id||sn.versionNonce!==Lt.versionNonce)return!0}for(en in Ft.appState){var En,Nn;if(!(en==="editingLinearElement"&&((En=Ft.appState[en])===null||En===void 0?void 0:En.elementId)===((Nn=cn.appState[en])===null||Nn===void 0?void 0:Nn.elementId))&&en!=="selectedElementIds"&&en!=="selectedGroupIds"&&Ft.appState[en]!==cn.appState[en])return!0}return!1}},{key:"pushEntry",value:function(Ft,en){var cn=this.generateEntry(Ft,en),kn=this.hydrateHistoryEntry(cn);if(kn){if(!this.shouldCreateEntry(kn))return;this.stateHistory.push(cn),this.lastEntry=kn,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var Ft=this.redoStack.pop();return Ft!==void 0?(this.stateHistory.push(Ft),this.hydrateHistoryEntry(Ft)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var Ft=this.stateHistory.pop(),en=this.stateHistory[this.stateHistory.length-1];return Ft!==void 0?(this.redoStack.push(Ft),this.hydrateHistoryEntry(en)):null}},{key:"setCurrentState",value:function(Ft,en){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(Ft,en))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(Ft,en){this.recording&&(this.pushEntry(Ft,en),this.recording=!1)}}]),nt}(),Mt=_(6552),un=_(3547),hn=_(3063),jt=_(75),vn=_(1564),xn=_(746),Gn=[{icon:Rt.zu,value:"selection",key:Gt.tW.V,numericKey:Gt.tW[1],fillable:!0},{icon:Rt.OW,value:"rectangle",key:Gt.tW.R,numericKey:Gt.tW[2],fillable:!0},{icon:Rt.nb,value:"diamond",key:Gt.tW.D,numericKey:Gt.tW[3],fillable:!0},{icon:Rt.Re,value:"ellipse",key:Gt.tW.O,numericKey:Gt.tW[4],fillable:!0},{icon:Rt.e0,value:"arrow",key:Gt.tW.A,numericKey:Gt.tW[5],fillable:!0},{icon:Rt.zb,value:"line",key:Gt.tW.L,numericKey:Gt.tW[6],fillable:!0},{icon:Rt.Pm,value:"freedraw",key:[Gt.tW.P,Gt.tW.X],numericKey:Gt.tW[7],fillable:!1},{icon:Rt.VL,value:"text",key:Gt.tW.T,numericKey:Gt.tW[8],fillable:!1},{icon:Rt.XB,value:"image",key:null,numericKey:Gt.tW[9],fillable:!1},{icon:Rt.$q,value:"eraser",key:Gt.tW.E,numericKey:Gt.tW[0],fillable:!1}],Zt=_(2891),Xn=_(487),Cn=_.n(Xn),Qn=_(631),Tn=_.n(Qn),Pn=_(2052),tr=_.n(Pn),ir=_(4010),gr=_.n(ir),Wn=_(1469),ln=_.n(Wn),Un=_(9329),wn=_.n(Un),Mn=_(6578),zn={};zn.styleTagTransform=wn(),zn.setAttributes=gr(),zn.insert=tr().bind(null,"head"),zn.domAPI=Tn(),zn.insertStyleElement=ln(),Cn()(Mn.Z,zn),Mn.Z&&Mn.Z.locals&&Mn.Z.locals;var Jn=_(785),er="separator",cr=fn().memo(function(nt){var Ft=nt.actionManager,en=nt.items,cn=nt.top,kn=nt.left,sn=Ls(),Lt=cu(),En=_d(),Nn=en.reduce(function(Ln,Yn){return!Yn||Yn!==er&&Yn.predicate&&!Yn.predicate(En,sn,Ft.app.props,Ft.app)||Ln.push(Yn),Ln},[]);return(0,_e.jsx)(Zt.J,{onCloseRequest:function(){return Lt({contextMenu:null})},top:cn,left:kn,fitInViewport:!0,offsetLeft:sn.offsetLeft,offsetTop:sn.offsetTop,viewportWidth:sn.width,viewportHeight:sn.height,children:(0,_e.jsx)("ul",{className:"context-menu",onContextMenu:function(Ln){return Ln.preventDefault()},children:Nn.map(function(Ln,Yn){var qn;if(Ln===er)return Nn[Yn-1]&&Nn[Yn-1]!==er?(0,_e.jsx)("hr",{className:"context-menu-item-separator"},Yn):null;var nr=Ln.name,hr="";return Ln.contextItemLabel&&(hr=typeof Ln.contextItemLabel=="function"?(0,bt.t)(Ln.contextItemLabel(En,sn)):(0,bt.t)(Ln.contextItemLabel)),(0,_e.jsx)("li",{"data-testid":nr,onClick:function(){Lt({contextMenu:null},function(){Ft.executeAction(Ln,"contextMenu")})},children:(0,_e.jsxs)("button",{className:(0,pn.Z)("context-menu-item",{dangerous:nr==="deleteSelectedElements",checkmark:(qn=Ln.checked)===null||qn===void 0?void 0:qn.call(Ln,sn)}),children:[(0,_e.jsx)("div",{className:"context-menu-item__label",children:hr}),(0,_e.jsx)("kbd",{className:"context-menu-item__shortcut",children:nr?(0,Jn.C)(nr):""})]})},Yn)})})})}),or=_(2726),ur=_(7239),Ur=_(8120),Zr=_(6086),yr={};yr.styleTagTransform=wn(),yr.setAttributes=gr(),yr.insert=tr().bind(null,"head"),yr.domAPI=Tn(),yr.insertStyleElement=ln(),Cn()(Zr.Z,yr),Zr.Z&&Zr.Z.locals&&Zr.Z.locals;var Ar=_(1894),pr=_(5710);function Nr(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function Or(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Nr(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):Nr(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}function ba(nt,Ft){var en=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!en){if(Array.isArray(nt)||(en=function(Nn,Ln){if(Nn){if(typeof Nn=="string")return ho(Nn,Ln);var Yn=Object.prototype.toString.call(Nn).slice(8,-1);if(Yn==="Object"&&Nn.constructor&&(Yn=Nn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(Nn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return ho(Nn,Ln)}}(nt))||Ft&&nt&&typeof nt.length=="number"){en&&(nt=en);var cn=0,kn=function(){};return{s:kn,n:function(){return cn>=nt.length?{done:!0}:{done:!1,value:nt[cn++]}},e:function(Nn){throw Nn},f:kn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,Lt=!0,En=!1;return{s:function(){en=en.call(nt)},n:function(){var Nn=en.next();return Lt=Nn.done,Nn},e:function(Nn){En=!0,sn=Nn},f:function(){try{Lt||en.return==null||en.return()}finally{if(En)throw sn}}}}function ho(nt,Ft){(Ft==null||Ft>nt.length)&&(Ft=nt.length);for(var en=0,cn=new Array(Ft);en<Ft;en++)cn[en]=nt[en];return cn}var oo=function(nt){var Ft,en=nt.appState,cn=nt.elements,kn=nt.renderAction,sn=(0,jt.Zs)((0,Et.Lm)(cn),en),Lt=!1;sn.length===2&&((0,qt.Xo)(sn[0])||(0,qt.Xo)(sn[1]))&&(Lt=!0);var En,Nn=!!en.editingElement,Ln=Sl(),Yn=document.documentElement.getAttribute("dir")==="rtl",qn=(0,jt.$b)(en.activeTool.type)||sn.some(function(kr){return(0,jt.$b)(kr.type)&&!(0,ct.Qm)(kr.backgroundColor)}),nr=(0,jt.$b)(en.activeTool.type)||sn.some(function(kr){return(0,jt.$b)(kr.type)}),hr=sn.length===1||Lt,mr=((Ft=sn[0])===null||Ft===void 0?void 0:Ft.type)||null,dr=ba(sn);try{for(dr.s();!(En=dr.n()).done;)if(En.value.type!==mr){mr=null;break}}catch(kr){dr.e(kr)}finally{dr.f()}return(0,_e.jsxs)("div",{className:"panelColumn",children:[(0,_e.jsx)("div",{children:((0,Ur.PD)(en.activeTool.type)&&en.activeTool.type!=="image"&&mr!=="image"||sn.some(function(kr){return(0,Ur.PD)(kr.type)}))&&kn("changeStrokeColor")}),nr&&(0,_e.jsx)("div",{children:kn("changeBackgroundColor")}),qn&&kn("changeFillStyle"),((0,jt.Zd)(en.activeTool.type)||sn.some(function(kr){return(0,jt.Zd)(kr.type)}))&&kn("changeStrokeWidth"),(en.activeTool.type==="freedraw"||sn.some(function(kr){return kr.type==="freedraw"}))&&kn("changeStrokeShape"),((0,jt.M9)(en.activeTool.type)||sn.some(function(kr){return(0,jt.M9)(kr.type)}))&&(0,_e.jsxs)(_e.Fragment,{children:[kn("changeStrokeStyle"),kn("changeSloppiness")]}),((0,jt.sh)(en.activeTool.type)||sn.some(function(kr){return(0,jt.sh)(kr.type)}))&&(0,_e.jsx)(_e.Fragment,{children:kn("changeRoundness")}),((0,jt.bZ)(en.activeTool.type)||sn.some(function(kr){return(0,jt.bZ)(kr.type)}))&&(0,_e.jsxs)(_e.Fragment,{children:[kn("changeFontSize"),kn("changeFontFamily"),(0,pr.aV)(sn)&&kn("changeTextAlign")]}),(0,pr.cn)(sn)&&kn("changeVerticalAlign"),((0,jt.Un)(en.activeTool.type)||sn.some(function(kr){return(0,jt.Un)(kr.type)}))&&(0,_e.jsx)(_e.Fragment,{children:kn("changeArrowhead")}),kn("changeOpacity"),(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:(0,bt.t)("labels.layers")}),(0,_e.jsxs)("div",{className:"buttonList",children:[kn("sendToBack"),kn("sendBackward"),kn("bringToFront"),kn("bringForward")]})]}),sn.length>1&&!Lt&&(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:(0,bt.t)("labels.align")}),(0,_e.jsxs)("div",{className:"buttonList",children:[Yn?(0,_e.jsxs)(_e.Fragment,{children:[kn("alignRight"),kn("alignHorizontallyCentered"),kn("alignLeft")]}):(0,_e.jsxs)(_e.Fragment,{children:[kn("alignLeft"),kn("alignHorizontallyCentered"),kn("alignRight")]}),sn.length>2&&kn("distributeHorizontally"),(0,_e.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,_e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[kn("alignTop"),kn("alignVerticallyCentered"),kn("alignBottom"),sn.length>2&&kn("distributeVertically")]})]})]}),!Nn&&sn.length>0&&(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:(0,bt.t)("labels.actions")}),(0,_e.jsxs)("div",{className:"buttonList",children:[!Ln.isMobile&&kn("duplicateSelection"),!Ln.isMobile&&kn("deleteSelectedElements"),kn("group"),kn("ungroup"),hr&&kn("hyperlink")]})]})]})},lo=function(nt){var Ft=nt.canvas,en=nt.activeTool,cn=nt.setAppState,kn=nt.onImageAction,sn=nt.appState;return(0,_e.jsx)(_e.Fragment,{children:Gn.map(function(Lt,En){var Nn=Lt.value,Ln=Lt.icon,Yn=Lt.key,qn=Lt.numericKey,nr=Lt.fillable,hr=(0,bt.t)("toolBar.".concat(Nn)),mr=Yn&&(0,ct.Oo)(typeof Yn=="string"?Yn:Yn[0]),dr=mr?"".concat(mr," ").concat((0,bt.t)("helpDialog.or")," ").concat(qn):"".concat(qn);return(0,_e.jsx)(Bt.V,{className:(0,pn.Z)("Shape",{fillable:nr}),type:"radio",icon:Ln,checked:en.type===Nn,name:"editor-current-shape",title:"".concat((0,ct.Oo)(hr),"  ").concat(dr),keyBindingLabel:qn||mr,"aria-label":(0,ct.Oo)(hr),"aria-keyshortcuts":dr,"data-testid":"toolbar-".concat(Nn),onPointerDown:function(kr){var Gr=kr.pointerType;sn.penDetected||Gr!=="pen"||cn({penDetected:!0,penMode:!0})},onChange:function(kr){var Gr=kr.pointerType;sn.activeTool.type!==Nn&&(0,Tt.L)("toolbar",Nn,"ui");var Pr=(0,ct.Om)(sn,{type:Nn});cn({activeTool:Pr,multiElement:null,selectedElementIds:{}}),(0,ct.Uk)(Ft,Or(Or({},sn),{},{activeTool:Pr})),Nn==="image"&&kn({pointerType:Gr})}},Nn)})})},$r=function(nt){var Ft=nt.renderAction;return nt.zoom,(0,_e.jsx)(ur.Z.Col,{gap:1,className:"zoom-actions",children:(0,_e.jsxs)(ur.Z.Row,{align:"center",children:[Ft("zoomOut"),Ft("resetZoom"),Ft("zoomIn")]})})},qr=function(nt){var Ft=nt.renderAction,en=nt.className;return(0,_e.jsxs)("div",{className:"undo-redo-buttons ".concat(en),children:[(0,_e.jsx)("div",{className:"undo-button-container",children:(0,_e.jsx)(Ar.u,{label:(0,bt.t)("buttons.undo"),children:Ft("undo")})}),(0,_e.jsx)("div",{className:"redo-button-container",children:(0,_e.jsxs)(Ar.u,{label:(0,bt.t)("buttons.redo"),children:[" ",Ft("redo")]})})]})},Co=function(nt){var Ft=nt.actionManager,en=nt.showExitZenModeBtn;return(0,_e.jsx)("button",{className:(0,pn.Z)("disable-zen-mode",{"disable-zen-mode--visible":en}),onClick:function(){return Ft.executeAction(ft.JN)},children:(0,bt.t)("buttons.exitZenMode")})},po=function(nt){var Ft=nt.renderAction,en=nt.className;return(0,_e.jsx)("div",{className:"finalize-button ".concat(en),children:Ft("finalize",{size:"small"})})},na=_(8396),lr=function(nt){var Ft=nt.children,en=nt.onClose,cn=(0,bn.useState)(!!Ft),kn=(0,ht.Z)(cn,2),sn=kn[0],Lt=kn[1],En=lu().container,Nn=fn().useCallback(function(){Lt(!1),en&&en(),En==null||En.focus()},[en,En]);return(0,_e.jsx)(_e.Fragment,{children:sn&&(0,_e.jsx)(na.V,{small:!0,onCloseRequest:Nn,title:(0,bt.t)("errorDialog.title"),children:(0,_e.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:Ft})})})},Ir=_(434),Cr=_(7955),wr={};wr.styleTagTransform=wn(),wr.setAttributes=gr(),wr.insert=tr().bind(null,"head"),wr.domAPI=Tn(),wr.insertStyleElement=ln(),Cn()(Cr.Z,wr),Cr.Z&&Cr.Z.locals&&Cr.Z.locals;var Er=_(5284),Rr=_(3807),Kr=_(1393),ga=_(3024),to="filter"in document.createElement("canvas").getContext("2d"),io=function(){return(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{children:(0,bt.t)("canvasError.cannotShowPreview")}),(0,_e.jsx)("p",{children:(0,_e.jsx)("span",{children:(0,bt.t)("canvasError.canvasTooBig")})}),(0,_e.jsxs)("em",{children:["(",(0,bt.t)("canvasError.canvasTooBigTip"),")"]})]})},so=function(nt){var Ft,en=nt.children,cn=nt.title,kn=nt.onClick,sn=nt.color,Lt=nt.shade,En=Lt===void 0?6:Lt;return(0,_e.jsx)("button",{className:"ExportDialog-imageExportButton",style:(Ft={},(0,an.Z)(Ft,"--button-color",Er[sn][En]),(0,an.Z)(Ft,"--button-color-darker",Er[sn][En+1]),(0,an.Z)(Ft,"--button-color-darkest",Er[sn][En+2]),Ft),title:cn,"aria-label":cn,onClick:kn,children:en})},mo=function(nt){var Ft=nt.elements,en=nt.appState,cn=nt.files,kn=nt.exportPadding,sn=kn===void 0?rt.qy:kn,Lt=nt.actionManager,En=nt.onExportToPng,Nn=nt.onExportToSvg,Ln=nt.onExportToClipboard,Yn=(0,jt.N)(Ft,en),qn=(0,bn.useState)(Yn),nr=(0,ht.Z)(qn,2),hr=nr[0],mr=nr[1],dr=(0,bn.useRef)(null),kr=(0,bn.useState)(null),Gr=(0,ht.Z)(kr,2),Pr=Gr[0],Qr=Gr[1],_i=hr?(0,jt.eD)(Ft,en,!0):Ft;return(0,bn.useEffect)(function(){mr(Yn)},[Yn]),(0,bn.useEffect)(function(){var Hr=dr.current;if(Hr){var Yr=Hr.offsetWidth;Yr&&(0,ga.NL)({elements:_i,appState:en,files:cn,exportPadding:sn,maxWidthOrHeight:Yr}).then(function(_a){return Qr(null),(0,Ir._c)(_a).then(function(){Hr.replaceChildren(_a)})}).catch(function(_a){console.error(_a),Qr(_a)})}},[en,cn,_i,sn]),(0,_e.jsxs)("div",{className:"ExportDialog",children:[(0,_e.jsx)("div",{className:"ExportDialog__preview",ref:dr,children:Pr&&(0,_e.jsx)(io,{})}),to&&Lt.renderAction("exportWithDarkMode"),(0,_e.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,_e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[Lt.renderAction("changeExportBackground"),Yn&&(0,_e.jsx)(Rr.o,{checked:hr,onChange:function(Hr){return mr(Hr)},children:(0,bt.t)("labels.onlySelected")}),Lt.renderAction("changeExportEmbedScene")]})}),(0,_e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,_e.jsx)(ur.Z.Row,{gap:2,children:Lt.renderAction("changeExportScale")}),(0,_e.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,bt.t)("buttons.scale")})]}),(0,_e.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Kr.kr&&Lt.renderAction("changeProjectName")}),(0,_e.jsxs)(ur.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,_e.jsx)(so,{color:"indigo",title:(0,bt.t)("buttons.exportToPng"),"aria-label":(0,bt.t)("buttons.exportToPng"),onClick:function(){return En(_i)},children:"PNG"}),(0,_e.jsx)(so,{color:"red",title:(0,bt.t)("buttons.exportToSvg"),"aria-label":(0,bt.t)("buttons.exportToSvg"),onClick:function(){return Nn(_i)},children:"SVG"}),(Dt.vt||rt.vU)&&(0,_e.jsx)(so,{title:(0,bt.t)("buttons.copyPngToClipboard"),onClick:function(){return Ln(_i)},color:"gray",shade:7,children:Rt.BR})]})]})},Zo=function(nt){var Ft=nt.elements,en=nt.appState,cn=nt.setAppState,kn=nt.files,sn=nt.exportPadding,Lt=sn===void 0?rt.qy:sn,En=nt.actionManager,Nn=nt.onExportToPng,Ln=nt.onExportToSvg,Yn=nt.onExportToClipboard,qn=fn().useCallback(function(){cn({openDialog:null})},[cn]);return(0,_e.jsx)(_e.Fragment,{children:en.openDialog==="imageExport"&&(0,_e.jsx)(na.V,{onCloseRequest:qn,title:(0,bt.t)("buttons.exportImage"),children:(0,_e.jsx)(mo,{elements:Ft,appState:en,files:kn,exportPadding:Lt,actionManager:En,onExportToPng:Nn,onExportToSvg:Ln,onExportToClipboard:Yn,onCloseRequest:qn})})})},No=_(3195),Jo={};Jo.styleTagTransform=wn(),Jo.setAttributes=gr(),Jo.insert=tr().bind(null,"head"),Jo.domAPI=Tn(),Jo.insertStyleElement=ln(),Cn()(No.Z,Jo),No.Z&&No.Z.locals&&No.Z.locals;var Bl=function(nt){var Ft=nt.children,en=nt.side,cn=nt.className;return(0,_e.jsx)("div",{className:(0,pn.Z)("FixedSideContainer","FixedSideContainer_side_".concat(en),cn),children:Ft})},ro=_(1587),Io={};Io.styleTagTransform=wn(),Io.setAttributes=gr(),Io.insert=tr().bind(null,"head"),Io.domAPI=Tn(),Io.insertStyleElement=ln(),Cn()(ro.Z,Io),ro.Z&&ro.Z.locals&&ro.Z.locals;var Qo=function(nt){var Ft=function(en){var cn=en.appState,kn=en.elements,sn=en.isMobile,Lt=en.device,En=cn.activeTool,Nn=cn.isResizing,Ln=cn.isRotating,Yn=cn.lastPointerDownWith,qn=cn.multiElement!==null;if(cn.openSidebar==="library"&&!Lt.canDeviceFitSidebar)return null;if((0,Wt.EN)(cn))return(0,bt.t)("hints.eraserRevert");if(En.type==="arrow"||En.type==="line")return qn?(0,bt.t)("hints.linearElementMulti"):(0,bt.t)("hints.linearElement");if(En.type==="freedraw")return(0,bt.t)("hints.freeDraw");if(En.type==="text")return(0,bt.t)("hints.text");if(cn.activeTool.type==="image"&&cn.pendingImageElementId)return(0,bt.t)("hints.placeImage");var nr=(0,jt.eD)(kn,cn);if(Nn&&Yn==="mouse"&&nr.length===1){var hr=nr[0];return(0,qt.bt)(hr)&&hr.points.length===2?(0,bt.t)("hints.lockAngle"):(0,qt.pC)(hr)?(0,bt.t)("hints.resizeImage"):(0,bt.t)("hints.resize")}if(Ln&&Yn==="mouse")return(0,bt.t)("hints.rotate");if(nr.length===1&&(0,qt.iB)(nr[0]))return(0,bt.t)("hints.text_selected");if(cn.editingElement&&(0,qt.iB)(cn.editingElement))return(0,bt.t)("hints.text_editing");if(En.type==="selection"){var mr;if(((mr=cn.draggingElement)===null||mr===void 0?void 0:mr.type)==="selection"&&!cn.editingElement&&!cn.editingLinearElement)return(0,bt.t)("hints.deepBoxSelect");if(!nr.length&&!sn)return(0,bt.t)("hints.canvasPanning")}if(nr.length===1){if((0,qt.bt)(nr[0]))return cn.editingLinearElement?cn.editingLinearElement.selectedPointsIndices?(0,bt.t)("hints.lineEditor_pointSelected"):(0,bt.t)("hints.lineEditor_nothingSelected"):(0,bt.t)("hints.lineEditor_info");if((0,qt.mG)(nr[0]))return(0,bt.t)("hints.bindTextToElement")}return null}({appState:nt.appState,elements:nt.elements,isMobile:nt.isMobile,device:nt.device});return Ft?(Ft=(0,ct.uY)(Ft),(0,_e.jsx)("div",{className:"HintViewer",children:(0,_e.jsx)("span",{children:Ft})})):null},Lo=_(1881),Vl=_(5440),Dl=(_(5422),{CHECKED:Rt.FC,UNCHECKED:Rt._C}),Ll=function(nt){return(0,_e.jsxs)("label",{className:(0,pn.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":nt.isMobile}),title:"".concat(nt.title,"  Q"),children:[(0,_e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:nt.name,onChange:nt.onChange,checked:nt.checked,"aria-label":nt.title,"data-testid":"toolbar-lock"}),(0,_e.jsx)("div",{className:"ToolIcon__icon",children:nt.checked?Dl.CHECKED:Dl.UNCHECKED})]})},Xl=["heading","children"];function _o(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function os(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?_o(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):_o(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}var Zl=function(nt){var Ft=nt.heading,en=nt.children,cn=(0,or.Z)(nt,Xl),kn=lu().id,sn=(0,_e.jsx)("h2",{className:"visually-hidden",id:"".concat(kn,"-").concat(Ft,"-title"),children:(0,bt.t)("headings.".concat(Ft))});return(0,_e.jsx)("section",os(os({},cn),{},{"aria-labelledby":"".concat(kn,"-").concat(Ft,"-title"),children:typeof en=="function"?en(sn):(0,_e.jsxs)(_e.Fragment,{children:[sn,en]})}))},Hl=_(756),ys=_(2316),_c={};_c.styleTagTransform=wn(),_c.setAttributes=gr(),_c.insert=tr().bind(null,"head"),_c.domAPI=Tn(),_c.insertStyleElement=ln(),Cn()(ys.Z,_c),ys.Z&&ys.Z.locals&&ys.Z.locals;var Us=function(nt){var Ft=nt.appState,en=nt.setAppState,cn=nt.isMobile,kn=Sl(),sn=!cn;return Ft.isSidebarDocked&&Ft.openSidebar==="library"?null:(0,_e.jsxs)("label",{title:"".concat((0,ct.Oo)((0,bt.t)("toolBar.library"))),children:[(0,_e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(Lt){var En;(En=document.querySelector(".layer-ui__wrapper"))===null||En===void 0||En.classList.remove("animate");var Nn=Lt.target.checked;en({openSidebar:Nn?"library":null}),Nn&&(0,Tt.L)("library","toggleLibrary (open)","toolbar (".concat(kn.isMobile?"mobile":"desktop",")"))},checked:Ft.openSidebar==="library","aria-label":(0,ct.Oo)((0,bt.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,_e.jsxs)("div",{className:"library-button",children:[(0,_e.jsx)("div",{children:Rt.Vq}),sn&&(0,_e.jsx)("div",{className:"library-button__label",children:(0,bt.t)("toolBar.library")})]})]})},Ms=function(nt){return nt.penDetected?(0,_e.jsxs)("label",{className:(0,pn.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":nt.isMobile}),title:"".concat(nt.title),children:[(0,_e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:nt.name,onChange:nt.onChange,checked:nt.checked,"aria-label":nt.title}),(0,_e.jsx)("div",{className:"ToolIcon__icon",children:Rt.tb})]}):null},nu=_(8925),on=_(2681),Bn={};Bn.styleTagTransform=wn(),Bn.setAttributes=gr(),Bn.insert=tr().bind(null,"head"),Bn.domAPI=Tn(),Bn.insertStyleElement=ln(),Cn()(on.Z,Bn),on.Z&&on.Z.locals&&on.Z.locals;var On=function(nt){var Ft,en=(0,nu.KP)(nt.elements),cn=(0,jt.Zs)(nt.elements,nt.appState),kn=(0,nu.KP)(cn);return(0,_e.jsx)("div",{className:"Stats",children:(0,_e.jsxs)(Lo.W,{padding:2,children:[(0,_e.jsx)("div",{className:"close",onClick:nt.onClose,children:Rt.Tw}),(0,_e.jsx)("h3",{children:(0,bt.t)("stats.title")}),(0,_e.jsx)("table",{children:(0,_e.jsxs)("tbody",{children:[(0,_e.jsx)("tr",{children:(0,_e.jsx)("th",{colSpan:2,children:(0,bt.t)("stats.scene")})}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.elements")}),(0,_e.jsx)("td",{children:nt.elements.length})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.width")}),(0,_e.jsx)("td",{children:Math.round(en[2])-Math.round(en[0])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.height")}),(0,_e.jsx)("td",{children:Math.round(en[3])-Math.round(en[1])})]}),cn.length===1&&(0,_e.jsx)("tr",{children:(0,_e.jsx)("th",{colSpan:2,children:(0,bt.t)("stats.element")})}),cn.length>1&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("tr",{children:(0,_e.jsx)("th",{colSpan:2,children:(0,bt.t)("stats.selected")})}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.elements")}),(0,_e.jsx)("td",{children:cn.length})]})]}),cn.length>0&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:"x"}),(0,_e.jsx)("td",{children:Math.round(kn[0])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:"y"}),(0,_e.jsx)("td",{children:Math.round(kn[1])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.width")}),(0,_e.jsx)("td",{children:Math.round(kn[2]-kn[0])})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.height")}),(0,_e.jsx)("td",{children:Math.round(kn[3]-kn[1])})]})]}),cn.length===1&&(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,bt.t)("stats.angle")}),(0,_e.jsx)("td",{children:"".concat(Math.round(180*cn[0].angle/Math.PI),"")})]}),(Ft=nt.renderCustomStats)===null||Ft===void 0?void 0:Ft.call(nt,nt.elements,nt.appState)]})})]})})},Hn=function(nt){return(0,_e.jsx)(Bt.V,{className:(0,pn.Z)("Shape",{fillable:!1}),type:"radio",icon:Rt.Hk,name:"editor-current-shape",checked:nt.checked,title:"".concat(nt.title,"  H"),keyBindingLabel:nt.isMobile?void 0:Gt.tW.H.toLocaleUpperCase(),"aria-label":"".concat(nt.title,"  H"),"aria-keyshortcuts":Gt.tW.H,"data-testid":"toolbar-hand",onChange:function(){var Ft;return(Ft=nt.onChange)===null||Ft===void 0?void 0:Ft.call(nt)}})},br=_(8888);function xr(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}var Tr=function(nt){var Ft=nt.appState,en=nt.elements,cn=nt.actionManager,kn=nt.setAppState,sn=nt.onLockToggle,Lt=nt.onHandToolToggle,En=nt.onPenModeToggle,Nn=nt.canvas,Ln=nt.onImageAction,Yn=nt.renderTopRightUI,qn=nt.renderCustomStats,nr=nt.renderSidebars,hr=nt.device,mr=nt.renderWelcomeScreen,dr=(0,br.R6)(),kr=dr.welcomeScreenCenterTunnel,Gr=dr.mainMenuTunnel;return(0,_e.jsxs)(_e.Fragment,{children:[nr(),!Ft.viewModeEnabled&&(0,_e.jsxs)(Bl,{side:"top",className:"App-top-bar",children:[mr&&(0,_e.jsx)(kr.Out,{}),(0,_e.jsx)(Zl,{heading:"shapes",children:function(Pr){return(0,_e.jsx)(ur.Z.Col,{gap:4,align:"center",children:(0,_e.jsxs)(ur.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,_e.jsxs)(Lo.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[Pr,(0,_e.jsx)(ur.Z.Row,{gap:1,children:(0,_e.jsx)(lo,{appState:Ft,canvas:Nn,activeTool:Ft.activeTool,setAppState:kn,onImageAction:function(Qr){var _i=Qr.pointerType;Ln({insertOnCanvasDirectly:_i!=="mouse"})}})})]}),Yn&&Yn(!0,Ft),(0,_e.jsxs)("div",{className:"mobile-misc-tools-container",children:[!Ft.viewModeEnabled&&(0,_e.jsx)(Us,{appState:Ft,setAppState:kn,isMobile:!0}),(0,_e.jsx)(Ms,{checked:Ft.penMode,onChange:En,title:(0,bt.t)("toolBar.penMode"),isMobile:!0,penDetected:Ft.penDetected}),(0,_e.jsx)(Ll,{checked:Ft.activeTool.locked,onChange:sn,title:(0,bt.t)("toolBar.lock"),isMobile:!0}),(0,_e.jsx)(Hn,{checked:(0,Wt.l$)(Ft),onChange:function(){return Lt()},title:(0,bt.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,_e.jsx)(Qo,{appState:Ft,elements:en,isMobile:!0,device:hr})]}),!Ft.openMenu&&Ft.showStats&&(0,_e.jsx)(On,{appState:Ft,setAppState:kn,elements:en,onClose:function(){cn.executeAction(ft.u0)},renderCustomStats:qn}),(0,_e.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Hl.nn+2*Hl.WM,marginLeft:Hl.nn+2*Hl.WM,marginRight:Hl.nn+2*Hl.WM},children:(0,_e.jsxs)(Lo.W,{padding:0,children:[Ft.openMenu==="shape"&&!Ft.viewModeEnabled&&(0,Et.RT)(Ft,en)?(0,_e.jsx)(Zl,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,_e.jsx)(oo,{appState:Ft,elements:en,renderAction:cn.renderAction})}):null,(0,_e.jsxs)("footer",{className:"App-toolbar",children:[Ft.viewModeEnabled?(0,_e.jsx)("div",{className:"App-toolbar-content",children:(0,_e.jsx)(Gr.Out,{})}):(0,_e.jsxs)("div",{className:"App-toolbar-content",children:[(0,_e.jsx)(Gr.Out,{}),cn.renderAction("toggleEditMenu"),cn.renderAction("undo"),cn.renderAction("redo"),cn.renderAction(Ft.multiElement?"finalize":"duplicateSelection"),cn.renderAction("deleteSelectedElements")]}),Ft.scrolledOutside&&!Ft.openMenu&&Ft.openSidebar!=="library"&&(0,_e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){kn(function(Pr){for(var Qr=1;Qr<arguments.length;Qr++){var _i=arguments[Qr]!=null?arguments[Qr]:{};Qr%2?xr(Object(_i),!0).forEach(function(Hr){(0,an.Z)(Pr,Hr,_i[Hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pr,Object.getOwnPropertyDescriptors(_i)):xr(Object(_i)).forEach(function(Hr){Object.defineProperty(Pr,Hr,Object.getOwnPropertyDescriptor(_i,Hr))})}return Pr}({},(0,jt.W)(en,Ft,Nn)))},children:(0,bt.t)("buttons.scrollBackToContent")})]})]})})]})},Vr=_(5674),fr=_(4162),zr=_(8461),Xr={};Xr.styleTagTransform=wn(),Xr.setAttributes=gr(),Xr.insert=tr().bind(null,"head"),Xr.domAPI=Tn(),Xr.insertStyleElement=ln(),Cn()(zr.Z,Xr),zr.Z&&zr.Z.locals&&zr.Z.locals;var xa=function(nt){var Ft=(0,bn.useRef)(null),en=(0,bn.useState)(null),cn=(0,ht.Z)(en,2),kn=cn[0],sn=cn[1];return(0,bn.useLayoutEffect)(function(){if(nt.spreadsheet){var Lt,En=(0,Vr.ps)(nt.chartType,nt.spreadsheet,0,0);sn(En);var Nn=Ft.current;return(0,at.Z)(Qt().mark(function Ln(){var Yn;return Qt().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return qn.next=2,(0,fr.$D)(En,{exportBackground:!1,viewBackgroundColor:Er.white},null);case 2:Lt=qn.sent,(Yn=Lt.querySelector(".style-fonts"))===null||Yn===void 0||Yn.remove(),Nn.replaceChildren(),Nn.appendChild(Lt),nt.selected&&Nn.parentNode.focus();case 7:case"end":return qn.stop()}},Ln)}))(),function(){Nn.replaceChildren()}}},[nt.spreadsheet,nt.chartType,nt.selected]),(0,_e.jsx)("button",{className:"ChartPreview",onClick:function(){kn&&nt.onClick(nt.chartType,kn)},children:(0,_e.jsx)("div",{ref:Ft})})},jr=function(nt){var Ft=nt.setAppState,en=nt.appState,cn=nt.onClose,kn=nt.onInsertChart,sn=fn().useCallback(function(){cn&&cn()},[cn]),Lt=function(En,Nn){kn(Nn),(0,Tt.L)("magic","chart",En),Ft({currentChartType:En,pasteDialog:{shown:!1,data:null}})};return(0,_e.jsx)(na.V,{small:!0,onCloseRequest:sn,title:(0,bt.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,_e.jsxs)("div",{className:"container",children:[(0,_e.jsx)(xa,{chartType:"bar",spreadsheet:en.pasteDialog.data,selected:en.currentChartType==="bar",onClick:Lt}),(0,_e.jsx)(xa,{chartType:"line",spreadsheet:en.pasteDialog.data,selected:en.currentChartType==="line",onClick:Lt})]})})},Mr=_(2978),fo={};fo.styleTagTransform=wn(),fo.setAttributes=gr(),fo.insert=tr().bind(null,"head"),fo.domAPI=Tn(),fo.insertStyleElement=ln(),Cn()(Mr.Z,fo),Mr.Z&&Mr.Z.locals&&Mr.Z.locals;function no(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}var _r=Qt().mark(yo);function Ko(nt,Ft){var en=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!en){if(Array.isArray(nt)||(en=function(Nn,Ln){if(Nn){if(typeof Nn=="string")return Ho(Nn,Ln);var Yn=Object.prototype.toString.call(Nn).slice(8,-1);if(Yn==="Object"&&Nn.constructor&&(Yn=Nn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(Nn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return Ho(Nn,Ln)}}(nt))||Ft&&nt&&typeof nt.length=="number"){en&&(nt=en);var cn=0,kn=function(){};return{s:kn,n:function(){return cn>=nt.length?{done:!0}:{done:!1,value:nt[cn++]}},e:function(Nn){throw Nn},f:kn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,Lt=!0,En=!1;return{s:function(){en=en.call(nt)},n:function(){var Nn=en.next();return Lt=Nn.done,Nn},e:function(Nn){En=!0,sn=Nn},f:function(){try{Lt||en.return==null||en.return()}finally{if(En)throw sn}}}}function Ho(nt,Ft){(Ft==null||Ft>nt.length)&&(Ft=nt.length);for(var en=0,cn=new Array(Ft);en<Ft;en++)cn[en]=nt[en];return cn}var Oo=function(){return(0,_e.jsxs)("div",{className:"HelpDialog__header",children:[(0,_e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,bt.t)("helpDialog.documentation"),(0,_e.jsx)("div",{className:"HelpDialog__link-icon",children:Rt.h0})]}),(0,_e.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,bt.t)("helpDialog.blog"),(0,_e.jsx)("div",{className:"HelpDialog__link-icon",children:Rt.h0})]}),(0,_e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,bt.t)("helpDialog.github"),(0,_e.jsx)("div",{className:"HelpDialog__link-icon",children:Rt.h0})]})]})},Al=function(nt){return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("h3",{children:nt.title}),(0,_e.jsx)("div",{className:"HelpDialog__islands-container",children:nt.children})]})},ko=function(nt){return(0,_e.jsxs)("div",{className:"HelpDialog__island ".concat(nt.className),children:[(0,_e.jsx)("h4",{className:"HelpDialog__island-title",children:nt.caption}),(0,_e.jsx)("div",{className:"HelpDialog__island-content",children:nt.children})]})};function yo(nt,Ft){var en,cn,kn,sn;return Qt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:en=!0,cn=Ko(nt),Lt.prev=2,cn.s();case 4:if((kn=cn.n()).done){Lt.next=14;break}if(sn=kn.value,en){Lt.next=9;break}return Lt.next=9,Ft;case 9:return en=!1,Lt.next=12,sn;case 12:Lt.next=4;break;case 14:Lt.next=19;break;case 16:Lt.prev=16,Lt.t0=Lt.catch(2),cn.e(Lt.t0);case 19:return Lt.prev=19,cn.f(),Lt.finish(19);case 22:case"end":return Lt.stop()}},_r,null,[[2,16,19,22]])}var Dr=function(nt){var Ft=nt.label,en=nt.shortcuts,cn=nt.isOr,kn=cn===void 0||cn,sn=en.map(function(Lt){return(Lt.endsWith("++")?[].concat((0,ot.Z)(Lt.slice(0,-2).split("+")),["+"]):Lt.split("+")).map(function(En){return(0,_e.jsx)(To,{children:(Nn=En,Nn.replace(/\b[a-z]\b/,function(Ln){return Ln.toUpperCase()}))},En);var Nn})});return(0,_e.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,_e.jsx)("div",{children:Ft}),(0,_e.jsx)("div",{className:"HelpDialog__key-container",children:(0,ot.Z)(yo(sn,kn?(0,bt.t)("helpDialog.or"):null))})]})},To=function(nt){return(0,_e.jsx)("kbd",function(Ft){for(var en=1;en<arguments.length;en++){var cn=arguments[en]!=null?arguments[en]:{};en%2?no(Object(cn),!0).forEach(function(kn){(0,an.Z)(Ft,kn,cn[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(cn)):no(Object(cn)).forEach(function(kn){Object.defineProperty(Ft,kn,Object.getOwnPropertyDescriptor(cn,kn))})}return Ft}({className:"HelpDialog__key"},nt))},Fl=function(nt){var Ft=nt.onClose,en=fn().useCallback(function(){Ft&&Ft()},[Ft]);return(0,_e.jsx)(_e.Fragment,{children:(0,_e.jsxs)(na.V,{onCloseRequest:en,title:(0,bt.t)("helpDialog.title"),className:"HelpDialog",children:[(0,_e.jsx)(Oo,{}),(0,_e.jsxs)(Al,{title:(0,bt.t)("helpDialog.shortcuts"),children:[(0,_e.jsxs)(ko,{className:"HelpDialog__island--tools",caption:(0,bt.t)("helpDialog.tools"),children:[(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.hand"),shortcuts:[Gt.tW.H]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.selection"),shortcuts:[Gt.tW.V,Gt.tW[1]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.rectangle"),shortcuts:[Gt.tW.R,Gt.tW[2]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.diamond"),shortcuts:[Gt.tW.D,Gt.tW[3]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.ellipse"),shortcuts:[Gt.tW.O,Gt.tW[4]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.arrow"),shortcuts:[Gt.tW.A,Gt.tW[5]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.line"),shortcuts:[Gt.tW.L,Gt.tW[6]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.freedraw"),shortcuts:[Gt.tW.P,Gt.tW[7]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.text"),shortcuts:[Gt.tW.T,Gt.tW[8]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.image"),shortcuts:[Gt.tW[9]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.eraser"),shortcuts:[Gt.tW.E,Gt.tW[0]]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.editText"),shortcuts:[(0,ct.uY)("Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.textNewLine"),shortcuts:[(0,ct.uY)("Enter"),(0,ct.uY)("Shift+Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.textFinish"),shortcuts:[(0,ct.uY)("Esc"),(0,ct.uY)("CtrlOrCmd+Enter")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click")],isOr:!1}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.curvedLine"),shortcuts:["L",(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click"),(0,bt.t)("helpDialog.click")],isOr:!1}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.lock"),shortcuts:[Gt.tW.Q]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.preventBinding"),shortcuts:[(0,ct.uY)("CtrlOrCmd")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("toolBar.link"),shortcuts:[(0,ct.uY)("CtrlOrCmd+K")]})]}),(0,_e.jsxs)(ko,{className:"HelpDialog__island--view",caption:(0,bt.t)("helpDialog.view"),children:[(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.zoomIn"),shortcuts:[(0,ct.uY)("CtrlOrCmd++")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.zoomOut"),shortcuts:[(0,ct.uY)("CtrlOrCmd+-")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.resetZoom"),shortcuts:[(0,ct.uY)("CtrlOrCmd+0")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.zenMode"),shortcuts:[(0,ct.uY)("Alt+Z")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.showGrid"),shortcuts:[(0,ct.uY)("CtrlOrCmd+'")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.viewMode"),shortcuts:[(0,ct.uY)("Alt+R")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.toggleTheme"),shortcuts:[(0,ct.uY)("Alt+Shift+D")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("stats.title"),shortcuts:[(0,ct.uY)("Alt+/")]})]}),(0,_e.jsxs)(ko,{className:"HelpDialog__island--editor",caption:(0,bt.t)("helpDialog.editor"),children:[(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.moveCanvas"),shortcuts:[(0,ct.uY)("Space+".concat((0,bt.t)("helpDialog.drag"))),(0,ct.uY)("Wheel+".concat((0,bt.t)("helpDialog.drag")))],isOr:!0}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.clearReset"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Delete")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.delete"),shortcuts:[(0,ct.uY)("Delete")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.cut"),shortcuts:[(0,ct.uY)("CtrlOrCmd+X")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.copy"),shortcuts:[(0,ct.uY)("CtrlOrCmd+C")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.paste"),shortcuts:[(0,ct.uY)("CtrlOrCmd+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.pasteAsPlaintext"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.selectAll"),shortcuts:[(0,ct.uY)("CtrlOrCmd+A")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.multiSelect"),shortcuts:[(0,ct.uY)("Shift+".concat((0,bt.t)("helpDialog.click")))]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.deepSelect"),shortcuts:[(0,ct.uY)("CtrlOrCmd+".concat((0,bt.t)("helpDialog.click")))]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,ct.uY)("CtrlOrCmd+".concat((0,bt.t)("helpDialog.drag")))]}),(Dt.vt||rt.vU)&&(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.copyAsPng"),shortcuts:[(0,ct.uY)("Shift+Alt+C")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.copyStyles"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Alt+C")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.pasteStyles"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Alt+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.sendToBack"),shortcuts:[rt.Um?(0,ct.uY)("CtrlOrCmd+Alt+["):(0,ct.uY)("CtrlOrCmd+Shift+[")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.bringToFront"),shortcuts:[rt.Um?(0,ct.uY)("CtrlOrCmd+Alt+]"):(0,ct.uY)("CtrlOrCmd+Shift+]")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.sendBackward"),shortcuts:[(0,ct.uY)("CtrlOrCmd+[")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.bringForward"),shortcuts:[(0,ct.uY)("CtrlOrCmd+]")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignTop"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Up")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignBottom"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Down")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignLeft"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Left")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.alignRight"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+Right")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.duplicateSelection"),shortcuts:[(0,ct.uY)("CtrlOrCmd+D"),(0,ct.uY)("Alt+".concat((0,bt.t)("helpDialog.drag")))]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("helpDialog.toggleElementLock"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+L")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.undo"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Z")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("buttons.redo"),shortcuts:rt.ED?[(0,ct.uY)("CtrlOrCmd+Y"),(0,ct.uY)("CtrlOrCmd+Shift+Z")]:[(0,ct.uY)("CtrlOrCmd+Shift+Z")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.group"),shortcuts:[(0,ct.uY)("CtrlOrCmd+G")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.ungroup"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+G")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.flipHorizontal"),shortcuts:[(0,ct.uY)("Shift+H")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.flipVertical"),shortcuts:[(0,ct.uY)("Shift+V")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.showStroke"),shortcuts:[(0,ct.uY)("S")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.showBackground"),shortcuts:[(0,ct.uY)("G")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.decreaseFontSize"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+<")]}),(0,_e.jsx)(Dr,{label:(0,bt.t)("labels.increaseFontSize"),shortcuts:[(0,ct.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Ro=_(6773),Po=_(8671),zl=_(4241),yl={};yl.styleTagTransform=wn(),yl.setAttributes=gr(),yl.insert=tr().bind(null,"head"),yl.domAPI=Tn(),yl.insertStyleElement=ln(),Cn()(zl.Z,yl),zl.Z&&zl.Z.locals&&zl.Z.locals;var hs=function(nt){var Ft,en=nt.children,cn=nt.color;return(0,_e.jsx)("div",{className:"Card",style:(Ft={},(0,an.Z)(Ft,"--card-color",cn==="primary"?"var(--color-primary)":Er[cn][7]),(0,an.Z)(Ft,"--card-color-darker",cn==="primary"?"var(--color-primary-darker)":Er[cn][8]),(0,an.Z)(Ft,"--card-color-darkest",cn==="primary"?"var(--color-primary-darkest)":Er[cn][9]),Ft),children:en})},h0=function(nt){var Ft=nt.elements,en=nt.appState,cn=nt.files,kn=nt.actionManager,sn=nt.exportOpts,Lt=nt.canvas,En=sn.onExportToBackend;return(0,_e.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,_e.jsxs)("div",{className:"ExportDialog-cards",children:[sn.saveFileToDisk&&(0,_e.jsxs)(hs,{color:"lime",children:[(0,_e.jsx)("div",{className:"Card-icon",children:Rt.TP}),(0,_e.jsx)("h2",{children:(0,bt.t)("exportDialog.disk_title")}),(0,_e.jsxs)("div",{className:"Card-details",children:[(0,bt.t)("exportDialog.disk_details"),!Kr.kr&&kn.renderAction("changeProjectName")]}),(0,_e.jsx)(Bt.V,{className:"Card-button",type:"button",title:(0,bt.t)("exportDialog.disk_button"),"aria-label":(0,bt.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){kn.executeAction(Po.mM,"ui")}})]}),En&&(0,_e.jsxs)(hs,{color:"pink",children:[(0,_e.jsx)("div",{className:"Card-icon",children:Rt.xP}),(0,_e.jsx)("h2",{children:(0,bt.t)("exportDialog.link_title")}),(0,_e.jsx)("div",{className:"Card-details",children:(0,bt.t)("exportDialog.link_details")}),(0,_e.jsx)(Bt.V,{className:"Card-button",type:"button",title:(0,bt.t)("exportDialog.link_button"),"aria-label":(0,bt.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){En(Ft,en,cn,Lt),(0,Tt.L)("export","link","ui (".concat((0,ct.$h)(),")"))}})]}),sn.renderCustomUI&&sn.renderCustomUI(Ft,en,cn,Lt)]})})},C0=function(nt){var Ft=nt.elements,en=nt.appState,cn=nt.files,kn=nt.actionManager,sn=nt.exportOpts,Lt=nt.canvas,En=nt.setAppState,Nn=fn().useCallback(function(){En({openDialog:null})},[En]);return(0,_e.jsx)(_e.Fragment,{children:en.openDialog==="jsonExport"&&(0,_e.jsx)(na.V,{onCloseRequest:Nn,title:(0,bt.t)("buttons.export"),children:(0,_e.jsx)(h0,{elements:Ft,appState:en,files:cn,actionManager:kn,onCloseRequest:Nn,exportOpts:sn,canvas:Lt})})})},p0=_(6954),Nl=_(8923),ru={};ru.styleTagTransform=wn(),ru.setAttributes=gr(),ru.insert=tr().bind(null,"head"),ru.domAPI=Tn(),ru.insertStyleElement=ln(),Cn()(Nl.Z,ru),Nl.Z&&Nl.Z.locals&&Nl.Z.locals;var es=_(5523),Gu=_(2701),Vs={};Vs.styleTagTransform=wn(),Vs.setAttributes=gr(),Vs.insert=tr().bind(null,"head"),Vs.domAPI=Tn(),Vs.insertStyleElement=ln(),Cn()(Gu.Z,Vs),Gu.Z&&Gu.Z.locals&&Gu.Z.locals;var Gs=function(nt){var Ft=nt.id,en=nt.elements,cn=nt.isPending,kn=nt.onClick,sn=nt.selected,Lt=nt.onToggle,En=nt.onDrag,Nn=(0,bn.useRef)(null);(0,bn.useEffect)(function(){var dr=Nn.current;if(dr)return(0,at.Z)(Qt().mark(function kr(){var Gr,Pr;return Qt().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(en){Qr.next=2;break}return Qr.abrupt("return");case 2:return Qr.next=4,(0,ga.$D)({elements:en,appState:{exportBackground:!1,viewBackgroundColor:Er.white},files:null});case 4:Pr=Qr.sent,(Gr=Pr.querySelector(".style-fonts"))===null||Gr===void 0||Gr.remove(),dr.innerHTML=Pr.outerHTML;case 7:case"end":return Qr.stop()}},kr)}))(),function(){dr.innerHTML=""}},[en]);var Ln=(0,bn.useState)(!1),Yn=(0,ht.Z)(Ln,2),qn=Yn[0],nr=Yn[1],hr=Sl().isMobile,mr=cn&&(0,_e.jsx)("div",{className:"library-unit__adder",children:Rt.pO});return(0,_e.jsxs)("div",{className:(0,pn.Z)("library-unit",{"library-unit__active":en,"library-unit--hover":en&&qn,"library-unit--selected":sn}),onMouseEnter:function(){return nr(!0)},onMouseLeave:function(){return nr(!1)},children:[(0,_e.jsx)("div",{className:(0,pn.Z)("library-unit__dragger",{"library-unit__pulse":!!cn}),ref:Nn,draggable:!!en,onClick:en||cn?function(dr){Ft&&dr.shiftKey?Lt(Ft,dr):kn()}:void 0,onDragStart:function(dr){Ft?(nr(!1),En(Ft,dr)):dr.preventDefault()}}),mr,Ft&&en&&(qn||hr||sn)&&(0,_e.jsx)(Rr.o,{checked:sn,onChange:function(dr,kr){return Lt(Ft,kr)},className:"library-unit__checkbox"})]})},Ws=_(6440),ws={};ws.styleTagTransform=wn(),ws.setAttributes=gr(),ws.insert=tr().bind(null,"head"),ws.domAPI=Tn(),ws.insertStyleElement=ln(),Cn()(Ws.Z,ws),Ws.Z&&Ws.Z.locals&&Ws.Z.locals;var Yo=_(5644),xs=function(nt){var Ft=nt.theme,en=nt.id,cn=nt.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,_e.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(cn,"&useHash=true&token=").concat(en,"&theme=").concat(Ft,"&version=").concat(rt.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,bt.t)("labels.libraries")})};function wu(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function m0(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?wu(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):wu(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}var Hu=function(nt){var Ft=nt.isLoading,en=nt.libraryItems,cn=nt.onAddToLibrary,kn=nt.onInsertLibraryItems,sn=nt.pendingElements,Lt=nt.selectedItems,En=nt.onSelectItems,Nn=nt.theme,Ln=nt.id,Yn=nt.libraryReturnUrl,qn=(0,bn.useState)(null),nr=(0,ht.Z)(qn,2),hr=nr[0],mr=nr[1],dr=function(Yr,_a){var $a=!Lt.includes(Yr),ao=[].concat((0,ot.Z)(Qr),(0,ot.Z)(_i));if($a){if(_a.shiftKey&&hr){var Bo=ao.findIndex(function(Vo){return Vo.id===hr}),$o=ao.findIndex(function(Vo){return Vo.id===Yr});if(Bo===-1||$o===-1)return void En([].concat((0,ot.Z)(Lt),[Yr]));var Ul=(0,ct.xn)(Lt),Il=ao.reduce(function(Vo,Wl,Sn){return(Sn>=Bo&&Sn<=$o||Ul.has(Wl.id))&&Vo.push(Wl.id),Vo},[]);En(Il)}else En([].concat((0,ot.Z)(Lt),[Yr]));mr(Yr)}else mr(null),En(Lt.filter(function(Vo){return Vo!==Yr}))},kr=function(Yr){return(Lt.includes(Yr)?en.filter(function(_a){return Lt.includes(_a.id)}):en.filter(function(_a){return _a.id===Yr})).map(function(_a){return m0(m0({},_a),{},{elements:(0,Pt._N)(_a.elements)})})},Gr=function(Yr){var _a,$a,ao,Bo,$o;return(0,_e.jsx)(ur.Z.Col,{children:(0,_e.jsx)(Gs,{elements:(_a=Yr.item)===null||_a===void 0?void 0:_a.elements,isPending:!(($a=Yr.item)!==null&&$a!==void 0&&$a.id||(ao=Yr.item)===null||ao===void 0||!ao.elements),onClick:Yr.onClick||function(){},id:((Bo=Yr.item)===null||Bo===void 0?void 0:Bo.id)||null,selected:!(($o=Yr.item)===null||$o===void 0||!$o.id)&&Lt.includes(Yr.item.id),onToggle:dr,onDrag:function(Ul,Il){Il.dataTransfer.setData(rt.LO.excalidrawlib,(0,es.NI)(kr(Ul)))}})},Yr.key)},Pr=function(Yr){var _a=Yr.map(function(ao){return ao.id?Gr({item:ao,onClick:function(){return kn(kr(ao.id))},key:ao.id}):Gr({key:"__pending__item__",item:ao,onClick:function(){return cn(sn)}})}),$a=(0,ct.yo)(_a,4);return $a.length||($a=[[]]),$a.map(function(ao,Bo,$o){return Bo===$o.length-1&&(ao=ao.concat(new Array(4-ao.length).fill(null).map(function(Ul,Il){return Gr({key:"empty_".concat(Il),item:null})}))),(0,_e.jsx)(ur.Z.Row,{align:"center",className:"library-menu-items-container__row",children:ao},Bo)})},Qr=en.filter(function(Yr){return Yr.status!=="published"}),_i=en.filter(function(Yr){return Yr.status==="published"}),Hr=!(en.length||Qr.length||_i.length||sn.length);return(0,_e.jsx)("div",{className:"library-menu-items-container",style:sn.length||Qr.length||_i.length?{justifyContent:"flex-start"}:{},children:(0,_e.jsxs)(ur.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:_i.length>0?1:"0 1 auto",marginBottom:0},children:[(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{children:[(sn.length>0||Qr.length>0||_i.length>0)&&(0,_e.jsx)("div",{className:"library-menu-items-container__header",children:(0,bt.t)("labels.personalLib")}),Ft&&(0,_e.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,_e.jsx)(Yo.Z,{})})]}),sn.length||Qr.length?Pr([].concat((0,ot.Z)(sn.length?[{id:null,elements:sn}]:[]),(0,ot.Z)(Qr))):(0,_e.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,_e.jsx)("div",{className:(0,pn.Z)({"library-menu-items__no-items__label":Hr}),children:(0,bt.t)("library.noItems")}),(0,_e.jsx)("div",{className:"library-menu-items__no-items__hint",children:_i.length>0?(0,bt.t)("library.hint_emptyPrivateLibrary"):(0,bt.t)("library.hint_emptyLibrary")})]})]}),(0,_e.jsxs)(_e.Fragment,{children:[(_i.length>0||sn.length>0||Qr.length>0)&&(0,_e.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,bt.t)("labels.excalidrawLib")}),_i.length>0?Pr(_i):Qr.length>0?(0,_e.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,bt.t)("library.noItems")}):null]}),Hr&&(0,_e.jsx)(xs,{id:Ln,libraryReturnUrl:Yn,theme:Nn})]})})},Eu=_(4739),Su=_(9487),zu=_(9430),f0=_(9206),Cu=(0,bn.forwardRef)(function(nt,Ft){var en=nt.children;return(0,_e.jsx)("div",{ref:Ft,className:"layer-ui__library",children:en})}),iu=function(nt){var Ft=nt.onInsertLibraryItems,en=nt.pendingElements,cn=nt.onAddToLibrary,kn=nt.setAppState,sn=nt.libraryReturnUrl,Lt=nt.library,En=nt.id,Nn=nt.appState,Ln=nt.selectedItems,Yn=nt.onSelectItems,qn=(0,Eu.KO)(rn.rF,Su.yE),nr=(0,ht.Z)(qn,1)[0],hr=(0,bn.useCallback)(function(){var dr=(0,at.Z)(Qt().mark(function kr(Gr,Pr){var Qr;return Qt().wrap(function(_i){for(;;)switch(_i.prev=_i.next){case 0:if((0,Tt.L)("element","addToLibrary","ui"),!Gr.some(function(Hr){return Hr.type==="image"})){_i.next=3;break}return _i.abrupt("return",kn({errorMessage:"Support for adding images to the library coming soon!"}));case 3:Qr=[{status:"unpublished",elements:Gr,id:(0,p0.kb)(),created:Date.now()}].concat((0,ot.Z)(Pr)),cn(),Lt.setLibrary(Qr).catch(function(){kn({errorMessage:(0,bt.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return _i.stop()}},kr)}));return function(kr,Gr){return dr.apply(this,arguments)}}(),[cn,Lt,kn]);if(nr.status==="loading"&&!nr.isInitialized)return(0,_e.jsx)(Cu,{children:(0,_e.jsx)("div",{className:"layer-ui__library-message",children:(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Yo.Z,{size:"2em"}),(0,_e.jsx)("span",{children:(0,bt.t)("labels.libraryLoadingMessage")})]})})});var mr=nr.libraryItems.length>0||en.length>0;return(0,_e.jsxs)(Cu,{children:[(0,_e.jsx)(Hu,{isLoading:nr.status==="loading",libraryItems:nr.libraryItems,onAddToLibrary:function(dr){return hr(dr,nr.libraryItems)},onInsertLibraryItems:Ft,pendingElements:en,selectedItems:Ln,onSelectItems:Yn,id:En,libraryReturnUrl:sn,theme:Nn.theme}),mr&&(0,_e.jsx)(xs,{id:En,libraryReturnUrl:sn,theme:Nn.theme})]})},eI=function(nt){var Ft=nt.appState,en=nt.onInsertElements,cn=nt.libraryReturnUrl,kn=nt.focusContainer,sn=nt.library,Lt=nt.id,En=cu(),Nn=_d(),Ln=Sl(),Yn=(0,bn.useState)([]),qn=(0,ht.Z)(Yn,2),nr=qn[0],hr=qn[1],mr=(0,Eu.KO)(rn.rF,Su.yE),dr=(0,ht.Z)(mr,1)[0],kr=(0,bn.useRef)(null),Gr=(0,bn.useCallback)(function(){document.querySelector(".Dialog")||En({openSidebar:null})},[En]);(function(Hr,Yr){(0,bn.useEffect)(function(){var _a=function($a){Hr.current&&($a.target instanceof Element&&(Hr.current.contains($a.target)||!document.body.contains($a.target))||Yr($a))};return document.addEventListener("pointerdown",_a,!1),function(){document.removeEventListener("pointerdown",_a)}},[Hr,Yr])})(kr,(0,bn.useCallback)(function(Hr){Hr.target.closest(".ToolIcon__library")||Ft.isSidebarDocked&&Ln.canDeviceFitSidebar||Gr()},[Gr,Ft.isSidebarDocked,Ln.canDeviceFitSidebar])),(0,bn.useEffect)(function(){var Hr=function(Yr){Yr.key!==Gt.tW.ESCAPE||Ft.isSidebarDocked&&Ln.canDeviceFitSidebar||Gr()};return document.addEventListener(rt.Ks.KEYDOWN,Hr),function(){document.removeEventListener(rt.Ks.KEYDOWN,Hr)}},[Gr,Ft.isSidebarDocked,Ln.canDeviceFitSidebar]);var Pr=(0,bn.useCallback)(function(){En({selectedElementIds:{},selectedGroupIds:{}})},[En]),Qr=(0,bn.useCallback)(function(){var Hr=(0,at.Z)(Qt().mark(function Yr(_a){var $a;return Qt().wrap(function(ao){for(;;)switch(ao.prev=ao.next){case 0:$a=_a.filter(function(Bo){return!nr.includes(Bo.id)}),sn.setLibrary($a).catch(function(){En({errorMessage:(0,bt.t)("alerts.errorRemovingFromLibrary")})}),hr([]);case 3:case"end":return ao.stop()}},Yr)}));return function(Yr){return Hr.apply(this,arguments)}}(),[sn,En,nr,hr]),_i=(0,bn.useCallback)(function(){sn.resetLibrary(),kn()},[sn,kn]);return(0,_e.jsxs)(zu.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:Ft.isSidebarDocked,onDock:function(Hr){(0,Tt.L)("library","toggleLibraryDock (".concat(Hr?"dock":"undock",")"),"sidebar (".concat(Ln.isMobile?"mobile":"desktop",")"))},ref:kr,children:[(0,_e.jsx)(zu.Y.Header,{className:"layer-ui__library-header",children:(0,_e.jsx)(f0.W,{appState:Ft,setAppState:En,selectedItems:nr,onSelectItems:hr,library:sn,onRemoveFromLibrary:function(){return Qr(dr.libraryItems)},resetLibrary:_i})}),(0,_e.jsx)(iu,{pendingElements:(0,jt.eD)(Nn,Ft,!0),onInsertLibraryItems:function(Hr){en((0,rn.WV)(Hr))},onAddToLibrary:Pr,setAppState:En,libraryReturnUrl:cn,library:sn,id:Lt,appState:Ft,selectedItems:nr,onSelectItems:hr})]},"library")},pu=_(1434),Rs={};Rs.styleTagTransform=wn(),Rs.setAttributes=gr(),Rs.insert=tr().bind(null,"head"),Rs.domAPI=Tn(),Rs.insertStyleElement=ln(),Cn()(pu.Z,Rs),pu.Z&&pu.Z.locals&&pu.Z.locals;var au=_(9144),Es={};Es.styleTagTransform=wn(),Es.setAttributes=gr(),Es.insert=tr().bind(null,"head"),Es.domAPI=Tn(),Es.insertStyleElement=ln(),Cn()(au.Z,Es),au.Z&&au.Z.locals&&au.Z.locals;var B0=_(4958),tI=function(nt){return(0,_e.jsx)("button",{className:"help-icon",onClick:nt.onClick,type:"button",title:"".concat((0,bt.t)("helpDialog.title"),"  ?"),"aria-label":(0,bt.t)("helpDialog.title"),children:Rt.by})},Xu=function(nt){var Ft=nt.appState,en=nt.actionManager,cn=nt.showExitZenModeBtn,kn=nt.renderWelcomeScreen,sn=(0,br.R6)(),Lt=sn.footerCenterTunnel,En=sn.welcomeScreenHelpHintTunnel,Nn=Sl(),Ln=!Ft.viewModeEnabled&&Ft.multiElement&&Nn.isTouchScreen;return(0,_e.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,_e.jsx)("div",{className:(0,pn.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ft.zenModeEnabled}),children:(0,_e.jsx)(ur.Z.Col,{gap:2,children:(0,_e.jsxs)(Zl,{heading:"canvasActions",children:[(0,_e.jsx)($r,{renderAction:en.renderAction,zoom:Ft.zoom}),!Ft.viewModeEnabled&&(0,_e.jsx)(qr,{renderAction:en.renderAction,className:(0,pn.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Ft.zenModeEnabled})}),Ln&&(0,_e.jsx)(po,{renderAction:en.renderAction,className:(0,pn.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":Ft.zenModeEnabled})})]})})}),(0,_e.jsx)(Lt.Out,{}),(0,_e.jsx)("div",{className:(0,pn.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":Ft.zenModeEnabled}),children:(0,_e.jsxs)("div",{style:{position:"relative"},children:[kn&&(0,_e.jsx)(En.Out,{}),(0,_e.jsx)(tI,{onClick:function(){return en.executeAction(ft.jY)}})]})}),(0,_e.jsx)(Co,{actionManager:en,showExitZenModeBtn:cn})]})},ju=Xu;Xu.displayName="Footer";var Jl=_(4709),Ju=_(6798),_l=["suggestedBindings","startBoundElement","cursorButton"],_u=["canvas","onInsertElements","appState"],mu=["canvas","onInsertElements","appState"];function Pu(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}var A0=function(nt){var Ft=nt.UIOptions;return(0,_e.jsxs)(Jl.Z,{__fallback:!0,children:[(0,_e.jsx)(Jl.Z.DefaultItems.LoadScene,{}),(0,_e.jsx)(Jl.Z.DefaultItems.SaveToActiveFile,{}),Ft.canvasActions.export&&(0,_e.jsx)(Jl.Z.DefaultItems.Export,{}),Ft.canvasActions.saveAsImage&&(0,_e.jsx)(Jl.Z.DefaultItems.SaveAsImage,{}),(0,_e.jsx)(Jl.Z.DefaultItems.Help,{}),(0,_e.jsx)(Jl.Z.DefaultItems.ClearCanvas,{}),(0,_e.jsx)(Jl.Z.Separator,{}),(0,_e.jsx)(Jl.Z.Group,{title:"Excalidraw links",children:(0,_e.jsx)(Jl.Z.DefaultItems.Socials,{})}),(0,_e.jsx)(Jl.Z.Separator,{}),(0,_e.jsx)(Jl.Z.DefaultItems.ToggleTheme,{}),(0,_e.jsx)(Jl.Z.DefaultItems.ChangeCanvasBackground,{})]})},nI=function(nt){var Ft,en=nt.actionManager,cn=nt.appState,kn=nt.files,sn=nt.setAppState,Lt=nt.elements,En=nt.canvas,Nn=nt.onLockToggle,Ln=nt.onHandToolToggle,Yn=nt.onPenModeToggle,qn=nt.onInsertElements,nr=nt.showExitZenModeBtn,hr=nt.renderTopRightUI,mr=nt.renderCustomStats,dr=nt.renderCustomSidebar,kr=nt.libraryReturnUrl,Gr=nt.UIOptions,Pr=nt.focusContainer,Qr=nt.library,_i=nt.id,Hr=nt.onImageAction,Yr=nt.renderWelcomeScreen,_a=nt.children,$a=Sl(),ao=(0,br.ZC)(),Bo=function(){return Gr.canvasActions.export?(0,_e.jsx)(C0,{elements:Lt,appState:cn,files:kn,actionManager:en,exportOpts:Gr.canvasActions.export,canvas:En,setAppState:sn}):null},$o=function(){if(!Gr.canvasActions.saveAsImage)return null;var Sn=function(zo){return function(){var jo=(0,at.Z)(Qt().mark(function Wo(Wr){var Uo;return Qt().wrap(function(Gl){for(;;)switch(Gl.prev=Gl.next){case 0:return(0,Tt.L)("export",zo,"ui"),Gl.next=3,(0,In.p1)(zo,Wr,cn,kn,{exportBackground:cn.exportBackground,name:cn.name,viewBackgroundColor:cn.viewBackgroundColor}).catch(ct.FG).catch(function(Ns){console.error(Ns),sn({errorMessage:Ns.message})});case 3:Uo=Gl.sent,cn.exportEmbedScene&&Uo&&(0,Ir.g8)(Uo)&&sn({fileHandle:Uo});case 5:case"end":return Gl.stop()}},Wo)}));return function(Wo){return jo.apply(this,arguments)}}()};return(0,_e.jsx)(Zo,{elements:Lt,appState:cn,setAppState:sn,files:kn,actionManager:en,onExportToPng:Sn("png"),onExportToSvg:Sn("svg"),onExportToClipboard:Sn("clipboard")})},Ul=function(){return cn.openSidebar==="customSidebar"?(dr==null?void 0:dr())||null:cn.openSidebar==="library"?(0,_e.jsx)(eI,{appState:cn,onInsertElements:qn,libraryReturnUrl:kr,focusContainer:Pr,library:Qr,id:_i}):null},Il=(0,Eu.KO)(zu.b,Su.yE),Vo=(0,ht.Z)(Il,1)[0],Wl=(0,_e.jsxs)(_e.Fragment,{children:[_a,(0,_e.jsx)(A0,{UIOptions:Gr}),cn.isLoading&&(0,_e.jsx)(Vl.z,{delay:250}),cn.errorMessage&&(0,_e.jsx)(lr,{onClose:function(){return sn({errorMessage:null})},children:cn.errorMessage}),cn.openDialog==="help"&&(0,_e.jsx)(Fl,{onClose:function(){sn({openDialog:null})}}),(0,_e.jsx)(Ju.o,{}),$o(),Bo(),cn.pasteDialog.shown&&(0,_e.jsx)(jr,{setAppState:sn,appState:cn,onInsertChart:qn,onClose:function(){return sn({pasteDialog:{shown:!1,data:null}})}}),$a.isMobile&&(0,_e.jsx)(Tr,{appState:cn,elements:Lt,actionManager:en,renderJSONExportDialog:Bo,renderImageExportDialog:$o,setAppState:sn,onLockToggle:Nn,onHandToolToggle:Ln,onPenModeToggle:Yn,canvas:En,onImageAction:Hr,renderTopRightUI:hr,renderCustomStats:mr,renderSidebars:Ul,device:$a,renderWelcomeScreen:Yr}),!$a.isMobile&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsxs)("div",{className:(0,pn.Z)("layer-ui__wrapper",{"disable-pointerEvents":cn.draggingElement||cn.resizingElement||cn.editingElement&&!(0,Et.iB)(cn.editingElement)}),style:(cn.openSidebar==="library"&&cn.isSidebarDocked||Vo.docked)&&$a.canDeviceFitSidebar?{width:"calc(100% - ".concat(rt.EE,"px)")}:{},children:[Yr&&(0,_e.jsx)(ao.welcomeScreenCenterTunnel.Out,{}),(Ft=(0,Et.RT)(cn,Lt),(0,_e.jsx)(Bl,{side:"top",children:(0,_e.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,_e.jsxs)(ur.Z.Col,{gap:6,className:(0,pn.Z)("App-menu_top__left",{"disable-pointerEvents":cn.zenModeEnabled}),children:[(0,_e.jsxs)("div",{style:{position:"relative"},children:[(0,_e.jsx)(ao.mainMenuTunnel.Out,{}),Yr&&(0,_e.jsx)(ao.welcomeScreenMenuHintTunnel.Out,{})]}),Ft&&(0,_e.jsx)(Zl,{heading:"selectedShapeActions",className:(0,pn.Z)("selected-shape-actions zen-mode-transition",{"transition-left":cn.zenModeEnabled}),children:(0,_e.jsx)(Lo.W,{className:rt.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(cn.height-166,"px")},children:(0,_e.jsx)(oo,{appState:cn,elements:Lt,renderAction:en.renderAction})})})]}),!cn.viewModeEnabled&&(0,_e.jsx)(Zl,{heading:"shapes",className:"shapes-section",children:function(Sn){return(0,_e.jsxs)("div",{style:{position:"relative"},children:[Yr&&(0,_e.jsx)(ao.welcomeScreenToolbarHintTunnel.Out,{}),(0,_e.jsx)(ur.Z.Col,{gap:4,align:"start",children:(0,_e.jsx)(ur.Z.Row,{gap:1,className:(0,pn.Z)("App-toolbar-container",{"zen-mode":cn.zenModeEnabled}),children:(0,_e.jsxs)(Lo.W,{padding:1,className:(0,pn.Z)("App-toolbar",{"zen-mode":cn.zenModeEnabled}),children:[(0,_e.jsx)(Qo,{appState:cn,elements:Lt,isMobile:$a.isMobile,device:$a}),Sn,(0,_e.jsxs)(ur.Z.Row,{gap:1,children:[(0,_e.jsx)(Ms,{zenModeEnabled:cn.zenModeEnabled,checked:cn.penMode,onChange:Yn,title:(0,bt.t)("toolBar.penMode"),penDetected:cn.penDetected}),(0,_e.jsx)(Ll,{checked:cn.activeTool.locked,onChange:Nn,title:(0,bt.t)("toolBar.lock")}),(0,_e.jsx)("div",{className:"App-toolbar__divider"}),(0,_e.jsx)(Hn,{checked:(0,Wt.l$)(cn),onChange:function(){return Ln()},title:(0,bt.t)("toolBar.hand"),isMobile:!0}),(0,_e.jsx)(lo,{appState:cn,canvas:En,activeTool:cn.activeTool,setAppState:sn,onImageAction:function(zo){var jo=zo.pointerType;Hr({insertOnCanvasDirectly:jo!=="mouse"})}})]})]})})})]})}}),(0,_e.jsxs)("div",{className:(0,pn.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":cn.zenModeEnabled}),children:[(0,_e.jsx)(Ro.Z,{collaborators:cn.collaborators}),hr==null?void 0:hr($a.isMobile,cn),!cn.viewModeEnabled&&(0,_e.jsx)(Us,{appState:cn,setAppState:sn})]})]})})),(0,_e.jsx)(ju,{appState:cn,actionManager:en,showExitZenModeBtn:nr,renderWelcomeScreen:Yr}),cn.showStats&&(0,_e.jsx)(On,{appState:cn,setAppState:sn,elements:Lt,onClose:function(){en.executeAction(B0.u)},renderCustomStats:mr}),cn.scrolledOutside&&(0,_e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){sn(function(Sn){for(var zo=1;zo<arguments.length;zo++){var jo=arguments[zo]!=null?arguments[zo]:{};zo%2?Pu(Object(jo),!0).forEach(function(Wo){(0,an.Z)(Sn,Wo,jo[Wo])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(jo)):Pu(Object(jo)).forEach(function(Wo){Object.defineProperty(Sn,Wo,Object.getOwnPropertyDescriptor(jo,Wo))})}return Sn}({},(0,jt.W)(Lt,cn,En)))},children:(0,bt.t)("buttons.scrollBackToContent")})]}),Ul()]})]});return(0,_e.jsx)(Eu.zt,{scope:ao.jotaiScope,children:(0,_e.jsx)(br.A3.Provider,{value:ao,children:Wl})})},y0=function(nt){return nt.suggestedBindings,nt.startBoundElement,nt.cursorButton,(0,or.Z)(nt,_l)},rI=function(nt,Ft){if(nt.children!==Ft.children)return!1;nt.canvas,nt.onInsertElements;var en=nt.appState,cn=(0,or.Z)(nt,_u),kn=(Ft.canvas,Ft.onInsertElements,Ft.appState),sn=(0,or.Z)(Ft,mu);return(0,ct.w8)(y0(en),y0(kn))&&(0,ct.w8)(cn,sn)},iI=fn().memo(nI,rI),Zu=_(9650),ls={};ls.styleTagTransform=wn(),ls.setAttributes=gr(),ls.insert=tr().bind(null,"head"),ls.domAPI=Tn(),ls.insertStyleElement=ln(),Cn()(Zu.Z,ls),Zu.Z&&Zu.Z.locals&&Zu.Z.locals;var aI=function(nt){var Ft=nt.message,en=nt.onClose,cn=nt.closable,kn=cn!==void 0&&cn,sn=nt.duration,Lt=sn===void 0?5e3:sn,En=(0,bn.useRef)(0),Nn=Lt!==1/0,Ln=(0,bn.useCallback)(function(){Nn&&(En.current=window.setTimeout(function(){return en()},Lt))},[en,Lt,Nn]);(0,bn.useEffect)(function(){if(Nn)return Ln(),function(){return clearTimeout(En.current)}},[Ln,Ft,Lt,Nn]);var Yn=Nn?function(){return clearTimeout(En==null?void 0:En.current)}:void 0,qn=Nn?Ln:void 0;return(0,_e.jsxs)("div",{className:"Toast",onMouseEnter:Yn,onMouseLeave:qn,children:[(0,_e.jsx)("p",{className:"Toast__message",children:Ft}),kn&&(0,_e.jsx)(Bt.V,{icon:Rt.Tw,"aria-label":"close",type:"icon",onClick:en,className:"close"})]})};function x0(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function Nu(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?x0(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):x0(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}var Ku=(0,$t.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(nt){return!nt.viewModeEnabled}},perform:function(nt,Ft){return{appState:Nu(Nu({},Ft),{},{viewModeEnabled:!this.checked(Ft)}),commitToHistory:!1}},checked:function(nt){return nt.viewModeEnabled},predicate:function(nt,Ft,en){return en.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(nt){return!nt[Gt.tW.CTRL_OR_CMD]&&nt.altKey&&nt.code===Gt.aU.R}}),cs=_(5637),ku=_(200),oI=_.n(ku),Q0=_(2325),Ss=_(4929),ou=_(267);function ts(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}var qu=(0,xt.Z)(function nt(Ft){var en=this,cn=Ft.scene,kn=Ft.onSceneUpdated;(0,gt.Z)(this,nt),this.onFontsLoaded=function(sn){if(sn.every(function(En){var Nn="".concat(En.family,"-").concat(En.style,"-").concat(En.weight);return!!nt.loadedFontFaces.has(Nn)||(nt.loadedFontFaces.add(Nn),!1)}))return!1;var Lt=!1;en.scene.mapElements(function(En){return(0,Et.iB)(En)?((0,hn.bI)(En),Lt=!0,(0,yt.BE)(En,function(Nn){for(var Ln=1;Ln<arguments.length;Ln++){var Yn=arguments[Ln]!=null?arguments[Ln]:{};Ln%2?ts(Object(Yn),!0).forEach(function(qn){(0,an.Z)(Nn,qn,Yn[qn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nn,Object.getOwnPropertyDescriptors(Yn)):ts(Object(Yn)).forEach(function(qn){Object.defineProperty(Nn,qn,Object.getOwnPropertyDescriptor(Yn,qn))})}return Nn}({},(0,Et.JZ)(En)))):En}),Lt&&en.onSceneUpdated()},this.loadFontsForElements=function(){var sn=(0,at.Z)(Qt().mark(function Lt(En){var Nn;return Qt().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:return Ln.next=2,Promise.all((0,ot.Z)(new Set(En.filter(function(Yn){return(0,Et.iB)(Yn)}).map(function(Yn){return Yn.fontFamily}))).map(function(Yn){var qn,nr,hr,mr,dr=(0,ct.mO)({fontFamily:Yn,fontSize:16});if((qn=document.fonts)===null||qn===void 0||(nr=qn.check)===null||nr===void 0||!nr.call(qn,dr))return(hr=document.fonts)===null||hr===void 0||(mr=hr.load)===null||mr===void 0?void 0:mr.call(hr,dr)}));case 2:Nn=Ln.sent,en.onFontsLoaded(Nn.flat().filter(Boolean));case 4:case"end":return Ln.stop()}},Lt)}));return function(Lt){return sn.apply(this,arguments)}}(),this.scene=cn,this.onSceneUpdated=kn});qu.loadedFontFaces=new Set;var F0=_(4688),v0=_(2416),lI=_(202),cI=function(){return(0,_e.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,_e.jsxs)("p",{children:[(0,bt.t)("errors.brave_measure_text_error.start")," ",(0,_e.jsx)("span",{style:{fontWeight:600},children:(0,bt.t)("errors.brave_measure_text_error.aggressive_block_fingerprint")})," ",(0,bt.t)("errors.brave_measure_text_error.setting_enabled"),".",(0,_e.jsx)("br",{}),(0,_e.jsx)("br",{}),(0,bt.t)("errors.brave_measure_text_error.break")," ",(0,_e.jsx)("span",{style:{fontWeight:600},children:(0,bt.t)("errors.brave_measure_text_error.text_elements")})," ",(0,bt.t)("errors.brave_measure_text_error.in_your_drawings"),"."]}),(0,_e.jsxs)("p",{children:[(0,bt.t)("errors.brave_measure_text_error.strongly_recommend")," ",(0,_e.jsxs)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:[" ",(0,bt.t)("errors.brave_measure_text_error.steps")]})," ",(0,bt.t)("errors.brave_measure_text_error.how"),"."]}),(0,_e.jsxs)("p",{children:[(0,bt.t)("errors.brave_measure_text_error.disable_setting")," ",(0,_e.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:(0,bt.t)("errors.brave_measure_text_error.issue")})," ",(0,bt.t)("errors.brave_measure_text_error.write")," ",(0,_e.jsx)("a",{href:"https://discord.gg/UexuTaE",children:(0,bt.t)("errors.brave_measure_text_error.discord")}),"."]})]})};function U0(nt,Ft){var en=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!en){if(Array.isArray(nt)||(en=function(Nn,Ln){if(Nn){if(typeof Nn=="string")return Ys(Nn,Ln);var Yn=Object.prototype.toString.call(Nn).slice(8,-1);if(Yn==="Object"&&Nn.constructor&&(Yn=Nn.constructor.name),Yn==="Map"||Yn==="Set")return Array.from(Nn);if(Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn))return Ys(Nn,Ln)}}(nt))||Ft&&nt&&typeof nt.length=="number"){en&&(nt=en);var cn=0,kn=function(){};return{s:kn,n:function(){return cn>=nt.length?{done:!0}:{done:!1,value:nt[cn++]}},e:function(Nn){throw Nn},f:kn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,Lt=!0,En=!1;return{s:function(){en=en.call(nt)},n:function(){var Nn=en.next();return Lt=Nn.done,Nn},e:function(Nn){En=!0,sn=Nn},f:function(){try{Lt||en.return==null||en.return()}finally{if(En)throw sn}}}}function Ys(nt,Ft){(Ft==null||Ft>nt.length)&&(Ft=nt.length);for(var en=0,cn=new Array(Ft);en<Ft;en++)cn[en]=nt[en];return cn}function ar(nt){var Ft=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var en,cn=(0,Ot.Z)(nt);if(Ft){var kn=(0,Ot.Z)(this).constructor;en=Reflect.construct(cn,arguments,kn)}else en=cn.apply(this,arguments);return(0,kt.Z)(this,en)}}function Br(nt,Ft){var en=Object.keys(nt);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(nt);Ft&&(cn=cn.filter(function(kn){return Object.getOwnPropertyDescriptor(nt,kn).enumerable})),en.push.apply(en,cn)}return en}function _n(nt){for(var Ft=1;Ft<arguments.length;Ft++){var en=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Br(Object(en),!0).forEach(function(cn){(0,an.Z)(nt,cn,en[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(en)):Br(Object(en)).forEach(function(cn){Object.defineProperty(nt,cn,Object.getOwnPropertyDescriptor(en,cn))})}return nt}var Jr={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},bo=fn().createContext(Jr);bo.displayName="DeviceContext";var wo=fn().createContext({container:null,id:null});wo.displayName="ExcalidrawContainerContext";var qo=fn().createContext([]);qo.displayName="ExcalidrawElementsContext";var Do=fn().createContext(_n(_n({},(0,Wt.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Do.displayName="ExcalidrawAppStateContext";var fu=fn().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});fu.displayName="ExcalidrawSetAppStateContext";var $u=fn().createContext(null);$u.displayName="ExcalidrawActionManagerContext";var Sl=function(){return(0,bn.useContext)(bo)},lu=function(){return(0,bn.useContext)(wo)},_d=function(){return(0,bn.useContext)(qo)},Ls=function(){return(0,bn.useContext)(Do)},cu=function(){return(0,bn.useContext)(fu)},Tu=function(){return(0,bn.useContext)($u)},Eo=!1,e0=0,Xs=0,Cs=0,Hs=!1,Bu=!1,t0=!1,su={horizontal:null,vertical:null},Ol=0,Zs=!1,Au=!0,gu=!1,n0=0,r0=!1,ss=null,So={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},zs=function(nt){(0,it.Z)(kn,nt);var Ft,en,cn=ar(kn);function kn(sn){var Lt;(0,gt.Z)(this,kn),Lt=cn.call(this,sn),js.call((0,vt.Z)(Lt));var En,Nn=(0,Wt.im)(),Ln=sn.excalidrawRef,Yn=sn.viewModeEnabled,qn=Yn!==void 0&&Yn,nr=sn.zenModeEnabled,hr=nr!==void 0&&nr,mr=sn.gridModeEnabled,dr=mr!==void 0&&mr,kr=sn.theme,Gr=kr===void 0?Nn.theme:kr,Pr=sn.name,Qr=Pr===void 0?Nn.name:Pr;if(Lt.state=_n(_n(_n({},Nn),{},{theme:Gr,isLoading:!0},Lt.getCanvasOffsets()),{},{viewModeEnabled:qn,zenModeEnabled:hr,gridSize:dr?rt.k:null,name:Qr,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),Lt.id=(0,An.x0)(),Lt.library=new rn.ZP((0,vt.Z)(Lt)),Ln){var _i,Hr="current"in Ln&&((_i=Ln.current)===null||_i===void 0?void 0:_i.readyPromise)||(0,ct.PI)(),Yr={ready:!0,readyPromise:Hr,updateScene:Lt.updateScene,updateLibrary:Lt.library.updateLibrary,addFiles:Lt.addFiles,resetScene:Lt.resetScene,getSceneElementsIncludingDeleted:Lt.getSceneElementsIncludingDeleted,history:{clear:Lt.resetHistory},scrollToContent:Lt.scrollToContent,getSceneElements:Lt.getSceneElements,getAppState:function(){return Lt.state},getFiles:function(){return Lt.files},refresh:Lt.refresh,setToast:Lt.setToast,id:Lt.id,setActiveTool:Lt.setActiveTool,setCursor:Lt.setCursor,resetCursor:Lt.resetCursor,toggleMenu:Lt.toggleMenu};typeof Ln=="function"?Ln(Yr):Ln.current=Yr,Hr.resolve(Yr)}return Lt.excalidrawContainerValue={container:Lt.excalidrawContainerRef.current,id:Lt.id},Lt.scene=new vn.Z,Lt.fonts=new qu({scene:Lt.scene,onSceneUpdated:Lt.onSceneUpdated}),Lt.history=new Jt,Lt.actionManager=new Nt(Lt.syncActionResult,function(){return Lt.state},function(){return Lt.scene.getElementsIncludingDeleted()},(0,vt.Z)(Lt)),Lt.actionManager.registerAll($t.N),Lt.actionManager.registerAction((En=Lt.history,{name:"undo",trackEvent:{category:"history"},perform:function(_a,$a){return It(_a,$a,function(){return En.undoOnce()})},keyTest:function(_a){return _a[Gt.tW.CTRL_OR_CMD]&&_a.key.toLowerCase()===Gt.tW.Z&&!_a.shiftKey},PanelComponent:function(_a){var $a=_a.updateData,ao=_a.data;return(0,_e.jsx)(Bt.V,{type:"button",icon:Rt.UE,"aria-label":(0,bt.t)("buttons.undo"),onClick:$a,size:(ao==null?void 0:ao.size)||"medium"})},commitToHistory:function(){return!1}})),Lt.actionManager.registerAction(function(_a){return{name:"redo",trackEvent:{category:"history"},perform:function($a,ao){return It($a,ao,function(){return _a.redoOnce()})},keyTest:function($a){return $a[Gt.tW.CTRL_OR_CMD]&&$a.shiftKey&&$a.key.toLowerCase()===Gt.tW.Z||rt.ED&&$a.ctrlKey&&!$a.shiftKey&&$a.key===Gt.tW.Y},PanelComponent:function($a){var ao=$a.updateData,Bo=$a.data;return(0,_e.jsx)(Bt.V,{type:"button",icon:Rt.zG,"aria-label":(0,bt.t)("buttons.redo"),onClick:ao,size:(Bo==null?void 0:Bo.size)||"medium"})},commitToHistory:function(){return!1}}}(Lt.history)),Lt}return(0,xt.Z)(kn,[{key:"renderCanvas",value:function(){var sn=window.devicePixelRatio,Lt=this.state,En=Lt.width,Nn=Lt.height,Ln=En*sn,Yn=Nn*sn;return Lt.viewModeEnabled?(0,_e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:En,height:Nn,cursor:rt.oc.GRAB},width:Ln,height:Yn,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,bt.t)("labels.drawingCanvas")}):(0,_e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:En,height:Nn},width:Ln,height:Yn,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,bt.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var sn,Lt=this,En=(0,jt.eD)(this.scene.getNonDeletedElements(),this.state),Nn=this.props,Ln=Nn.renderTopRightUI,Yn=Nn.renderCustomStats;return(0,_e.jsx)("div",{className:(0,pn.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,_e.jsx)(wo.Provider,{value:this.excalidrawContainerValue,children:(0,_e.jsx)(bo.Provider,{value:this.device,children:(0,_e.jsx)(fu.Provider,{value:this.setAppState,children:(0,_e.jsxs)(Do.Provider,{value:this.state,children:[(0,_e.jsx)(qo.Provider,{value:this.scene.getNonDeletedElements(),children:(0,_e.jsxs)($u.Provider,{value:this.actionManager,children:[(0,_e.jsx)(iI,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(qn){return Lt.addElementsFromPasteOrLibrary({elements:qn,position:"center",files:null})},langCode:(0,bt.G3)().code,renderTopRightUI:Ln,renderCustomStats:Yn,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:((sn=this.props)===null||sn===void 0?void 0:sn.zenModeEnabled)===void 0&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,_e.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,_e.jsx)("div",{className:"excalidraw-contextMenuContainer"}),En.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,_e.jsx)(Ss.nW,{element:En[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},En[0].id),this.state.toast!==null&&(0,_e.jsx)(aI,{message:this.state.toast.message,onClose:function(){return Lt.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,_e.jsx)(cr,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,_e.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(en=(0,at.Z)(Qt().mark(function sn(){var Lt,En,Nn,Ln,Yn,qn,nr=this;return Qt().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,rt.Vi.TEST!=="production"&&rt.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return nr.state}},setState:{configurable:!0,value:function(){return nr.setState.apply(nr,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(Lt=this.excalidrawContainerRef)!==null&&Lt!==void 0&&Lt.current?(this.resizeObserver=new ResizeObserver(function(){Au=!1,nr.refreshDeviceState(nr.excalidrawContainerRef.current),nr.updateDOMRect()}),(En=this.resizeObserver)===null||En===void 0||En.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(Nn=window.matchMedia("(max-width: ".concat(rt.kV,"px), (max-height: ").concat(rt.Yx,"px) and (max-width: ").concat(rt.sS,"px)")),Ln=window.matchMedia("(max-width: ".concat(rt.eF,"px)")),Yn=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:rt.sk,"px)")),qn=function(){nr.excalidrawContainerRef.current.getBoundingClientRect(),nr.device=(0,ct.v4)(nr.device,{isSmScreen:Ln.matches,isMobile:Nn.matches,canDeviceFitSidebar:Yn.matches})},Nn.addListener(qn),this.detachIsMobileMqHandler=function(){return Nn.removeListener(qn)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,rt.jP)()&&!(0,pr.eB)()&&this.setState({errorMessage:(0,_e.jsx)(cI,{})});case 11:case"end":return hr.stop()}},sn,this)})),function(){return en.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var sn;this.files={},this.imageCache.clear(),(sn=this.resizeObserver)===null||sn===void 0||sn.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Ol),Ol=0}},{key:"removeEventListeners",value:function(){var sn,Lt,En,Nn,Ln;document.removeEventListener(rt.Ks.POINTER_UP,this.removePointer),document.removeEventListener(rt.Ks.COPY,this.onCopy),document.removeEventListener(rt.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(rt.Ks.CUT,this.onCut),(sn=this.excalidrawContainerRef.current)===null||sn===void 0||sn.removeEventListener(rt.Ks.WHEEL,this.onWheel),(Lt=this.nearestScrollableContainer)===null||Lt===void 0||Lt.removeEventListener(rt.Ks.SCROLL,this.onScroll),document.removeEventListener(rt.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(rt.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(rt.Ks.KEYUP,this.onKeyUp),window.removeEventListener(rt.Ks.RESIZE,this.onResize,!1),window.removeEventListener(rt.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(rt.Ks.BLUR,this.onBlur,!1),(En=this.excalidrawContainerRef.current)===null||En===void 0||En.removeEventListener(rt.Ks.DRAG_OVER,this.disableEvent,!1),(Nn=this.excalidrawContainerRef.current)===null||Nn===void 0||Nn.removeEventListener(rt.Ks.DROP,this.disableEvent,!1),document.removeEventListener(rt.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(rt.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(rt.Ks.GESTURE_END,this.onGestureEnd,!1),(Ln=this.detachIsMobileMqHandler)===null||Ln===void 0||Ln.call(this)}},{key:"addEventListeners",value:function(){var sn,Lt,En,Nn,Ln,Yn=this;this.removeEventListeners(),document.addEventListener(rt.Ks.POINTER_UP,this.removePointer),document.addEventListener(rt.Ks.COPY,this.onCopy),(sn=this.excalidrawContainerRef.current)===null||sn===void 0||sn.addEventListener(rt.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(rt.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(rt.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(rt.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(Lt=document.fonts)===null||Lt===void 0||(En=Lt.addEventListener)===null||En===void 0||En.call(Lt,"loadingdone",function(qn){var nr=qn.fontfaces;Yn.fonts.onFontsLoaded(nr)}),document.addEventListener(rt.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(rt.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(rt.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(rt.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(rt.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,ct.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(rt.Ks.SCROLL,this.onScroll)),window.addEventListener(rt.Ks.RESIZE,this.onResize,!1),window.addEventListener(rt.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(rt.Ks.BLUR,this.onBlur,!1),(Nn=this.excalidrawContainerRef.current)===null||Nn===void 0||Nn.addEventListener(rt.Ks.DRAG_OVER,this.disableEvent,!1),(Ln=this.excalidrawContainerRef.current)===null||Ln===void 0||Ln.addEventListener(rt.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(sn,Lt){var En,Nn,Ln,Yn=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&sn.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(Lt.scrollX!==this.state.scrollX||Lt.scrollY!==this.state.scrollY)&&((Nn=this.props)===null||Nn===void 0||(Ln=Nn.onScrollChange)===null||Ln===void 0||Ln.call(Nn,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,Wt.EN)(this.state)&&this.setState({activeTool:(0,ct.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&Lt.theme!==this.state.theme&&(0,ct.OF)(this.canvas,this.state.theme),Lt.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),sn.langCode!==this.props.langCode&&this.updateLanguage(),sn.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),Lt.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),sn.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),sn.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),sn.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?rt.k:null}),this.props.name&&sn.name!==this.props.name&&this.setState({name:this.props.name}),(En=this.excalidrawContainerRef.current)===null||En===void 0||En.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Yn.state.editingLinearElement&&Yn.actionManager.executeAction(ft.pL)}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var qn,nr,hr=Lt.multiElement;Lt.activeTool!==this.state.activeTool&&hr!=null&&(0,Ct.N1)(this.state)&&(0,qt.Mn)(hr,!1)&&(0,Ct.R)(hr,this.state,this.scene,(0,ct.AK)(Vt._.getPointAtIndexGlobalCoordinates(hr,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(qn=(nr=this.props).onChange)===null||qn===void 0||qn.call(nr,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(sn){var Lt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],En=(0,ct.dE)({clientX:Xs,clientY:Cs},this.state),Nn=En.x,Ln=En.y,Yn={x:Nn,y:Ln,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:sn,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:rt.hs,locked:!1},qn=10,nr=Ln,hr=Lt?[sn]:sn.split(`
`),mr=hr.reduce(function(dr,kr,Gr){var Pr=kr.trim(),Qr=(0,pr.PT)(Yn.fontFamily);if(Pr.length){var _i=(0,Et.VL)(_n(_n({},Yn),{},{x:Nn,y:nr,text:Pr,lineHeight:Qr}));dr.push(_i),nr+=_i.height+qn}else{var Hr;!((Hr=hr[Gr-1])===null||Hr===void 0)&&Hr.trim()&&(nr+=(0,pr.Rg)(Yn.fontSize,Qr)+qn)}return dr},[]);mr.length!==0&&(this.scene.replaceAllElements([].concat((0,ot.Z)(this.scene.getElementsIncludingDeleted()),(0,ot.Z)(mr))),this.setState({selectedElementIds:Object.fromEntries(mr.map(function(dr){return[dr.id,!0]}))}),!Lt&&mr.length>1&&r0===!1&&!this.device.isMobile&&(this.setToast({message:(0,bt.t)("toast.pasteAsSingleElement",{shortcut:(0,ct.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),r0=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(sn,Lt){var En=this,Nn=Lt.isExistingElement,Ln=Nn!==void 0&&Nn,Yn=function(qn,nr,hr){En.scene.replaceAllElements((0,ot.Z)(En.scene.getElementsIncludingDeleted().map(function(mr){return mr.id===sn.id&&(0,Et.iB)(mr)?(0,Et.N_)(mr,{text:qn,isDeleted:hr,originalText:nr}):mr})))};(0,Et.b_)({id:sn.id,canvas:this.canvas,getViewportCoords:function(qn,nr){var hr=(0,ct._i)({sceneX:qn,sceneY:nr},En.state),mr=hr.x,dr=hr.y;return[mr-En.state.offsetLeft,dr-En.state.offsetTop]},onChange:(0,ct.tH)(function(qn){Yn(qn,qn,!1),(0,Et.qP)(sn)&&(0,Ct.Ww)(sn)}),onSubmit:(0,ct.tH)(function(qn){var nr=qn.text,hr=qn.viaKeyboard,mr=qn.originalText,dr=!nr.trim();if(Yn(nr,mr,dr),!dr&&hr){var kr=sn.containerId?sn.containerId:sn.id;En.setState(function(Gr){return{selectedElementIds:_n(_n({},Gr.selectedElementIds),{},(0,an.Z)({},kr,!0))}})}dr&&(0,Ct.$q)(En.scene.getNonDeletedElements(),[sn]),dr&&!Ln||En.history.resumeRecording(),En.setState({draggingElement:null,editingElement:null}),En.state.activeTool.locked&&(0,ct.Uk)(En.canvas,En.state),En.focusContainer()}),element:sn,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Yn(sn.text,sn.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(sn,Lt){var En=this.getElementAtPosition(sn,Lt,{includeBoundTextElement:!0});return En&&(0,Et.iB)(En)&&!En.isDeleted?En:null}},{key:"getElementAtPosition",value:function(sn,Lt,En){var Nn=this.getElementsAtPosition(sn,Lt,En==null?void 0:En.includeBoundTextElement,En==null?void 0:En.includeLockedElements);if(Nn.length>1){if(En!=null&&En.preferSelected){for(var Ln=Nn.length-1;Ln>-1;Ln--)if(this.state.selectedElementIds[Nn[Ln].id])return Nn[Ln]}var Yn=Nn[Nn.length-1];return(0,Et.wB)(Yn,this.state,sn,Lt)?Nn[Nn.length-2]:Yn}return Nn.length===1?Nn[0]:null}},{key:"getElementsAtPosition",value:function(sn,Lt){var En=this,Nn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ln=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Yn=Nn&&Ln?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(qn){return(Ln||!qn.locked)&&(Nn||!((0,Et.iB)(qn)&&qn.containerId))});return(0,jt.CJ)(Yn,function(qn){return(0,Et.wX)(qn,En.state,sn,Lt)})}},{key:"handleHoverSelectedLinearElement",value:function(sn,Lt,En){var Nn=Vt._.getElement(sn.elementId),Ln=(0,pr.WJ)(Nn);if(Nn)if(this.state.selectedLinearElement){var Yn=-1,qn=null;(0,Q0.Qu)(Nn,this.state,[Lt,En])?(Yn=Vt._.getPointIndexUnderCursor(Nn,this.state.zoom,Lt,En),qn=Vt._.getSegmentMidpointHitCoords(sn,{x:Lt,y:En},this.state),Yn>=0||qn?(0,ct.KJ)(this.canvas,rt.oc.POINTER):(0,ct.KJ)(this.canvas,rt.oc.MOVE)):((0,ou.oY)([Nn],this.state)&&(0,Et.wB)(Nn,this.state,Lt,En)||Ln&&(0,Et.wX)(Ln,this.state,Lt,En))&&(0,ct.KJ)(this.canvas,rt.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Yn&&this.setState({selectedLinearElement:_n(_n({},this.state.selectedLinearElement),{},{hoverPointIndex:Yn})}),Vt._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,qn)||this.setState({selectedLinearElement:_n(_n({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:qn})})}else(0,ct.KJ)(this.canvas,rt.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(sn){ss!==null&&ss(sn)}},{key:"updateGestureOnPointerDown",value:function(sn){So.pointers.set(sn.pointerId,{x:sn.clientX,y:sn.clientY}),So.pointers.size===2&&(So.lastCenter=dn(So.pointers),So.initialScale=this.state.zoom.value,So.initialDistance=Yt(Array.from(So.pointers.values())))}},{key:"initialPointerDownState",value:function(sn){var Lt=(0,ct.dE)(sn,this.state),En=(0,jt.eD)(this.scene.getNonDeletedElements(),this.state),Nn=(0,Et.KP)(En),Ln=(0,ht.Z)(Nn,4),Yn=Ln[0],qn=Ln[1],nr=Ln[2],hr=Ln[3];return{origin:Lt,withCmdOrCtrl:sn[Gt.tW.CTRL_OR_CMD],originInGrid:(0,ct.AK)((0,Mt.wC)(Lt.x,Lt.y,this.state.gridSize)),scrollbars:(0,jt._4)(su,sn.clientX-this.state.offsetLeft,sn.clientY-this.state.offsetTop),lastCoords:_n({},Lt),originalElements:this.scene.getNonDeletedElements().reduce(function(mr,dr){return mr.set(dr.id,(0,Pt.OL)(dr)),mr},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(nr+Yn)/2,y:(hr+qn)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(Lt,En)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(sn,Lt){var En=this;if(!Lt.scrollbars.isOverEither||this.state.multiElement)return!1;t0=!0,Lt.lastCoords.x=sn.clientX,Lt.lastCoords.y=sn.clientY;var Nn=(0,ct.$9)(function(Yn){Yn.target instanceof HTMLElement&&En.handlePointerMoveOverScrollbars(Yn,Lt)}),Ln=(0,ct.tH)(function(){t0=!1,(0,ct.Uk)(En.canvas,En.state),ss=null,En.setState({cursorButton:"up"}),En.savePointer(sn.clientX,sn.clientY,"up"),window.removeEventListener(rt.Ks.POINTER_MOVE,Nn),window.removeEventListener(rt.Ks.POINTER_UP,Ln),Nn.flush()});return ss=Ln,window.addEventListener(rt.Ks.POINTER_MOVE,Nn),window.addEventListener(rt.Ks.POINTER_UP,Ln),!0}},{key:"isASelectedElement",value:function(sn){return sn!=null&&this.state.selectedElementIds[sn.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(sn,Lt){if(Lt.length<2)return!1;var En=10/this.state.zoom.value,Nn=(0,Et.KP)(Lt),Ln=(0,ht.Z)(Nn,4),Yn=Ln[0],qn=Ln[1],nr=Ln[2],hr=Ln[3];return sn.x>Yn-En&&sn.x<nr+En&&sn.y>qn-En&&sn.y<hr+En}},{key:"onKeyDownFromPointerDownHandler",value:function(sn){var Lt=this;return(0,ct.tH)(function(En){Lt.maybeHandleResize(sn,En)||Lt.maybeDragNewGenericElement(sn,En)})}},{key:"onKeyUpFromPointerDownHandler",value:function(sn){var Lt=this;return(0,ct.tH)(function(En){En.key===Gt.tW.ALT&&En.preventDefault(),Lt.maybeHandleResize(sn,En)||Lt.maybeDragNewGenericElement(sn,En)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(sn){var Lt=this;return(0,ct.$9)(function(En){var Nn;if(sn.drag.offset===null&&(sn.drag.offset=(0,ct.AK)((0,Et.$V)((0,jt.eD)(Lt.scene.getNonDeletedElements(),Lt.state),sn.origin.x,sn.origin.y))),En.target instanceof HTMLElement&&!Lt.handlePointerMoveOverScrollbars(En,sn)){var Ln=(0,ct.dE)(En,Lt.state);if((0,Wt.EN)(Lt.state))Lt.handleEraser(En,sn,Ln);else{var Yn=(0,Mt.wC)(Ln.x,Ln.y,Lt.state.gridSize),qn=(0,ht.Z)(Yn,2),nr=qn[0],hr=qn[1];if(sn.drag.hasOccurred||Lt.state.activeTool.type!=="arrow"&&Lt.state.activeTool.type!=="line"||!((0,Mt.LW)(Ln.x,Ln.y,sn.origin.x,sn.origin.y)<rt.f)){if(sn.resize.isResizing&&(sn.lastCoords.x=Ln.x,sn.lastCoords.y=Ln.y,Lt.maybeHandleResize(sn,En)))return!0;if(Lt.state.selectedLinearElement){var mr=Lt.state.editingLinearElement||Lt.state.selectedLinearElement;if(Vt._.shouldAddMidpoint(Lt.state.selectedLinearElement,Ln,Lt.state)){var dr=Vt._.addMidpoint(Lt.state.selectedLinearElement,Ln,Lt.state);return dr?void(0,Zn.flushSync)(function(){Lt.state.selectedLinearElement&&Lt.setState({selectedLinearElement:_n(_n({},Lt.state.selectedLinearElement),{},{pointerDownState:dr.pointerDownState,selectedPointsIndices:dr.selectedPointsIndices})}),Lt.state.editingLinearElement&&Lt.setState({editingLinearElement:_n(_n({},Lt.state.editingLinearElement),{},{pointerDownState:dr.pointerDownState,selectedPointsIndices:dr.selectedPointsIndices})})}):void 0}if(mr.pointerDownState.segmentMidpoint.value!==null&&!mr.pointerDownState.segmentMidpoint.added)return;var kr=Vt._.handlePointDragging(En,Lt.state,Ln.x,Ln.y,function(Rl,Mu){Lt.maybeSuggestBindingsForLinearElementAtCoords(Rl,Mu)},mr);if(kr)return sn.lastCoords.x=Ln.x,sn.lastCoords.y=Ln.y,sn.drag.hasOccurred=!0,Lt.state.editingLinearElement&&!Lt.state.editingLinearElement.isDragging&&Lt.setState({editingLinearElement:_n(_n({},Lt.state.editingLinearElement),{},{isDragging:!0})}),void(Lt.state.selectedLinearElement.isDragging||Lt.setState({selectedLinearElement:_n(_n({},Lt.state.selectedLinearElement),{},{isDragging:!0})}))}var Gr=sn.hit.allHitElements.some(function(Rl){return Lt.isASelectedElement(Rl)}),Pr=Lt.state.editingLinearElement&&En.shiftKey&&Lt.state.editingLinearElement.elementId===((Nn=sn.hit.element)===null||Nn===void 0?void 0:Nn.id);if((Gr||sn.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Pr){var Qr=(0,jt.eD)(Lt.scene.getNonDeletedElements(),Lt.state);if(Qr.every(function(Rl){return Rl.locked}))return;if(sn.drag.hasOccurred=!0,Qr.length>0&&!sn.withCmdOrCtrl){var _i=(0,Mt.wC)(Ln.x-sn.drag.offset.x,Ln.y-sn.drag.offset.y,Lt.state.gridSize),Hr=(0,ht.Z)(_i,2),Yr=Hr[0],_a=Hr[1],$a=[Math.abs(Ln.x-sn.origin.x),Math.abs(Ln.y-sn.origin.y)],ao=$a[0],Bo=$a[1],$o=En.shiftKey;if((0,Et.o8)(sn,Qr,Yr,_a,$o,ao,Bo,Lt.state),Lt.maybeSuggestBindingForAll(Qr),En.altKey&&!sn.hit.hasBeenDuplicated){sn.hit.hasBeenDuplicated=!0;var Ul,Il=[],Vo=[],Wl=new Map,Sn=new Map,zo=sn.hit.element,jo=Lt.scene.getElementsIncludingDeleted(),Wo=(0,jt.eD)(jo,Lt.state,!0).map(function(Rl){return Rl.id}),Wr=U0(jo);try{for(Wr.s();!(Ul=Wr.n()).done;){var Uo=Ul.value;if(Wo.includes(Uo.id)||Uo.id===(zo==null?void 0:zo.id)&&sn.hit.wasAddedToSelection){var Gl=(0,Et.Sy)(Lt.state.editingGroupId,Wl,Uo),Ns=(0,Mt.wC)(sn.origin.x-sn.drag.offset.x,sn.origin.y-sn.drag.offset.y,Lt.state.gridSize),ks=(0,ht.Z)(Ns,2),sI=ks[0],gI=ks[1];(0,yt.DR)(Gl,{x:Gl.x+(sI-Yr),y:Gl.y+(gI-_a)}),Il.push(Gl),Vo.push(Uo),Sn.set(Uo.id,Gl.id)}else Il.push(Uo)}}catch(Rl){Wr.e(Rl)}finally{Wr.f()}var G0=[].concat(Il,Vo);(0,pr.P7)(Il,Vo,Sn),(0,Ct.ek)(G0,Vo,Sn,"duplicatesServeAsOld"),Lt.scene.replaceAllElements(G0)}return}}var xl=Lt.state.draggingElement;if(xl){if(xl.type==="freedraw"){var Ou=xl.points,ps=Ln.x-xl.x,w0=Ln.y-xl.y,i0=Ou.length>0&&Ou[Ou.length-1];if(!(i0&&i0[0]===ps&&i0[1]===w0)){var uI=xl.simulatePressure?xl.pressures:[].concat((0,ot.Z)(xl.pressures),[En.pressure]);(0,yt.DR)(xl,{points:[].concat((0,ot.Z)(Ou),[[ps,w0]]),pressures:uI})}}else if((0,qt.bt)(xl)){sn.drag.hasOccurred=!0;var yu=xl.points,a0=nr-xl.x,gs=hr-xl.y;if((0,Gt.Ge)(En)&&yu.length===2){var E0=(0,Et.o4)(xl.x,xl.y,Ln.x,Ln.y);a0=E0.width,gs=E0.height}yu.length===1?(0,yt.DR)(xl,{points:[].concat((0,ot.Z)(yu),[[a0,gs]])}):yu.length===2&&(0,yt.DR)(xl,{points:[].concat((0,ot.Z)(yu.slice(0,-1)),[[a0,gs]])}),(0,qt.Mn)(xl,!1)&&Lt.maybeSuggestBindingsForLinearElementAtCoords(xl,[Ln],Lt.state.startBoundElement)}else sn.lastCoords.x=Ln.x,sn.lastCoords.y=Ln.y,Lt.maybeDragNewGenericElement(sn,En);if(Lt.state.activeTool.type==="selection"){sn.boxSelection.hasOccurred=!0;var S0=Lt.scene.getNonDeletedElements();if(En.shiftKey||Lt.state.editingLinearElement||!(0,jt.N)(S0,Lt.state)||(sn.withCmdOrCtrl&&sn.hit.element?Lt.setState(function(Rl){return(0,zt.bO)(_n(_n({},Rl),{},{selectedElementIds:(0,an.Z)({},sn.hit.element.id,!0)}),Lt.scene.getNonDeletedElements())}):Lt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Lt.state.editingLinearElement)Vt._.handleBoxSelection(En,Lt.state,Lt.setState.bind(Lt));else{var Js=(0,jt.Yp)(S0,xl);Lt.setState(function(Rl){return(0,zt.bO)(_n(_n({},Rl),{},{selectedElementIds:_n(_n(_n({},Rl.selectedElementIds),Js.reduce(function(Mu,_s){return Mu[_s.id]=!0,Mu},{})),sn.hit.element?(0,an.Z)({},sn.hit.element.id,!Js.length):null),showHyperlinkPopup:!(Js.length!==1||!Js[0].link)&&"info",selectedLinearElement:Js.length===1&&(0,qt.bt)(Js[0])?new Vt._(Js[0],Lt.scene):null}),Lt.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(sn,Lt){if(Lt.scrollbars.isOverHorizontal){var En=sn.clientX,Nn=En-Lt.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Nn/this.state.zoom.value}),Lt.lastCoords.x=En,!0}if(Lt.scrollbars.isOverVertical){var Ln=sn.clientY,Yn=Ln-Lt.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Yn/this.state.zoom.value}),Lt.lastCoords.y=Ln,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(sn){var Lt=this;return(0,ct.tH)(function(En){var Nn,Ln,Yn,qn=Lt.state,nr=qn.draggingElement,hr=qn.resizingElement,mr=qn.multiElement,dr=qn.activeTool,kr=qn.isResizing,Gr=qn.isRotating;if(Lt.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:mr||(0,Et.iB)(Lt.state.editingElement)?Lt.state.editingElement:null}),Lt.savePointer(En.clientX,En.clientY,"up"),Lt.state.editingLinearElement)if(sn.boxSelection.hasOccurred||((Ln=sn.hit)===null||Ln===void 0||(Yn=Ln.element)===null||Yn===void 0?void 0:Yn.id)===Lt.state.editingLinearElement.elementId){var Pr=Vt._.handlePointerUp(En,Lt.state.editingLinearElement,Lt.state);Pr!==Lt.state.editingLinearElement&&Lt.setState({editingLinearElement:Pr,suggestedBindings:[]})}else Lt.actionManager.executeAction(ft.pL);else if(Lt.state.selectedLinearElement){var Qr,_i;if(((Qr=sn.hit)===null||Qr===void 0||(_i=Qr.element)===null||_i===void 0?void 0:_i.id)!==Lt.state.selectedLinearElement.elementId)(0,jt.eD)(Lt.scene.getNonDeletedElements(),Lt.state).length>1&&Lt.setState({selectedLinearElement:null});else{var Hr=Vt._.handlePointerUp(En,Lt.state.selectedLinearElement,Lt.state),Yr=Hr.startBindingElement,_a=Hr.endBindingElement,$a=Lt.scene.getElement(Hr.elementId);(0,qt.Mn)($a)&&(0,Ct.HG)($a,Yr,_a),Hr!==Lt.state.selectedLinearElement&&Lt.setState({selectedLinearElement:_n(_n({},Hr),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(ss=null,sn.eventListeners.onMove&&sn.eventListeners.onMove.flush(),window.removeEventListener(rt.Ks.POINTER_MOVE,sn.eventListeners.onMove),window.removeEventListener(rt.Ks.POINTER_UP,sn.eventListeners.onUp),window.removeEventListener(rt.Ks.KEYDOWN,sn.eventListeners.onKeyDown),window.removeEventListener(rt.Ks.KEYUP,sn.eventListeners.onKeyUp),Lt.state.pendingImageElementId&&Lt.setState({pendingImageElementId:null}),(nr==null?void 0:nr.type)==="freedraw"){var ao=(0,ct.dE)(En,Lt.state),Bo=nr.points,$o=ao.x-nr.x,Ul=ao.y-nr.y;$o===Bo[0][0]&&Ul===Bo[0][1]&&(Ul+=1e-4,$o+=1e-4);var Il=nr.simulatePressure?[]:[].concat((0,ot.Z)(nr.pressures),[En.pressure]);return(0,yt.DR)(nr,{points:[].concat((0,ot.Z)(Bo),[[$o,Ul]]),pressures:Il,lastCommittedPoint:[$o,Ul]}),void Lt.actionManager.executeAction(ft.pL)}if((0,qt.pC)(nr)){var Vo=nr;try{Lt.initializeImageDimensions(Vo),Lt.setState({selectedElementIds:(0,an.Z)({},Vo.id,!0)},function(){Lt.actionManager.executeAction(ft.pL)})}catch(Wr){console.error(Wr),Lt.scene.replaceAllElements(Lt.scene.getElementsIncludingDeleted().filter(function(Uo){return Uo.id!==Vo.id})),Lt.actionManager.executeAction(ft.pL)}}else if((0,qt.bt)(nr)){nr.points.length>1&&Lt.history.resumeRecording();var Wl=(0,ct.dE)(En,Lt.state);sn.drag.hasOccurred||!nr||mr?sn.drag.hasOccurred&&!mr&&((0,Ct.N1)(Lt.state)&&(0,qt.Mn)(nr,!1)&&(0,Ct.R)(nr,Lt.state,Lt.scene,Wl),Lt.setState({suggestedBindings:[],startBoundElement:null}),dr.locked?Lt.setState(function(Wr){return{draggingElement:null}}):((0,ct.z8)(Lt.canvas),Lt.setState(function(Wr){return{draggingElement:null,activeTool:(0,ct.Om)(Lt.state,{type:"selection"}),selectedElementIds:_n(_n({},Wr.selectedElementIds),{},(0,an.Z)({},nr.id,!0)),selectedLinearElement:new Vt._(nr,Lt.scene)}}))):((0,yt.DR)(nr,{points:[].concat((0,ot.Z)(nr.points),[[Wl.x-nr.x,Wl.y-nr.y]])}),Lt.setState({multiElement:nr,editingElement:Lt.state.draggingElement}))}else{if(dr.type!=="selection"&&nr&&(0,Et.QD)(nr))return Lt.scene.replaceAllElements(Lt.scene.getElementsIncludingDeleted().slice(0,-1)),void Lt.setState({draggingElement:null});nr&&(0,yt.DR)(nr,(0,Et.Qp)(nr)),hr&&Lt.history.resumeRecording(),hr&&(0,Et.QD)(hr)&&Lt.scene.replaceAllElements(Lt.scene.getElementsIncludingDeleted().filter(function(Wr){return Wr.id!==hr.id}));var Sn=sn.hit.element;if(((Nn=Lt.state.selectedLinearElement)===null||Nn===void 0?void 0:Nn.elementId)!==(Sn==null?void 0:Sn.id)&&(0,qt.bt)(Sn)&&(0,jt.eD)(Lt.scene.getNonDeletedElements(),Lt.state).length===1&&Lt.setState({selectedLinearElement:new Vt._(Sn,Lt.scene)}),(0,Wt.EN)(Lt.state)){if((0,Mt.LW)(Lt.lastPointerDown.clientX,Lt.lastPointerDown.clientY,Lt.lastPointerUp.clientX,Lt.lastPointerUp.clientY)===0){var zo=(0,ct.dE)({clientX:Lt.lastPointerUp.clientX,clientY:Lt.lastPointerUp.clientY},Lt.state);Lt.getElementsAtPosition(zo.x,zo.y).forEach(function(Wr){return sn.elementIdsToErase[Wr.id]={erase:!0,opacity:Wr.opacity}})}Lt.eraseElements(sn)}else{var jo;if(Object.keys(sn.elementIdsToErase).length&&Lt.restoreReadyToEraseElements(sn),Sn&&!sn.drag.hasOccurred&&!sn.hit.wasAddedToSelection&&(!Lt.state.editingLinearElement||!sn.boxSelection.hasOccurred))if(En.shiftKey&&!Lt.state.editingLinearElement)if(Lt.state.selectedElementIds[Sn.id])if((0,zt.zq)(Lt.state,Sn)){var Wo=Sn.groupIds.flatMap(function(Wr){return(0,zt.Fb)(Lt.scene.getNonDeletedElements(),Wr)}).map(function(Wr){return(0,an.Z)({},Wr.id,!1)}).reduce(function(Wr,Uo){return _n(_n({},Wr),Uo)},{});Lt.setState(function(Wr){return{selectedGroupIds:_n(_n({},Wr.selectedElementIds),Sn.groupIds.map(function(Uo){return(0,an.Z)({},Uo,!1)}).reduce(function(Uo,Gl){return _n(_n({},Uo),Gl)},{})),selectedElementIds:_n(_n({},Wr.selectedElementIds),Wo)}})}else(jo=Lt.state.selectedLinearElement)!==null&&jo!==void 0&&jo.isDragging||Lt.setState(function(Wr){var Uo=_n(_n({},Wr.selectedElementIds),{},(0,an.Z)({},Sn.id,!1)),Gl=(0,jt.eD)(Lt.scene.getNonDeletedElements(),_n(_n({},Wr),{},{selectedElementIds:Uo}));return(0,zt.bO)(_n(_n({},Wr),{},{selectedElementIds:Uo,selectedLinearElement:Gl.length===1&&(0,qt.bt)(Gl[0])?new Vt._(Gl[0],Lt.scene):Wr.selectedLinearElement}),Lt.scene.getNonDeletedElements())});else Lt.setState(function(Wr){return{selectedElementIds:_n(_n({},Wr.selectedElementIds),{},(0,an.Z)({},Sn.id,!0))}});else Lt.setState(function(Wr){var Uo;return _n({},(0,zt.bO)(_n(_n({},Wr),{},{selectedElementIds:(0,an.Z)({},Sn.id,!0),selectedLinearElement:(0,qt.bt)(Sn)&&((Uo=Wr.selectedLinearElement)===null||Uo===void 0?void 0:Uo.elementId)!==Sn.id?new Vt._(Sn,Lt.scene):Wr.selectedLinearElement}),Lt.scene.getNonDeletedElements()))});sn.drag.hasOccurred||Lt.state.isResizing||!(Sn&&(0,Et.wB)(Sn,Lt.state,sn.origin.x,sn.origin.y)||!Sn&&sn.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!dr.locked&&dr.type!=="freedraw"&&nr&&Lt.setState(function(Wr){return{selectedElementIds:_n(_n({},Wr.selectedElementIds),{},(0,an.Z)({},nr.id,!0))}}),(dr.type!=="selection"||(0,jt.N)(Lt.scene.getNonDeletedElements(),Lt.state))&&Lt.history.resumeRecording(),(sn.drag.hasOccurred||kr||Gr)&&((0,Ct.N1)(Lt.state)?Ct.el:Ct.H)((0,jt.eD)(Lt.scene.getNonDeletedElements(),Lt.state)),dr.locked||dr.type==="freedraw"?Lt.setState({draggingElement:null,suggestedBindings:[]}):((0,ct.z8)(Lt.canvas),Lt.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,ct.Om)(Lt.state,{type:"selection"})}))):Lt.state.editingLinearElement?Lt.setState({editingLinearElement:null}):Lt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(sn){var Lt=(0,Ct.ZB)(sn);this.setState({suggestedBindings:Lt})}},{key:"clearSelection",value:function(sn){this.setState(function(Lt){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:Lt.editingGroupId&&sn!=null&&(0,zt.Nd)(sn,Lt.editingGroupId)?Lt.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(sn,Lt,En,Nn){if(Nn){var Ln=Nn.x+Nn.width/2,Yn=Nn.y+Nn.height/2,qn=(0,pr.TP)(Nn,En);if(qn&&(Ln=qn.x,Yn=qn.y),Math.hypot(sn-Ln,Lt-Yn)<rt.wZ){var nr=(0,ct._i)({sceneX:Ln,sceneY:Yn},En);return{viewportX:nr.x,viewportY:nr.y,elementCenterX:Ln,elementCenterY:Yn}}}}},{key:"getCanvasOffsets",value:function(){var sn;if((sn=this.excalidrawContainerRef)!==null&&sn!==void 0&&sn.current){var Lt=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:Lt.left,offsetTop:Lt.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(Ft=(0,at.Z)(Qt().mark(function sn(){var Lt,En=this;return Qt().wrap(function(Nn){for(;;)switch(Nn.prev=Nn.next){case 0:return Lt=bt.Mj.find(function(Ln){return Ln.code===En.props.langCode})||bt.Fp,Nn.next=3,(0,bt.m0)(Lt);case 3:this.setAppState({});case 4:case"end":return Nn.stop()}},sn,this)})),function(){return Ft.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Eo=!1}}]),kn}(fn().Component);zs.defaultProps={UIOptions:rt.cW};var js=function(){var nt=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=Jr,this.excalidrawContainerRef=fn().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var Ft;nt.props.autoFocus&&((Ft=nt.excalidrawContainerRef.current)===null||Ft===void 0||Ft.focus())},this.getSceneElementsIncludingDeleted=function(){return nt.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return nt.scene.getNonDeletedElements()},this.syncActionResult=(0,ct.tH)(function(Ft){if(!nt.unmounted&&Ft!==!1){var en=null;if(Ft.elements&&(Ft.elements.forEach(function(Gr){var Pr;((Pr=nt.state.editingElement)===null||Pr===void 0?void 0:Pr.id)===Gr.id&&nt.state.editingElement!==Gr&&(0,Et.qP)(Gr)&&(en=Gr)}),nt.scene.replaceAllElements(Ft.elements),Ft.commitToHistory&&nt.history.resumeRecording()),Ft.files&&(nt.files=Ft.replaceFiles?Ft.files:_n(_n({},nt.files),Ft.files),nt.addNewImagesToImageCache()),Ft.appState||en||nt.state.contextMenu){var cn,kn,sn,Lt,En,Nn,Ln,Yn;Ft.commitToHistory&&nt.history.resumeRecording();var qn=(Ft==null||(cn=Ft.appState)===null||cn===void 0?void 0:cn.viewModeEnabled)||!1,nr=(Ft==null||(kn=Ft.appState)===null||kn===void 0?void 0:kn.zenModeEnabled)||!1,hr=(Ft==null||(sn=Ft.appState)===null||sn===void 0?void 0:sn.gridSize)||null,mr=(Ft==null||(Lt=Ft.appState)===null||Lt===void 0?void 0:Lt.theme)||nt.props.theme||rt.C6.LIGHT,dr=(En=Ft==null||(Nn=Ft.appState)===null||Nn===void 0?void 0:Nn.name)!==null&&En!==void 0?En:nt.state.name,kr=(Ln=Ft==null||(Yn=Ft.appState)===null||Yn===void 0?void 0:Yn.errorMessage)!==null&&Ln!==void 0?Ln:nt.state.errorMessage;nt.props.viewModeEnabled!==void 0&&(qn=nt.props.viewModeEnabled),nt.props.zenModeEnabled!==void 0&&(nr=nt.props.zenModeEnabled),nt.props.gridModeEnabled!==void 0&&(hr=nt.props.gridModeEnabled?rt.k:null),nt.props.name!==void 0&&(dr=nt.props.name),nt.setState(function(Gr){var Pr;return Object.assign(Ft.appState||{},{contextMenu:null,editingElement:en||((Pr=Ft.appState)===null||Pr===void 0?void 0:Pr.editingElement)||null,viewModeEnabled:qn,zenModeEnabled:nr,gridSize:hr,theme:mr,name:dr,errorMessage:kr})},function(){Ft.syncHistory&&nt.history.setCurrentState(nt.state,nt.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,ct.tH)(function(){Hs=!1,nt.setState({isBindingEnabled:!0})}),this.onUnload=function(){nt.onBlur()},this.disableEvent=function(Ft){Ft.preventDefault()},this.resetHistory=function(){nt.history.clear()},this.resetScene=(0,ct.tH)(function(Ft){nt.scene.replaceAllElements([]),nt.setState(function(en){return _n(_n({},(0,Wt.im)()),{},{isLoading:(Ft==null||!Ft.resetLoadingState)&&en.isLoading,theme:nt.state.theme})}),nt.resetHistory()}),this.initializeScene=(0,at.Z)(Qt().mark(function Ft(){var en,cn,kn,sn,Lt;return Qt().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Nn=(0,at.Z)(Qt().mark(function Ln(Yn){var qn,nr;return Qt().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:if(Yn.files.length){hr.next=2;break}return hr.abrupt("return");case 2:return qn=Yn.files[0],hr.next=5,qn.getFile();case 5:nr=hr.sent,nt.loadFileToCanvas(new File([nr],nr.name||"",{type:nr.type}),qn);case 7:case"end":return hr.stop()}},Ln)}));return function(Ln){return Nn.apply(this,arguments)}}()),nt.props.theme&&nt.setState({theme:nt.props.theme}),nt.state.isLoading||nt.setState({isLoading:!0}),kn=null,En.prev=4,En.next=7,nt.props.initialData;case 7:if(En.t0=En.sent,En.t0){En.next=10;break}En.t0=null;case 10:kn=En.t0,(sn=kn)!==null&&sn!==void 0&&sn.libraryItems&&nt.library.updateLibrary({libraryItems:kn.libraryItems,merge:!0}).catch(function(Nn){console.error(Nn)}),En.next=18;break;case 14:En.prev=14,En.t1=En.catch(4),console.error(En.t1),kn={appState:{errorMessage:En.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(Lt=(0,_t.nu)(kn,null,null,{repairBindings:!0})).appState=_n(_n({},Lt.appState),{},{theme:nt.props.theme||Lt.appState.theme,openSidebar:((en=Lt.appState)===null||en===void 0?void 0:en.openSidebar)||nt.state.openSidebar,activeTool:Lt.appState.activeTool.type==="image"?_n(_n({},Lt.appState.activeTool),{},{type:"selection"}):Lt.appState.activeTool,isLoading:!1,toast:nt.state.toast}),(cn=kn)!==null&&cn!==void 0&&cn.scrollToContent&&(Lt.appState=_n(_n({},Lt.appState),(0,jt.W)(Lt.elements,_n(_n({},Lt.appState),{},{width:nt.state.width,height:nt.state.height,offsetTop:nt.state.offsetTop,offsetLeft:nt.state.offsetLeft}),null))),nt.fonts.loadFontsForElements(Lt.elements),nt.resetHistory(),nt.syncActionResult(_n(_n({},Lt),{},{commitToHistory:!0}));case 24:case"end":return En.stop()}},Ft,null,[[4,14]])})),this.refreshDeviceState=function(Ft){var en=Ft.getBoundingClientRect(),cn=en.width,kn=en.height,sn=nt.props.UIOptions.dockedSidebarBreakpoint!=null?nt.props.UIOptions.dockedSidebarBreakpoint:rt.sk;nt.device=(0,ct.v4)(nt.device,{isSmScreen:cn<rt.eF,isMobile:cn<rt.kV||kn<rt.Yx&&cn<rt.sS,canDeviceFitSidebar:cn>sn})},this.onResize=(0,ct.tH)(function(){nt.scene.getElementsIncludingDeleted().forEach(function(Ft){return(0,hn.bI)(Ft)}),nt.setState({})}),this.renderScene=function(){var Ft={},en={},cn={},kn={},sn={};nt.state.collaborators.forEach(function(Nn,Ln){if(Nn.selectedElementIds)for(var Yn=0,qn=Object.keys(Nn.selectedElementIds);Yn<qn.length;Yn++){var nr=qn[Yn];nr in cn||(cn[nr]=[]),cn[nr].push(Ln)}Nn.pointer&&(Nn.username&&(kn[Ln]=Nn.username),Nn.userState&&(sn[Ln]=Nn.userState),en[Ln]=(0,ct._i)({sceneX:Nn.pointer.x,sceneY:Nn.pointer.y},nt.state),Ft[Ln]=Nn.button)});var Lt=nt.scene.getNonDeletedElements().filter(function(Nn){return(!(0,qt.pC)(Nn)||nt.state.pendingImageElementId!==Nn.id)&&(!nt.state.editingElement||nt.state.editingElement.type!=="text"||Nn.id!==nt.state.editingElement.id)}),En=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,un.Eu)({elements:Lt,appState:nt.state,scale:window.devicePixelRatio,rc:nt.rc,canvas:nt.canvas,renderConfig:{selectionColor:En,scrollX:nt.state.scrollX,scrollY:nt.state.scrollY,viewBackgroundColor:nt.state.viewBackgroundColor,zoom:nt.state.zoom,remotePointerViewportCoords:en,remotePointerButton:Ft,remoteSelectedElementIds:cn,remotePointerUsernames:kn,remotePointerUserStates:sn,shouldCacheIgnoreZoom:nt.state.shouldCacheIgnoreZoom,theme:nt.state.theme,imageCache:nt.imageCache,isExporting:!1,renderScrollbars:!nt.device.isMobile},callback:function(Nn){var Ln=Nn.atLeastOneVisibleElement,Yn=Nn.scrollBars;Yn&&(su=Yn);var qn=!(0,Et.iB)(nt.state.editingElement)&&!Ln&&Lt.length>0;nt.state.scrolledOutside!==qn&&nt.setState({scrolledOutside:qn}),nt.scheduleImageRefresh()}},Au&&window.EXCALIDRAW_THROTTLE_RENDER===!0),Au||(Au=!0)},this.onScroll=(0,ct.Ds)(function(){var Ft=nt.getCanvasOffsets(),en=Ft.offsetTop,cn=Ft.offsetLeft;nt.setState(function(kn){return kn.offsetLeft===cn&&kn.offsetTop===en?null:{offsetTop:en,offsetLeft:cn}})},rt.HM),this.onCut=(0,ct.tH)(function(Ft){var en;!((en=nt.excalidrawContainerRef.current)===null||en===void 0)&&en.contains(document.activeElement)&&!(0,ct.s)(Ft.target)&&(nt.cutAll(),Ft.preventDefault(),Ft.stopPropagation())}),this.onCopy=(0,ct.tH)(function(Ft){var en;!((en=nt.excalidrawContainerRef.current)===null||en===void 0)&&en.contains(document.activeElement)&&!(0,ct.s)(Ft.target)&&(nt.copyAll(),Ft.preventDefault(),Ft.stopPropagation())}),this.cutAll=function(){nt.actionManager.executeAction(ft.ZM,"keyboard")},this.copyAll=function(){nt.actionManager.executeAction(ft.uN,"keyboard")},this.onTapStart=function(Ft){if(rt.Dt||Ft.preventDefault(),!Eo)return Eo=!0,clearTimeout(e0),void(e0=window.setTimeout(zs.resetTapTwice,rt.Gj));if(Eo&&Ft.touches.length===1){var en=(0,ht.Z)(Ft.touches,1)[0];nt.handleCanvasDoubleClick({clientX:en.clientX,clientY:en.clientY}),Eo=!1,clearTimeout(e0)}rt.Dt&&Ft.preventDefault(),Ft.touches.length===2&&nt.setState({selectedElementIds:{}})},this.onTapEnd=function(Ft){nt.resetContextMenuTimer(),Ft.touches.length>0?nt.setState({previousSelectedElementIds:{},selectedElementIds:nt.state.previousSelectedElementIds}):So.pointers.clear()},this.pasteFromClipboard=(0,ct.tH)(function(){var Ft=(0,at.Z)(Qt().mark(function en(cn){var kn,sn,Lt,En,Nn,Ln,Yn,qn,nr,hr,mr,dr,kr;return Qt().wrap(function(Gr){for(;;)switch(Gr.prev=Gr.next){case 0:if(Lt=!(!gu||!cn),En=document.activeElement,Nn=(kn=nt.excalidrawContainerRef.current)===null||kn===void 0?void 0:kn.contains(En),!cn||Nn){Gr.next=5;break}return Gr.abrupt("return");case 5:if(Ln=document.elementFromPoint(Xs,Cs),!cn||Ln instanceof HTMLCanvasElement&&!(0,ct.s)(En)){Gr.next=8;break}return Gr.abrupt("return");case 8:return Yn=cn==null||(sn=cn.clipboardData)===null||sn===void 0?void 0:sn.files[0],Gr.next=11,(0,Dt.mQ)(cn,Lt);case 11:if(qn=Gr.sent,Yn||!qn.text||Lt||(nr=qn.text.trim()).startsWith("<svg")&&nr.endsWith("</svg>")&&(Yn=(0,Ir.Pn)(nr)),!(0,Ir.Wr)(Yn)||qn.spreadsheet){Gr.next=20;break}return hr=(0,ct.dE)({clientX:Xs,clientY:Cs},nt.state),mr=hr.x,dr=hr.y,kr=nt.createImageElement({sceneX:mr,sceneY:dr}),nt.insertImageElement(kr,Yn),nt.initializeImageDimensions(kr),nt.setState({selectedElementIds:(0,an.Z)({},kr.id,!0)}),Gr.abrupt("return");case 20:if(!nt.props.onPaste){Gr.next=32;break}return Gr.prev=21,Gr.next=24,nt.props.onPaste(qn,cn);case 24:if(Gr.t0=Gr.sent,Gr.t0!==!1){Gr.next=27;break}return Gr.abrupt("return");case 27:Gr.next=32;break;case 29:Gr.prev=29,Gr.t1=Gr.catch(21),console.error(Gr.t1);case 32:qn.errorMessage?nt.setState({errorMessage:qn.errorMessage}):qn.spreadsheet&&!Lt?nt.setState({pasteDialog:{data:qn.spreadsheet,shown:!0}}):qn.elements?nt.addElementsFromPasteOrLibrary({elements:qn.elements,files:qn.files||null,position:"cursor"}):qn.text&&nt.addTextFromPaste(qn.text,Lt),nt.setActiveTool({type:"selection"}),cn==null||cn.preventDefault();case 35:case"end":return Gr.stop()}},en,null,[[21,29]])}));return function(en){return Ft.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(Ft){var en=(0,_t.ET)(Ft.elements,null),cn=(0,Et.KP)(en),kn=(0,ht.Z)(cn,4),sn=kn[0],Lt=kn[1],En=kn[2],Nn=kn[3],Ln=(0,ct.TE)(sn,En)/2,Yn=(0,ct.TE)(Lt,Nn)/2,qn=(0,pt.Z)(Ft.position)==="object"?Ft.position.clientX:Ft.position==="cursor"?Xs:nt.state.width/2+nt.state.offsetLeft,nr=(0,pt.Z)(Ft.position)==="object"?Ft.position.clientY:Ft.position==="cursor"?Cs:nt.state.height/2+nt.state.offsetTop,hr=(0,ct.dE)({clientX:qn,clientY:nr},nt.state),mr=hr.x-Ln,dr=hr.y-Yn,kr=(0,Mt.wC)(mr,dr,nt.state.gridSize),Gr=(0,ht.Z)(kr,2),Pr=Gr[0],Qr=Gr[1],_i=(0,Pt._N)(en.map(function(Yr){return(0,yt.BE)(Yr,{x:Yr.x+Pr-sn,y:Yr.y+Qr-Lt})})),Hr=[].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),(0,ot.Z)(_i));nt.scene.replaceAllElements(Hr),_i.forEach(function(Yr){if((0,Et.iB)(Yr)&&(0,qt.Xh)(Yr)){var _a=(0,pr.tl)(Yr);(0,Et.oN)(Yr,_a)}}),Ft.files&&(nt.files=_n(_n({},nt.files),Ft.files)),nt.history.resumeRecording(),nt.setState((0,zt.bO)(_n(_n({},nt.state),{},{openSidebar:nt.state.openSidebar&&nt.device.canDeviceFitSidebar&&nt.state.isSidebarDocked?nt.state.openSidebar:null,selectedElementIds:_i.reduce(function(Yr,_a){return(0,qt.Xh)(_a)||(Yr[_a.id]=!0),Yr},{}),selectedGroupIds:{}}),nt.scene.getNonDeletedElements()),function(){Ft.files&&nt.addNewImagesToImageCache()}),nt.setActiveTool({type:"selection"})},this.setAppState=function(Ft,en){nt.setState(Ft,en)},this.removePointer=function(Ft){Ol&&nt.resetContextMenuTimer(),So.pointers.delete(Ft.pointerId)},this.toggleLock=function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";nt.state.activeTool.locked||(0,Tt.L)("toolbar","toggleLock","".concat(Ft," (").concat(nt.device.isMobile?"mobile":"desktop",")")),nt.setState(function(en){return{activeTool:_n(_n(_n({},en.activeTool),(0,ct.Om)(nt.state,en.activeTool.locked?{type:"selection"}:en.activeTool)),{},{locked:!en.activeTool.locked})}})},this.togglePenMode=function(){nt.setState(function(Ft){return{penMode:!Ft.penMode}})},this.onHandToolToggle=function(){nt.actionManager.executeAction(v0.eF)},this.zoomCanvas=function(Ft){nt.setState(_n({},(0,xn.E)({viewportX:nt.state.width/2+nt.state.offsetLeft,viewportY:nt.state.height/2+nt.state.offsetTop,nextZoom:(0,jt.j)(Ft)},nt.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var Ft,en=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nt.scene.getNonDeletedElements(),cn=arguments.length>1?arguments[1]:void 0;(Ft=nt.cancelInProgresAnimation)===null||Ft===void 0||Ft.call(nt);var kn=Array.isArray(en)?en:[en],sn=nt.state.zoom,Lt=nt.state.scrollX,En=nt.state.scrollY;if(cn!=null&&cn.fitToContent){var Nn=(0,v0.md)(kn,nt.state,!1),Ln=Nn.appState;sn=Ln.zoom,Lt=Ln.scrollX,En=Ln.scrollY}else{var Yn=(0,jt.W)(kn,nt.state,nt.canvas);Lt=Yn.scrollX,En=Yn.scrollY}if(cn!=null&&cn.animate){var qn,nr=nt.state.scrollX,hr=nt.state.scrollY;nt.zoomCanvas(sn.value);var mr=(0,ct.B4)([nr,hr],[Lt,En],function(dr,kr){return nt.setState({scrollX:dr,scrollY:kr})},{duration:(qn=cn==null?void 0:cn.duration)!==null&&qn!==void 0?qn:500});nt.cancelInProgresAnimation=function(){mr(),nt.cancelInProgresAnimation=null}}else nt.setState({scrollX:Lt,scrollY:En,zoom:sn})},this.translateCanvas=function(Ft){var en;(en=nt.cancelInProgresAnimation)===null||en===void 0||en.call(nt),nt.setState(Ft)},this.setToast=function(Ft){nt.setState({toast:Ft})},this.restoreFileFromShare=(0,at.Z)(Qt().mark(function Ft(){var en,cn,kn,sn;return Qt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.prev=0,Lt.next=3,caches.open("web-share-target");case 3:return en=Lt.sent,Lt.next=6,en.match("shared-file");case 6:if(!(cn=Lt.sent)){Lt.next=16;break}return Lt.next=10,cn.blob();case 10:return kn=Lt.sent,sn=new File([kn],kn.name||"",{type:kn.type}),nt.loadFileToCanvas(sn,null),Lt.next=15,en.delete("shared-file");case 15:window.history.replaceState(null,rt.iC,window.location.pathname);case 16:Lt.next=21;break;case 18:Lt.prev=18,Lt.t0=Lt.catch(0),nt.setState({errorMessage:Lt.t0.message});case 21:case"end":return Lt.stop()}},Ft,null,[[0,18]])})),this.addFiles=(0,ct.tH)(function(Ft){var en=Ft.reduce(function(cn,kn){return cn.set(kn.id,kn),cn},new Map);nt.files=_n(_n({},nt.files),Object.fromEntries(en)),nt.scene.getNonDeletedElements().forEach(function(cn){(0,qt.wi)(cn)&&en.has(cn.fileId)&&(nt.imageCache.delete(cn.fileId),(0,hn.bI)(cn))}),nt.scene.informMutation(),nt.addNewImagesToImageCache()}),this.updateScene=(0,ct.tH)(function(Ft){Ft.commitToHistory&&nt.history.resumeRecording(),Ft.appState&&nt.setState(Ft.appState),Ft.elements&&nt.scene.replaceAllElements(Ft.elements),Ft.collaborators&&nt.setState({collaborators:Ft.collaborators})}),this.onSceneUpdated=function(){nt.setState({})},this.toggleMenu=function(Ft,en){return Ft!=="customSidebar"||nt.props.renderSidebar?(Ft==="library"||Ft==="customSidebar")&&(cn=en===void 0?nt.state.openSidebar===Ft?null:Ft:en?Ft:null,nt.setState({openSidebar:cn}),!!cn):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var cn},this.updateCurrentCursorPosition=(0,ct.tH)(function(Ft){Xs=Ft.clientX,Cs=Ft.clientY}),this.onKeyDown=(0,ct.tH)(function(Ft){if("Proxy"in window&&(!Ft.shiftKey&&/^[A-Z]$/.test(Ft.key)||Ft.shiftKey&&/^[a-z]$/.test(Ft.key))&&(Ft=new Proxy(Ft,{get:function(dr,kr){var Gr=dr[kr];return typeof Gr=="function"?Gr.bind(dr):kr==="key"?Ft.shiftKey?dr.key.toUpperCase():dr.key.toLowerCase():Gr}})),Ft[Gt.tW.CTRL_OR_CMD]&&Ft.key.toLowerCase()===Gt.tW.V&&(gu=Ft.shiftKey,clearTimeout(n0),n0=window.setTimeout(function(){gu=!1},100)),!Ft[Gt.tW.CTRL_OR_CMD]||!(0,ct.s)(Ft.target)||Ft.code!==Gt.aU.MINUS&&Ft.code!==Gt.aU.EQUAL){if(!((0,ct.s)(Ft.target)&&Ft.key!==Gt.tW.ESCAPE||(0,Gt.Wl)(Ft.key)&&(0,ct._Z)(Ft.target)))if(Ft.key!==Gt.tW.QUESTION_MARK)if(Ft.key.toLowerCase()===Gt.tW.E&&Ft.shiftKey&&Ft[Gt.tW.CTRL_OR_CMD])nt.setState({openDialog:"imageExport"});else{if(Ft.key===Gt.tW.PAGE_UP||Ft.key===Gt.tW.PAGE_DOWN){var en=(Ft.shiftKey?nt.state.width:nt.state.height)/nt.state.zoom.value;Ft.key===Gt.tW.PAGE_DOWN&&(en=-en),Ft.shiftKey?nt.translateCanvas(function(dr){return{scrollX:dr.scrollX+en}}):nt.translateCanvas(function(dr){return{scrollY:dr.scrollY+en}})}if(!nt.actionManager.handleKeyDown(Ft)&&!nt.state.viewModeEnabled){if(Ft[Gt.tW.CTRL_OR_CMD]&&nt.state.isBindingEnabled&&nt.setState({isBindingEnabled:!1}),(0,Gt.Wl)(Ft.key)){var cn=nt.state.gridSize&&(Ft.shiftKey?rt.$e:nt.state.gridSize)||(Ft.shiftKey?rt.Iw:rt.$e),kn=0,sn=0;Ft.key===Gt.tW.ARROW_LEFT?kn=-cn:Ft.key===Gt.tW.ARROW_RIGHT?kn=cn:Ft.key===Gt.tW.ARROW_UP?sn=-cn:Ft.key===Gt.tW.ARROW_DOWN&&(sn=cn);var Lt=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state,!0);Lt.forEach(function(dr){(0,yt.DR)(dr,{x:dr.x+kn,y:dr.y+sn}),(0,Ct.Ww)(dr,{simultaneouslyUpdated:Lt})}),nt.maybeSuggestBindingForAll(Lt),Ft.preventDefault()}else if(Ft.key===Gt.tW.ENTER){var En=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);if(En.length===1){var Nn=En[0];if(Ft[Gt.tW.CTRL_OR_CMD])(0,qt.bt)(Nn)&&(nt.state.editingLinearElement&&nt.state.editingLinearElement.elementId===En[0].id||(nt.history.resumeRecording(),nt.setState({editingLinearElement:new Vt._(Nn,nt.scene)})));else if((0,Et.iB)(Nn)||(0,pr.Zr)(Nn)){var Ln;(0,Et.iB)(Nn)||(Ln=Nn);var Yn=(0,pr.TP)(Nn,nt.state),qn=Yn.x,nr=Yn.y;return nt.startTextEditing({sceneX:qn,sceneY:nr,container:Ln}),void Ft.preventDefault()}}}else if(!Ft.ctrlKey&&!Ft.altKey&&!Ft.metaKey&&nt.state.draggingElement===null){var hr=function(dr){var kr=Gn.find(function(Gr,Pr){return Gr.numericKey!=null&&dr===Gr.numericKey.toString()||Gr.key&&(typeof Gr.key=="string"?Gr.key===dr:Gr.key.includes(dr))});return(kr==null?void 0:kr.value)||null}(Ft.key);hr?(nt.state.activeTool.type!==hr&&(0,Tt.L)("toolbar",hr,"keyboard (".concat(nt.device.isMobile?"mobile":"desktop",")")),nt.setActiveTool({type:hr}),Ft.stopPropagation()):Ft.key===Gt.tW.Q&&(nt.toggleLock("keyboard"),Ft.stopPropagation())}if(Ft.key===Gt.tW.SPACE&&So.pointers.size===0&&(Hs=!0,(0,ct.KJ)(nt.canvas,rt.oc.GRAB),Ft.preventDefault()),!(Ft.key!==Gt.tW.G&&Ft.key!==Gt.tW.S||Ft.altKey||Ft[Gt.tW.CTRL_OR_CMD])){var mr=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);if(nt.state.activeTool.type==="selection"&&!mr.length)return;Ft.key===Gt.tW.G&&((0,jt.$b)(nt.state.activeTool.type)||mr.some(function(dr){return(0,jt.$b)(dr.type)}))&&(nt.setState({openPopup:"backgroundColorPicker"}),Ft.stopPropagation()),Ft.key===Gt.tW.S&&(nt.setState({openPopup:"strokeColorPicker"}),Ft.stopPropagation())}!Ft[Gt.tW.CTRL_OR_CMD]||Ft.key!==Gt.tW.BACKSPACE&&Ft.key!==Gt.tW.DELETE||Su.e_.set(Ju.w,"clearCanvas")}}else nt.setState({openDialog:"help"})}else Ft.preventDefault()}),this.onWheel=(0,ct.tH)(function(Ft){Ft.target instanceof HTMLCanvasElement||!Ft.ctrlKey||Ft.preventDefault()}),this.onKeyUp=(0,ct.tH)(function(Ft){if(Ft.key===Gt.tW.SPACE&&(nt.state.viewModeEnabled?(0,ct.KJ)(nt.canvas,rt.oc.GRAB):nt.state.activeTool.type==="selection"?(0,ct.z8)(nt.canvas):((0,ct.Uk)(nt.canvas,nt.state),nt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Hs=!1),Ft[Gt.tW.CTRL_OR_CMD]||nt.state.isBindingEnabled||nt.setState({isBindingEnabled:!0}),(0,Gt.Wl)(Ft.key)){var en=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);(0,Ct.N1)(nt.state)?(0,Ct.el)(en):(0,Ct.H)(en),nt.setState({suggestedBindings:[]})}}),this.setActiveTool=function(Ft){var en=(0,ct.Om)(nt.state,Ft);en.type==="hand"?(0,ct.KJ)(nt.canvas,rt.oc.GRAB):Hs||(0,ct.Uk)(nt.canvas,nt.state),(0,ct.wO)(document.activeElement)&&nt.focusContainer(),(0,qt.dt)(en.type)||nt.setState({suggestedBindings:[]}),en.type==="image"&&nt.onImageAction(),en.type!=="selection"?nt.setState({activeTool:en,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):nt.setState({activeTool:en})},this.setCursor=function(Ft){(0,ct.KJ)(nt.canvas,Ft)},this.resetCursor=function(){(0,ct.z8)(nt.canvas)},this.isTouchScreenMultiTouchGesture=function(){return So.pointers.size>=2},this.onGestureStart=(0,ct.tH)(function(Ft){Ft.preventDefault(),nt.isTouchScreenMultiTouchGesture()&&nt.setState({selectedElementIds:{}}),So.initialScale=nt.state.zoom.value}),this.onGestureChange=(0,ct.tH)(function(Ft){if(Ft.preventDefault(),!nt.isTouchScreenMultiTouchGesture()){var en=So.initialScale;en&&nt.setState(function(cn){return _n({},(0,xn.E)({viewportX:Xs,viewportY:Cs,nextZoom:(0,jt.j)(en*Ft.scale)},cn))})}}),this.onGestureEnd=(0,ct.tH)(function(Ft){Ft.preventDefault(),nt.isTouchScreenMultiTouchGesture()&&nt.setState({previousSelectedElementIds:{},selectedElementIds:nt.state.previousSelectedElementIds}),So.initialScale=null}),this.startTextEditing=function(Ft){var en,cn,kn,sn,Lt=Ft.sceneX,En=Ft.sceneY,Nn=Ft.insertAtParentCenter,Ln=Nn===void 0||Nn,Yn=Ft.container,qn=!1,nr=Ln&&nt.getTextWysiwygSnappedToCenterPosition(Lt,En,nt.state,Yn);Yn&&nr&&(qn=!0);var hr=null,mr=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state),dr=((en=hr=mr.length===1?(0,Et.iB)(mr[0])?mr[0]:Yn?(0,pr.WJ)(mr[0]):nt.getTextElementAtPosition(Lt,En):nt.getTextElementAtPosition(Lt,En))===null||en===void 0?void 0:en.fontFamily)||nt.state.currentItemFontFamily,kr=((cn=hr)===null||cn===void 0?void 0:cn.lineHeight)||(0,pr.PT)(dr),Gr=nt.state.currentItemFontSize;if(!hr&&qn&&Yn&&!(0,qt.Yv)(Yn)){var Pr={fontSize:Gr,fontFamily:dr},Qr=(0,pr.AT)((0,ct.mO)(Pr),kr),_i=(0,pr.w_)(Gr,kr),Hr=(0,pr.HE)(Yn),Yr=Math.max(Hr.height,_i),_a=Math.max(Hr.width,Qr);(0,yt.DR)(Yn,{height:Yr,width:_a}),Lt=Yn.x+_a/2,En=Yn.y+Yr/2,nr&&(nr=nt.getTextWysiwygSnappedToCenterPosition(Lt,En,nt.state,Yn))}var $a=hr||(0,Et.VL)({x:nr?nr.elementCenterX:Lt,y:nr?nr.elementCenterY:En,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,text:"",fontSize:Gr,fontFamily:dr,textAlign:nr?"center":nt.state.currentItemTextAlign,verticalAlign:nr?rt.oX.MIDDLE:rt.hs,containerId:qn?Yn==null?void 0:Yn.id:void 0,groupIds:(kn=Yn==null?void 0:Yn.groupIds)!==null&&kn!==void 0?kn:[],lineHeight:kr,angle:(sn=Yn==null?void 0:Yn.angle)!==null&&sn!==void 0?sn:0});if(!hr&&qn&&Yn&&(0,yt.DR)(Yn,{boundElements:(Yn.boundElements||[]).concat({type:"text",id:$a.id})}),nt.setState({editingElement:$a}),!hr)if(Yn&&qn){var ao=nt.scene.getElementIndex(Yn.id);nt.scene.insertElementAtIndex($a,ao+1)}else nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[$a]));nt.setState({editingElement:$a}),nt.handleTextWysiwyg($a,{isExistingElement:!!hr})},this.handleCanvasDoubleClick=function(Ft){if(!nt.state.multiElement&&nt.state.activeTool.type==="selection"){var en=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state);if(en.length===1&&(0,qt.bt)(en[0])){if(Ft[Gt.tW.CTRL_OR_CMD]&&(!nt.state.editingLinearElement||nt.state.editingLinearElement.elementId!==en[0].id))return nt.history.resumeRecording(),void nt.setState({editingLinearElement:new Vt._(en[0],nt.scene)});if(nt.state.editingLinearElement&&nt.state.editingLinearElement.elementId===en[0].id)return}(0,ct.z8)(nt.canvas);var cn=(0,ct.dE)(Ft,nt.state),kn=cn.x,sn=cn.y;if((0,zt.iJ)(nt.state).length>0){var Lt=nt.getElementAtPosition(kn,sn),En=Lt&&(0,zt.YS)(Lt,nt.state.selectedGroupIds);if(En)return void nt.setState(function(Yn){return(0,zt.bO)(_n(_n({},Yn),{},{editingGroupId:En,selectedElementIds:(0,an.Z)({},Lt.id,!0),selectedGroupIds:{}}),nt.scene.getNonDeletedElements())})}if((0,ct.z8)(nt.canvas),!Ft[Gt.tW.CTRL_OR_CMD]&&!nt.state.viewModeEnabled){var Nn=(0,pr.OW)(nt.scene.getNonDeletedElements(),nt.state,kn,sn);if(Nn&&((0,qt.Xo)(Nn)||!(0,ct.Qm)(Nn.backgroundColor)||(0,Q0.Qu)(Nn,nt.state,[kn,sn]))){var Ln=(0,pr.TP)(Nn,nt.state);kn=Ln.x,sn=Ln.y}nt.startTextEditing({sceneX:kn,sceneY:sn,insertAtParentCenter:!Ft.altKey,container:Nn})}}},this.getElementLinkAtPosition=function(Ft,en){var cn=nt.scene.getNonDeletedElements().slice().reverse(),kn=1/0;return cn.find(function(sn,Lt){return en&&sn.id===en.id&&(kn=Lt),sn.link&&Lt<=kn&&(0,Ss.wq)(sn,nt.state,[Ft.x,Ft.y],nt.device.isMobile)})},this.redirectToLink=function(Ft,en){var cn=(0,Mt.LW)(nt.lastPointerDown.clientX,nt.lastPointerDown.clientY,nt.lastPointerUp.clientX,nt.lastPointerUp.clientY);if(!(!nt.hitLinkElement||en&&cn>rt.f||!en&&cn!==0)){var kn=(0,ct.dE)(nt.lastPointerDown,nt.state),sn=(0,Ss.wq)(nt.hitLinkElement,nt.state,[kn.x,kn.y],nt.device.isMobile),Lt=(0,ct.dE)(nt.lastPointerUp,nt.state),En=(0,Ss.wq)(nt.hitLinkElement,nt.state,[Lt.x,Lt.y],nt.device.isMobile);if(sn&&En){var Nn,Ln,Yn=nt.hitLinkElement.link;if(Yn&&(nt.props.onLinkOpen&&(Ln=(0,ct.ag)(rt.Ks.EXCALIDRAW_LINK,Ft.nativeEvent),nt.props.onLinkOpen(nt.hitLinkElement,Ln)),(Nn=Ln)===null||Nn===void 0||!Nn.defaultPrevented)){var qn=(0,Ss.q$)(Yn)?"_self":"_blank",nr=window.open(void 0,qn);nr&&(nr.opener=null,nr.location=(0,Ss.$u)(Yn))}}}},this.handleCanvasPointerMove=function(Ft){nt.savePointer(Ft.clientX,Ft.clientY,nt.state.cursorButton),So.pointers.has(Ft.pointerId)&&So.pointers.set(Ft.pointerId,{x:Ft.clientX,y:Ft.clientY});var en=So.initialScale;if(So.pointers.size===2&&So.lastCenter&&en&&So.initialDistance){var cn=dn(So.pointers),kn=cn.x-So.lastCenter.x,sn=cn.y-So.lastCenter.y;So.lastCenter=cn;var Lt=Yt(Array.from(So.pointers.values())),En=nt.state.activeTool.type==="freedraw"&&nt.state.penMode?1:Lt/So.initialDistance,Nn=En?(0,jt.j)(en*En):nt.state.zoom.value;nt.setState(function(Gl){var Ns=(0,xn.E)({viewportX:cn.x,viewportY:cn.y,nextZoom:Nn},Gl);nt.translateCanvas({zoom:Ns.zoom,scrollX:Ns.scrollX+kn/Nn,scrollY:Ns.scrollY+sn/Nn,shouldCacheIgnoreZoom:!0})}),nt.resetShouldCacheIgnoreZoomDebounced()}else So.lastCenter=So.initialDistance=So.initialScale=null;if(!(Hs||Bu||t0||(0,Wt.l$)(nt.state))){var Ln=(0,jt._4)(su,Ft.clientX-nt.state.offsetLeft,Ft.clientY-nt.state.offsetTop).isOverEither;nt.state.draggingElement||nt.state.multiElement||(Ln?(0,ct.z8)(nt.canvas):(0,ct.Uk)(nt.canvas,nt.state));var Yn=(0,ct.dE)(Ft,nt.state),qn=Yn.x,nr=Yn.y;if(nt.state.editingLinearElement&&!nt.state.editingLinearElement.isDragging){var hr=Vt._.handlePointerMove(Ft,qn,nr,nt.state);hr&&hr!==nt.state.editingLinearElement&&(0,Zn.flushSync)(function(){nt.setState({editingLinearElement:hr})}),(hr==null?void 0:hr.lastUncommittedPoint)!=null?nt.maybeSuggestBindingAtCursor(Yn):(0,Zn.flushSync)(function(){nt.setState({suggestedBindings:[]})})}if((0,qt.Lx)(nt.state.activeTool.type)){var mr=nt.state.draggingElement;(0,qt.Mn)(mr,!1)?nt.maybeSuggestBindingsForLinearElementAtCoords(mr,[Yn],nt.state.startBoundElement):nt.maybeSuggestBindingAtCursor(Yn)}if(nt.state.multiElement){var dr=nt.state.multiElement,kr=dr.x,Gr=dr.y,Pr=dr.points,Qr=dr.lastCommittedPoint,_i=Pr[Pr.length-1];if((0,ct.Uk)(nt.canvas,nt.state),_i===Qr)(0,Mt.LW)(qn-kr,nr-Gr,_i[0],_i[1])>=rt.qx?(0,yt.DR)(dr,{points:[].concat((0,ot.Z)(Pr),[[qn-kr,nr-Gr]])}):(0,ct.KJ)(nt.canvas,rt.oc.POINTER);else if(Pr.length>2&&Qr&&(0,Mt.LW)(qn-kr,nr-Gr,Qr[0],Qr[1])<rt.qx)(0,ct.KJ)(nt.canvas,rt.oc.POINTER),(0,yt.DR)(dr,{points:Pr.slice(0,-1)});else{var Hr,Yr=(0,Mt.wC)(qn,nr,nt.state.gridSize),_a=(0,ht.Z)(Yr,2),$a=_a[0],ao=_a[1],Bo=(Hr=dr==null?void 0:dr.lastCommittedPoint)!==null&&Hr!==void 0?Hr:[0,0],$o=(0,ht.Z)(Bo,2),Ul=$o[0],Il=$o[1],Vo=$a-kr-Ul,Wl=ao-Gr-Il;if((0,Gt.Ge)(Ft)){var Sn=(0,Et.o4)(Ul+kr,Il+Gr,$a,ao);Vo=Sn.width,Wl=Sn.height}(0,Mt.g6)(Pr,nt.state.zoom.value)&&(0,ct.KJ)(nt.canvas,rt.oc.POINTER),(0,yt.DR)(dr,{points:[].concat((0,ot.Z)(Pr.slice(0,-1)),[[Ul+Vo,Il+Wl]])})}}else if(!(Ft.buttons||nt.state.activeTool.type!=="selection"&&nt.state.activeTool.type!=="text"&&nt.state.activeTool.type!=="eraser")){var zo=nt.scene.getNonDeletedElements(),jo=(0,jt.eD)(zo,nt.state);if(jo.length!==1||Ln||nt.state.editingLinearElement){if(jo.length>1&&!Ln){var Wo=(0,Et.n2)((0,Et.KP)(jo),qn,nr,nt.state.zoom,Ft.pointerType);if(Wo)return void(0,ct.KJ)(nt.canvas,(0,Et.Un)({transformHandleType:Wo}))}}else{var Wr=(0,Et.jt)(zo,nt.state,qn,nr,nt.state.zoom,Ft.pointerType);if(Wr&&Wr.transformHandleType)return void(0,ct.KJ)(nt.canvas,(0,Et.Un)(Wr))}var Uo=nt.getElementAtPosition(Yn.x,Yn.y);nt.hitLinkElement=nt.getElementLinkAtPosition(Yn,Uo),(0,Wt.EN)(nt.state)||(nt.hitLinkElement&&!nt.state.selectedElementIds[nt.hitLinkElement.id]?((0,ct.KJ)(nt.canvas,rt.oc.POINTER),(0,Ss.Pp)(nt.hitLinkElement,nt.state)):((0,Ss.lV)(),Uo&&Uo.link&&nt.state.selectedElementIds[Uo.id]&&!nt.state.contextMenu&&!nt.state.showHyperlinkPopup?nt.setState({showHyperlinkPopup:"info"}):nt.state.activeTool.type==="text"?(0,ct.KJ)(nt.canvas,(0,Et.iB)(Uo)?rt.oc.TEXT:rt.oc.CROSSHAIR):nt.state.viewModeEnabled?(0,ct.KJ)(nt.canvas,rt.oc.GRAB):Ln?(0,ct.KJ)(nt.canvas,rt.oc.AUTO):nt.state.selectedLinearElement?nt.handleHoverSelectedLinearElement(nt.state.selectedLinearElement,qn,nr):Ft[Gt.tW.CTRL_OR_CMD]?(0,ct.KJ)(nt.canvas,rt.oc.AUTO):!Uo&&!nt.isHittingCommonBoundingBoxOfSelectedElements(Yn,jo)||Uo!=null&&Uo.locked||(0,ct.KJ)(nt.canvas,rt.oc.MOVE)))}}},this.handleEraser=function(Ft,en,cn){for(var kn=function(mr){mr.forEach(function(dr){dr.locked||(sn.push(dr.id),Ft.altKey?en.elementIdsToErase[dr.id]&&en.elementIdsToErase[dr.id].erase&&(en.elementIdsToErase[dr.id].erase=!1):en.elementIdsToErase[dr.id]||(en.elementIdsToErase[dr.id]={erase:!0,opacity:dr.opacity}))})},sn=[],Lt=(0,Mt.LW)(en.lastCoords.x,en.lastCoords.y,cn.x,cn.y),En=10/nt.state.zoom.value,Nn=_n({},en.lastCoords),Ln=0;Ln<=Lt&&(kn(nt.getElementsAtPosition(Nn.x,Nn.y)),Ln!==Lt);){var Yn=(Ln=Math.min(Ln+En,Lt))/Lt,qn=(1-Yn)*Nn.x+Yn*cn.x,nr=(1-Yn)*Nn.y+Yn*cn.y;Nn.x=qn,Nn.y=nr}var hr=nt.scene.getElementsIncludingDeleted().map(function(mr){var dr=(0,qt.Xh)(mr)&&sn.includes(mr.containerId)?mr.containerId:mr.id;if(sn.includes(dr)){if(!Ft.altKey)return(0,yt.BE)(mr,{opacity:rt.xY});if(en.elementIdsToErase[dr]&&en.elementIdsToErase[dr].erase===!1)return(0,yt.BE)(mr,{opacity:en.elementIdsToErase[dr].opacity})}return mr});nt.scene.replaceAllElements(hr),en.lastCoords.x=cn.x,en.lastCoords.y=cn.y},this.handleTouchMove=function(Ft){Zs=!0},this.handleCanvasPointerDown=function(Ft){var en,cn;if(nt.state.contextMenu&&nt.setState({contextMenu:null}),nt.updateGestureOnPointerDown(Ft),Ft.pointerType==="touch"&&nt.state.draggingElement&&nt.state.draggingElement.type==="freedraw"){var kn=nt.state.draggingElement;nt.updateScene(_n(_n({},kn.points.length<10?{elements:nt.scene.getElementsIncludingDeleted().filter(function(dr){return dr.id!==kn.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Object.keys(nt.state.selectedElementIds).filter(function(dr){return dr!==kn.id}).reduce(function(dr,kr){return dr[kr]=nt.state.selectedElementIds[kr],dr},{})}}))}else{var sn=document.getSelection();if(sn!=null&&sn.anchorNode&&sn.removeAllRanges(),nt.maybeOpenContextMenuAfterPointerDownOnTouchDevices(Ft),nt.maybeCleanupAfterMissingPointerUp(Ft),nt.state.penDetected||Ft.pointerType!=="pen"||nt.setState(function(dr){return{penMode:!0,penDetected:!0}}),!nt.device.isTouchScreen&&["pen","touch"].includes(Ft.pointerType)&&(nt.device=(0,ct.v4)(nt.device,{isTouchScreen:!0})),!Bu&&(nt.lastPointerDown=Ft,nt.setState({lastPointerDownWith:Ft.pointerType,cursorButton:"down"}),nt.savePointer(Ft.clientX,Ft.clientY,"down"),!nt.handleCanvasPanUsingWheelOrSpaceDrag(Ft)&&!(Ft.button!==rt.Oh.MAIN&&Ft.button!==rt.Oh.TOUCH||So.pointers.size>1))){var Lt=nt.initialPointerDownState(Ft);if(!nt.handleDraggingScrollBar(Ft,Lt)&&(nt.clearSelectionIfNotUsingSelection(),nt.updateBindingEnabledOnPointerMove(Ft),!nt.handleSelectionOnPointerDown(Ft,Lt)&&(!nt.state.penMode||Ft.pointerType!=="touch"||nt.state.activeTool.type==="selection"||nt.state.activeTool.type==="text"||nt.state.activeTool.type==="image")))if(nt.state.activeTool.type!=="text"){if(nt.state.activeTool.type==="arrow"||nt.state.activeTool.type==="line")nt.handleLinearElementOnPointerDown(Ft,nt.state.activeTool.type,Lt);else if(nt.state.activeTool.type==="image"){(0,ct.KJ)(nt.canvas,rt.oc.CROSSHAIR);var En=nt.state.pendingImageElementId&&nt.scene.getElement(nt.state.pendingImageElementId);if(!En)return;nt.setState({draggingElement:En,editingElement:En,pendingImageElementId:null,multiElement:null});var Nn=(0,ct.dE)(Ft,nt.state),Ln=Nn.x,Yn=Nn.y;(0,yt.DR)(En,{x:Ln,y:Yn})}else nt.state.activeTool.type==="freedraw"?nt.handleFreeDrawElementOnPointerDown(Ft,nt.state.activeTool.type,Lt):nt.state.activeTool.type==="custom"?(0,ct.KJ)(nt.canvas,rt.oc.AUTO):nt.state.activeTool.type!=="eraser"&&nt.state.activeTool.type!=="hand"&&nt.createGenericElementOnPointerDown(nt.state.activeTool.type,Lt);(en=nt.props)===null||en===void 0||(cn=en.onPointerDown)===null||cn===void 0||cn.call(en,nt.state.activeTool,Lt);var qn=nt.onPointerMoveFromPointerDownHandler(Lt),nr=nt.onPointerUpFromPointerDownHandler(Lt),hr=nt.onKeyDownFromPointerDownHandler(Lt),mr=nt.onKeyUpFromPointerDownHandler(Lt);ss=nr,nt.state.viewModeEnabled||(window.addEventListener(rt.Ks.POINTER_MOVE,qn),window.addEventListener(rt.Ks.POINTER_UP,nr),window.addEventListener(rt.Ks.KEYDOWN,hr),window.addEventListener(rt.Ks.KEYUP,mr),Lt.eventListeners.onMove=qn,Lt.eventListeners.onUp=nr,Lt.eventListeners.onKeyUp=mr,Lt.eventListeners.onKeyDown=hr)}else nt.handleTextOnPointerDown(Ft,Lt)}}},this.handleCanvasPointerUp=function(Ft){if(nt.lastPointerUp=Ft,nt.device.isTouchScreen){var en=(0,ct.dE)({clientX:Ft.clientX,clientY:Ft.clientY},nt.state),cn=nt.getElementAtPosition(en.x,en.y);nt.hitLinkElement=nt.getElementLinkAtPosition(en,cn)}nt.hitLinkElement&&!nt.state.selectedElementIds[nt.hitLinkElement.id]&&nt.redirectToLink(Ft,nt.device.isTouchScreen),nt.removePointer(Ft)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(Ft){Ft.pointerType==="touch"&&(Zs=!1,Ol?Zs=!0:Ol=window.setTimeout(function(){Ol=0,Zs||nt.handleCanvasContextMenu(Ft)},rt.nM))},this.resetContextMenuTimer=function(){clearTimeout(Ol),Ol=0,Zs=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(Ft){if(!(So.pointers.size<=1&&(Ft.button===rt.Oh.WHEEL||Ft.button===rt.Oh.MAIN&&Hs||(0,Wt.l$)(nt.state)||nt.state.viewModeEnabled))||(0,Et.iB)(nt.state.editingElement))return!1;Bu=!0,Ft.preventDefault();var en=!1,cn=/Linux/.test(window.navigator.platform);(0,ct.KJ)(nt.canvas,rt.oc.GRABBING);var kn=Ft.clientX,sn=Ft.clientY,Lt=(0,ct.$9)(function(Nn){var Ln=kn-Nn.clientX,Yn=sn-Nn.clientY;if(kn=Nn.clientX,sn=Nn.clientY,cn&&!en&&(Math.abs(Ln)>1||Math.abs(Yn)>1)){en=!0;var qn=function nr(hr){document.body.removeEventListener(rt.Ks.PASTE,nr),hr.stopPropagation()};document.body.addEventListener(rt.Ks.PASTE,qn),window.addEventListener(rt.Ks.POINTER_UP,function nr(){setTimeout(function(){document.body.removeEventListener(rt.Ks.PASTE,qn),window.removeEventListener(rt.Ks.POINTER_UP,nr)},100)})}nt.translateCanvas({scrollX:nt.state.scrollX-Ln/nt.state.zoom.value,scrollY:nt.state.scrollY-Yn/nt.state.zoom.value})}),En=(0,ct.tH)(ss=function(){ss=null,Bu=!1,Hs||(nt.state.viewModeEnabled?(0,ct.KJ)(nt.canvas,rt.oc.GRAB):(0,ct.Uk)(nt.canvas,nt.state)),nt.setState({cursorButton:"up"}),nt.savePointer(Ft.clientX,Ft.clientY,"up"),window.removeEventListener(rt.Ks.POINTER_MOVE,Lt),window.removeEventListener(rt.Ks.POINTER_UP,En),window.removeEventListener(rt.Ks.BLUR,En),Lt.flush()});return window.addEventListener(rt.Ks.BLUR,En),window.addEventListener(rt.Ks.POINTER_MOVE,Lt,{passive:!0}),window.addEventListener(rt.Ks.POINTER_UP,En),!0},this.clearSelectionIfNotUsingSelection=function(){nt.state.activeTool.type!=="selection"&&nt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(Ft,en){if(nt.state.activeTool.type==="selection"){var cn=nt.scene.getNonDeletedElements(),kn=(0,jt.eD)(cn,nt.state);if(kn.length!==1||nt.state.editingLinearElement)kn.length>1&&(en.resize.handleType=(0,Et.n2)((0,Et.KP)(kn),en.origin.x,en.origin.y,nt.state.zoom,Ft.pointerType));else{var sn=(0,Et.jt)(cn,nt.state,en.origin.x,en.origin.y,nt.state.zoom,Ft.pointerType);sn!=null&&(nt.setState({resizingElement:sn.element}),en.resize.handleType=sn.transformHandleType)}if(en.resize.handleType)(0,ct.KJ)(nt.canvas,(0,Et.Un)({transformHandleType:en.resize.handleType})),en.resize.isResizing=!0,en.resize.offset=(0,ct.AK)((0,Et.xx)(en.resize.handleType,kn,en.origin.x,en.origin.y)),kn.length===1&&(0,qt.bt)(kn[0])&&kn[0].points.length===2&&(en.resize.arrowDirection=(0,Et.T)(en.resize.handleType,kn[0]));else{var Lt;if(nt.state.selectedLinearElement){var En=nt.state.editingLinearElement||nt.state.selectedLinearElement,Nn=Vt._.handlePointerDown(Ft,nt.state,nt.history,en.origin,En);if(Nn.hitElement&&(en.hit.element=Nn.hitElement),Nn.linearElementEditor&&(nt.setState({selectedLinearElement:Nn.linearElementEditor}),nt.state.editingLinearElement&&nt.setState({editingLinearElement:Nn.linearElementEditor})),Nn.didAddPoint)return!0}if(en.hit.element=(Lt=en.hit.element)!==null&&Lt!==void 0?Lt:nt.getElementAtPosition(en.origin.x,en.origin.y),en.hit.element&&nt.getElementLinkAtPosition({x:en.origin.x,y:en.origin.y},en.hit.element))return!1;en.hit.allHitElements=nt.getElementsAtPosition(en.origin.x,en.origin.y);var Ln=en.hit.element,Yn=en.hit.allHitElements.some(function(qn){return nt.isASelectedElement(qn)});if(Ln!==null&&Yn||Ft.shiftKey||en.hit.hasHitCommonBoundingBoxOfSelectedElements||nt.clearSelection(Ln),nt.state.editingLinearElement)nt.setState({selectedElementIds:(0,an.Z)({},nt.state.editingLinearElement.elementId,!0)});else if(Ln!=null){if(Ft[Gt.tW.CTRL_OR_CMD])return nt.state.selectedElementIds[Ln.id]||(en.hit.wasAddedToSelection=!0),nt.setState(function(qn){return _n(_n({},(0,zt.iE)(qn,Ln)),{},{previousSelectedElementIds:nt.state.selectedElementIds})}),!1;nt.state.selectedElementIds[Ln.id]||(nt.state.editingGroupId&&!(0,zt.Nd)(Ln,nt.state.editingGroupId)&&nt.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),Yn||en.hit.hasHitCommonBoundingBoxOfSelectedElements||(nt.setState(function(qn){return(0,zt.bO)(_n(_n({},qn),{},{selectedElementIds:_n(_n({},qn.selectedElementIds),{},(0,an.Z)({},Ln.id,!0)),showHyperlinkPopup:!!Ln.link&&"info"}),nt.scene.getNonDeletedElements())}),en.hit.wasAddedToSelection=!0))}nt.setState({previousSelectedElementIds:nt.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(Ft,en){if(!(0,Et.iB)(nt.state.editingElement)){var cn=en.origin.x,kn=en.origin.y,sn=nt.getElementAtPosition(cn,kn,{includeBoundTextElement:!0}),Lt=(0,pr.OW)(nt.scene.getNonDeletedElements(),nt.state,cn,kn);(0,qt.Xo)(sn)&&(Lt=sn,cn=sn.x+sn.width/2,kn=sn.y+sn.height/2),nt.startTextEditing({sceneX:cn,sceneY:kn,insertAtParentCenter:!Ft.altKey,container:Lt}),(0,ct.z8)(nt.canvas),nt.state.activeTool.locked||nt.setState({activeTool:(0,ct.Om)(nt.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(Ft,en,cn){var kn=(0,Mt.wC)(cn.origin.x,cn.origin.y,null),sn=(0,ht.Z)(kn,2),Lt=sn[0],En=sn[1],Nn=(0,Pt.KE)({type:en,x:Lt,y:En,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,roundness:null,simulatePressure:Ft.pressure===.5,locked:!1});nt.setState(function(qn){return{selectedElementIds:_n(_n({},qn.selectedElementIds),{},(0,an.Z)({},Nn.id,!1))}});var Ln=Nn.simulatePressure?Nn.pressures:[].concat((0,ot.Z)(Nn.pressures),[Ft.pressure]);(0,yt.DR)(Nn,{points:[[0,0]],pressures:Ln});var Yn=(0,Ct.Y9)(cn.origin,nt.scene);nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[Nn])),nt.setState({draggingElement:Nn,editingElement:Nn,startBoundElement:Yn,suggestedBindings:[]})},this.createImageElement=function(Ft){var en=Ft.sceneX,cn=Ft.sceneY,kn=(0,Mt.wC)(en,cn,nt.state.gridSize),sn=(0,ht.Z)(kn,2),Lt=sn[0],En=sn[1];return(0,Et.vw)({type:"image",x:Lt,y:En,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,roundness:null,opacity:nt.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(Ft,en,cn){if(nt.state.multiElement){var kn=nt.state.multiElement;if(kn.type==="line"&&(0,Mt.g6)(kn.points,nt.state.zoom.value))return(0,yt.DR)(kn,{lastCommittedPoint:kn.points[kn.points.length-1]}),void nt.actionManager.executeAction(ft.pL);var sn=kn.x,Lt=kn.y,En=kn.lastCommittedPoint;if(kn.points.length>1&&En&&(0,Mt.LW)(cn.origin.x-sn,cn.origin.y-Lt,En[0],En[1])<rt.qx)return void nt.actionManager.executeAction(ft.pL);nt.setState(function(Hr){return{selectedElementIds:_n(_n({},Hr.selectedElementIds),{},(0,an.Z)({},kn.id,!0))}}),(0,yt.DR)(kn,{lastCommittedPoint:kn.points[kn.points.length-1]}),(0,ct.KJ)(nt.canvas,rt.oc.POINTER)}else{var Nn=(0,Mt.wC)(cn.origin.x,cn.origin.y,nt.state.gridSize),Ln=(0,ht.Z)(Nn,2),Yn=Ln[0],qn=Ln[1],nr=nt.state,hr=nr.currentItemStartArrowhead,mr=nr.currentItemEndArrowhead,dr=en==="arrow"?[hr,mr]:[null,null],kr=(0,ht.Z)(dr,2),Gr=kr[0],Pr=kr[1],Qr=(0,Et.y8)({type:en,x:Yn,y:qn,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,roundness:nt.state.currentItemRoundness==="round"?{type:rt.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:Gr,endArrowhead:Pr,locked:!1});nt.setState(function(Hr){return{selectedElementIds:_n(_n({},Hr.selectedElementIds),{},(0,an.Z)({},Qr.id,!1))}}),(0,yt.DR)(Qr,{points:[].concat((0,ot.Z)(Qr.points),[[0,0]])});var _i=(0,Ct.Y9)(cn.origin,nt.scene);nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[Qr])),nt.setState({draggingElement:Qr,editingElement:Qr,startBoundElement:_i,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(Ft,en){var cn=(0,Mt.wC)(en.origin.x,en.origin.y,nt.state.gridSize),kn=(0,ht.Z)(cn,2),sn=kn[0],Lt=kn[1],En=(0,Et.Up)({type:Ft,x:sn,y:Lt,strokeColor:nt.state.currentItemStrokeColor,backgroundColor:nt.state.currentItemBackgroundColor,fillStyle:nt.state.currentItemFillStyle,strokeWidth:nt.state.currentItemStrokeWidth,strokeStyle:nt.state.currentItemStrokeStyle,roughness:nt.state.currentItemRoughness,opacity:nt.state.currentItemOpacity,roundness:nt.state.currentItemRoundness==="round"?{type:(0,qt.QI)(Ft)?rt.a6.ADAPTIVE_RADIUS:rt.a6.PROPORTIONAL_RADIUS}:null,locked:!1});En.type==="selection"?nt.setState({selectionElement:En,draggingElement:En}):(nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[En])),nt.setState({multiElement:null,draggingElement:En,editingElement:En}))},this.restoreReadyToEraseElements=function(Ft){var en=nt.scene.getElementsIncludingDeleted().map(function(cn){return Ft.elementIdsToErase[cn.id]&&Ft.elementIdsToErase[cn.id].erase?(0,yt.BE)(cn,{opacity:Ft.elementIdsToErase[cn.id].opacity}):(0,qt.Xh)(cn)&&Ft.elementIdsToErase[cn.containerId]&&Ft.elementIdsToErase[cn.containerId].erase?(0,yt.BE)(cn,{opacity:Ft.elementIdsToErase[cn.containerId].opacity}):cn});nt.scene.replaceAllElements(en)},this.eraseElements=function(Ft){var en=nt.scene.getElementsIncludingDeleted().map(function(cn){return Ft.elementIdsToErase[cn.id]&&Ft.elementIdsToErase[cn.id].erase||(0,qt.Xh)(cn)&&Ft.elementIdsToErase[cn.containerId]&&Ft.elementIdsToErase[cn.containerId].erase?(0,yt.BE)(cn,{isDeleted:!0}):cn});nt.history.resumeRecording(),nt.scene.replaceAllElements(en)},this.initializeImage=function(){var Ft=(0,at.Z)(Qt().mark(function en(cn){var kn,sn,Lt,En,Nn,Ln,Yn,qn,nr,hr,mr,dr,kr,Gr,Pr;return Qt().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(En=cn.imageFile,Nn=cn.imageElement,Ln=cn.showCursorImagePreview,Yn=Ln!==void 0&&Ln,(0,Ir.Wr)(En)){Qr.next=3;break}throw new Error((0,bt.t)("errors.unsupportedFileType"));case 3:if(qn=En.type,(0,ct.KJ)(nt.canvas,"wait"),qn!==rt.LO.svg){Qr.next=23;break}return Qr.prev=6,Qr.t0=Ir.Pn,Qr.t1=cs.bp,Qr.next=11,En.text();case 11:return Qr.t2=Qr.sent,Qr.next=14,(0,Qr.t1)(Qr.t2);case 14:Qr.t3=Qr.sent,Qr.t4=En.name,En=(0,Qr.t0)(Qr.t3,Qr.t4),Qr.next=23;break;case 19:throw Qr.prev=19,Qr.t5=Qr.catch(6),console.warn(Qr.t5),new Error((0,bt.t)("errors.svgImageInsertError"));case 23:return Qr.next=25,((kn=(sn=nt.props).generateIdForFile)===null||kn===void 0?void 0:kn.call(sn,En))||(0,Ir.tW)(En);case 25:if(nr=Qr.sent){Qr.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,bt.t)("errors.imageInsertError"));case 29:if((hr=nt.files[nr])!=null&&hr.dataURL){Qr.next=42;break}return Qr.prev=31,Qr.next=34,(0,Ir.Tu)(En,{maxWidthOrHeight:rt.h6});case 34:En=Qr.sent,Qr.next=40;break;case 37:Qr.prev=37,Qr.t6=Qr.catch(31),console.error("error trying to resing image file on insertion",Qr.t6);case 40:if(!(En.size>rt.$n)){Qr.next=42;break}throw new Error((0,bt.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(rt.$n/1024/1024),"MB")}));case 42:if(Yn&&(dr=(mr=nt.files[nr])===null||mr===void 0?void 0:mr.dataURL,kr=dr&&(0,Ir.KG)(dr),nt.setImagePreviewCursor(kr||En)),Qr.t7=(Lt=nt.files[nr])===null||Lt===void 0?void 0:Lt.dataURL,Qr.t7){Qr.next=48;break}return Qr.next=47,(0,Ir.Sf)(En);case 47:Qr.t7=Qr.sent;case 48:return Gr=Qr.t7,Pr=(0,yt.DR)(Nn,{fileId:nr},!1),Qr.abrupt("return",new Promise(function(){var _i=(0,at.Z)(Qt().mark(function Hr(Yr,_a){var $a,ao;return Qt().wrap(function(Bo){for(;;)switch(Bo.prev=Bo.next){case 0:if(Bo.prev=0,nt.files=_n(_n({},nt.files),{},(0,an.Z)({},nr,{mimeType:qn,id:nr,dataURL:Gr,created:Date.now(),lastRetrieved:Date.now()})),ao=nt.imageCache.get(nr)){Bo.next=7;break}return nt.addNewImagesToImageCache(),Bo.next=7,nt.updateImageCache([Pr]);case 7:if(!((ao==null?void 0:ao.image)instanceof Promise)){Bo.next=10;break}return Bo.next=10,ao.image;case 10:nt.state.pendingImageElementId!==Pr.id&&(($a=nt.state.draggingElement)===null||$a===void 0?void 0:$a.id)!==Pr.id&&nt.initializeImageDimensions(Pr,!0),Yr(Pr),Bo.next=18;break;case 14:Bo.prev=14,Bo.t0=Bo.catch(0),console.error(Bo.t0),_a(new Error((0,bt.t)("errors.imageInsertError")));case 18:return Bo.prev=18,Yn||(0,ct.z8)(nt.canvas),Bo.finish(18);case 21:case"end":return Bo.stop()}},Hr,null,[[0,14,18,21]])}));return function(Hr,Yr){return _i.apply(this,arguments)}}()));case 51:case"end":return Qr.stop()}},en,null,[[6,19],[31,37]])}));return function(en){return Ft.apply(this,arguments)}}(),this.insertImageElement=function(){var Ft=(0,at.Z)(Qt().mark(function en(cn,kn,sn){return Qt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return nt.scene.replaceAllElements([].concat((0,ot.Z)(nt.scene.getElementsIncludingDeleted()),[cn])),Lt.prev=1,Lt.next=4,nt.initializeImage({imageFile:kn,imageElement:cn,showCursorImagePreview:sn});case 4:Lt.next=11;break;case 6:Lt.prev=6,Lt.t0=Lt.catch(1),(0,yt.DR)(cn,{isDeleted:!0}),nt.actionManager.executeAction(ft.pL),nt.setState({errorMessage:Lt.t0.message||(0,bt.t)("errors.imageInsertError")});case 11:case"end":return Lt.stop()}},en,null,[[1,6]])}));return function(en,cn,kn){return Ft.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var Ft=(0,at.Z)(Qt().mark(function en(cn){var kn,sn,Lt,En,Nn,Ln,Yn;return Qt().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:return kn=96,qn.next=3,(0,Ir.Tu)(cn,{maxWidthOrHeight:kn});case 3:return sn=qn.sent,qn.next=6,(0,Ir.Sf)(sn);case 6:if(Lt=qn.sent,cn.type!==rt.LO.svg){qn.next=20;break}return qn.next=10,(0,cs.PK)(Lt);case 10:En=qn.sent,Nn=Math.min(En.height,kn),(Ln=Nn*(En.width/En.height))>kn&&(Nn=(Ln=kn)*(En.height/En.width)),(Yn=document.createElement("canvas")).height=Nn,Yn.width=Ln,Yn.getContext("2d").drawImage(En,0,0,Ln,Nn),Lt=Yn.toDataURL(rt.LO.svg);case 20:nt.state.pendingImageElementId&&(0,ct.KJ)(nt.canvas,"url(".concat(Lt,") 4 4, auto"));case 21:case"end":return qn.stop()}},en)}));return function(en){return Ft.apply(this,arguments)}}(),this.onImageAction=(0,at.Z)(Qt().mark(function Ft(){var en,cn,kn,sn,Lt,En,Nn,Ln,Yn,qn=arguments;return Qt().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:return en=qn.length>0&&qn[0]!==void 0?qn[0]:{insertOnCanvasDirectly:!1},cn=en.insertOnCanvasDirectly,nr.prev=1,kn=nt.state.width/2+nt.state.offsetLeft,sn=nt.state.height/2+nt.state.offsetTop,Lt=(0,ct.dE)({clientX:kn,clientY:sn},nt.state),En=Lt.x,Nn=Lt.y,nr.next=7,(0,Kr.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:Ln=nr.sent,Yn=nt.createImageElement({sceneX:En,sceneY:Nn}),cn?(nt.insertImageElement(Yn,Ln),nt.initializeImageDimensions(Yn),nt.setState({selectedElementIds:(0,an.Z)({},Yn.id,!0)},function(){nt.actionManager.executeAction(ft.pL)})):nt.setState({pendingImageElementId:Yn.id},function(){nt.insertImageElement(Yn,Ln,!0)}),nr.next=16;break;case 12:nr.prev=12,nr.t0=nr.catch(1),nr.t0.name!=="AbortError"?console.error(nr.t0):console.warn(nr.t0),nt.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,ct.Om)(nt.state,{type:"selection"})},function(){nt.actionManager.executeAction(ft.pL)});case 16:case"end":return nr.stop()}},Ft,null,[[1,12]])})),this.initializeImageDimensions=function(Ft){var en,cn=arguments.length>1&&arguments[1]!==void 0&&arguments[1],kn=(0,qt.wi)(Ft)&&((en=nt.imageCache.get(Ft.fileId))===null||en===void 0?void 0:en.image);if(!kn||kn instanceof Promise){if(Ft.width<rt.f/nt.state.zoom.value&&Ft.height<rt.f/nt.state.zoom.value){var sn=100/nt.state.zoom.value;(0,yt.DR)(Ft,{x:Ft.x-sn/2,y:Ft.y-sn/2,width:sn,height:sn})}}else if(cn||Ft.width<rt.f/nt.state.zoom.value&&Ft.height<rt.f/nt.state.zoom.value){var Lt=Math.max(nt.state.height-120,160),En=Math.min(Lt,Math.floor(.5*nt.state.height)/nt.state.zoom.value),Nn=Math.min(kn.naturalHeight,En),Ln=Nn*(kn.naturalWidth/kn.naturalHeight),Yn=Ft.x+Ft.width/2-Ln/2,qn=Ft.y+Ft.height/2-Nn/2;(0,yt.DR)(Ft,{x:Yn,y:qn,width:Ln,height:Nn})}},this.updateImageCache=function(){var Ft=(0,at.Z)(Qt().mark(function en(cn){var kn,sn,Lt,En,Nn,Ln,Yn,qn=arguments;return Qt().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:return kn=qn.length>1&&qn[1]!==void 0?qn[1]:nt.files,nr.next=3,(0,cs.Xx)({imageCache:nt.imageCache,fileIds:cn.map(function(hr){return hr.fileId}),files:kn});case 3:if(sn=nr.sent,Lt=sn.updatedFiles,En=sn.erroredFiles,Lt.size||En.size){Nn=U0(cn);try{for(Nn.s();!(Ln=Nn.n()).done;)Yn=Ln.value,Lt.has(Yn.fileId)&&(0,hn.bI)(Yn)}catch(hr){Nn.e(hr)}finally{Nn.f()}}return En.size&&nt.scene.replaceAllElements(nt.scene.getElementsIncludingDeleted().map(function(hr){return(0,qt.wi)(hr)&&En.has(hr.fileId)?(0,yt.BE)(hr,{status:"error"}):hr})),nr.abrupt("return",{updatedFiles:Lt,erroredFiles:En});case 9:case"end":return nr.stop()}},en)}));return function(en){return Ft.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,at.Z)(Qt().mark(function Ft(){var en,cn,kn,sn,Lt=arguments;return Qt().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(en=Lt.length>0&&Lt[0]!==void 0?Lt[0]:(0,cs.oA)(nt.scene.getNonDeletedElements()),cn=Lt.length>1&&Lt[1]!==void 0?Lt[1]:nt.files,!(kn=en.filter(function(Nn){return!Nn.isDeleted&&!nt.imageCache.has(Nn.fileId)})).length){En.next=9;break}return En.next=6,nt.updateImageCache(kn,cn);case 6:sn=En.sent,sn.updatedFiles.size&&nt.scene.informMutation();case 9:case"end":return En.stop()}},Ft)})),this.scheduleImageRefresh=oI()(function(){nt.addNewImagesToImageCache()},rt.LL),this.updateBindingEnabledOnPointerMove=function(Ft){var en=(0,Ct.cz)(Ft);nt.state.isBindingEnabled!==en&&nt.setState({isBindingEnabled:en})},this.maybeSuggestBindingAtCursor=function(Ft){var en=(0,Ct.Y9)(Ft,nt.scene);nt.setState({suggestedBindings:en!=null?[en]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(Ft,en,cn){if(en.length){var kn=en.reduce(function(sn,Lt){var En=(0,Ct.Y9)(Lt,nt.scene);return En==null||(0,Ct.DK)(Ft,cn==null?void 0:cn.id,En)||sn.push(En),sn},[]);nt.setState({suggestedBindings:kn})}},this.handleCanvasRef=function(Ft){var en,cn,kn;Ft!==null?(nt.canvas=Ft,nt.rc=mn.Z.canvas(nt.canvas),nt.canvas.addEventListener(rt.Ks.WHEEL,nt.handleWheel,{passive:!1}),nt.canvas.addEventListener(rt.Ks.TOUCH_START,nt.onTapStart),nt.canvas.addEventListener(rt.Ks.TOUCH_END,nt.onTapEnd)):((en=nt.canvas)===null||en===void 0||en.removeEventListener(rt.Ks.WHEEL,nt.handleWheel),(cn=nt.canvas)===null||cn===void 0||cn.removeEventListener(rt.Ks.TOUCH_START,nt.onTapStart),(kn=nt.canvas)===null||kn===void 0||kn.removeEventListener(rt.Ks.TOUCH_END,nt.onTapEnd))},this.handleAppOnDrop=function(){var Ft=(0,at.Z)(Qt().mark(function en(cn){var kn,sn,Lt,En,Nn,Ln,Yn,qn,nr,hr;return Qt().wrap(function(mr){for(;;)switch(mr.prev=mr.next){case 0:return mr.next=2,(0,Ir.bv)(cn);case 2:if(kn=mr.sent,sn=kn.file,Lt=kn.fileHandle,mr.prev=5,!(0,Ir.Wr)(sn)){mr.next=26;break}if((sn==null?void 0:sn.type)!==rt.LO.png&&(sn==null?void 0:sn.type)!==rt.LO.svg){mr.next=20;break}return mr.prev=8,mr.next=11,(0,In.cT)(sn,nt.state,nt.scene.getElementsIncludingDeleted(),Lt);case 11:return En=mr.sent,nt.syncActionResult(_n(_n({},En),{},{appState:_n(_n({},En.appState||nt.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),mr.abrupt("return");case 16:if(mr.prev=16,mr.t0=mr.catch(8),mr.t0.name==="EncodingError"){mr.next=20;break}throw mr.t0;case 20:return Nn=(0,ct.dE)(cn,nt.state),Ln=Nn.x,Yn=Nn.y,qn=nt.createImageElement({sceneX:Ln,sceneY:Yn}),nt.insertImageElement(qn,sn),nt.initializeImageDimensions(qn),nt.setState({selectedElementIds:(0,an.Z)({},qn.id,!0)}),mr.abrupt("return");case 26:mr.next=31;break;case 28:return mr.prev=28,mr.t1=mr.catch(5),mr.abrupt("return",nt.setState({isLoading:!1,errorMessage:mr.t1.message}));case 31:if(!(nr=cn.dataTransfer.getData(rt.LO.excalidrawlib))||typeof nr!="string"){mr.next=35;break}try{hr=(0,Ir.wf)(nr),nt.addElementsFromPasteOrLibrary({elements:(0,rn.WV)(hr),position:cn,files:null})}catch(dr){nt.setState({errorMessage:dr.message})}return mr.abrupt("return");case 35:if(!sn){mr.next=38;break}return mr.next=38,nt.loadFileToCanvas(sn,Lt);case 38:case"end":return mr.stop()}},en,null,[[5,28],[8,16]])}));return function(en){return Ft.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var Ft=(0,at.Z)(Qt().mark(function en(cn,kn){var sn;return Qt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,(0,Ir.gY)(cn);case 2:return cn=Lt.sent,Lt.prev=3,Lt.next=6,(0,Ir.ZY)(cn,nt.state,nt.scene.getElementsIncludingDeleted(),kn);case 6:if((sn=Lt.sent).type!==rt.LO.excalidraw){Lt.next=12;break}nt.setState({isLoading:!0}),nt.syncActionResult(_n(_n({},sn.data),{},{appState:_n(_n({},sn.data.appState||nt.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Lt.next=15;break;case 12:if(sn.type!==rt.LO.excalidrawlib){Lt.next=15;break}return Lt.next=15,nt.library.updateLibrary({libraryItems:cn,merge:!0,openLibraryMenu:!0}).catch(function(En){console.error(En),nt.setState({errorMessage:(0,bt.t)("errors.importLibraryError")})});case 15:Lt.next=20;break;case 17:Lt.prev=17,Lt.t0=Lt.catch(3),nt.setState({isLoading:!1,errorMessage:Lt.t0.message});case 20:case"end":return Lt.stop()}},en,null,[[3,17]])}));return function(en,cn){return Ft.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(Ft){if(Ft.preventDefault(),Ft.nativeEvent.pointerType!=="touch"&&(Ft.nativeEvent.pointerType!=="pen"||Ft.button===rt.Oh.SECONDARY)||nt.state.activeTool.type==="selection"){var en=(0,ct.dE)(Ft,nt.state),cn=en.x,kn=en.y,sn=nt.getElementAtPosition(cn,kn,{preferSelected:!0,includeLockedElements:!0}),Lt=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state),En=nt.isHittingCommonBoundingBoxOfSelectedElements({x:cn,y:kn},Lt),Nn=sn||En?"element":"canvas",Ln=nt.excalidrawContainerRef.current.getBoundingClientRect(),Yn=Ln.top,qn=Ln.left,nr=Ft.clientX-qn,hr=Ft.clientY-Yn;(0,Tt.L)("contextMenu","openContextMenu",Nn),nt.setState(_n(_n({},sn&&!nt.state.selectedElementIds[sn.id]?(0,zt.bO)(_n(_n({},nt.state),{},{selectedElementIds:(0,an.Z)({},sn.id,!0),selectedLinearElement:(0,qt.bt)(sn)?new Vt._(sn,nt.scene):null}),nt.scene.getNonDeletedElements()):nt.state),{},{showHyperlinkPopup:!1}),function(){nt.setState({contextMenu:{top:hr,left:nr,items:nt.getContextMenuItems(Nn)}})})}},this.maybeDragNewGenericElement=function(Ft,en){var cn=nt.state.draggingElement,kn=Ft.lastCoords;if(cn)if(cn.type==="selection"&&nt.state.activeTool.type!=="eraser")(0,Et.EJ)(cn,nt.state.activeTool.type,Ft.origin.x,Ft.origin.y,kn.x,kn.y,(0,ct.TE)(Ft.origin.x,kn.x),(0,ct.TE)(Ft.origin.y,kn.y),(0,Gt.E0)(en),(0,Gt.OA)(en));else{var sn,Lt=(0,Mt.wC)(kn.x,kn.y,nt.state.gridSize),En=(0,ht.Z)(Lt,2),Nn=En[0],Ln=En[1],Yn=(0,qt.wi)(cn)&&((sn=nt.imageCache.get(cn.fileId))===null||sn===void 0?void 0:sn.image),qn=!Yn||Yn instanceof Promise?null:Yn.width/Yn.height;(0,Et.EJ)(cn,nt.state.activeTool.type,Ft.originInGrid.x,Ft.originInGrid.y,Nn,Ln,(0,ct.TE)(Ft.originInGrid.x,Nn),(0,ct.TE)(Ft.originInGrid.y,Ln),(0,qt.pC)(cn)?!(0,Gt.E0)(en):(0,Gt.E0)(en),(0,Gt.OA)(en),qn),nt.maybeSuggestBindingForAll([cn])}},this.maybeHandleResize=function(Ft,en){var cn=(0,jt.eD)(nt.scene.getNonDeletedElements(),nt.state),kn=Ft.resize.handleType;nt.setState({isResizing:kn&&kn!=="rotation",isRotating:kn==="rotation"});var sn=Ft.lastCoords,Lt=(0,Mt.wC)(sn.x-Ft.resize.offset.x,sn.y-Ft.resize.offset.y,nt.state.gridSize),En=(0,ht.Z)(Lt,2),Nn=En[0],Ln=En[1];return!!(0,Et.vY)(Ft,kn,cn,Ft.resize.arrowDirection,(0,Gt.Ge)(en),(0,Gt.OA)(en),cn.length===1&&(0,qt.pC)(cn[0])?!(0,Gt.E0)(en):(0,Gt.E0)(en),Nn,Ln,Ft.resize.center.x,Ft.resize.center.y)&&(nt.maybeSuggestBindingForAll(cn),!0)},this.getContextMenuItems=function(Ft){var en=[];return en.push(ft.jK,ft.FA),Ft==="canvas"?nt.state.viewModeEnabled?[].concat(en,[ft.Pb,ft.JN,Ku,ft.u0]):[F0.yQ,er,ft.jK,ft.FA,ft.zp,er,ft.Yy,er,ft.Pb,ft.JN,Ku,ft.u0]:(en.push(ft.zp),nt.state.viewModeEnabled?[ft.uN].concat(en):[ft.ZM,ft.uN,F0.yQ,er].concat(en,[er,ft.pw,ft.W3,er,ft.EQ,ft.y7,ft.vD,lI.JQ,ft.s,er,ft.FL,er,ft.V,ft.yA,ft.zi,ft.BZ,er,ft.jl,ft.kt,er,ft.Qs,ft.nz,ft.xF,ft.iL,er,ft.X9]))},this.handleWheel=(0,ct.tH)(function(Ft){if(Ft.preventDefault(),!Bu){var en=Ft.deltaX,cn=Ft.deltaY;if(Ft.metaKey||Ft.ctrlKey){var kn=Math.sign(cn),sn=100*rt.V4,Lt=Math.abs(cn),En=cn;Lt>sn&&(En=sn*kn);var Nn=nt.state.zoom.value-En/100;return Nn+=Math.log10(Math.max(1,nt.state.zoom.value))*-kn*Math.min(1,Lt/20),nt.translateCanvas(function(Ln){return _n(_n({},(0,xn.E)({viewportX:Xs,viewportY:Cs,nextZoom:(0,jt.j)(Nn)},Ln)),{},{shouldCacheIgnoreZoom:!0})}),void nt.resetShouldCacheIgnoreZoomDebounced()}Ft.shiftKey?nt.translateCanvas(function(Ln){var Yn=Ln.zoom;return{scrollX:Ln.scrollX-(cn||en)/Yn.value}}):nt.translateCanvas(function(Ln){var Yn=Ln.zoom,qn=Ln.scrollX,nr=Ln.scrollY;return{scrollX:qn-en/Yn.value,scrollY:nr-cn/Yn.value}})}}),this.savePointer=function(Ft,en,cn){var kn,sn;if(Ft&&en){var Lt=(0,ct.dE)({clientX:Ft,clientY:en},nt.state);isNaN(Lt.x)||isNaN(Lt.y),(kn=(sn=nt.props).onPointerUpdate)===null||kn===void 0||kn.call(sn,{pointer:Lt,button:cn,pointersMap:So.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,ct.Ds)(function(){nt.unmounted||nt.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(Ft){var en;if((en=nt.excalidrawContainerRef)!==null&&en!==void 0&&en.current){var cn=nt.excalidrawContainerRef.current.getBoundingClientRect(),kn=cn.width,sn=cn.height,Lt=cn.left,En=cn.top,Nn=nt.state,Ln=Nn.width,Yn=Nn.height,qn=Nn.offsetTop,nr=Nn.offsetLeft;if(kn===Ln&&sn===Yn&&Lt===nr&&En===qn)return void(Ft&&Ft());nt.setState({width:kn,height:sn,offsetLeft:Lt,offsetTop:En},function(){Ft&&Ft()})}},this.refresh=function(){nt.setState(_n({},nt.getCanvasOffsets()))}};rt.Vi.TEST!=="production"&&rt.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var nt;return(nt=this.app)===null||nt===void 0?void 0:nt.scene.getElementsIncludingDeleted()},set:function(nt){var Ft;return(Ft=this.app)===null||Ft===void 0?void 0:Ft.scene.replaceAllElements(nt)}}}));var Du=zs},3807:function(Ht,St,_){_.d(St,{o:function(){return pn}});var pt=_(45),ht=_(3646),ot=_(487),at=_.n(ot),gt=_(631),xt=_.n(gt),vt=_(2052),it=_.n(vt),kt=_(4010),Ot=_.n(kt),an=_(1469),gn=_.n(an),Qt=_(9329),bn=_.n(Qt),fn=_(6029),Zn={};Zn.styleTagTransform=bn(),Zn.setAttributes=Ot(),Zn.insert=it().bind(null,"head"),Zn.domAPI=xt(),Zn.insertStyleElement=gn(),at()(fn.Z,Zn),fn.Z&&fn.Z.locals&&fn.Z.locals;var mn=_(4512),pn=function(An){var ft=An.children,Rt=An.checked,Bt=An.onChange,bt=An.className;return(0,mn.jsxs)("div",{className:(0,pt.Z)("Checkbox",bt,{"is-checked":Rt}),onClick:function(Gt){Bt(!Rt,Gt),Gt.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,mn.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":Rt,children:ht.eQ}),(0,mn.jsx)("div",{className:"Checkbox-label",children:ft})]})}},4499:function(Ht,St,_){_.d(St,{z:function(){return _e}});var pt=_(2577),ht=_(9787),ot=_.n(ht),at=_(2891),gt=_(6340),xt=_(487),vt=_.n(xt),it=_(631),kt=_.n(it),Ot=_(2052),an=_.n(Ot),gn=_(4010),Qt=_.n(gn),bn=_(1469),fn=_.n(bn),Zn=_(9329),mn=_.n(Zn),pn=_(2345),An={};An.styleTagTransform=mn(),An.setAttributes=Qt(),An.insert=an().bind(null,"head"),An.domAPI=kt(),An.insertStyleElement=fn(),vt()(pn.Z,An),pn.Z&&pn.Z.locals&&pn.Z.locals;var ft=_(6066),Rt=_(8211),Bt=_(56),bt=_(4512),Gt=function(lt,st){return!Bt.Z[st].includes(lt)},yt=function(lt){var st=new Option().style;return st.color=lt,!!st.color},Ct=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),ct=function(lt){var st=lt.colors,It=lt.color,Tt=lt.onChange,tn=lt.onClose,Nt=lt.label,$t=lt.showInput,Wt=$t===void 0||$t,Dt=lt.type,In=lt.elements,rn=ot().useRef(),_t=ot().useRef(),Et=ot().useRef(),Vt=ot().useRef(),Pt=ot().useState(function(){return Dt==="canvasBackground"?[]:function(Yt,Xt){for(var zt=[],At=Yt.filter(function(Mt){return!Mt.isDeleted}).sort(function(Mt,un){return un.updated-Mt.updated}),Ut=0,wt={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[Xt];Ut<At.length&&zt.length<5;){var Jt=At[Ut];zt.length<5&&Gt(Jt[wt],Xt)&&!zt.includes(Jt[wt])&&zt.push(Jt[wt]),Ut++}return zt}(In,Dt)}),qt=(0,pt.Z)(Pt,1)[0];ot().useEffect(function(){_t.current?_t.current.focus():Vt.current?Vt.current.focus():Et.current&&Et.current.focus()},[]);var dn=function(Yt){var Xt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Yt.map(function(zt,At){var Ut=zt.replace("#",""),wt=Xt?Ct[At+15]:Ct[At],Jt=Xt?Ut:(0,Rt.t)("colors.".concat(Ut));return(0,bt.jsxs)("button",{className:"color-picker-swatch",onClick:function(Mt){Mt.currentTarget.focus(),Tt(zt)},title:"".concat(Jt).concat((0,gt.Qm)(zt)?"":" (".concat(zt,")"),"  ").concat(wt.toUpperCase()),"aria-label":Jt,"aria-keyshortcuts":Ct[At],style:{color:zt},ref:function(Mt){!Xt&&Mt&&At===0&&(rn.current=Mt),Mt&&zt===It&&(_t.current=Mt)},onFocus:function(){Tt(zt)},children:[(0,gt.Qm)(zt)?(0,bt.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,bt.jsx)("span",{className:"color-picker-keybinding",children:wt})]},zt)})};return(0,bt.jsxs)("div",{className:"color-picker color-picker-type-".concat(Dt),role:"dialog","aria-modal":"true","aria-label":(0,Rt.t)("labels.colorPicker"),onKeyDown:function(Yt){var Xt=!1;if((0,ft.Wl)(Yt.key)){var zt,At,Ut;Xt=!0;var wt,Jt=document.activeElement,Mt=(0,Rt.G3)().rtl,un=!1,hn=Array.prototype.indexOf.call((zt=Et.current.querySelector(".color-picker-content--default"))===null||zt===void 0?void 0:zt.children,Jt);hn===-1&&(hn=Array.prototype.indexOf.call((wt=Et.current.querySelector(".color-picker-content--canvas-colors"))===null||wt===void 0?void 0:wt.children,Jt))!==-1&&(un=!0);var jt=un?(At=Et.current)===null||At===void 0?void 0:At.querySelector(".color-picker-content--canvas-colors"):(Ut=Et.current)===null||Ut===void 0?void 0:Ut.querySelector(".color-picker-content--default");if(jt&&hn!==-1){var vn,xn=jt.children.length-(Wt?1:0),Gn=Yt.key===(Mt?ft.tW.ARROW_LEFT:ft.tW.ARROW_RIGHT)?(hn+1)%xn:Yt.key===(Mt?ft.tW.ARROW_RIGHT:ft.tW.ARROW_LEFT)?(xn+hn-1)%xn:un||Yt.key!==ft.tW.ARROW_DOWN?un||Yt.key!==ft.tW.ARROW_UP?hn:(xn+hn-5)%xn:(hn+5)%xn;(vn=jt.children[Gn])===null||vn===void 0||vn.focus()}Yt.preventDefault()}else if(!Ct.includes(Yt.key.toLowerCase())||Yt[ft.tW.CTRL_OR_CMD]||Yt.altKey||(0,gt.s)(Yt.target))Yt.key!==ft.tW.ESCAPE&&Yt.key!==ft.tW.ENTER||(Xt=!0,Yt.preventDefault(),tn());else{var Zt,Xn,Cn;Xt=!0;var Qn=Ct.indexOf(Yt.key.toLowerCase()),Tn=Qn>=15,Pn=Tn?Et==null||(Zt=Et.current)===null||Zt===void 0?void 0:Zt.querySelector(".color-picker-content--canvas-colors"):Et==null||(Xn=Et.current)===null||Xn===void 0?void 0:Xn.querySelector(".color-picker-content--default"),tr=Tn?Qn-15:Qn;Pn==null||(Cn=Pn.children[tr])===null||Cn===void 0||Cn.focus(),Yt.preventDefault()}Xt&&(Yt.nativeEvent.stopImmediatePropagation(),Yt.stopPropagation())},children:[(0,bt.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,bt.jsx)("div",{className:"color-picker-triangle"}),(0,bt.jsxs)("div",{className:"color-picker-content",ref:function(Yt){Yt&&(Et.current=Yt)},tabIndex:-1,children:[(0,bt.jsx)("div",{className:"color-picker-content--default",children:dn(st)}),!!qt.length&&(0,bt.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,bt.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,Rt.t)("labels.canvasColors")}),(0,bt.jsx)("div",{className:"color-picker-content--canvas-colors",children:dn(qt,!0)})]}),Wt&&(0,bt.jsx)(rt,{color:It,label:Nt,onChange:function(Yt){Tt(Yt)},ref:Vt})]})]})},rt=ot().forwardRef(function(lt,st){var It=lt.color,Tt=lt.onChange,tn=lt.label,Nt=ot().useState(It),$t=(0,pt.Z)(Nt,2),Wt=$t[0],Dt=$t[1],In=ot().useRef(null);ot().useEffect(function(){Dt(It)},[It]),ot().useImperativeHandle(st,function(){return In.current});var rn=ot().useCallback(function(_t){var Et=_t.toLowerCase(),Vt=function(Pt){return(0,gt.Qm)(Pt)?Pt:yt("#".concat(Pt))?"#".concat(Pt):yt(Pt)?Pt:null}(Et);Vt&&Tt(Vt),Dt(Et)},[Tt]);return(0,bt.jsxs)("label",{className:"color-input-container",children:[(0,bt.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,bt.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":tn,onChange:function(_t){return rn(_t.target.value)},value:(Wt||"").replace(/^#/,""),onBlur:function(){return Dt(It)},ref:In})]})});rt.displayName="ColorInput";var _e=function(lt){var st,It=lt.type,Tt=lt.color,tn=lt.onChange,Nt=lt.label,$t=lt.isActive,Wt=lt.setActive,Dt=lt.elements,In=(lt.appState,ot().useRef(null)),rn=(st=In.current)===null||st===void 0?void 0:st.getBoundingClientRect();return(0,bt.jsxs)("div",{children:[(0,bt.jsxs)("div",{className:"color-picker-control-container",children:[(0,bt.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,bt.jsx)("button",{className:"color-picker-label-swatch","aria-label":Nt,style:Tt?{"--swatch-color":Tt}:void 0,onClick:function(){return Wt(!$t)},ref:In})}),(0,bt.jsx)(rt,{color:Tt,label:Nt,onChange:function(_t){tn(_t)}})]}),(0,bt.jsx)(ot().Suspense,{fallback:"",children:$t?(0,bt.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:rn==null?void 0:rn.top,left:rn==null?void 0:rn.right,zIndex:1},children:(0,bt.jsx)(at.J,{onCloseRequest:function(_t){return _t.target!==In.current&&Wt(!1)},children:(0,bt.jsx)(ct,{colors:Bt.Z[It],color:Tt||null,onChange:function(_t){tn(_t)},onClose:function(){var _t;Wt(!1),(_t=In.current)===null||_t===void 0||_t.focus()},label:Nt,showInput:!1,type:It,elements:Dt})})}):null})]})}},7046:function(Ht,St,_){_.d(St,{Z:function(){return rt}});var pt=_(7169),ht=_(2726),ot=_(8211),at=_(8396),gt=_(487),xt=_.n(gt),vt=_(631),it=_.n(vt),kt=_(2052),Ot=_.n(kt),an=_(4010),gn=_.n(an),Qt=_(1469),bn=_.n(Qt),fn=_(9329),Zn=_.n(fn),mn=_(9393),pn={};pn.styleTagTransform=Zn(),pn.setAttributes=gn(),pn.insert=Ot().bind(null,"head"),pn.domAPI=it(),pn.insertStyleElement=bn(),xt()(mn.Z,pn),mn.Z&&mn.Z.locals&&mn.Z.locals;var An=_(6428),ft=_(4739),Rt=_(9206),Bt=_(2134),bt=_(9487),Gt=_(4512),yt=["onConfirm","onCancel","children","confirmText","cancelText","className"];function Ct(_e,lt){var st=Object.keys(_e);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_e);lt&&(It=It.filter(function(Tt){return Object.getOwnPropertyDescriptor(_e,Tt).enumerable})),st.push.apply(st,It)}return st}function ct(_e){for(var lt=1;lt<arguments.length;lt++){var st=arguments[lt]!=null?arguments[lt]:{};lt%2?Ct(Object(st),!0).forEach(function(It){(0,pt.Z)(_e,It,st[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(st)):Ct(Object(st)).forEach(function(It){Object.defineProperty(_e,It,Object.getOwnPropertyDescriptor(st,It))})}return _e}var rt=function(_e){var lt=_e.onConfirm,st=_e.onCancel,It=_e.children,Tt=_e.confirmText,tn=Tt===void 0?(0,ot.t)("buttons.confirm"):Tt,Nt=_e.cancelText,$t=Nt===void 0?(0,ot.t)("buttons.cancel"):Nt,Wt=_e.className,Dt=Wt===void 0?"":Wt,In=(0,ht.Z)(_e,yt),rn=(0,Bt.n9)(),_t=(0,ft.b9)(Rt.u,bt.yE);return(0,Gt.jsxs)(at.V,ct(ct({onCloseRequest:st,small:!0},In),{},{className:"confirm-dialog ".concat(Dt),children:[It,(0,Gt.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,Gt.jsx)(An.Z,{label:$t,onClick:function(){rn({openMenu:null}),_t(!1),st()}}),(0,Gt.jsx)(An.Z,{label:tn,onClick:function(){rn({openMenu:null}),_t(!1),lt()},actionType:"danger"})]})]}))}},8396:function(Ht,St,_){_.d(St,{V:function(){return tn}});var pt=_(2577),ht=_(45),ot=_(9787),at=_(8211),gt=_(2134),xt=_(6066),vt=_(487),it=_.n(vt),kt=_(631),Ot=_.n(kt),an=_(2052),gn=_.n(an),Qt=_(4010),bn=_.n(Qt),fn=_(1469),Zn=_.n(fn),mn=_(9329),pn=_.n(mn),An=_(9482),ft={};ft.styleTagTransform=pn(),ft.setAttributes=bn(),ft.insert=gn().bind(null,"head"),ft.domAPI=Ot(),ft.insertStyleElement=Zn(),it()(An.Z,ft),An.Z&&An.Z.locals&&An.Z.locals;var Rt=_(3646),Bt=_(1881),bt=_(6843),Gt={};Gt.styleTagTransform=pn(),Gt.setAttributes=bn(),Gt.insert=gn().bind(null,"head"),Gt.domAPI=Ot(),Gt.insertStyleElement=Zn(),it()(bt.Z,Gt),bt.Z&&bt.Z.locals&&bt.Z.locals;var yt=_(5156),Ct=_(2335),ct=_(4512),rt=function(Nt){var $t=Nt.theme,Wt=$t===void 0?Ct.C6.LIGHT:$t,Dt=Nt.closeOnClickOutside,In=Dt===void 0||Dt,rn=_e(Wt);return rn?(0,yt.createPortal)((0,ct.jsxs)("div",{className:(0,ht.Z)("Modal",Nt.className),role:"dialog","aria-modal":"true",onKeyDown:function(_t){_t.key===xt.tW.ESCAPE&&(_t.nativeEvent.stopImmediatePropagation(),_t.stopPropagation(),Nt.onCloseRequest())},"aria-labelledby":Nt.labelledBy,"data-prevent-outside-click":!0,children:[(0,ct.jsx)("div",{className:"Modal__background",onClick:In?Nt.onCloseRequest:void 0}),(0,ct.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(Nt.maxWidth,"px")},tabIndex:0,children:Nt.children})]}),rn):null},_e=function(Nt){var $t=(0,ot.useState)(null),Wt=(0,pt.Z)($t,2),Dt=Wt[0],In=Wt[1],rn=(0,gt.Fy)(),_t=(0,ot.useRef)(rn.isMobile);_t.current=rn.isMobile;var Et=(0,gt.J0)().container;return(0,ot.useLayoutEffect)(function(){Dt&&Dt.classList.toggle("excalidraw--mobile",rn.isMobile)},[Dt,rn.isMobile]),(0,ot.useLayoutEffect)(function(){var Vt=!(Et==null||!Et.classList.contains("theme--dark"))||Nt==="dark",Pt=document.createElement("div");return Pt.classList.add("excalidraw","excalidraw-modal-container"),Pt.classList.toggle("excalidraw--mobile",_t.current),Vt&&(Pt.classList.add("theme--dark"),Pt.classList.add("theme--dark-background-none")),document.body.appendChild(Pt),In(Pt),function(){document.body.removeChild(Pt)}},[Et,Nt]),Dt},lt=_(6340),st=_(4739),It=_(9206),Tt=_(9487),tn=function(Nt){var $t=function(){var dn=(0,ot.useState)(null),Yt=(0,pt.Z)(dn,2),Xt=Yt[0],zt=Yt[1];return[Xt,(0,ot.useCallback)(function(At){return zt(At)},[])]}(),Wt=(0,pt.Z)($t,2),Dt=Wt[0],In=Wt[1],rn=(0,ot.useState)(document.activeElement),_t=(0,pt.Z)(rn,1)[0],Et=(0,gt.J0)().id;(0,ot.useEffect)(function(){if(Dt){var dn=(0,lt.xp)(Dt);dn.length>0&&Nt.autofocus!==!1&&(dn[1]||dn[0]).focus();var Yt=function(Xt){if(Xt.key===xt.tW.TAB){var zt=(0,lt.xp)(Dt),At=document.activeElement,Ut=zt.findIndex(function(wt){return wt===At});Ut===0&&Xt.shiftKey?(zt[zt.length-1].focus(),Xt.preventDefault()):Ut!==zt.length-1||Xt.shiftKey||(zt[0].focus(),Xt.preventDefault())}};return Dt.addEventListener("keydown",Yt),function(){return Dt.removeEventListener("keydown",Yt)}}},[Dt,Nt.autofocus]);var Vt=(0,gt.n9)(),Pt=(0,st.b9)(It.u,Tt.yE),qt=function(){Vt({openMenu:null}),Pt(!1),_t.focus(),Nt.onCloseRequest()};return(0,ct.jsx)(rt,{className:(0,ht.Z)("Dialog",Nt.className),labelledBy:"dialog-title",maxWidth:Nt.small?550:800,onCloseRequest:qt,theme:Nt.theme,closeOnClickOutside:Nt.closeOnClickOutside,children:(0,ct.jsxs)(Bt.W,{ref:In,children:[(0,ct.jsxs)("h2",{id:"".concat(Et,"-dialog-title"),className:"Dialog__title",children:[(0,ct.jsx)("span",{className:"Dialog__titleContent",children:Nt.title}),(0,ct.jsx)("button",{className:"Modal__close",onClick:qt,title:(0,at.t)("buttons.close"),"aria-label":(0,at.t)("buttons.close"),children:(0,gt.Fy)().isMobile?Rt.op:Rt.Tw})]}),(0,ct.jsx)("div",{className:"Dialog__content",children:Nt.children})]})})}},6428:function(Ht,St,_){_.d(St,{Z:function(){return bt}});var pt=_(7169),ht=_(2726),ot=_(45),at=_(487),gt=_.n(at),xt=_(631),vt=_.n(xt),it=_(2052),kt=_.n(it),Ot=_(4010),an=_.n(Ot),gn=_(1469),Qt=_.n(gn),bn=_(9329),fn=_.n(bn),Zn=_(6148),mn={};mn.styleTagTransform=fn(),mn.setAttributes=an(),mn.insert=kt().bind(null,"head"),mn.domAPI=vt(),mn.insertStyleElement=Qt(),gt()(Zn.Z,mn),Zn.Z&&Zn.Z.locals&&Zn.Z.locals;var pn=_(5644),An=_(4512),ft=["label","onClick","className","children","actionType","type","isLoading"];function Rt(Gt,yt){var Ct=Object.keys(Gt);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(Gt);yt&&(ct=ct.filter(function(rt){return Object.getOwnPropertyDescriptor(Gt,rt).enumerable})),Ct.push.apply(Ct,ct)}return Ct}function Bt(Gt){for(var yt=1;yt<arguments.length;yt++){var Ct=arguments[yt]!=null?arguments[yt]:{};yt%2?Rt(Object(Ct),!0).forEach(function(ct){(0,pt.Z)(Gt,ct,Ct[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gt,Object.getOwnPropertyDescriptors(Ct)):Rt(Object(Ct)).forEach(function(ct){Object.defineProperty(Gt,ct,Object.getOwnPropertyDescriptor(Ct,ct))})}return Gt}var bt=function(Gt){var yt=Gt.label,Ct=Gt.onClick,ct=Gt.className,rt=Gt.children,_e=Gt.actionType,lt=Gt.type,st=lt===void 0?"button":lt,It=Gt.isLoading,Tt=(0,ht.Z)(Gt,ft),tn=_e?"Dialog__action-button--".concat(_e):"";return(0,An.jsxs)("button",Bt(Bt({className:(0,ot.Z)("Dialog__action-button",tn,ct),type:st,"aria-label":yt,onClick:Ct},Tt),{},{children:[rt&&(0,An.jsx)("div",{style:It?{visibility:"hidden"}:{},children:rt}),(0,An.jsx)("div",{style:It?{visibility:"hidden"}:{},children:yt}),It&&(0,An.jsx)("div",{style:{position:"absolute",inset:0},children:(0,An.jsx)(pn.Z,{})})]}))}},1881:function(Ht,St,_){_.d(St,{W:function(){return Bt}});var pt=_(7169),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),vt=_.n(xt),it=_(4010),kt=_.n(it),Ot=_(1469),an=_.n(Ot),gn=_(9329),Qt=_.n(gn),bn=_(7369),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=kt(),fn.insert=vt().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=an(),ot()(bn.Z,fn),bn.Z&&bn.Z.locals&&bn.Z.locals;var Zn=_(9787),mn=_.n(Zn),pn=_(45),An=_(4512);function ft(bt,Gt){var yt=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(bt);Gt&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(bt,ct).enumerable})),yt.push.apply(yt,Ct)}return yt}function Rt(bt){for(var Gt=1;Gt<arguments.length;Gt++){var yt=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?ft(Object(yt),!0).forEach(function(Ct){(0,pt.Z)(bt,Ct,yt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(yt)):ft(Object(yt)).forEach(function(Ct){Object.defineProperty(bt,Ct,Object.getOwnPropertyDescriptor(yt,Ct))})}return bt}var Bt=mn().forwardRef(function(bt,Gt){var yt=bt.children,Ct=bt.padding,ct=bt.className,rt=bt.style;return(0,An.jsx)("div",{className:(0,pn.Z)("Island",ct),style:Rt({"--padding":Ct},rt),ref:Gt,children:yt})})},9206:function(Ht,St,_){_.d(St,{W:function(){return zt},u:function(){return Yt}});var pt=_(8950),ht=_(2577),ot=_(2975),at=_.n(ot),gt=_(9787),xt=_(5523),vt=_(7053),it=_(8211),kt=_(3646),Ot=_(1319),an=_(1393),gn=_(6340),Qt=_(4739),bn=_(9487),fn=_(7046),Zn=_(7169),mn=_(5284),pn=_(8396),An=_(3024),ft=_(2335),Rt=_(434),Bt=_(6428),bt=_(487),Gt=_.n(bt),yt=_(631),Ct=_.n(yt),ct=_(2052),rt=_.n(ct),_e=_(4010),lt=_.n(_e),st=_(1469),It=_.n(st),Tt=_(9329),tn=_.n(Tt),Nt=_(7589),$t={};$t.styleTagTransform=tn(),$t.setAttributes=lt(),$t.insert=rt().bind(null,"head"),$t.domAPI=Ct(),$t.insertStyleElement=It(),Gt()(Nt.Z,$t),Nt.Z&&Nt.Z.locals&&Nt.Z.locals;var Wt=_(4512);function Dt(At,Ut){var wt=Object.keys(At);if(Object.getOwnPropertySymbols){var Jt=Object.getOwnPropertySymbols(At);Ut&&(Jt=Jt.filter(function(Mt){return Object.getOwnPropertyDescriptor(At,Mt).enumerable})),wt.push.apply(wt,Jt)}return wt}function In(At){for(var Ut=1;Ut<arguments.length;Ut++){var wt=arguments[Ut]!=null?arguments[Ut]:{};Ut%2?Dt(Object(wt),!0).forEach(function(Jt){(0,Zn.Z)(At,Jt,wt[Jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(At,Object.getOwnPropertyDescriptors(wt)):Dt(Object(wt)).forEach(function(Jt){Object.defineProperty(At,Jt,Object.getOwnPropertyDescriptor(wt,Jt))})}return At}function rn(At,Ut){var wt=typeof Symbol<"u"&&At[Symbol.iterator]||At["@@iterator"];if(!wt){if(Array.isArray(At)||(wt=function(vn,xn){if(vn){if(typeof vn=="string")return _t(vn,xn);var Gn=Object.prototype.toString.call(vn).slice(8,-1);if(Gn==="Object"&&vn.constructor&&(Gn=vn.constructor.name),Gn==="Map"||Gn==="Set")return Array.from(vn);if(Gn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gn))return _t(vn,xn)}}(At))||Ut&&At&&typeof At.length=="number"){wt&&(At=wt);var Jt=0,Mt=function(){};return{s:Mt,n:function(){return Jt>=At.length?{done:!0}:{done:!1,value:At[Jt++]}},e:function(vn){throw vn},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var un,hn=!0,jt=!1;return{s:function(){wt=wt.call(At)},n:function(){var vn=wt.next();return hn=vn.done,vn},e:function(vn){jt=!0,un=vn},f:function(){try{hn||wt.return==null||wt.return()}finally{if(jt)throw un}}}}function _t(At,Ut){(Ut==null||Ut>At.length)&&(Ut=At.length);for(var wt=0,Jt=new Array(Ut);wt<Ut;wt++)Jt[wt]=At[wt];return Jt}var Et="publish-library-data",Vt=function(){var At=(0,pt.Z)(at().mark(function Ut(wt){var Jt,Mt,un,hn,jt,vn,xn,Gn,Zt,Xn,Cn,Qn,Tn,Pn,tr,ir,gr;return at().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:Jt=6,Mt=128,un=Math.round(Mt/16),hn=Math.max(Math.round(Mt/64),2),jt=(0,gn.yo)(wt,Jt),(vn=document.createElement("canvas")).width=jt[0].length*Mt+(jt[0].length+1)*(2*un)-2*un,vn.height=jt.length*Mt+(jt.length+1)*(2*un)-2*un,(xn=vn.getContext("2d")).fillStyle=mn.white,xn.fillRect(0,0,vn.width,vn.height),Gn=rn(wt.entries()),Wn.prev=12,Gn.s();case 14:if((Zt=Gn.n()).done){Wn.next=28;break}return Xn=(0,ht.Z)(Zt.value,2),Cn=Xn[0],Qn=Xn[1],Wn.next=18,(0,An.NL)({elements:Qn.elements,files:null,maxWidthOrHeight:Mt});case 18:Tn=Wn.sent,Pn=Tn.width,tr=Tn.height,ir=Math.floor(Cn/Jt)*(Mt+2*un),gr=Cn%Jt*(Mt+2*un),xn.drawImage(Tn,gr+(Mt-Pn)/2+un,ir+(Mt-tr)/2+un),xn.lineWidth=hn,xn.strokeStyle=mn.gray[4],xn.strokeRect(gr+un/2,ir+un/2,Mt+un,Mt+un);case 26:Wn.next=14;break;case 28:Wn.next=33;break;case 30:Wn.prev=30,Wn.t0=Wn.catch(12),Gn.e(Wn.t0);case 33:return Wn.prev=33,Gn.f(),Wn.finish(33);case 36:return Wn.t1=Rt.Tu,Wn.t2=File,Wn.next=40,(0,Rt._c)(vn);case 40:return Wn.t3=Wn.sent,Wn.t4=[Wn.t3],Wn.t5={type:ft.LO.png},Wn.t6=new Wn.t2(Wn.t4,"preview",Wn.t5),Wn.t7={outputType:ft.LO.jpg,maxWidthOrHeight:5e3},Wn.next=47,(0,Wn.t1)(Wn.t6,Wn.t7);case 47:return Wn.abrupt("return",Wn.sent);case 48:case"end":return Wn.stop()}},Ut,null,[[12,30,33,36]])}));return function(Ut){return At.apply(this,arguments)}}(),Pt=function(At){var Ut=At.libItem,wt=At.appState,Jt=At.index,Mt=At.onChange,un=At.onRemove,hn=(0,gt.useRef)(null),jt=(0,gt.useRef)(null);return(0,gt.useEffect)(function(){var vn=hn.current;vn&&(0,pt.Z)(at().mark(function xn(){var Gn;return at().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.next=2,(0,An.$D)({elements:Ut.elements,appState:In(In({},wt),{},{viewBackgroundColor:mn.white,exportBackground:!0}),files:null});case 2:Gn=Zt.sent,vn.innerHTML=Gn.outerHTML;case 4:case"end":return Zt.stop()}},xn)}))()},[Ut.elements,wt]),(0,Wt.jsxs)("div",{className:"single-library-item",children:[Ut.status==="published"&&(0,Wt.jsx)("span",{className:"single-library-item-status",children:(0,it.t)("labels.statusPublished")}),(0,Wt.jsx)("div",{ref:hn,className:"single-library-item__svg"}),(0,Wt.jsx)(Ot.V,{"aria-label":(0,it.t)("buttons.remove"),type:"button",icon:kt.Tw,className:"single-library-item--remove",onClick:un.bind(null,Ut.id),title:(0,it.t)("buttons.remove")}),(0,Wt.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,Wt.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,Wt.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,Wt.jsx)("span",{style:{fontWeight:500,color:mn.gray[6]},children:(0,it.t)("publishDialog.itemName")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("input",{type:"text",ref:jt,style:{width:"80%",padding:"0.2rem"},defaultValue:Ut.name,placeholder:"Item name",onChange:function(vn){Mt(vn.target.value,Jt)}})]}),(0,Wt.jsx)("span",{className:"error",children:Ut.error})]})]})},qt=function(At){var Ut=At.onClose,wt=At.libraryItems,Jt=At.appState,Mt=At.onSuccess,un=At.onError,hn=At.updateItemsInStorage,jt=At.onRemove,vn=(0,gt.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),xn=(0,ht.Z)(vn,2),Gn=xn[0],Zt=xn[1],Xn=(0,gt.useState)(!1),Cn=(0,ht.Z)(Xn,2),Qn=Cn[0],Tn=Cn[1];(0,gt.useEffect)(function(){var Jn=function(){try{var er=localStorage.getItem(Et);if(er)return JSON.parse(er)}catch(cr){console.error(cr)}return null}();Jn&&Zt(Jn)},[]);var Pn=(0,gt.useState)(wt.slice()),tr=(0,ht.Z)(Pn,2),ir=tr[0],gr=tr[1];(0,gt.useEffect)(function(){gr(wt.slice())},[wt]);var Wn,ln=function(Jn){Zt(In(In({},Gn),{},(0,Zn.Z)({},Jn.target.name,Jn.target.value)))},Un=function(){var Jn=(0,pt.Z)(at().mark(function er(cr){var or,ur,Ur,Zr,yr,Ar,pr;return at().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:if(cr.preventDefault(),Tn(!0),or=[],ur=!1,ir.forEach(function(Or){var ba="";Or.name||(ba=(0,it.t)("publishDialog.errors.required"),ur=!0),or.push(In(In({},Or),{},{error:ba}))}),!ur){Nr.next=9;break}return gr(or),Tn(!1),Nr.abrupt("return");case 9:return Nr.next=11,Vt(ir);case 11:Ur=Nr.sent,Zr={type:ft.r8.excalidrawLibrary,version:ft.Kr.excalidrawLibrary,source:ft.pb,libraryItems:ir},yr=JSON.stringify(Zr,null,2),Ar=new Blob([yr],{type:"application/json"}),(pr=new FormData).append("excalidrawLib",Ar),pr.append("previewImage",Ur),pr.append("previewImageType",Ur.type),pr.append("title",Gn.name),pr.append("authorName",Gn.authorName),pr.append("githubHandle",Gn.githubHandle),pr.append("name",Gn.name),pr.append("description",Gn.description),pr.append("twitterHandle",Gn.twitterHandle),pr.append("website",Gn.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:pr}).then(function(Or){return Or.ok?Or.json().then(function(ba){var ho=ba.url;localStorage.removeItem(Et),Mt({url:ho,authorName:Gn.authorName,items:ir})}):Or.json().catch(function(){throw new Error(Or.statusText||"something went wrong")}).then(function(ba){throw new Error(ba.message||Or.statusText||"something went wrong")})},function(Or){console.error(Or),un(Or),Tn(!1)}).catch(function(Or){console.error(Or),un(Or),Tn(!1)});case 27:case"end":return Nr.stop()}},er)}));return function(er){return Jn.apply(this,arguments)}}(),wn=(0,gt.useCallback)(function(){hn(ir),function(Jn){try{localStorage.setItem(Et,JSON.stringify(Jn))}catch(er){console.error(er)}}(Gn),Ut()},[ir,Ut,hn,Gn]),Mn=!!wt.length,zn=wt.some(function(Jn){return Jn.status==="published"});return(0,Wt.jsx)(pn.V,{onCloseRequest:wn,title:(0,it.t)("publishDialog.title"),className:"publish-library",children:Mn?(0,Wt.jsxs)("form",{onSubmit:Un,children:[(0,Wt.jsxs)("div",{className:"publish-library-note",children:[(0,it.t)("publishDialog.noteDescription.pre"),(0,Wt.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,it.t)("publishDialog.noteDescription.link")})," ",(0,it.t)("publishDialog.noteDescription.post")]}),(0,Wt.jsxs)("span",{className:"publish-library-note",children:[(0,it.t)("publishDialog.noteGuidelines.pre"),(0,Wt.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,it.t)("publishDialog.noteGuidelines.link")}),(0,it.t)("publishDialog.noteGuidelines.post")]}),(0,Wt.jsx)("div",{className:"publish-library-note",children:(0,it.t)("publishDialog.noteItems")}),zn&&(0,Wt.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,it.t)("publishDialog.republishWarning")}),(Wn=[],ir.forEach(function(Jn,er){Wn.push((0,Wt.jsx)("div",{className:"single-library-item-wrapper",children:(0,Wt.jsx)(Pt,{libItem:Jn,appState:Jt,index:er,onChange:function(cr,or){var ur=ir.slice();ur[or].name=cr,gr(ur)},onRemove:jt})},er))}),(0,Wt.jsx)("div",{className:"selected-library-items",children:Wn})),(0,Wt.jsxs)("div",{className:"publish-library__fields",children:[(0,Wt.jsxs)("label",{children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{children:(0,it.t)("publishDialog.libraryName")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("input",{type:"text",name:"name",required:!0,value:Gn.name,onChange:ln,placeholder:(0,it.t)("publishDialog.placeholder.libraryName")})]}),(0,Wt.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{children:(0,it.t)("publishDialog.libraryDesc")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("textarea",{name:"description",rows:4,required:!0,value:Gn.description,onChange:ln,placeholder:(0,it.t)("publishDialog.placeholder.libraryDesc")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsxs)("div",{children:[(0,Wt.jsx)("span",{children:(0,it.t)("publishDialog.authorName")}),(0,Wt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,Wt.jsx)("input",{type:"text",name:"authorName",required:!0,value:Gn.authorName,onChange:ln,placeholder:(0,it.t)("publishDialog.placeholder.authorName")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsx)("span",{children:(0,it.t)("publishDialog.githubUsername")}),(0,Wt.jsx)("input",{type:"text",name:"githubHandle",value:Gn.githubHandle,onChange:ln,placeholder:(0,it.t)("publishDialog.placeholder.githubHandle")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsx)("span",{children:(0,it.t)("publishDialog.twitterUsername")}),(0,Wt.jsx)("input",{type:"text",name:"twitterHandle",value:Gn.twitterHandle,onChange:ln,placeholder:(0,it.t)("publishDialog.placeholder.twitterHandle")})]}),(0,Wt.jsxs)("label",{children:[(0,Wt.jsx)("span",{children:(0,it.t)("publishDialog.website")}),(0,Wt.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,it.t)("publishDialog.errors.website"),value:Gn.website,onChange:ln,placeholder:(0,it.t)("publishDialog.placeholder.website")})]}),(0,Wt.jsxs)("span",{className:"publish-library-note",children:[(0,it.t)("publishDialog.noteLicense.pre"),(0,Wt.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,it.t)("publishDialog.noteLicense.link")}),(0,it.t)("publishDialog.noteLicense.post")]})]}),(0,Wt.jsxs)("div",{className:"publish-library__buttons",children:[(0,Wt.jsx)(Bt.Z,{label:(0,it.t)("buttons.cancel"),onClick:wn,"data-testid":"cancel-clear-canvas-button"}),(0,Wt.jsx)(Bt.Z,{type:"submit",label:(0,it.t)("buttons.submit"),actionType:"primary",isLoading:Qn})]})]}):(0,Wt.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,it.t)("publishDialog.atleastOneLibItem")})})},dn=_(9127),Yt=(0,Qt.cn)(!1),Xt=function(At,Ut){return At.filter(function(wt){return Ut.includes(wt.id)})},zt=function(At){var Ut=At.setAppState,wt=At.selectedItems,Jt=At.library,Mt=At.onRemoveFromLibrary,un=At.resetLibrary,hn=At.onSelectItems,jt=At.appState,vn=(0,Qt.KO)(vt.rF,bn.yE),xn=(0,ht.Z)(vn,1)[0],Gn=(0,Qt.KO)(Yt,bn.yE),Zt=(0,ht.Z)(Gn,2),Xn=Zt[0],Cn=Zt[1],Qn=(0,gt.useCallback)(function(){var Ar=wt.length?(0,it.t)("alerts.removeItemsFromsLibrary",{count:wt.length}):(0,it.t)("alerts.resetLibrary"),pr=wt.length?(0,it.t)("confirmDialog.removeItemsFromLib"):(0,it.t)("confirmDialog.resetLibrary");return(0,Wt.jsx)(fn.Z,{onConfirm:function(){wt.length?Mt():un(),ir(!1)},onCancel:function(){ir(!1)},title:pr,children:(0,Wt.jsx)("p",{children:Ar})})},[wt,Mt,un]),Tn=(0,gt.useState)(!1),Pn=(0,ht.Z)(Tn,2),tr=Pn[0],ir=Pn[1],gr=!!wt.length,Wn=gr?xn.libraryItems.filter(function(Ar){return wt.includes(Ar.id)}):xn.libraryItems,ln=gr?(0,it.t)("buttons.remove"):(0,it.t)("buttons.resetLibrary"),Un=(0,gt.useState)(!1),wn=(0,ht.Z)(Un,2),Mn=wn[0],zn=wn[1],Jn=(0,gt.useState)(null),er=(0,ht.Z)(Jn,2),cr=er[0],or=er[1],ur=(0,gt.useCallback)(function(){return(0,Wt.jsxs)(pn.V,{onCloseRequest:function(){return or(null)},title:(0,it.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,Wt.jsxs)("p",{children:[(0,it.t)("publishSuccessDialog.content",{authorName:cr.authorName})," ",(0,Wt.jsx)("a",{href:cr==null?void 0:cr.url,target:"_blank",rel:"noopener noreferrer",children:(0,it.t)("publishSuccessDialog.link")})]}),(0,Wt.jsx)(Ot.V,{type:"button",title:(0,it.t)("buttons.close"),"aria-label":(0,it.t)("buttons.close"),label:(0,it.t)("buttons.close"),onClick:function(){return or(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[or,cr]),Ur=(0,gt.useCallback)(function(Ar,pr){zn(!1),or({url:Ar.url,authorName:Ar.authorName});var Nr=pr.slice();Nr.forEach(function(Or){wt.includes(Or.id)&&(Or.status="published")}),Jt.setLibrary(Nr)},[zn,or,wt,Jt]),Zr=function(){var Ar=(0,pt.Z)(at().mark(function pr(){return at().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:return Nr.prev=0,Nr.next=3,Jt.updateLibrary({libraryItems:(0,an.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:Nr.next=11;break;case 5:if(Nr.prev=5,Nr.t0=Nr.catch(0),(Nr.t0===null||Nr.t0===void 0?void 0:Nr.t0.name)!=="AbortError"){Nr.next=10;break}return console.warn(Nr.t0),Nr.abrupt("return");case 10:Ut({errorMessage:(0,it.t)("errors.importLibraryError")});case 11:case"end":return Nr.stop()}},pr,null,[[0,5]])}));return function(){return Ar.apply(this,arguments)}}(),yr=function(){var Ar=(0,pt.Z)(at().mark(function pr(){var Nr;return at().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(!gr){Or.next=4;break}Or.t0=Wn,Or.next=7;break;case 4:return Or.next=6,Jt.getLatestLibrary();case 6:Or.t0=Or.sent;case 7:Nr=Or.t0,(0,xt.t1)(Nr).catch(gn.FG).catch(function(ba){Ut({errorMessage:ba.message})});case 9:case"end":return Or.stop()}},pr)}));return function(){return Ar.apply(this,arguments)}}();return(0,Wt.jsxs)("div",{style:{position:"relative"},children:[(0,Wt.jsxs)(dn.Z,{open:Xn,children:[(0,Wt.jsx)(dn.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return Cn(!Xn)},children:kt.YA}),(0,Wt.jsxs)(dn.Z.Content,{onClickOutside:function(){return Cn(!1)},onSelect:function(){return Cn(!1)},className:"library-menu",children:[!gr&&(0,Wt.jsx)(dn.Z.Item,{onSelect:Zr,icon:kt.Tl,"data-testid":"lib-dropdown--load",children:(0,it.t)("buttons.load")}),!!Wn.length&&(0,Wt.jsx)(dn.Z.Item,{onSelect:yr,icon:kt.Hy,"data-testid":"lib-dropdown--export",children:(0,it.t)("buttons.export")}),!!Wn.length&&(0,Wt.jsx)(dn.Z.Item,{onSelect:function(){return ir(!0)},icon:kt.XH,children:ln}),gr&&(0,Wt.jsx)(dn.Z.Item,{icon:kt.Nw,onSelect:function(){return zn(!0)},"data-testid":"lib-dropdown--remove",children:(0,it.t)("buttons.publishLibrary")})]})]}),wt.length>0&&(0,Wt.jsx)("div",{className:"library-actions-counter",children:wt.length}),tr&&Qn(),Mn&&(0,Wt.jsx)(qt,{onClose:function(){return zn(!1)},libraryItems:Xt(xn.libraryItems,wt),appState:jt,onSuccess:function(Ar){return Ur(Ar,xn.libraryItems)},onError:function(Ar){return window.alert(Ar)},updateItemsInStorage:function(){return Jt.setLibrary(xn.libraryItems)},onRemove:function(Ar){return hn(wt.filter(function(pr){return pr!==Ar}))}}),cr&&ur()]})}},5440:function(Ht,St,_){_.d(St,{z:function(){return it}});var pt=_(2577),ht=_(8211),ot=_(9787),at=_(5644),gt=_(45),xt=_(2335),vt=_(4512),it=function(kt){var Ot=kt.delay,an=kt.theme,gn=(0,ot.useState)(!!Ot),Qt=(0,pt.Z)(gn,2),bn=Qt[0],fn=Qt[1];return(0,ot.useEffect)(function(){if(Ot){var Zn=setTimeout(function(){fn(!1)},Ot);return function(){return clearTimeout(Zn)}}},[Ot]),bn?null:(0,vt.jsxs)("div",{className:(0,gt.Z)("LoadingMessage",{"LoadingMessage--dark":an===xt.C6.DARK}),children:[(0,vt.jsx)("div",{children:(0,vt.jsx)(at.Z,{})}),(0,vt.jsx)("div",{className:"LoadingMessage-text",children:(0,ht.t)("labels.loadingScene")})]})}},2891:function(Ht,St,_){_.d(St,{J:function(){return ft}});var pt=_(9787),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),vt=_.n(xt),it=_(4010),kt=_.n(it),Ot=_(1469),an=_.n(Ot),gn=_(9329),Qt=_.n(gn),bn=_(9935),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=kt(),fn.insert=vt().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=an(),ot()(bn.Z,fn),bn.Z&&bn.Z.locals&&bn.Z.locals;var Zn=_(5156),mn=_(6340),pn=_(6066),An=_(4512),ft=function(Rt){var Bt=Rt.children,bt=Rt.left,Gt=Rt.top,yt=Rt.onCloseRequest,Ct=Rt.fitInViewport,ct=Ct!==void 0&&Ct,rt=Rt.offsetLeft,_e=rt===void 0?0:rt,lt=Rt.offsetTop,st=lt===void 0?0:lt,It=Rt.viewportWidth,Tt=It===void 0?window.innerWidth:It,tn=Rt.viewportHeight,Nt=tn===void 0?window.innerHeight:tn,$t=(0,pt.useRef)(null);(0,pt.useEffect)(function(){var Dt=$t.current;if(Dt){Dt.contains(document.activeElement)||Dt.focus();var In=function(rn){if(rn.key===pn.tW.TAB){var _t=(0,mn.xp)(Dt),Et=document.activeElement,Vt=_t.findIndex(function(Yt){return Yt===Et});if(Et===Dt){var Pt;rn.shiftKey?(Pt=_t[_t.length-1])===null||Pt===void 0||Pt.focus():_t[0].focus(),rn.preventDefault(),rn.stopImmediatePropagation()}else if(Vt===0&&rn.shiftKey){var qt;(qt=_t[_t.length-1])===null||qt===void 0||qt.focus(),rn.preventDefault(),rn.stopImmediatePropagation()}else if(Vt===_t.length-1&&!rn.shiftKey){var dn;(dn=_t[0])===null||dn===void 0||dn.focus(),rn.preventDefault(),rn.stopImmediatePropagation()}}};return Dt.addEventListener("keydown",In),function(){return Dt.removeEventListener("keydown",In)}}},[]);var Wt=(0,pt.useRef)(null);return(0,pt.useLayoutEffect)(function(){if(ct&&$t.current&&Gt!=null&&bt!=null){var Dt,In,rn=$t.current,_t=rn.getBoundingClientRect(),Et=_t.width,Vt=_t.height;if(((Dt=Wt.current)===null||Dt===void 0?void 0:Dt.top)===Gt&&((In=Wt.current)===null||In===void 0?void 0:In.left)===bt)return;Wt.current={top:Gt,left:bt},Et>=Tt?(rn.style.width="".concat(Tt,"px"),rn.style.left="0px",rn.style.overflowX="scroll"):rn.style.left="".concat(bt+Et-_e>Tt?Tt-Et-10:bt,"px"),Vt>=Nt?(rn.style.height="".concat(Nt-20,"px"),rn.style.top="10px",rn.style.overflowY="scroll"):rn.style.top="".concat(Gt+Vt-st>Nt?Nt-Vt:Gt,"px")}},[Gt,bt,ct,Tt,Nt,_e,st]),(0,pt.useEffect)(function(){if(yt){var Dt=function(In){var rn;(rn=$t.current)!==null&&rn!==void 0&&rn.contains(In.target)||(0,Zn.unstable_batchedUpdates)(function(){return yt(In)})};return document.addEventListener("pointerdown",Dt,!1),function(){return document.removeEventListener("pointerdown",Dt,!1)}}},[yt]),(0,An.jsx)("div",{className:"popover",ref:$t,tabIndex:-1,children:Bt})}},9430:function(Ht,St,_){_.d(St,{Y:function(){return $t},b:function(){return Nt}});var pt=_(2577),ht=_(9787),ot=_.n(ht),at=_(1881),gt=_(4739),xt=_(9487),vt=ot().createContext({}),it=_(45),kt=_(8211),Ot=_(2134),an=_(3646),gn=_(7169),Qt=_(4512);function bn(Wt,Dt){var In=Object.keys(Wt);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(Wt);Dt&&(rn=rn.filter(function(_t){return Object.getOwnPropertyDescriptor(Wt,_t).enumerable})),In.push.apply(In,rn)}return In}var fn=_(1894),Zn=function(Wt){return(0,Qt.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,Qt.jsxs)(fn.u,{label:(0,kt.t)("labels.sidebarLock"),children:[(0,Qt.jsxs)("label",{className:(0,it.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,Qt.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:Wt.onChange,checked:Wt.checked,"aria-label":(0,kt.t)("labels.sidebarLock")})," ",(0,Qt.jsx)("div",{className:(0,it.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":Wt.checked}),tabIndex:0,children:an.qQ})," "]})," "]})})},mn=function(Wt){var Dt=(0,ht.createContext)([!1,function(){}]),In=function(_t){var Et=_t.children,Vt=(0,ht.useState)(!1),Pt=(0,pt.Z)(Vt,2),qt=Pt[0],dn=Pt[1],Yt=(0,ht.useMemo)(function(){return[qt,dn]},[qt]);return(0,Qt.jsx)(Dt.Provider,{value:Yt,children:Et})},rn=function(_t){var Et=(0,ht.useContext)(Dt),Vt=(0,pt.Z)(Et,2),Pt=Vt[0],qt=Vt[1];return(0,ht.useLayoutEffect)(function(){if(!_t.__isFallback)return qt(!0),function(){return qt(!1)}},[_t.__isFallback,qt]),_t.__isFallback&&Pt?null:(0,Qt.jsx)(Wt,function(dn){for(var Yt=1;Yt<arguments.length;Yt++){var Xt=arguments[Yt]!=null?arguments[Yt]:{};Yt%2?bn(Object(Xt),!0).forEach(function(zt){(0,gn.Z)(dn,zt,Xt[zt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dn,Object.getOwnPropertyDescriptors(Xt)):bn(Object(Xt)).forEach(function(zt){Object.defineProperty(dn,zt,Object.getOwnPropertyDescriptor(Xt,zt))})}return dn}({},_t))};return Wt.name&&(rn.displayName="".concat(Wt.name,"_upstreamOverrideWrapper"),In.displayName="".concat(Wt.name,"_upstreamOverrideContextWrapper")),[In,rn]}(function(Wt){var Dt=Wt.children,In=Wt.className,rn=(0,Ot.Fy)(),_t=(0,ht.useContext)(vt),Et=!(!rn.canDeviceFitSidebar||!_t.dockable),Vt=!!_t.onClose;return(0,Qt.jsxs)("div",{className:(0,it.Z)("layer-ui__sidebar__header",In),"data-testid":"sidebar-header",children:[Dt,(Et||Vt)&&(0,Qt.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[Et&&(0,Qt.jsx)(Zn,{checked:!!_t.docked,onChange:function(){var Pt;(Pt=_t.onDock)===null||Pt===void 0||Pt.call(_t,!_t.docked)}}),Vt&&(0,Qt.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:_t.onClose,"aria-label":(0,kt.t)("buttons.close"),children:an.Tw})]})]})}),pn=(0,pt.Z)(mn,2),An={Context:pn[0],Component:pn[1]},ft=_(487),Rt=_.n(ft),Bt=_(631),bt=_.n(Bt),Gt=_(2052),yt=_.n(Gt),Ct=_(4010),ct=_.n(Ct),rt=_(1469),_e=_.n(rt),lt=_(9329),st=_.n(lt),It=_(8208),Tt={};Tt.styleTagTransform=st(),Tt.setAttributes=ct(),Tt.insert=yt().bind(null,"head"),Tt.domAPI=bt(),Tt.insertStyleElement=_e(),Rt()(It.Z,Tt),It.Z&&It.Z.locals&&It.Z.locals;var tn=_(6340),Nt=(0,gt.cn)({rendered:0,docked:0}),$t=Object.assign((0,ht.forwardRef)(function(Wt,Dt){var In,rn=Wt.children,_t=Wt.onClose,Et=Wt.onDock,Vt=Wt.docked,Pt=Wt.initialDockedState,qt=Pt===void 0?Vt:Pt,dn=Wt.dockable,Yt=dn===void 0||dn,Xt=Wt.className,zt=Wt.__isInternal,At=(0,gt.KO)(Nt,xt.yE),Ut=(0,pt.Z)(At,2),wt=Ut[0],Jt=Ut[1],Mt=(0,Ot.n9)(),un=(0,ht.useState)((In=Vt??qt)!==null&&In!==void 0&&In),hn=(0,pt.Z)(un,2),jt=hn[0],vn=hn[1];(0,ht.useLayoutEffect)(function(){Vt===void 0&&Mt(function(Zt){return vn(Zt.isSidebarDocked),null})},[Mt,Vt]),(0,ht.useLayoutEffect)(function(){if(!zt)return Jt(function(Zt){return{rendered:Zt.rendered+1,docked:jt?Zt.docked+1:Zt.docked}}),function(){Jt(function(Zt){return{rendered:Zt.rendered-1,docked:jt?Zt.docked-1:Zt.docked}})}},[zt,Jt,jt]);var xn=(0,ht.useRef)(_t);xn.current=_t,(0,ht.useEffect)(function(){return function(){var Zt;(Zt=xn.current)===null||Zt===void 0||Zt.call(xn)}},[]);var Gn=(0,ht.useRef)({});return Gn.current.onClose=function(){Mt({openSidebar:null})},Gn.current.onDock=function(Zt){Vt===void 0&&(Mt({isSidebarDocked:Zt}),vn(Zt)),Et==null||Et(Zt)},Gn.current=(0,tn.v4)(Gn.current,{docked:Vt??jt,dockable:Yt}),wt.rendered>0&&zt?null:(0,Qt.jsx)(at.W,{className:(0,it.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":jt},Xt),ref:Dt,children:(0,Qt.jsx)(vt.Provider,{value:Gn.current,children:(0,Qt.jsxs)(An.Context,{children:[(0,Qt.jsx)(An.Component,{__isFallback:!0}),rn]})})})}),{Header:An.Component})},5644:function(Ht,St,_){_.d(St,{Z:function(){return Zn}});var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),vt=_(4010),it=_.n(vt),kt=_(1469),Ot=_.n(kt),an=_(9329),gn=_.n(an),Qt=_(5892),bn={};bn.styleTagTransform=gn(),bn.setAttributes=it(),bn.insert=xt().bind(null,"head"),bn.domAPI=at(),bn.insertStyleElement=Ot(),ht()(Qt.Z,bn),Qt.Z&&Qt.Z.locals&&Qt.Z.locals;var fn=_(4512),Zn=function(mn){var pn=mn.size,An=pn===void 0?"1em":pn,ft=mn.circleWidth,Rt=ft===void 0?8:ft;return(0,fn.jsx)("div",{className:"Spinner",children:(0,fn.jsx)("svg",{viewBox:"0 0 100 100",style:{width:An,height:An},children:(0,fn.jsx)("circle",{cx:"50",cy:"50",r:50-Rt/2,strokeWidth:Rt,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(Ht,St,_){_.d(St,{Z:function(){return ft}});var pt=_(7169),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),vt=_.n(xt),it=_(4010),kt=_.n(it),Ot=_(1469),an=_.n(Ot),gn=_(9329),Qt=_.n(gn),bn=_(3874),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=kt(),fn.insert=vt().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=an(),ot()(bn.Z,fn),bn.Z&&bn.Z.locals&&bn.Z.locals;var Zn=_(45),mn=_(4512);function pn(Rt,Bt){var bt=Object.keys(Rt);if(Object.getOwnPropertySymbols){var Gt=Object.getOwnPropertySymbols(Rt);Bt&&(Gt=Gt.filter(function(yt){return Object.getOwnPropertyDescriptor(Rt,yt).enumerable})),bt.push.apply(bt,Gt)}return bt}function An(Rt){for(var Bt=1;Bt<arguments.length;Bt++){var bt=arguments[Bt]!=null?arguments[Bt]:{};Bt%2?pn(Object(bt),!0).forEach(function(Gt){(0,pt.Z)(Rt,Gt,bt[Gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(bt)):pn(Object(bt)).forEach(function(Gt){Object.defineProperty(Rt,Gt,Object.getOwnPropertyDescriptor(bt,Gt))})}return Rt}var ft={Row:function(Rt){var Bt=Rt.children,bt=Rt.gap,Gt=Rt.align,yt=Rt.justifyContent,Ct=Rt.className,ct=Rt.style;return(0,mn.jsx)("div",{className:(0,Zn.Z)("Stack Stack_horizontal",Ct),style:An({"--gap":bt,alignItems:Gt,justifyContent:yt},ct),children:Bt})},Col:function(Rt){var Bt=Rt.children,bt=Rt.gap,Gt=Rt.align,yt=Rt.justifyContent,Ct=Rt.className,ct=Rt.style;return(0,mn.jsx)("div",{className:(0,Zn.Z)("Stack Stack_vertical",Ct),style:An({"--gap":bt,justifyItems:Gt,justifyContent:yt},ct),children:Bt})}}},1319:function(Ht,St,_){_.d(St,{V:function(){return gn}});var pt=_(8950),ht=_(2577),ot=_(2975),at=_.n(ot),gt=(_(5422),_(9787)),xt=_.n(gt),vt=_(45),it=_(2134),kt=_(6797),Ot=_(5644),an=_(4512),gn=xt().forwardRef(function(Qt,bn){var fn=(0,it.J0)().id,Zn=xt().useRef(null);xt().useImperativeHandle(bn,function(){return Zn.current});var mn="ToolIcon_size_".concat(Qt.size),pn=(0,gt.useState)(!1),An=(0,ht.Z)(pn,2),ft=An[0],Rt=An[1],Bt=(0,gt.useRef)(!0),bt=function(){var Ct=(0,pt.Z)(at().mark(function ct(rt){var _e,lt;return at().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(!(lt="onClick"in Qt&&((_e=Qt.onClick)===null||_e===void 0?void 0:_e.call(Qt,rt)))||!("then"in lt)){st.next=18;break}return st.prev=2,Rt(!0),st.next=6,lt;case 6:st.next=15;break;case 8:if(st.prev=8,st.t0=st.catch(2),st.t0 instanceof kt._){st.next=14;break}throw st.t0;case 14:console.warn(st.t0);case 15:return st.prev=15,Bt.current&&Rt(!1),st.finish(15);case 18:case"end":return st.stop()}},ct,null,[[2,8,15,18]])}));return function(ct){return Ct.apply(this,arguments)}}();(0,gt.useEffect)(function(){return function(){Bt.current=!1}},[]);var Gt=(0,gt.useRef)(null);if(Qt.type==="button"||Qt.type==="icon"||Qt.type==="submit"){var yt=Qt.type==="icon"?"button":Qt.type;return(0,an.jsxs)("button",{className:(0,vt.Z)("ToolIcon_type_button",mn,Qt.className,Qt.visible&&!Qt.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!Qt.hidden,"ToolIcon--selected":Qt.selected,"ToolIcon--plain":Qt.type==="icon"}),"data-testid":Qt["data-testid"],hidden:Qt.hidden,title:Qt.title,"aria-label":Qt["aria-label"],type:yt,onClick:bt,ref:Zn,disabled:ft||Qt.isLoading,children:[(Qt.icon||Qt.label)&&(0,an.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[Qt.icon||Qt.label,Qt.keyBindingLabel&&(0,an.jsx)("span",{className:"ToolIcon__keybinding",children:Qt.keyBindingLabel}),Qt.isLoading&&(0,an.jsx)(Ot.Z,{})]}),Qt.showAriaLabel&&(0,an.jsxs)("div",{className:"ToolIcon__label",children:[Qt["aria-label"]," ",ft&&(0,an.jsx)(Ot.Z,{})]}),Qt.children]})}return(0,an.jsxs)("label",{className:(0,vt.Z)("ToolIcon",Qt.className),title:Qt.title,onPointerDown:function(Ct){var ct;Gt.current=Ct.pointerType||null,(ct=Qt.onPointerDown)===null||ct===void 0||ct.call(Qt,{pointerType:Ct.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){Gt.current=null})},children:[(0,an.jsx)("input",{className:"ToolIcon_type_radio ".concat(mn),type:"radio",name:Qt.name,"aria-label":Qt["aria-label"],"aria-keyshortcuts":Qt["aria-keyshortcuts"],"data-testid":Qt["data-testid"],id:"".concat(fn,"-").concat(Qt.id),onChange:function(){var Ct;(Ct=Qt.onChange)===null||Ct===void 0||Ct.call(Qt,{pointerType:Gt.current})},checked:Qt.checked,ref:Zn}),(0,an.jsxs)("div",{className:"ToolIcon__icon",children:[Qt.icon,Qt.keyBindingLabel&&(0,an.jsx)("span",{className:"ToolIcon__keybinding",children:Qt.keyBindingLabel})]})]})});gn.defaultProps={visible:!0,className:"",size:"medium"},gn.displayName="ToolButton"},1894:function(Ht,St,_){_.d(St,{u:function(){return An},bK:function(){return mn},Js:function(){return pn}});var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),vt=_(4010),it=_.n(vt),kt=_(1469),Ot=_.n(kt),an=_(9329),gn=_.n(an),Qt=_(6626),bn={};bn.styleTagTransform=gn(),bn.setAttributes=it(),bn.insert=xt().bind(null,"head"),bn.domAPI=at(),bn.insertStyleElement=Ot(),ht()(Qt.Z,bn),Qt.Z&&Qt.Z.locals&&Qt.Z.locals;var fn=_(9787),Zn=_(4512),mn=function(){var ft=document.querySelector(".excalidraw-tooltip");if(ft)return ft;var Rt=document.createElement("div");return document.body.appendChild(Rt),Rt.classList.add("excalidraw-tooltip"),Rt},pn=function(ft,Rt){var Bt,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",Gt=ft.getBoundingClientRect(),yt=window.innerWidth,Ct=window.innerHeight,ct=5,rt=Rt.left+Rt.width/2-Gt.width/2;rt<0?rt=ct:rt+Gt.width>=yt&&(rt=yt-Gt.width-ct),bt==="bottom"?(Bt=Rt.top+Rt.height+ct)+Gt.height>=Ct&&(Bt=Rt.top-Gt.height-ct):(Bt=Rt.top-Gt.height-ct)<0&&(Bt=Rt.top+Rt.height+ct),Object.assign(ft.style,{top:"".concat(Bt,"px"),left:"".concat(rt,"px")})},An=function(ft){var Rt=ft.children,Bt=ft.label,bt=ft.long,Gt=bt!==void 0&&bt,yt=ft.style;return(0,fn.useEffect)(function(){return function(){return mn().classList.remove("excalidraw-tooltip--visible")}},[]),(0,Zn.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(Ct){return function(ct,rt,_e,lt){rt.classList.add("excalidraw-tooltip--visible"),rt.style.minWidth=lt?"50ch":"10ch",rt.style.maxWidth=lt?"50ch":"15ch",rt.textContent=_e;var st=ct.getBoundingClientRect();pn(rt,st)}(Ct.currentTarget,mn(),Bt,Gt)},onPointerLeave:function(){return mn().classList.remove("excalidraw-tooltip--visible")},style:yt,children:Rt})}},6773:function(Ht,St,_){_.d(St,{Z:function(){return Bt}});var pt=_(2577),ht=_(487),ot=_.n(ht),at=_(631),gt=_.n(at),xt=_(2052),vt=_.n(xt),it=_(4010),kt=_.n(it),Ot=_(1469),an=_.n(Ot),gn=_(9329),Qt=_.n(gn),bn=_(6359),fn={};fn.styleTagTransform=Qt(),fn.setAttributes=kt(),fn.insert=vt().bind(null,"head"),fn.domAPI=gt(),fn.insertStyleElement=an(),ot()(bn.Z,fn),bn.Z&&bn.Z.locals&&bn.Z.locals;var Zn=_(9787),mn=_.n(Zn),pn=_(45),An=_(1894),ft=_(2134),Rt=_(4512),Bt=function(bt){var Gt=bt.className,yt=bt.mobile,Ct=bt.collaborators,ct=(0,ft.eh)(),rt=new Map;Ct.forEach(function(lt,st){rt.set(lt.id||st,lt)});var _e=rt.size>0&&Array.from(rt).filter(function(lt){var st=(0,pt.Z)(lt,2),It=(st[0],st[1]);return Object.keys(It).length!==0}).map(function(lt){var st=(0,pt.Z)(lt,2),It=st[0],Tt=st[1],tn=ct.renderAction("goToCollaborator",[It,Tt]);return yt?(0,Rt.jsx)(An.u,{label:Tt.username||"Unknown user",children:tn},It):(0,Rt.jsx)(mn().Fragment,{children:tn},It)});return(0,Rt.jsx)("div",{className:(0,pn.Z)("UserList",Gt,{UserList_mobile:yt}),children:_e})}},8888:function(Ht,St,_){_.d(St,{A3:function(){return Ot},ZC:function(){return gn},R6:function(){return an}});var pt=_(9787),ht=_.n(pt);const ot=Qt=>{let bn;const fn=new Set,Zn=(An,ft)=>{const Rt=typeof An=="function"?An(bn):An;if(!Object.is(Rt,bn)){const Bt=bn;bn=ft??typeof Rt!="object"?Rt:Object.assign({},bn,Rt),fn.forEach(bt=>bt(bn,Bt))}},mn=()=>bn,pn={setState:Zn,getState:mn,subscribe:An=>(fn.add(An),()=>fn.delete(An)),destroy:()=>{console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),fn.clear()}};return bn=Qt(Zn,mn,pn),pn},at=Qt=>Qt?ot(Qt):ot;var gt=_(5668);const{useSyncExternalStoreWithSelector:xt}=gt,vt=Qt=>{typeof Qt!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const bn=typeof Qt=="function"?at(Qt):Qt,fn=(Zn,mn)=>function(pn,An=pn.getState,ft){const Rt=xt(pn.subscribe,pn.getState,pn.getServerState||pn.getState,An,ft);return(0,pt.useDebugValue)(Rt),Rt}(bn,Zn,mn);return Object.assign(fn,bn),fn},it=Qt=>Qt?vt(Qt):vt;function kt(){const Qt=it(bn=>({current:new Array,version:0,set:bn}));return{In:({children:bn})=>{const fn=Qt(mn=>mn.set),Zn=Qt(mn=>mn.version);return(0,pt.useLayoutEffect)(()=>{fn(mn=>({version:mn.version+1}))},[]),(0,pt.useLayoutEffect)(()=>(fn(({current:mn})=>({current:[...mn,bn]})),()=>fn(({current:mn})=>({current:mn.filter(pn=>pn!==bn)}))),[bn,Zn]),null},Out:()=>{const bn=Qt(fn=>fn.current);return ht().createElement(ht().Fragment,null,bn)}}}var Ot=ht().createContext(null),an=function(){return ht().useContext(Ot)},gn=function(){return ht().useMemo(function(){return{mainMenuTunnel:kt(),welcomeScreenMenuHintTunnel:kt(),welcomeScreenToolbarHintTunnel:kt(),welcomeScreenHelpHintTunnel:kt(),welcomeScreenCenterTunnel:kt(),footerCenterTunnel:kt(),jotaiScope:Symbol()}},[])}},9127:function(Ht,St,_){_.d(St,{Z:function(){return _t}});var pt=_(45),ht=_(2134),ot=_(4512),at=function(Et){var Vt=Et.className,Pt=Vt===void 0?"":Vt,qt=Et.children,dn=Et.onToggle,Yt=(0,ht.gF)(),Xt=(0,ht.Fy)(),zt=(0,pt.Z)("dropdown-menu-button ".concat(Pt),"zen-mode-transition",{"transition-left":Yt.zenModeEnabled,"dropdown-menu-button--mobile":Xt.isMobile}).trim();return(0,ot.jsx)("button",{"data-prevent-outside-click":!0,className:zt,onClick:dn,type:"button","data-testid":"dropdown-menu-button",children:qt})},gt=at;at.displayName="DropdownMenuTrigger";var xt=_(2739),vt=function(){return(0,ot.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},it=vt;vt.displayName="DropdownMenuSeparator";var kt=function(Et){var Vt=Et.children,Pt=Et.className,qt=Pt===void 0?"":Pt,dn=Et.style,Yt=Et.title;return(0,ot.jsxs)("div",{className:"dropdown-menu-group ".concat(qt),style:dn,children:[Yt&&(0,ot.jsx)("p",{className:"dropdown-menu-group-title",children:Yt}),Vt]})},Ot=kt;kt.displayName="DropdownMenuGroup";var an=_(1930),gn=_(9787),Qt=_.n(gn),bn=_(1881),fn=_(7239),Zn=_(6772),mn=function(Et){var Vt,Pt,qt=Et.children,dn=Et.onClickOutside,Yt=Et.className,Xt=Yt===void 0?"":Yt,zt=Et.onSelect,At=Et.style,Ut=(0,ht.Fy)(),wt=(Vt=function(){dn==null||dn()},Pt=(0,gn.useRef)(null),(0,gn.useEffect)(function(){var Mt=function(un){var hn=Pt.current;!hn||hn.contains(un.target)||(0,an.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some(function(jt){return jt.contains(un.target)})||Vt(un)};return document.addEventListener("pointerdown",Mt),document.addEventListener("touchstart",Mt),function(){document.removeEventListener("pointerdown",Mt),document.removeEventListener("touchstart",Mt)}},[Pt,Vt]),Pt),Jt=(0,pt.Z)("dropdown-menu ".concat(Xt),{"dropdown-menu--mobile":Ut.isMobile}).trim();return(0,ot.jsx)(Zn.N7.Provider,{value:{onSelect:zt},children:(0,ot.jsx)("div",{ref:wt,className:Jt,style:At,"data-testid":"dropdown-menu",children:Ut.isMobile?(0,ot.jsx)(fn.Z.Col,{className:"dropdown-menu-container",children:qt}):(0,ot.jsx)(bn.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:qt})})})};mn.displayName="DropdownMenuContent";var pn=mn,An=_(4215),ft=_(7169),Rt=_(2726),Bt=["children","className"];function bt(Et,Vt){var Pt=Object.keys(Et);if(Object.getOwnPropertySymbols){var qt=Object.getOwnPropertySymbols(Et);Vt&&(qt=qt.filter(function(dn){return Object.getOwnPropertyDescriptor(Et,dn).enumerable})),Pt.push.apply(Pt,qt)}return Pt}function Gt(Et){for(var Vt=1;Vt<arguments.length;Vt++){var Pt=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?bt(Object(Pt),!0).forEach(function(qt){(0,ft.Z)(Et,qt,Pt[qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(Pt)):bt(Object(Pt)).forEach(function(qt){Object.defineProperty(Et,qt,Object.getOwnPropertyDescriptor(Pt,qt))})}return Et}var yt=function(Et){var Vt=Et.children,Pt=Et.className,qt=Pt===void 0?"":Pt,dn=(0,Rt.Z)(Et,Bt);return(0,ot.jsx)("div",Gt(Gt({},dn),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(qt).trim(),children:Vt}))},Ct=_(487),ct=_.n(Ct),rt=_(631),_e=_.n(rt),lt=_(2052),st=_.n(lt),It=_(4010),Tt=_.n(It),tn=_(1469),Nt=_.n(tn),$t=_(9329),Wt=_.n($t),Dt=_(7399),In={};In.styleTagTransform=Wt(),In.setAttributes=Tt(),In.insert=st().bind(null,"head"),In.domAPI=_e(),In.insertStyleElement=Nt(),ct()(Dt.Z,In),Dt.Z&&Dt.Z.locals&&Dt.Z.locals;var rn=function(Et){var Vt=Et.children,Pt=Et.open,qt=function(Yt){return Qt().Children.toArray(Yt).find(function(Xt){return Qt().isValidElement(Xt)&&typeof Xt.type!="string"&&(Xt==null?void 0:Xt.type.displayName)&&Xt.type.displayName==="DropdownMenuTrigger"})||null}(Vt),dn=function(Yt){return Qt().Children.toArray(Yt).find(function(Xt){return Qt().isValidElement(Xt)&&typeof Xt.type!="string"&&(Xt==null?void 0:Xt.type.displayName)&&Xt.type.displayName==="DropdownMenuContent"})||null}(Vt);return(0,ot.jsxs)(ot.Fragment,{children:[qt,Pt&&dn]})};rn.Trigger=gt,rn.Content=pn,rn.Item=xt.Z,rn.ItemLink=An.Z,rn.ItemCustom=yt,rn.Group=Ot,rn.Separator=it;var _t=rn;rn.displayName="DropdownMenu"},2739:function(Ht,St,_){var pt=_(7169),ht=_(2726),ot=_(6772),at=_(4122),gt=_(4512),xt=["icon","onSelect","children","shortcut","className"];function vt(Ot,an){var gn=Object.keys(Ot);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(Ot);an&&(Qt=Qt.filter(function(bn){return Object.getOwnPropertyDescriptor(Ot,bn).enumerable})),gn.push.apply(gn,Qt)}return gn}function it(Ot){for(var an=1;an<arguments.length;an++){var gn=arguments[an]!=null?arguments[an]:{};an%2?vt(Object(gn),!0).forEach(function(Qt){(0,pt.Z)(Ot,Qt,gn[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ot,Object.getOwnPropertyDescriptors(gn)):vt(Object(gn)).forEach(function(Qt){Object.defineProperty(Ot,Qt,Object.getOwnPropertyDescriptor(gn,Qt))})}return Ot}var kt=function(Ot){var an,gn=Ot.icon,Qt=Ot.onSelect,bn=Ot.children,fn=Ot.shortcut,Zn=Ot.className,mn=(0,ht.Z)(Ot,xt),pn=(0,ot.qZ)(mn.onClick,Qt);return(0,gt.jsx)("button",it(it({},mn),{},{onClick:pn,type:"button",className:(0,ot.n)(Zn),title:(an=mn.title)!==null&&an!==void 0?an:mn["aria-label"],children:(0,gt.jsx)(at.Z,{icon:gn,shortcut:fn,children:bn})}))};St.Z=kt,kt.displayName="DropdownMenuItem"},4122:function(Ht,St,_){var pt=_(2134),ht=_(4512);St.Z=function(ot){var at=ot.icon,gt=ot.shortcut,xt=ot.children,vt=(0,pt.Fy)();return(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"dropdown-menu-item__icon",children:at}),(0,ht.jsx)("div",{className:"dropdown-menu-item__text",children:xt}),gt&&!vt.isMobile&&(0,ht.jsx)("div",{className:"dropdown-menu-item__shortcut",children:gt})]})}},4215:function(Ht,St,_){var pt=_(7169),ht=_(2726),ot=_(4122),at=_(6772),gt=_(4512),xt=["icon","shortcut","href","children","onSelect","className"];function vt(Ot,an){var gn=Object.keys(Ot);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(Ot);an&&(Qt=Qt.filter(function(bn){return Object.getOwnPropertyDescriptor(Ot,bn).enumerable})),gn.push.apply(gn,Qt)}return gn}function it(Ot){for(var an=1;an<arguments.length;an++){var gn=arguments[an]!=null?arguments[an]:{};an%2?vt(Object(gn),!0).forEach(function(Qt){(0,pt.Z)(Ot,Qt,gn[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ot,Object.getOwnPropertyDescriptors(gn)):vt(Object(gn)).forEach(function(Qt){Object.defineProperty(Ot,Qt,Object.getOwnPropertyDescriptor(gn,Qt))})}return Ot}var kt=function(Ot){var an,gn=Ot.icon,Qt=Ot.shortcut,bn=Ot.href,fn=Ot.children,Zn=Ot.onSelect,mn=Ot.className,pn=mn===void 0?"":mn,An=(0,ht.Z)(Ot,xt),ft=(0,at.qZ)(An.onClick,Zn);return(0,gt.jsx)("a",it(it({},An),{},{href:bn,target:"_blank",rel:"noreferrer",className:(0,at.n)(pn),title:(an=An.title)!==null&&an!==void 0?an:An["aria-label"],onClick:ft,children:(0,gt.jsx)(ot.Z,{icon:gn,shortcut:Qt,children:fn})}))};St.Z=kt,kt.displayName="DropdownMenuItemLink"},6772:function(Ht,St,_){_.d(St,{N7:function(){return gt},n:function(){return xt},qZ:function(){return vt}});var pt=_(9787),ht=_.n(pt),ot=_(2335),at=_(6340),gt=ht().createContext({}),xt=function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"dropdown-menu-item dropdown-menu-item-base ".concat(it).trim()},vt=function(it,kt){var Ot=(0,pt.useContext)(gt);return(0,at.Mj)(it,function(an){var gn,Qt=new CustomEvent(ot.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});kt==null||kt(Qt),Qt.defaultPrevented||(gn=Ot.onSelect)===null||gn===void 0||gn.call(Ot,Qt)})}},3646:function(Ht,St,_){_.d(St,{$c:function(){return xn},$q:function(){return $t},BF:function(){return cr},BR:function(){return un},Ct:function(){return tr},D7:function(){return Xt},DG:function(){return hn},DJ:function(){return Gt},DS:function(){return qr},EO:function(){return mo},ET:function(){return Yt},FC:function(){return Rt},Gc:function(){return Qn},HL:function(){return ir},Hk:function(){return Bl},Hy:function(){return Pt},IN:function(){return Tn},J8:function(){return jt},Mw:function(){return yt},NA:function(){return rn},NW:function(){return Et},Nw:function(){return Jo},OA:function(){return Rr},OW:function(){return ct},P7:function(){return No},Pm:function(){return Tt},RJ:function(){return or},RY:function(){return Vt},Re:function(){return _e},ST:function(){return wn},Sd:function(){return Wt},TP:function(){return vn},Tl:function(){return Mt},Tw:function(){return Jn},UE:function(){return Gn},VL:function(){return tn},Vl:function(){return Xn},Vq:function(){return Zn},W2:function(){return lo},W5:function(){return Un},Wl:function(){return pr},X7:function(){return yr},XB:function(){return Nt},XH:function(){return In},YA:function(){return pn},ZA:function(){return Ar},Zm:function(){return zt},_C:function(){return ft},_U:function(){return bt},a0:function(){return Ur},a1:function(){return wt},a5:function(){return Or},aA:function(){return Zo},aT:function(){return ba},bf:function(){return ho},by:function(){return qt},e0:function(){return lt},eQ:function(){return At},fr:function(){return Co},gK:function(){return Mn},h0:function(){return dn},il:function(){return po},j8:function(){return Ir},jn:function(){return zn},kL:function(){return _t},kM:function(){return oo},lF:function(){return ur},m:function(){return lr},m9:function(){return Nr},mh:function(){return Wn},nb:function(){return rt},np:function(){return Zr},nq:function(){return wr},o3:function(){return io},oQ:function(){return Bt},oT:function(){return so},op:function(){return er},pO:function(){return mn},po:function(){return Jt},pw:function(){return Pn},q0:function(){return Cr},qQ:function(){return An},rr:function(){return to},t5:function(){return Cn},tW:function(){return Er},tb:function(){return It},tn:function(){return na},uD:function(){return ln},vo:function(){return Kr},wr:function(){return $r},xL:function(){return Dt},xP:function(){return Ut},xs:function(){return gr},z6:function(){return ga},zG:function(){return Zt},zb:function(){return st},zu:function(){return Ct}});var pt=_(7169),ht=_(2726),ot=_(9787),at=_.n(ot),gt=_(5284),xt=_(45),vt=_(2335),it=_(4512),kt=["width","height","mirror","style"];function Ot(ro,Io){var Qo=Object.keys(ro);if(Object.getOwnPropertySymbols){var Lo=Object.getOwnPropertySymbols(ro);Io&&(Lo=Lo.filter(function(Vl){return Object.getOwnPropertyDescriptor(ro,Vl).enumerable})),Qo.push.apply(Qo,Lo)}return Qo}function an(ro){for(var Io=1;Io<arguments.length;Io++){var Qo=arguments[Io]!=null?arguments[Io]:{};Io%2?Ot(Object(Qo),!0).forEach(function(Lo){(0,pt.Z)(ro,Lo,Qo[Lo])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ro,Object.getOwnPropertyDescriptors(Qo)):Ot(Object(Qo)).forEach(function(Lo){Object.defineProperty(ro,Lo,Object.getOwnPropertyDescriptor(Qo,Lo))})}return ro}var gn=function(ro){return ro===vt.C6.LIGHT?gt.white:"#1e1e1e"},Qt=function(ro){var Io=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Qo=typeof Io=="number"?{width:Io}:Io,Lo=Qo.width,Vl=Lo===void 0?512:Lo,Dl=Qo.height,Ll=Dl===void 0?Vl:Dl,Xl=Qo.mirror,_o=Qo.style,os=(0,ht.Z)(Qo,kt);return(0,it.jsx)("svg",an(an({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Vl," ").concat(Ll),className:(0,xt.Z)({"rtl-mirror":Xl}),style:_o},os),{},{children:typeof ro=="string"?(0,it.jsx)("path",{fill:"currentColor",d:ro}):ro}))},bn={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},fn={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Zn=(Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,it.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,it.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,it.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),bn),Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,it.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,it.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,it.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,it.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),bn)),mn=Qt((0,it.jsxs)("svg",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,it.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),bn),pn=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,it.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,it.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),bn),An=Qt((0,it.jsxs)("svg",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,it.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,it.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),bn),ft=Qt((0,it.jsxs)("g",{children:[(0,it.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,it.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,it.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,it.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,it.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,it.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),fn),Rt=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,it.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,it.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),fn),Bt=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,it.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),bt=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,it.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),Gt=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,it.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),yt=Qt((0,it.jsxs)("g",{fill:"currentColor",children:[(0,it.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),Ct=Qt((0,it.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,it.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),ct=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),bn),rt=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),bn),_e=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),bn),lt=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,it.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,it.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),bn),st=Qt((0,it.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),fn),It=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,it.jsx)("path",{d:"M16 7h4"}),(0,it.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),bn),Tt=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,it.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),fn),tn=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,it.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,it.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,it.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,it.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),bn),Nt=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M12.5 6.667h.01"}),(0,it.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,it.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,it.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),fn),$t=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,it.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),bn),Wt=Qt((0,it.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),fn),Dt=Qt((0,it.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),fn),In=Qt((0,it.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),fn),rn=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,it.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),fn),_t=Qt((0,it.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),fn),Et=Qt((0,it.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,it.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),fn),Vt=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,it.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,it.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),bn),Pt=Qt((0,it.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),fn),qt=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,it.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,it.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),bn),dn=Qt((0,it.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),fn),Yt=Qt((0,it.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),fn),Xt=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,it.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),fn),zt=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),bn),At=Qt((0,it.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Ut=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,it.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),fn),wt=Qt("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Jt=Qt("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Mt=Qt((0,it.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),fn),un=Qt("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),hn=Qt("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),jt=Qt((0,it.jsxs)("g",{strokeWidth:"1.25",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M15 8h.01"}),(0,it.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,it.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,it.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,it.jsx)("path",{d:"M19 16v6"}),(0,it.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),bn),vn=Qt("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),xn=(Qt("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Qt("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Qt("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),Gn=(Qt("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),Qt((0,it.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),fn)),Zt=Qt((0,it.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),fn),Xn=Qt("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Cn=(Qt((0,it.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),fn),Qt("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,it.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),Qt((0,it.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,it.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn)),Qn=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,it.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Tn=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,it.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Pn=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",children:[(0,it.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,it.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,it.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,it.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,it.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,it.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),tr=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),ir=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),gr=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Wn=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),ln=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Un=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),wn=Qt((0,it.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),fn),Mn=Qt((0,it.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,it.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,it.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),fn),zn=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,it.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,it.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,it.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),bn),Jn=(Qt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Qt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,it.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn)),er=Qt("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),cr=(Qt("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),Qt("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Qt("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),at().memo(function(ro){var Io=ro.theme;return Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,it.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,it.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,it.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,it.jsxs)("g",{fill:gn(Io),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,it.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),or=at().memo(function(ro){var Io=ro.theme;return Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,it.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,it.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,it.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,it.jsxs)("g",{fill:gn(Io),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,it.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,it.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),ur=Qt((0,it.jsx)("g",{strokeWidth:1.25,children:(0,it.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),fn),Ur=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,it.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,it.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,it.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,it.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),fn),Zr=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsxs)("g",{clipPath:"url(#a)",children:[(0,it.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,it.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,it.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,it.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,it.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),yr=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("g",{clipPath:"url(#a)",children:(0,it.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),an(an({},fn),{},{fill:"currentColor"})),Ar=Qt((0,it.jsx)(it.Fragment,{children:(0,it.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),fn),pr=Qt((0,it.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),fn),Nr=Qt((0,it.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),fn),Or=Qt((0,it.jsxs)("g",{strokeWidth:"2",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M5 12h2"}),(0,it.jsx)("path",{d:"M17 12h2"}),(0,it.jsx)("path",{d:"M11 12h2"})]}),bn),ba=Qt((0,it.jsxs)("g",{strokeWidth:"2",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M4 12v.01"}),(0,it.jsx)("path",{d:"M8 12v.01"}),(0,it.jsx)("path",{d:"M12 12v.01"}),(0,it.jsx)("path",{d:"M16 12v.01"}),(0,it.jsx)("path",{d:"M20 12v.01"})]}),bn),ho=Qt((0,it.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),fn),oo=Qt((0,it.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),fn),lo=Qt((0,it.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),fn),$r=Qt((0,it.jsxs)("svg",{strokeWidth:"1.5",children:[(0,it.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,it.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,it.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,it.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,it.jsx)("path",{d:"M16.6667 10V10.01"}),(0,it.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,it.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,it.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,it.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,it.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,it.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,it.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),fn),qr=Qt((0,it.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,it.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,it.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,it.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,it.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,it.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,it.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,it.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,it.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,it.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,it.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,it.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),bn),Co=Qt((0,it.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),po=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,it.jsxs)("g",{transform:Qo?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,it.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,it.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),na=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,it.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Qo?"translate(40, 0) scale(-1, 1)":"",children:[(0,it.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,it.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),lr=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,it.jsx)("g",{transform:Qo?"translate(40, 0) scale(-1, 1)":"",children:(0,it.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Ir=at().memo(function(ro){var Io=ro.flip,Qo=Io!==void 0&&Io;return Qt((0,it.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Qo?"translate(40, 0) scale(-1, 1)":"",children:[(0,it.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,it.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Cr=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("g",{clipPath:"url(#a)",children:(0,it.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),wr=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("g",{clipPath:"url(#a)",children:(0,it.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Er=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("g",{clipPath:"url(#a)",children:(0,it.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),Rr=Qt((0,it.jsx)(it.Fragment,{children:(0,it.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),fn),Kr=Qt((0,it.jsx)(it.Fragment,{children:(0,it.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,it.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),fn),ga=Qt((0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,it.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,it.jsx)("defs",{children:(0,it.jsx)("clipPath",{id:"a",children:(0,it.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),fn),to=Qt((0,it.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,it.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,it.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),bn),io=Qt((0,it.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,it.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,it.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),bn),so=Qt((0,it.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,it.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,it.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),bn),mo=at().memo(function(ro){return ro.theme,Qt((0,it.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,it.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),bn)}),Zo=at().memo(function(ro){return ro.theme,Qt((0,it.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,it.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),bn)}),No=at().memo(function(ro){return ro.theme,Qt((0,it.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,it.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,it.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),bn)}),Jo=Qt((0,it.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Bl=(Qt((0,it.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),Qt((0,it.jsxs)("g",{strokeWidth:1.25,children:[(0,it.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,it.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,it.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,it.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,it.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),bn))},4709:function(Ht,St,_){_.d(St,{Z:function(){return wt}});var pt={};_.r(pt),_.d(pt,{ChangeCanvasBackground:function(){return Nt},ClearCanvas:function(){return Tt},Export:function(){return $t},Help:function(){return It},LiveCollaborationTrigger:function(){return Dt},LoadScene:function(){return _e},SaveAsImage:function(){return st},SaveToActiveFile:function(){return lt},Socials:function(){return Wt},ToggleTheme:function(){return tn}});var ht=_(2134),ot=_(9127),at=_(785),gt=_(8211),xt=_(3646),vt=_(2739),it=_(4215),kt=_(6710),Ot=_(487),an=_.n(Ot),gn=_(631),Qt=_.n(gn),bn=_(2052),fn=_.n(bn),Zn=_(4010),mn=_.n(Zn),pn=_(1469),An=_.n(pn),ft=_(9329),Rt=_.n(ft),Bt=_(4343),bt={};bt.styleTagTransform=Rt(),bt.setAttributes=mn(),bt.insert=fn().bind(null,"head"),bt.domAPI=Qt(),bt.insertStyleElement=An(),an()(Bt.Z,bt),Bt.Z&&Bt.Z.locals&&Bt.Z.locals;var Gt=_(45),yt=_(4739),Ct=_(6798),ct=_(9487),rt=_(4512),_e=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.eh)();return Mt.isActionEnabled(kt._d)?(0,rt.jsx)(vt.Z,{icon:xt.Tl,onSelect:function(){return Mt.executeAction(kt._d)},"data-testid":"load-button",shortcut:(0,at.C)("loadScene"),"aria-label":Jt("buttons.load"),children:Jt("buttons.load")}):null};_e.displayName="LoadScene";var lt=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.eh)();return Mt.isActionEnabled(kt.ns)?(0,rt.jsx)(vt.Z,{shortcut:(0,at.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Mt.executeAction(kt.ns)},icon:xt.a1,"aria-label":"".concat(Jt("buttons.save")),children:"".concat(Jt("buttons.save"))}):null};lt.displayName="SaveToActiveFile";var st=function(){var Jt=(0,ht.n9)(),Mt=(0,gt.QT)().t;return(0,rt.jsx)(vt.Z,{icon:xt.J8,"data-testid":"image-export-button",onSelect:function(){return Jt({openDialog:"imageExport"})},shortcut:(0,at.C)("imageExport"),"aria-label":Mt("buttons.exportImage"),children:Mt("buttons.exportImage")})};st.displayName="SaveAsImage";var It=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.eh)();return(0,rt.jsx)(vt.Z,{"data-testid":"help-menu-item",icon:xt.by,onSelect:function(){return Mt.executeAction(kt.jY)},shortcut:"?","aria-label":Jt("helpDialog.title"),children:Jt("helpDialog.title")})};It.displayName="Help";var Tt=function(){var Jt=(0,gt.QT)().t,Mt=(0,yt.b9)(Ct.w,ct.yE);return(0,ht.eh)().isActionEnabled(kt.mo)?(0,rt.jsx)(vt.Z,{icon:xt.XH,onSelect:function(){return Mt("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Jt("buttons.clearReset"),children:Jt("buttons.clearReset")}):null};Tt.displayName="ClearCanvas";var tn=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.gF)(),un=(0,ht.eh)();return un.isActionEnabled(kt.Zp)?(0,rt.jsx)(vt.Z,{onSelect:function(hn){return hn.preventDefault(),un.executeAction(kt.Zp)},icon:Mt.theme==="dark"?xt.NW:xt.kL,"data-testid":"toggle-dark-mode",shortcut:(0,at.C)("toggleTheme"),"aria-label":Mt.theme==="dark"?Jt("buttons.lightMode"):Jt("buttons.darkMode"),children:Mt.theme==="dark"?Jt("buttons.lightMode"):Jt("buttons.darkMode")}):null};tn.displayName="ToggleTheme";var Nt=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.gF)(),un=(0,ht.eh)();return Mt.viewModeEnabled?null:(0,rt.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,rt.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:Jt("labels.canvasBackground")}),(0,rt.jsx)("div",{style:{padding:"0 0.625rem"},children:un.renderAction("changeViewBackgroundColor")})]})};Nt.displayName="ChangeCanvasBackground";var $t=function(){var Jt=(0,gt.QT)().t,Mt=(0,ht.n9)();return(0,rt.jsx)(vt.Z,{icon:xt.Hy,onSelect:function(){Mt({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Jt("buttons.export"),children:Jt("buttons.export")})};$t.displayName="Export";var Wt=function(){return(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)(it.Z,{icon:xt.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,rt.jsx)(it.Z,{icon:xt.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,rt.jsx)(it.Z,{icon:xt.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};Wt.displayName="Socials";var Dt=function(Jt){var Mt=Jt.onSelect,un=Jt.isCollaborating,hn=(0,gt.QT)().t;return(0,rt.jsx)(vt.Z,{"data-testid":"collab-button",icon:xt.jn,className:(0,Gt.Z)({"active-collab":un}),onSelect:Mt,children:hn("labels.liveCollaboration")})};Dt.displayName="LiveCollaborationTrigger";var In=_(6773),rn=_(7169),_t=_(2577),Et=_(9787),Vt=_(8888);function Pt(Jt,Mt){var un=Object.keys(Jt);if(Object.getOwnPropertySymbols){var hn=Object.getOwnPropertySymbols(Jt);Mt&&(hn=hn.filter(function(jt){return Object.getOwnPropertyDescriptor(Jt,jt).enumerable})),un.push.apply(un,hn)}return un}var qt,dn,Yt,Xt,zt,At=_(6340),Ut=Object.assign((qt="MainMenu",dn=function(Jt){var Mt=Jt.children,un=Jt.onSelect,hn=(0,Vt.R6)().mainMenuTunnel,jt=(0,ht.Fy)(),vn=(0,ht.gF)(),xn=(0,ht.n9)(),Gn=jt.isMobile?void 0:function(){return xn({openMenu:null})};return(0,rt.jsx)(hn.In,{children:(0,rt.jsxs)(ot.Z,{open:vn.openMenu==="canvas",children:[(0,rt.jsx)(ot.Z.Trigger,{onToggle:function(){xn({openMenu:vn.openMenu==="canvas"?null:"canvas"})},children:xt.RY}),(0,rt.jsxs)(ot.Z.Content,{onClickOutside:Gn,onSelect:(0,At.Mj)(un,function(){xn({openMenu:null})}),children:[Mt,jt.isMobile&&vn.collaborators.size>0&&(0,rt.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,rt.jsx)("legend",{children:(0,gt.t)("labels.collaborators")}),(0,rt.jsx)(In.Z,{mobile:!0,collaborators:vn.collaborators})]})]})]})})},Yt=(0,yt.cn)(0),Xt=!1,zt=function(Jt){var Mt=(0,Vt.R6)().jotaiScope,un=(0,yt.KO)(Yt,Mt),hn=(0,_t.Z)(un,2),jt=hn[0],vn=hn[1];return(0,Et.useLayoutEffect)(function(){return vn(function(xn){return xn+1}),function(){vn(function(xn){return xn-1})}},[vn]),Jt.__fallback||(Xt=!0),!jt&&Jt.__fallback&&Xt||jt>1&&Jt.__fallback?null:(0,rt.jsx)(dn,function(xn){for(var Gn=1;Gn<arguments.length;Gn++){var Zt=arguments[Gn]!=null?arguments[Gn]:{};Gn%2?Pt(Object(Zt),!0).forEach(function(Xn){(0,rn.Z)(xn,Xn,Zt[Xn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xn,Object.getOwnPropertyDescriptors(Zt)):Pt(Object(Zt)).forEach(function(Xn){Object.defineProperty(xn,Xn,Object.getOwnPropertyDescriptor(Zt,Xn))})}return xn}({},Jt))},zt.displayName=qt,zt),{Trigger:ot.Z.Trigger,Item:ot.Z.Item,ItemLink:ot.Z.ItemLink,ItemCustom:ot.Z.ItemCustom,Group:ot.Z.Group,Separator:ot.Z.Separator,DefaultItems:pt}),wt=Ut},2335:function(Ht,St,_){_.d(St,{jo:function(){return tr},iC:function(){return Gt},gK:function(){return ln},$C:function(){return tn},oc:function(){return st},_9:function(){return Jn},HN:function(){return or},qy:function(){return Tn},rk:function(){return In},n5:function(){return Dt},h6:function(){return Pn},Rx:function(){return zn},Hg:function(){return rn},cW:function(){return hn},hs:function(){return _t},f:function(){return yt},xY:function(){return Mn},Iw:function(){return ct},$e:function(){return rt},Vi:function(){return Tt},Ks:function(){return fn},r8:function(){return Pt},ZB:function(){return Qn},pb:function(){return qt},ut:function(){return Nt},k:function(){return Et},sA:function(){return wt},LL:function(){return dn},EE:function(){return Xn},qx:function(){return Ct},$n:function(){return ir},zK:function(){return Cn},LO:function(){return Vt},Zj:function(){return Ut},Yx:function(){return Gn},sS:function(){return xn},kV:function(){return vn},sk:function(){return Zt},eF:function(){return jt},Oh:function(){return It},WR:function(){return cr},a6:function(){return er},HM:function(){return zt},ay:function(){return lt},hR:function(){return gr},Gj:function(){return Yt},I8:function(){return wn},wZ:function(){return _e},C6:function(){return $t},ZF:function(){return Jt},nM:function(){return Xt},ah:function(){return un},UO:function(){return Mt},Kr:function(){return Wn},oX:function(){return Un},_D:function(){return Wt},V4:function(){return At},Dt:function(){return ft},jP:function(){return bt},Um:function(){return pn},vU:function(){return Rt},G6:function(){return Bt},ED:function(){return An}});var pt=_(487),ht=_.n(pt),ot=_(631),at=_.n(ot),gt=_(2052),xt=_.n(gt),vt=_(4010),it=_.n(vt),kt=_(1469),Ot=_.n(kt),an=_(9329),gn=_.n(an),Qt=_(6464),bn={};bn.styleTagTransform=gn(),bn.setAttributes=it(),bn.insert=xt().bind(null,"head"),bn.domAPI=at(),bn.insertStyleElement=Ot(),ht()(Qt.Z,bn);var fn,Zn=Qt.Z&&Qt.Z.locals?Qt.Z.locals:void 0,mn=_(5284),pn=/Mac|iPod|iPhone|iPad/.test(navigator.platform),An=/^Win/.test(navigator.platform),ft=/\b(android)\b/i.test(navigator.userAgent),Rt="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,Bt=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,bt=function(){var ur,Ur;return((ur=navigator.brave)===null||ur===void 0||(Ur=ur.isBrave)===null||Ur===void 0?void 0:Ur.name)==="isBrave"},Gt="Excalidraw",yt=10,Ct=8,ct=5,rt=1,_e=30,lt=Math.PI/12,st={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},It={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(ur){ur.COPY="copy",ur.PASTE="paste",ur.CUT="cut",ur.KEYDOWN="keydown",ur.KEYUP="keyup",ur.MOUSE_MOVE="mousemove",ur.RESIZE="resize",ur.UNLOAD="unload",ur.FOCUS="focus",ur.BLUR="blur",ur.DRAG_OVER="dragover",ur.DROP="drop",ur.GESTURE_END="gestureend",ur.BEFORE_UNLOAD="beforeunload",ur.GESTURE_START="gesturestart",ur.GESTURE_CHANGE="gesturechange",ur.POINTER_MOVE="pointermove",ur.POINTER_UP="pointerup",ur.STATE_CHANGE="statechange",ur.WHEEL="wheel",ur.TOUCH_START="touchstart",ur.TOUCH_END="touchend",ur.HASHCHANGE="hashchange",ur.VISIBILITY_CHANGE="visibilitychange",ur.SCROLL="scroll",ur.EXCALIDRAW_LINK="excalidraw-link",ur.MENU_ITEM_SELECT="menu.itemSelect"})(fn||(fn={}));var Tt={TEST:"test",DEVELOPMENT:"development"},tn={SHAPE_ACTIONS_MENU:"App-menu__left"},Nt={Virgil:1,Helvetica:2,Cascadia:3},$t={LIGHT:"light",DARK:"dark"},Wt="Segoe UI Emoji",Dt=20,In=Nt.Virgil,rn="left",_t="top",Et=20,Vt={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},Pt={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},qt=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,dn=500,Yt=300,Xt=500,zt=100,At=.1,Ut=.1,wt=300,Jt=Zn.themeFilter,Mt={addLibrary:"addLibrary"},un={addLibrary:"addLibrary"},hn={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},jt=640,vn=730,xn=1e3,Gn=500,Zt=1229,Xn=parseInt(Zn.rightSidebarWidth),Cn=2,Qn=[1,2,3],Tn=10,Pn=1440,tr=[Vt.png,Vt.jpg,Vt.svg,Vt.gif,Vt.webp,Vt.bmp,Vt.ico],ir=2097152,gr="http://www.w3.org/2000/svg",Wn={excalidraw:2,excalidrawLibrary:2},ln=5,Un={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},wn={LEFT:"left",CENTER:"center",RIGHT:"right"},Mn=20,zn=.25,Jn=32,er={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},cr="__precedingElement__",or={strokeColor:mn.black,backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,locked:!1}},434:function(Ht,St,_){_.d(St,{DQ:function(){return Bt},KG:function(){return It},Pn:function(){return tn},Qk:function(){return Rt},Sf:function(){return st},Tu:function(){return Tt},Wr:function(){return Gt},ZY:function(){return yt},_c:function(){return _e},bv:function(){return Nt},cT:function(){return Ct},g8:function(){return bt},gY:function(){return In},lV:function(){return rt},tW:function(){return lt},vZ:function(){return rn},wf:function(){return ct}});var pt=_(1930),ht=_(2577),ot=_(7169),at=_(8950),gt=_(2975),xt=_.n(gt),vt=_(5605),it=_(8897),kt=_(2335),Ot=_(1047),an=_(6797),gn=_(8211),Qt=_(75),bn=_(6340),fn=_(1393),Zn=_(5523),mn=_(679);function pn(_t,Et){var Vt=Object.keys(_t);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(_t);Et&&(Pt=Pt.filter(function(qt){return Object.getOwnPropertyDescriptor(_t,qt).enumerable})),Vt.push.apply(Vt,Pt)}return Vt}function An(_t){for(var Et=1;Et<arguments.length;Et++){var Vt=arguments[Et]!=null?arguments[Et]:{};Et%2?pn(Object(Vt),!0).forEach(function(Pt){(0,ot.Z)(_t,Pt,Vt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Vt)):pn(Object(Vt)).forEach(function(Pt){Object.defineProperty(_t,Pt,Object.getOwnPropertyDescriptor(Vt,Pt))})}return _t}var ft=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){var Pt;return xt().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:if(Vt.type!==kt.LO.png){qt.next=18;break}return qt.prev=1,qt.next=4,Promise.resolve().then(_.bind(_,673));case 4:return qt.next=6,qt.sent.decodePngMetadata(Vt);case 6:return qt.abrupt("return",qt.sent);case 9:if(qt.prev=9,qt.t0=qt.catch(1),qt.t0.message!=="INVALID"){qt.next=15;break}throw new DOMException((0,gn.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,gn.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:qt.next=43;break;case 18:if(!("text"in Blob)){qt.next=24;break}return qt.next=21,Vt.text();case 21:Pt=qt.sent,qt.next=27;break;case 24:return qt.next=26,new Promise(function(dn){var Yt=new FileReader;Yt.readAsText(Vt,"utf8"),Yt.onloadend=function(){Yt.readyState===FileReader.DONE&&dn(Yt.result)}});case 26:Pt=qt.sent;case 27:if(Vt.type!==kt.LO.svg){qt.next=43;break}return qt.prev=28,qt.next=31,Promise.resolve().then(_.bind(_,673));case 31:return qt.next=33,qt.sent.decodeSvgMetadata({svg:Pt});case 33:return qt.abrupt("return",qt.sent);case 36:if(qt.prev=36,qt.t1=qt.catch(28),qt.t1.message!=="INVALID"){qt.next=42;break}throw new DOMException((0,gn.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,gn.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return qt.abrupt("return",Pt);case 44:case"end":return qt.stop()}},Et,null,[[1,9],[28,36]])}));return function(Et){return _t.apply(this,arguments)}}(),Rt=function(_t){var Et;return _t&&((Et=_t.name.match(/\.(json|excalidraw|png|svg)$/))===null||Et===void 0?void 0:Et[1])||null},Bt=function(_t){return _t==="png"||_t==="svg"},bt=function(_t){var Et=Rt(_t);return Et==="png"||Et==="svg"},Gt=function(_t){var Et=(_t||{}).type;return!!Et&&kt.jo.includes(Et)},yt=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt,Pt,qt,dn){var Yt,Xt;return xt().wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,ft(Vt);case 2:if(Yt=zt.sent,zt.prev=3,Xt=JSON.parse(Yt),!(0,Zn.dS)(Xt)){zt.next=9;break}return zt.abrupt("return",{type:kt.LO.excalidraw,data:(0,mn.nu)({elements:(0,Ot._M)(Xt.elements||[]),appState:An(An({theme:Pt==null?void 0:Pt.theme,fileHandle:dn||Vt.handle||null},(0,it.s)(Xt.appState||{})),Pt?(0,Qt.W)(Xt.elements||[],Pt,null):{}),files:Xt.files},Pt,qt,{repairBindings:!0,refreshDimensions:!0})});case 9:if(!(0,Zn.HT)(Xt)){zt.next=11;break}return zt.abrupt("return",{type:kt.LO.excalidrawlib,data:Xt});case 11:throw new Error((0,gn.t)("alerts.couldNotLoadInvalidFile"));case 14:throw zt.prev=14,zt.t0=zt.catch(3),console.error(zt.t0.message),new Error((0,gn.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return zt.stop()}},Et,null,[[3,14]])}));return function(Et,Vt,Pt,qt){return _t.apply(this,arguments)}}(),Ct=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt,Pt,qt,dn){var Yt;return xt().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:return Xt.next=2,yt(Vt,Pt,qt,dn);case 2:if((Yt=Xt.sent).type===kt.LO.excalidraw){Xt.next=5;break}throw new Error((0,gn.t)("alerts.couldNotLoadInvalidFile"));case 5:return Xt.abrupt("return",Yt.data);case 6:case"end":return Xt.stop()}},Et)}));return function(Et,Vt,Pt,qt){return _t.apply(this,arguments)}}(),ct=function(_t){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",Vt=JSON.parse(_t);if(!(0,Zn.HT)(Vt))throw new Error("Invalid library");var Pt=Vt.libraryItems||Vt.library;return(0,mn.wJ)(Pt,Et)},rt=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){var Pt,qt=arguments;return xt().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return Pt=qt.length>1&&qt[1]!==void 0?qt[1]:"unpublished",dn.t0=ct,dn.next=4,ft(Vt);case 4:return dn.t1=dn.sent,dn.t2=Pt,dn.abrupt("return",(0,dn.t0)(dn.t1,dn.t2));case 7:case"end":return dn.stop()}},Et)}));return function(Et){return _t.apply(this,arguments)}}(),_e=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){return xt().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.abrupt("return",new Promise(function(qt,dn){try{Vt.toBlob(function(Yt){if(!Yt)return dn(new an.l((0,gn.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));qt(Yt)})}catch(Yt){dn(Yt)}}));case 1:case"end":return Pt.stop()}},Et)}));return function(Et){return _t.apply(this,arguments)}}(),lt=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){var Pt;return xt().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return qt.prev=0,qt.t0=window.crypto.subtle,qt.next=4,rn(Vt);case 4:return qt.t1=qt.sent,qt.next=7,qt.t0.digest.call(qt.t0,"SHA-1",qt.t1);case 7:return Pt=qt.sent,qt.abrupt("return",(0,bn.G3)(new Uint8Array(Pt)));case 11:return qt.prev=11,qt.t2=qt.catch(0),console.error(qt.t2),qt.abrupt("return",(0,vt.x0)(40));case 15:case"end":return qt.stop()}},Et,null,[[0,11]])}));return function(Et){return _t.apply(this,arguments)}}(),st=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){return xt().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.abrupt("return",new Promise(function(qt,dn){var Yt=new FileReader;Yt.onload=function(){var Xt=Yt.result;qt(Xt)},Yt.onerror=function(Xt){return dn(Xt)},Yt.readAsDataURL(Vt)}));case 1:case"end":return Pt.stop()}},Et)}));return function(Et){return _t.apply(this,arguments)}}(),It=function(_t){for(var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Vt=_t.indexOf(","),Pt=atob(_t.slice(Vt+1)),qt=_t.slice(0,Vt).split(":")[1].split(";")[0],dn=new ArrayBuffer(Pt.length),Yt=new Uint8Array(dn),Xt=0;Xt<Pt.length;Xt++)Yt[Xt]=Pt.charCodeAt(Xt);return new File([dn],Et,{type:qt})},Tt=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt,Pt){var qt,dn,Yt,Xt,zt,At;return xt().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(Vt.type!==kt.LO.svg){Ut.next=2;break}return Ut.abrupt("return",Vt);case 2:return Ut.next=4,Promise.all([_.e(4736).then(_.t.bind(_,4881,23)).then(function(wt){return wt.default}),_.e(4736).then(_.bind(_,100)).then(function(wt){return wt.default})]);case 4:if(qt=Ut.sent,dn=(0,ht.Z)(qt,2),Yt=dn[0],Xt=dn[1],zt=Xt({pica:Yt({features:["js","wasm"]})}),Pt.outputType&&(At=Pt.outputType,zt._create_blob=function(wt){return this.pica.toBlob(wt.out_canvas,At,.8).then(function(Jt){return wt.out_blob=Jt,wt})}),Gt(Vt)){Ut.next=12;break}throw new Error((0,gn.t)("errors.unsupportedFileType"));case 12:return Ut.t0=File,Ut.next=15,zt.toBlob(Vt,{max:Pt.maxWidthOrHeight});case 15:return Ut.t1=Ut.sent,Ut.t2=[Ut.t1],Ut.t3=Vt.name,Ut.t4={type:Pt.outputType||Vt.type},Ut.abrupt("return",new Ut.t0(Ut.t2,Ut.t3,Ut.t4));case 20:case"end":return Ut.stop()}},Et)}));return function(Et,Vt){return _t.apply(this,arguments)}}(),tn=function(_t){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(_t)],Et,{type:kt.LO.svg})},Nt=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){var Pt,qt;return xt().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return Pt=Vt.dataTransfer.files.item(0),dn.next=3,$t(Vt);case 3:if(qt=dn.sent,!Pt){dn.next=10;break}return dn.next=7,In(Pt);case 7:dn.t0=dn.sent,dn.next=11;break;case 10:dn.t0=null;case 11:return dn.t1=dn.t0,dn.t2=qt,dn.abrupt("return",{file:dn.t1,fileHandle:dn.t2});case 14:case"end":return dn.stop()}},Et)}));return function(Et){return _t.apply(this,arguments)}}(),$t=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){var Pt,qt;return xt().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:if(!fn.kr){dn.next=16;break}return dn.prev=1,Pt=Vt.dataTransfer.items[0],dn.next=5,Pt.getAsFileSystemHandle();case 5:if(dn.t0=dn.sent,dn.t0){dn.next=8;break}dn.t0=null;case 8:return qt=dn.t0,dn.abrupt("return",qt);case 12:return dn.prev=12,dn.t1=dn.catch(1),console.warn(dn.t1.name,dn.t1.message),dn.abrupt("return",null);case 16:return dn.abrupt("return",null);case 17:case"end":return dn.stop()}},Et,null,[[1,12]])}));return function(Et){return _t.apply(this,arguments)}}(),Wt=function(_t){var Et=null,Vt="".concat((0,pt.Z)(new Uint8Array(_t).slice(0,8)).join(" ")," "),Pt="255 216 255 ",qt="71 73 70 56 57 97 ";return Vt==="137 80 78 71 13 10 26 10 "?Et=kt.LO.png:Vt.startsWith(Pt)?Et=kt.LO.jpg:Vt.startsWith(qt)&&(Et=kt.LO.gif),Et},Dt=function(_t,Et,Vt){return new File([_t],Vt||"",{type:Et})},In=function(){var _t=(0,at.Z)(xt().mark(function Et(Vt){var Pt,qt,dn,Yt,Xt,zt,At,Ut;return xt().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(Vt.type){wt.next=28;break}if((Pt=Vt)===null||Pt===void 0||(qt=Pt.name)===null||qt===void 0||!qt.endsWith(".excalidrawlib")){wt.next=11;break}return wt.t0=Dt,wt.next=5,rn(Vt);case 5:wt.t1=wt.sent,wt.t2=kt.LO.excalidrawlib,wt.t3=Vt.name,Vt=(0,wt.t0)(wt.t1,wt.t2,wt.t3),wt.next=26;break;case 11:if((dn=Vt)===null||dn===void 0||(Yt=dn.name)===null||Yt===void 0||!Yt.endsWith(".excalidraw")){wt.next=21;break}return wt.t4=Dt,wt.next=15,rn(Vt);case 15:wt.t5=wt.sent,wt.t6=kt.LO.excalidraw,wt.t7=Vt.name,Vt=(0,wt.t4)(wt.t5,wt.t6,wt.t7),wt.next=26;break;case 21:return wt.next=23,rn(Vt);case 23:Xt=wt.sent,(zt=Wt(Xt))&&(Vt=Dt(Xt,zt,Vt.name));case 26:wt.next=34;break;case 28:if(!Gt(Vt)){wt.next=34;break}return wt.next=31,rn(Vt);case 31:At=wt.sent,(Ut=Wt(At))&&Ut!==Vt.type&&(Vt=Dt(At,Ut,Vt.name));case 34:return wt.abrupt("return",Vt);case 35:case"end":return wt.stop()}},Et)}));return function(Et){return _t.apply(this,arguments)}}(),rn=function(_t){return"arrayBuffer"in _t?_t.arrayBuffer():new Promise(function(Et,Vt){var Pt=new FileReader;Pt.onload=function(qt){var dn;if((dn=qt.target)===null||dn===void 0||!dn.result)return Vt(new Error("Couldn't convert blob to ArrayBuffer"));Et(qt.target.result)},Pt.readAsArrayBuffer(_t)})}},1393:function(Ht,St,_){_.d(St,{I$:function(){return gn},NL:function(){return Qt},kr:function(){return at}});var pt=_(1930),ht=_(8950),ot=_(2975),at=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),gt=at?_.e(4736).then(_.bind(_,2254)):_.e(4736).then(_.bind(_,3499));function xt(){return xt=(0,ht.Z)(ot.mark(function bn(){var fn,Zn=arguments;return ot.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:return mn.next=2,gt;case 2:return mn.abrupt("return",(fn=mn.sent).default.apply(fn,Zn));case 3:case"end":return mn.stop()}},bn)})),xt.apply(this,arguments)}at?_.e(4736).then(_.bind(_,6474)):_.e(4736).then(_.bind(_,9521));var vt=at?_.e(4736).then(_.bind(_,9475)):_.e(4736).then(_.bind(_,6281));function it(){return it=(0,ht.Z)(ot.mark(function bn(){var fn,Zn=arguments;return ot.wrap(function(mn){for(;;)switch(mn.prev=mn.next){case 0:return mn.next=2,vt;case 2:return mn.abrupt("return",(fn=mn.sent).default.apply(fn,Zn));case 3:case"end":return mn.stop()}},bn)})),it.apply(this,arguments)}var kt=_(2335),Ot=_(6797),an=_(6340),gn=function(bn){var fn,Zn,mn,pn=(fn=bn.extensions)===null||fn===void 0?void 0:fn.reduce(function(ft,Rt){return ft.push(kt.LO[Rt]),ft},[]),An=(Zn=bn.extensions)===null||Zn===void 0?void 0:Zn.reduce(function(ft,Rt){return Rt==="jpg"?ft.concat(".jpg",".jpeg"):ft.concat(".".concat(Rt))},[]);return function(){return xt.apply(this,arguments)}({description:bn.description,extensions:An,mimeTypes:pn,multiple:(mn=bn.multiple)!==null&&mn!==void 0&&mn,legacySetup:function(ft,Rt,Bt){var bt=(0,an.Ds)(Rt,500),Gt=function(){yt(),document.addEventListener(kt.Ks.KEYUP,bt),document.addEventListener(kt.Ks.POINTER_UP,bt),bt()},yt=function(){var ct;if((ct=Bt.files)!==null&&ct!==void 0&&ct.length){var rt=bn.multiple?(0,pt.Z)(Bt.files):Bt.files[0];ft(rt)}};requestAnimationFrame(function(){window.addEventListener(kt.Ks.FOCUS,Gt)});var Ct=window.setInterval(function(){yt()},500);return function(ct){clearInterval(Ct),bt.cancel(),window.removeEventListener(kt.Ks.FOCUS,Gt),document.removeEventListener(kt.Ks.KEYUP,bt),document.removeEventListener(kt.Ks.POINTER_UP,bt),ct&&(console.warn("Opening the file was canceled (legacy-fs)."),ct(new Ot._))}}})},Qt=function(bn,fn){return function(){return it.apply(this,arguments)}(bn,{fileName:"".concat(fn.name,".").concat(fn.extension),description:fn.description,extensions:[".".concat(fn.extension)]},fn.fileHandle)}},673:function(Ht,St,_){_.r(St),_.d(St,{decodePngMetadata:function(){return Rt},decodeSvgMetadata:function(){return bt},encodePngMetadata:function(){return ft},encodeSvgMetadata:function(){return Bt},getTEXtChunk:function(){return An}});var pt=_(8950),ht=_(2975),ot=_.n(ht),at=_(2983),gt=_.n(at),xt=_(1194),vt=_(3434),it=_.n(vt),kt=_(2744),Ot=_(2335),an=_(434),gn=function(Gt){return new Promise(function(yt,Ct){var ct=typeof Gt=="string"?new Blob([new TextEncoder().encode(Gt)]):new Blob([Gt instanceof Uint8Array?Gt:new Uint8Array(Gt)]),rt=new FileReader;rt.onload=function(_e){if(!_e.target||typeof _e.target.result!="string")return Ct(new Error("couldn't convert to byte string"));yt(_e.target.result)},rt.readAsBinaryString(ct)})},Qt=function(Gt){for(var yt=new ArrayBuffer(Gt.length),Ct=new Uint8Array(yt),ct=0,rt=Gt.length;ct<rt;ct++)Ct[ct]=Gt.charCodeAt(ct);return yt},bn=function(Gt){return new TextDecoder("utf-8").decode(Qt(Gt))},fn=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct=arguments;return ot().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(!(ct.length>1&&ct[1]!==void 0&&ct[1])){rt.next=5;break}rt.t0=window.btoa(Ct),rt.next=10;break;case 5:return rt.t1=window,rt.next=8,gn(Ct);case 8:rt.t2=rt.sent,rt.t0=rt.t1.btoa.call(rt.t1,rt.t2);case 10:return rt.abrupt("return",rt.t0);case 11:case"end":return rt.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),Zn=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt=arguments;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return ct=rt.length>1&&rt[1]!==void 0&&rt[1],_e.abrupt("return",ct?window.atob(Ct):bn(window.atob(Ct)));case 2:case"end":return _e.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),mn=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(ct=Ct.text,Ct.compress===!1){_e.next=11;break}return _e.prev=2,_e.next=5,gn((0,kt.deflate)(ct));case 5:rt=_e.sent,_e.next=11;break;case 8:_e.prev=8,_e.t0=_e.catch(2),console.error("encode: cannot deflate",_e.t0);case 11:if(_e.t1=!!rt,_e.t2=rt,_e.t2){_e.next=17;break}return _e.next=16,gn(ct);case 16:_e.t2=_e.sent;case 17:return _e.t3=_e.t2,_e.abrupt("return",{version:"1",encoding:"bstring",compressed:_e.t1,encoded:_e.t3});case 19:case"end":return _e.stop()}},yt,null,[[2,8]])}));return function(yt){return Gt.apply(this,arguments)}}(),pn=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct;return ot().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:rt.t0=Ct.encoding,rt.next=rt.t0==="bstring"?3:12;break;case 3:if(!Ct.compressed){rt.next=7;break}rt.t1=Ct.encoded,rt.next=10;break;case 7:return rt.next=9,bn(Ct.encoded);case 9:rt.t1=rt.sent;case 10:return ct=rt.t1,rt.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(Ct.encoding,'"'));case 13:if(!Ct.compressed){rt.next=15;break}return rt.abrupt("return",(0,kt.inflate)(new Uint8Array(Qt(ct)),{to:"string"}));case 15:return rt.abrupt("return",ct);case 16:case"end":return rt.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),An=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.t0=gt(),_e.t1=Uint8Array,_e.next=4,(0,an.vZ)(Ct);case 4:if(_e.t2=_e.sent,_e.t3=new _e.t1(_e.t2),ct=(0,_e.t0)(_e.t3),!(rt=ct.find(function(lt){return lt.name==="tEXt"}))){_e.next=10;break}return _e.abrupt("return",xt.decode(rt.data));case 10:return _e.abrupt("return",null);case 11:case"end":return _e.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),ft=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt,_e,lt;return ot().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:return ct=Ct.blob,rt=Ct.metadata,st.t0=gt(),st.t1=Uint8Array,st.next=5,(0,an.vZ)(ct);case 5:return st.t2=st.sent,st.t3=new st.t1(st.t2),_e=(0,st.t0)(st.t3),st.t4=xt,st.t5=Ot.LO.excalidraw,st.t6=JSON,st.next=13,mn({text:rt,compress:!0});case 13:return st.t7=st.sent,st.t8=st.t6.stringify.call(st.t6,st.t7),lt=st.t4.encode.call(st.t4,st.t5,st.t8),_e.splice(-1,0,lt),st.abrupt("return",new Blob([it()(_e)],{type:Ot.LO.png}));case 18:case"end":return st.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),Rt=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt;return ot().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=2,An(Ct);case 2:if(((ct=_e.sent)==null?void 0:ct.keyword)!==Ot.LO.excalidraw){_e.next=19;break}if(_e.prev=4,"encoded"in(rt=JSON.parse(ct.text))){_e.next=10;break}if(!("type"in rt)||rt.type!==Ot.r8.excalidraw){_e.next=9;break}return _e.abrupt("return",ct.text);case 9:throw new Error("FAILED");case 10:return _e.next=12,pn(rt);case 12:return _e.abrupt("return",_e.sent);case 15:throw _e.prev=15,_e.t0=_e.catch(4),console.error(_e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return _e.stop()}},yt,null,[[4,15]])}));return function(yt){return Gt.apply(this,arguments)}}(),Bt=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt,_e;return ot().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return ct=Ct.text,lt.t0=fn,lt.t1=JSON,lt.next=5,mn({text:ct});case 5:return lt.t2=lt.sent,lt.t3=lt.t1.stringify.call(lt.t1,lt.t2),lt.next=9,(0,lt.t0)(lt.t3,!0);case 9:return rt=lt.sent,_e="",_e+="<!-- payload-type:".concat(Ot.LO.excalidraw," -->"),_e+="<!-- payload-version:2 -->",_e+="<!-- payload-start -->",_e+=rt,_e+="<!-- payload-end -->",lt.abrupt("return",_e);case 17:case"end":return lt.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),bt=function(){var Gt=(0,pt.Z)(ot().mark(function yt(Ct){var ct,rt,_e,lt,st,It,Tt;return ot().wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:if(!(ct=Ct.svg).includes("payload-type:".concat(Ot.LO.excalidraw))){tn.next=26;break}if(rt=ct.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){tn.next=5;break}throw new Error("INVALID");case 5:return _e=ct.match(/<!-- payload-version:(\d+) -->/),lt=(_e==null?void 0:_e[1])||"1",st=lt!=="1",tn.prev=8,tn.next=11,Zn(rt[1],st);case 11:if(It=tn.sent,"encoded"in(Tt=JSON.parse(It))){tn.next=17;break}if(!("type"in Tt)||Tt.type!==Ot.r8.excalidraw){tn.next=16;break}return tn.abrupt("return",It);case 16:throw new Error("FAILED");case 17:return tn.next=19,pn(Tt);case 19:return tn.abrupt("return",tn.sent);case 22:throw tn.prev=22,tn.t0=tn.catch(8),console.error(tn.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return tn.stop()}},yt,null,[[8,22]])}));return function(yt){return Gt.apply(this,arguments)}}()},9485:function(Ht,St,_){_.d(St,{Um:function(){return Ot.Um},cT:function(){return it.cT},n8:function(){return Ot.n8},p1:function(){return an}});var pt=_(8950),ht=_(2975),ot=_.n(ht),at=_(6665),gt=_(2335),xt=_(8211),vt=_(4162),it=_(434),kt=_(1393),Ot=_(5523),an=function(){var gn=(0,pt.Z)(ot().mark(function Qt(bn,fn,Zn,mn,pn){var An,ft,Rt,Bt,bt,Gt,yt,Ct,ct,rt,_e;return ot().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(An=pn.exportBackground,ft=pn.exportPadding,Rt=ft===void 0?gt.qy:ft,Bt=pn.viewBackgroundColor,bt=pn.name,Gt=pn.fileHandle,yt=Gt===void 0?null:Gt,fn.length!==0){lt.next=3;break}throw new Error((0,xt.t)("alerts.cannotExportEmptyCanvas"));case 3:if(bn!=="svg"&&bn!=="clipboard-svg"){lt.next=17;break}return lt.next=6,(0,vt.$D)(fn,{exportBackground:An,exportWithDarkMode:Zn.exportWithDarkMode,viewBackgroundColor:Bt,exportPadding:Rt,exportScale:Zn.exportScale,exportEmbedScene:Zn.exportEmbedScene&&bn==="svg"},mn);case 6:if(Ct=lt.sent,bn!=="svg"){lt.next=13;break}return lt.next=10,(0,kt.NL)(new Blob([Ct.outerHTML],{type:gt.LO.svg}),{description:"Export to SVG",name:bt,extension:Zn.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:yt});case 10:return lt.abrupt("return",lt.sent);case 13:if(bn!=="clipboard-svg"){lt.next=17;break}return lt.next=16,(0,at.dd)(Ct.outerHTML);case 16:return lt.abrupt("return");case 17:return lt.next=19,(0,vt.NL)(fn,Zn,mn,{exportBackground:An,viewBackgroundColor:Bt,exportPadding:Rt});case 19:if((ct=lt.sent).style.display="none",document.body.appendChild(ct),bn!=="png"){lt.next=38;break}return lt.next=25,(0,it._c)(ct);case 25:if(rt=lt.sent,ct.remove(),!Zn.exportEmbedScene){lt.next=33;break}return lt.next=30,Promise.resolve().then(_.bind(_,673));case 30:return lt.next=32,lt.sent.encodePngMetadata({blob:rt,metadata:(0,Ot.I_)(fn,Zn,mn,"local")});case 32:rt=lt.sent;case 33:return lt.next=35,(0,kt.NL)(rt,{description:"Export to PNG",name:bt,extension:"png",fileHandle:yt});case 35:return lt.abrupt("return",lt.sent);case 38:if(bn!=="clipboard"){lt.next=60;break}return lt.prev=39,_e=(0,it._c)(ct),lt.next=43,(0,at.uR)(_e);case 43:lt.next=55;break;case 45:if(lt.prev=45,lt.t0=lt.catch(39),console.warn(lt.t0),lt.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){lt.next=50;break}throw lt.t0;case 50:if(!gt.vU||lt.t0.name!=="TypeError"){lt.next=54;break}throw new Error("".concat((0,xt.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,xt.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,xt.t)("alerts.couldNotCopyToClipboard"));case 55:return lt.prev=55,ct.remove(),lt.finish(55);case 58:lt.next=62;break;case 60:throw ct.remove(),new Error("Unsupported export type");case 62:case"end":return lt.stop()}},Qt,null,[[39,45,55,58]])}));return function(Qt,bn,fn,Zn,mn){return gn.apply(this,arguments)}}()},5523:function(Ht,St,_){_.d(St,{HT:function(){return mn},I_:function(){return Qt},NI:function(){return pn},Um:function(){return bn},dS:function(){return Zn},n8:function(){return fn},t1:function(){return An}});var pt=_(6655),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(1393),xt=_(8897),vt=_(2335),it=_(1047),kt=_(434);function Ot(ft,Rt){var Bt=typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(!Bt){if(Array.isArray(ft)||(Bt=function(rt,_e){if(rt){if(typeof rt=="string")return an(rt,_e);var lt=Object.prototype.toString.call(rt).slice(8,-1);if(lt==="Object"&&rt.constructor&&(lt=rt.constructor.name),lt==="Map"||lt==="Set")return Array.from(rt);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return an(rt,_e)}}(ft))||Rt&&ft&&typeof ft.length=="number"){Bt&&(ft=Bt);var bt=0,Gt=function(){};return{s:Gt,n:function(){return bt>=ft.length?{done:!0}:{done:!1,value:ft[bt++]}},e:function(rt){throw rt},f:Gt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yt,Ct=!0,ct=!1;return{s:function(){Bt=Bt.call(ft)},n:function(){var rt=Bt.next();return Ct=rt.done,rt},e:function(rt){ct=!0,yt=rt},f:function(){try{Ct||Bt.return==null||Bt.return()}finally{if(ct)throw yt}}}}function an(ft,Rt){(Rt==null||Rt>ft.length)&&(Rt=ft.length);for(var Bt=0,bt=new Array(Rt);Bt<Rt;Bt++)bt[Bt]=ft[Bt];return bt}var gn=function(ft,Rt){var Bt,bt={},Gt=Ot(ft);try{for(Gt.s();!(Bt=Gt.n()).done;){var yt=Bt.value;!yt.isDeleted&&"fileId"in yt&&yt.fileId&&Rt[yt.fileId]&&(bt[yt.fileId]=Rt[yt.fileId])}}catch(Ct){Gt.e(Ct)}finally{Gt.f()}return bt},Qt=function(ft,Rt,Bt,bt){var Gt={type:vt.r8.excalidraw,version:vt.Kr.excalidraw,source:vt.pb,elements:bt==="local"?(0,it._M)(ft):(0,it.BQ)(ft),appState:bt==="local"?(0,xt.s)(Rt):(0,xt.eS)(Rt),files:bt==="local"?gn(ft,Bt):void 0};return JSON.stringify(Gt,null,2)},bn=function(){var ft=(0,ht.Z)(at().mark(function Rt(Bt,bt,Gt){var yt,Ct,ct;return at().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return yt=Qt(Bt,bt,Gt,"local"),Ct=new Blob([yt],{type:vt.LO.excalidraw}),rt.next=4,(0,gt.NL)(Ct,{name:bt.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,kt.g8)(bt.fileHandle)?null:bt.fileHandle});case 4:return ct=rt.sent,rt.abrupt("return",{fileHandle:ct});case 6:case"end":return rt.stop()}},Rt)}));return function(Rt,Bt,bt){return ft.apply(this,arguments)}}(),fn=function(){var ft=(0,ht.Z)(at().mark(function Rt(Bt,bt){var Gt;return at().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return yt.next=2,(0,gt.I$)({description:"Excalidraw files"});case 2:return Gt=yt.sent,yt.t0=kt.cT,yt.next=6,(0,kt.gY)(Gt);case 6:return yt.t1=yt.sent,yt.t2=Bt,yt.t3=bt,yt.t4=Gt.handle,yt.abrupt("return",(0,yt.t0)(yt.t1,yt.t2,yt.t3,yt.t4));case 11:case"end":return yt.stop()}},Rt)}));return function(Rt,Bt){return ft.apply(this,arguments)}}(),Zn=function(ft){return(ft==null?void 0:ft.type)===vt.r8.excalidraw&&(!ft.elements||Array.isArray(ft.elements)&&(!ft.appState||(0,pt.Z)(ft.appState)==="object"))},mn=function(ft){return(0,pt.Z)(ft)==="object"&&ft&&ft.type===vt.r8.excalidrawLibrary&&(ft.version===1||ft.version===2)},pn=function(ft){var Rt={type:vt.r8.excalidrawLibrary,version:vt.Kr.excalidrawLibrary,source:vt.pb,libraryItems:ft};return JSON.stringify(Rt,null,2)},An=function(){var ft=(0,ht.Z)(at().mark(function Rt(Bt){var bt;return at().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return bt=pn(Bt),Gt.next=3,(0,gt.NL)(new Blob([bt],{type:vt.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return Gt.stop()}},Rt)}));return function(Rt){return ft.apply(this,arguments)}}()},7053:function(Ht,St,_){_.d(St,{Di:function(){return ct},WV:function(){return Ct},rF:function(){return Rt},xS:function(){return rt},zh:function(){return Gt}});var pt=_(7169),ht=_(8950),ot=_(5169),at=_(8821),gt=_(1930),xt=_(2975),vt=_.n(xt),it=_(434),kt=_(679),Ot=_(4739),an=_(9487),gn=_(8925),Qt=_(6797),bn=_(8211),fn=_(9787),Zn=_(2335);function mn(_e,lt){var st=Object.keys(_e);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_e);lt&&(It=It.filter(function(Tt){return Object.getOwnPropertyDescriptor(_e,Tt).enumerable})),st.push.apply(st,It)}return st}function pn(_e){for(var lt=1;lt<arguments.length;lt++){var st=arguments[lt]!=null?arguments[lt]:{};lt%2?mn(Object(st),!0).forEach(function(It){(0,pt.Z)(_e,It,st[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(st)):mn(Object(st)).forEach(function(It){Object.defineProperty(_e,It,Object.getOwnPropertyDescriptor(st,It))})}return _e}function An(_e,lt){var st=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!st){if(Array.isArray(_e)||(st=function(Wt,Dt){if(Wt){if(typeof Wt=="string")return ft(Wt,Dt);var In=Object.prototype.toString.call(Wt).slice(8,-1);if(In==="Object"&&Wt.constructor&&(In=Wt.constructor.name),In==="Map"||In==="Set")return Array.from(Wt);if(In==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(In))return ft(Wt,Dt)}}(_e))||lt&&_e&&typeof _e.length=="number"){st&&(_e=st);var It=0,Tt=function(){};return{s:Tt,n:function(){return It>=_e.length?{done:!0}:{done:!1,value:_e[It++]}},e:function(Wt){throw Wt},f:Tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tn,Nt=!0,$t=!1;return{s:function(){st=st.call(_e)},n:function(){var Wt=st.next();return Nt=Wt.done,Wt},e:function(Wt){$t=!0,tn=Wt},f:function(){try{Nt||st.return==null||st.return()}finally{if($t)throw tn}}}}function ft(_e,lt){(lt==null||lt>_e.length)&&(lt=_e.length);for(var st=0,It=new Array(lt);st<lt;st++)It[st]=_e[st];return It}var Rt=(0,Ot.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),Bt=function(_e){return JSON.parse(JSON.stringify(_e))},bt=function(_e,lt){return!_e.find(function(st){return st.elements.length===lt.elements.length&&st.elements.every(function(It,Tt){return It.id===lt.elements[Tt].id&&It.versionNonce===lt.elements[Tt].versionNonce})})},Gt=function(_e,lt){var st,It=[],Tt=An(lt);try{for(Tt.s();!(st=Tt.n()).done;){var tn=st.value;bt(_e,tn)&&It.push(tn)}}catch(Nt){Tt.e(Nt)}finally{Tt.f()}return[].concat(It,(0,gt.Z)(_e))},yt=(0,ot.Z)(function _e(lt){var st=this;(0,at.Z)(this,_e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return st.updateQueue[st.updateQueue.length-1]},this.notifyListeners=function(){if(st.updateQueue.length>0)an.e_.set(Rt,{status:"loading",libraryItems:st.lastLibraryItems,isInitialized:st.isInitialized});else{st.isInitialized=!0,an.e_.set(Rt,{status:"loaded",libraryItems:st.lastLibraryItems,isInitialized:st.isInitialized});try{var It,Tt;(It=(Tt=st.app.props).onLibraryChange)===null||It===void 0||It.call(Tt,Bt(st.lastLibraryItems))}catch(tn){console.error(tn)}}},this.resetLibrary=function(){return st.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var It=(0,ht.Z)(vt().mark(function Tt(tn){var Nt;return vt().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.prev=0,$t.next=3,st.getLastUpdateTask()||st.lastLibraryItems;case 3:Nt=$t.sent,st.updateQueue.length>0?tn(st.getLatestLibrary()):tn(Bt(Nt)),$t.next=10;break;case 7:return $t.prev=7,$t.t0=$t.catch(0),$t.abrupt("return",tn(st.lastLibraryItems));case 10:case"end":return $t.stop()}},Tt,null,[[0,7]])}));return function(Tt){return It.apply(this,arguments)}}())},this.updateLibrary=function(){var It=(0,ht.Z)(vt().mark(function Tt(tn){var Nt,$t,Wt,Dt,In,rn,_t,Et,Vt;return vt().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Nt=tn.libraryItems,$t=tn.prompt,Wt=$t!==void 0&&$t,Dt=tn.merge,In=Dt!==void 0&&Dt,rn=tn.openLibraryMenu,_t=rn!==void 0&&rn,Et=tn.defaultStatus,Vt=Et===void 0?"unpublished":Et,_t&&st.app.setState({openSidebar:"library"}),Pt.abrupt("return",st.setLibrary(function(){return new Promise(function(){var qt=(0,ht.Z)(vt().mark(function dn(Yt,Xt){var zt,At;return vt().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.prev=0,Ut.next=3,typeof Nt!="function"||Nt instanceof Blob?Nt:Nt(st.lastLibraryItems);case 3:if(!((zt=Ut.sent)instanceof Blob)){Ut.next=10;break}return Ut.next=7,(0,it.lV)(zt,Vt);case 7:At=Ut.sent,Ut.next=11;break;case 10:At=(0,kt.wJ)(zt,Vt);case 11:!Wt||window.confirm((0,bn.t)("alerts.confirmAddLibrary",{numShapes:At.length}))?Yt(In?Gt(st.lastLibraryItems,At):At):Xt(new Qt._),Ut.next=17;break;case 14:Ut.prev=14,Ut.t0=Ut.catch(0),Xt(Ut.t0);case 17:case"end":return Ut.stop()}},dn,null,[[0,14]])}));return function(dn,Yt){return qt.apply(this,arguments)}}())}).finally(function(){st.app.focusContainer()}));case 3:case"end":return Pt.stop()}},Tt)}));return function(Tt){return It.apply(this,arguments)}}(),this.setLibrary=function(It){var Tt=new Promise(function(){var tn=(0,ht.Z)(vt().mark(function Nt($t,Wt){return vt().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return Dt.prev=0,Dt.next=3,st.getLastUpdateTask();case 3:return typeof It=="function"&&(It=It(st.lastLibraryItems)),Dt.t0=Bt,Dt.next=7,It;case 7:Dt.t1=Dt.sent,st.lastLibraryItems=(0,Dt.t0)(Dt.t1),$t(st.lastLibraryItems),Dt.next=15;break;case 12:Dt.prev=12,Dt.t2=Dt.catch(0),Wt(Dt.t2);case 15:case"end":return Dt.stop()}},Nt,null,[[0,12]])}));return function(Nt,$t){return tn.apply(this,arguments)}}()).catch(function(tn){if(tn.name==="AbortError")return console.warn("Library update aborted by user"),st.lastLibraryItems;throw tn}).finally(function(){st.updateQueue=st.updateQueue.filter(function(tn){return tn!==Tt}),st.notifyListeners()});return st.updateQueue.push(Tt),st.notifyListeners(),Tt},this.app=lt});St.ZP=yt;var Ct=function(_e){var lt,st=Math.ceil(Math.sqrt(_e.length)),It=[],Tt=0,tn=0,Nt=0,$t=0,Wt=0,Dt=0,In=0,rn=An(_e);try{var _t=function(){var Et=lt.value;Wt&&Wt%st==0&&(tn+=Nt+50,Tt=0,Dt=0,In++),Dt===0&&(Nt=function(At){return _e.slice(At*st,At*st+st).reduce(function(Ut,wt){var Jt=(0,gn.v2)(wt.elements).height;return Math.max(Ut,Jt)},0)}(In)),$t=function(At){var Ut,wt=0,Jt=0,Mt=0,un=An(_e);try{for(un.s();!(Ut=un.n()).done;){var hn=Ut.value;if(wt%st==0&&(Jt=0),Jt===At){var jt=(0,gn.v2)(hn.elements).width;Mt=Math.max(Mt,jt)}wt++,Jt++}}catch(vn){un.e(vn)}finally{un.f()}return Mt}(Dt);var Vt=(0,gn.v2)(Et.elements),Pt=Vt.minX,qt=Vt.minY,dn=Vt.width,Yt=Vt.height,Xt=($t-dn)/2,zt=(Nt-Yt)/2;It.push.apply(It,(0,gt.Z)(Et.elements.map(function(At){return pn(pn({},At),{},{x:At.x+Tt+Xt-Pt,y:At.y+tn+zt-qt})}))),Tt+=$t+50,Wt++,Dt++};for(rn.s();!(lt=rn.n()).done;)_t()}catch(Et){rn.e(Et)}finally{rn.f()}return It},ct=function(){var _e=new URLSearchParams(window.location.hash.slice(1)).get(Zn.ah.addLibrary)||new URLSearchParams(window.location.search).get(Zn.UO.addLibrary),lt=_e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return _e?{libraryUrl:_e,idToken:lt}:null},rt=function(_e){var lt=_e.excalidrawAPI,st=_e.getInitialLibraryItems,It=(0,fn.useRef)(st);(0,fn.useEffect)(function(){if(lt){var Tt=function(){var $t=(0,ht.Z)(vt().mark(function Wt(Dt){var In,rn,_t,Et,Vt,Pt;return vt().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return In=Dt.libraryUrl,rn=Dt.idToken,_t=new Promise(function(){var dn=(0,ht.Z)(vt().mark(function Yt(Xt,zt){var At,Ut;return vt().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return wt.prev=0,wt.next=3,fetch(decodeURIComponent(In));case 3:return At=wt.sent,wt.next=6,At.blob();case 6:Ut=wt.sent,Xt(Ut),wt.next=13;break;case 10:wt.prev=10,wt.t0=wt.catch(0),zt(wt.t0);case 13:case"end":return wt.stop()}},Yt,null,[[0,10]])}));return function(Yt,Xt){return dn.apply(this,arguments)}}()),Et=rn!==lt.id,qt.next=5,Et&&document.hidden?new Promise(function(dn){window.addEventListener("focus",function(){return dn()},{once:!0})}):null;case 5:return qt.prev=5,qt.next=8,lt.updateLibrary({libraryItems:_t,prompt:Et,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:qt.next=13;break;case 10:throw qt.prev=10,qt.t0=qt.catch(5),qt.t0;case 13:return qt.prev=13,window.location.hash.includes(Zn.ah.addLibrary)?((Vt=new URLSearchParams(window.location.hash.slice(1))).delete(Zn.ah.addLibrary),window.history.replaceState({},Zn.iC,"#".concat(Vt.toString()))):window.location.search.includes(Zn.UO.addLibrary)&&((Pt=new URLSearchParams(window.location.search)).delete(Zn.UO.addLibrary),window.history.replaceState({},Zn.iC,"?".concat(Pt.toString()))),qt.finish(13);case 16:case"end":return qt.stop()}},Wt,null,[[5,10,13,16]])}));return function(Wt){return $t.apply(this,arguments)}}(),tn=function($t){$t.preventDefault();var Wt=ct();Wt&&($t.stopImmediatePropagation(),window.history.replaceState({},"",$t.oldURL),Tt(Wt))};It.current&&lt.updateLibrary({libraryItems:It.current()});var Nt=ct();return Nt&&Tt(Nt),window.addEventListener(Zn.Ks.HASHCHANGE,tn),function(){window.removeEventListener(Zn.Ks.HASHCHANGE,tn)}}},[lt])}},679:function(Ht,St,_){_.d(St,{ET:function(){return Bt},lY:function(){return yt},nu:function(){return Ct},wJ:function(){return rt}});var pt=_(2577),ht=_(7169),ot=_(1047),at=_(1974),gt=_(6954),xt=_(2335),vt=_(8897),it=_(6938),kt=_(1935),Ot=_(6340),an=_(5284),gn=_(5710);function Qt(_e,lt){var st=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!st){if(Array.isArray(_e)||(st=function(Wt,Dt){if(Wt){if(typeof Wt=="string")return bn(Wt,Dt);var In=Object.prototype.toString.call(Wt).slice(8,-1);if(In==="Object"&&Wt.constructor&&(In=Wt.constructor.name),In==="Map"||In==="Set")return Array.from(Wt);if(In==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(In))return bn(Wt,Dt)}}(_e))||lt&&_e&&typeof _e.length=="number"){st&&(_e=st);var It=0,Tt=function(){};return{s:Tt,n:function(){return It>=_e.length?{done:!0}:{done:!1,value:_e[It++]}},e:function(Wt){throw Wt},f:Tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tn,Nt=!0,$t=!1;return{s:function(){st=st.call(_e)},n:function(){var Wt=st.next();return Nt=Wt.done,Wt},e:function(Wt){$t=!0,tn=Wt},f:function(){try{Nt||st.return==null||st.return()}finally{if($t)throw tn}}}}function bn(_e,lt){(lt==null||lt>_e.length)&&(lt=_e.length);for(var st=0,It=new Array(lt);st<lt;st++)It[st]=_e[st];return It}function fn(_e,lt){var st=Object.keys(_e);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(_e);lt&&(It=It.filter(function(Tt){return Object.getOwnPropertyDescriptor(_e,Tt).enumerable})),st.push.apply(st,It)}return st}function Zn(_e){for(var lt=1;lt<arguments.length;lt++){var st=arguments[lt]!=null?arguments[lt]:{};lt%2?fn(Object(st),!0).forEach(function(It){(0,ht.Z)(_e,It,st[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(st)):fn(Object(st)).forEach(function(It){Object.defineProperty(_e,It,Object.getOwnPropertyDescriptor(st,It))})}return _e}var mn={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},pn=function(_e){return Object.keys(xt.ut).includes(_e)?xt.ut[_e]:xt.rk},An=function(_e,lt){var st,It,Tt,tn,Nt,$t,Wt,Dt,In,rn,_t,Et,Vt,Pt,qt={type:lt.type||_e.type,version:_e.version||1,versionNonce:(st=_e.versionNonce)!==null&&st!==void 0?st:0,isDeleted:(It=_e.isDeleted)!==null&&It!==void 0&&It,id:_e.id||(0,gt.kb)(),fillStyle:_e.fillStyle||"hachure",strokeWidth:_e.strokeWidth||1,strokeStyle:(Tt=_e.strokeStyle)!==null&&Tt!==void 0?Tt:"solid",roughness:(tn=_e.roughness)!==null&&tn!==void 0?tn:1,opacity:_e.opacity==null?100:_e.opacity,angle:_e.angle||0,x:(Nt=($t=lt.x)!==null&&$t!==void 0?$t:_e.x)!==null&&Nt!==void 0?Nt:0,y:(Wt=(Dt=lt.y)!==null&&Dt!==void 0?Dt:_e.y)!==null&&Wt!==void 0?Wt:0,strokeColor:_e.strokeColor||an.black,backgroundColor:_e.backgroundColor||"transparent",width:_e.width||0,height:_e.height||0,seed:(In=_e.seed)!==null&&In!==void 0?In:1,groupIds:(rn=_e.groupIds)!==null&&rn!==void 0?rn:[],roundness:_e.roundness?_e.roundness:_e.strokeSharpness==="round"?{type:(0,at.QI)(_e.type)?xt.a6.LEGACY:xt.a6.PROPORTIONAL_RADIUS}:null,boundElements:_e.boundElementIds?_e.boundElementIds.map(function(dn){return{type:"arrow",id:dn}}):(_t=_e.boundElements)!==null&&_t!==void 0?_t:[],updated:(Et=_e.updated)!==null&&Et!==void 0?Et:(0,Ot.C3)(),link:(Vt=_e.link)!==null&&Vt!==void 0?Vt:null,locked:(Pt=_e.locked)!==null&&Pt!==void 0&&Pt};return"customData"in _e&&(qt.customData=_e.customData),xt.WR in _e&&(qt[xt.WR]=_e[xt.WR]),Zn(Zn(Zn({},qt),(0,ot.Qp)(qt)),lt)},ft=function(_e,lt){if(_e.boundElements){var st=_e.boundElements.slice(),It=new Set;_e.boundElements=st.reduce(function(Tt,tn){var Nt=lt.get(tn.id);if(Nt&&!It.has(tn.id)){if(It.add(tn.id),Nt.isDeleted)return Tt;Tt.push(tn),(0,at.iB)(Nt)&&!Nt.containerId&&(Nt.containerId=_e.id)}return Tt},[])}},Rt=function(_e,lt){var st=_e.containerId?lt.get(_e.containerId):null;if(st){if(!_e.isDeleted&&st.boundElements&&!st.boundElements.find(function(Tt){return Tt.id===_e.id})){var It=(st.boundElements||(st.boundElements=[])).slice();It.push({type:"text",id:_e.id}),st.boundElements=It}}else _e.containerId=null},Bt=function(_e,lt,st){var It=new Set,Tt=lt?(0,Ot.xn)(lt):null,tn=(_e||[]).reduce(function(In,rn){if(rn.type!=="selection"&&!(0,ot.QD)(rn)){var _t=function(Vt){var Pt,qt,dn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(Vt.type){case"text":var Yt=Vt.fontSize,Xt=Vt.fontFamily;if("font"in Vt){var zt=Vt.font.split(" "),At=(0,pt.Z)(zt,2),Ut=At[0],wt=At[1];Yt=parseFloat(Ut),Xt=pn(wt)}var Jt=(Pt=Vt.text)!==null&&Pt!==void 0?Pt:"",Mt=Vt.lineHeight||(Vt.height?(0,gn.$2)(Vt):(0,gn.PT)(Vt.fontFamily)),un=(0,gn.R8)(Vt.text,(0,Ot.mO)(Vt),Mt);return Vt=An(Vt,{fontSize:Yt,fontFamily:Xt,text:Jt,textAlign:Vt.textAlign||xt.Hg,verticalAlign:Vt.verticalAlign||xt.hs,containerId:(qt=Vt.containerId)!==null&&qt!==void 0?qt:null,originalText:Vt.originalText||Jt,lineHeight:Mt,baseline:un}),dn&&(Vt=Zn(Zn({},Vt),(0,ot.JZ)(Vt))),Vt;case"freedraw":return An(Vt,{points:Vt.points,lastCommittedPoint:null,simulatePressure:Vt.simulatePressure,pressures:Vt.pressures});case"image":return An(Vt,{status:Vt.status||"pending",fileId:Vt.fileId,scale:Vt.scale||[1,1]});case"line":case"draw":case"arrow":var hn=Vt,jt=hn.startArrowhead,vn=jt===void 0?null:jt,xn=hn.endArrowhead,Gn=xn===void 0?Vt.type==="arrow"?"arrow":null:xn,Zt=Vt.x,Xn=Vt.y,Cn=!Array.isArray(Vt.points)||Vt.points.length<2?[[0,0],[Vt.width,Vt.height]]:Vt.points;if(Cn[0][0]!==0||Cn[0][1]!==0){var Qn=it._.getNormalizedPoints(Vt);Cn=Qn.points,Zt=Qn.x,Xn=Qn.y}return An(Vt,{type:Vt.type==="draw"?"line":Vt.type,startBinding:Vt.startBinding,endBinding:Vt.endBinding,lastCommittedPoint:null,startArrowhead:vn,endArrowhead:Gn,points:Cn,x:Zt,y:Xn});case"ellipse":case"rectangle":case"diamond":return An(Vt,{})}}(rn,st==null?void 0:st.refreshDimensions);if(_t){var Et=Tt==null?void 0:Tt.get(rn.id);Et&&Et.version>_t.version&&(_t=(0,kt.ZP)(_t,Et.version)),It.has(_t.id)&&(_t=Zn(Zn({},_t),{},{id:(0,gt.kb)()})),It.add(_t.id),In.push(_t)}}return In},[]);if(st==null||!st.repairBindings)return tn;var Nt,$t=(0,Ot.xn)(tn),Wt=Qt(tn);try{for(Wt.s();!(Nt=Wt.n()).done;){var Dt=Nt.value;(0,at.iB)(Dt)&&Dt.containerId?Rt(Dt,$t):Dt.boundElements&&ft(Dt,$t)}}catch(In){Wt.e(In)}finally{Wt.f()}return tn},bt=function(_e,lt,st){var It=lt[_e];return It!==void 0?It:st[_e]},Gt={isLibraryOpen:function(_e,lt){return["openSidebar","isLibraryOpen"in _e?_e.isLibraryOpen?"library":null:bt("openSidebar",_e,lt)]},isLibraryMenuDocked:function(_e,lt){var st;return["isSidebarDocked",(st=_e.isLibraryMenuDocked)!==null&&st!==void 0?st:bt("isSidebarDocked",_e,lt)]}},yt=function(_e,lt){var st,It,Tt,tn;_e=_e||{};for(var Nt=(0,vt.im)(),$t={},Wt=0,Dt=Object.keys(Gt);Wt<Dt.length;Wt++){var In=Dt[Wt];if(In in _e){var rn=Gt[In](_e,Nt),_t=(0,pt.Z)(rn,2),Et=_t[0],Vt=_t[1];$t[Et]=Vt}}for(var Pt=0,qt=Object.entries(Nt);Pt<qt.length;Pt++){var dn=(0,pt.Z)(qt[Pt],2),Yt=dn[0],Xt=dn[1],zt=_e[Yt],At=lt?lt[Yt]:void 0;$t[Yt]=zt!==void 0?zt:At!==void 0?At:Xt}return Zn(Zn({},$t),{},{cursorButton:(lt==null?void 0:lt.cursorButton)||"up",penDetected:(st=lt==null?void 0:lt.penDetected)!==null&&st!==void 0?st:!!_e.penMode&&(It=_e.penDetected)!==null&&It!==void 0&&It,activeTool:Zn(Zn({},(0,Ot.Om)(Nt,$t.activeTool.type&&mn[$t.activeTool.type]?$t.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(Tt=$t.activeTool.locked)!==null&&Tt!==void 0&&Tt}),zoom:typeof _e.zoom=="number"?{value:_e.zoom}:(tn=_e.zoom)!==null&&tn!==void 0&&tn.value?_e.zoom:Nt.zoom,openSidebar:$t.openSidebar==="library"?$t.isSidebarDocked?"library":null:$t.openSidebar})},Ct=function(_e,lt,st,It){return{elements:Bt(_e==null?void 0:_e.elements,st,It),appState:yt(_e==null?void 0:_e.appState,lt||null),files:(_e==null?void 0:_e.files)||{}}},ct=function(_e){var lt=Bt((0,ot.Lm)(_e.elements),null);return lt.length?Zn(Zn({},_e),{},{elements:lt}):null},rt=function(){var _e,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],st=arguments.length>1?arguments[1]:void 0,It=[],Tt=Qt(lt);try{for(Tt.s();!(_e=Tt.n()).done;){var tn=_e.value;if(Array.isArray(tn)){var Nt=ct({status:st,elements:tn,id:(0,gt.kb)(),created:Date.now()});Nt&&It.push(Nt)}else{var $t=tn,Wt=ct(Zn(Zn({},$t),{},{id:$t.id||(0,gt.kb)(),status:$t.status||st,created:$t.created||Date.now()}));Wt&&It.push(Wt)}}}catch(Dt){Tt.e(Dt)}finally{Tt.f()}return It}},4929:function(Ht,St,_){_.d(St,{rj:function(){return Dt},nW:function(){return rn},nz:function(){return Pt},sw:function(){return dn},lV:function(){return Ut},q$:function(){return Vt},wq:function(){return Yt},$u:function(){return Et},Pp:function(){return zt}});var pt=_(7169),ht=_(2577),ot=_(6340),at=_(1935),gt=_(7901),xt=_(1319),vt=_(3646),it=_(8211),kt=_(9787),Ot=_(45),an=_(6066),gn=_(3063),Qt=_(6552),bn=_(2335),fn=_(1894),Zn=_(75),mn=_(2325),pn=_(1047),An=_(487),ft=_.n(An),Rt=_(631),Bt=_.n(Rt),bt=_(2052),Gt=_.n(bt),yt=_(4010),Ct=_.n(yt),ct=_(1469),rt=_.n(ct),_e=_(9329),lt=_.n(_e),st=_(5260),It={};It.styleTagTransform=lt(),It.setAttributes=Ct(),It.insert=Gt().bind(null,"head"),It.domAPI=Bt(),It.insertStyleElement=rt(),ft()(st.Z,It),st.Z&&st.Z.locals&&st.Z.locals;var Tt=_(7047),tn=_(2134),Nt=_(4512);function $t(Jt,Mt){var un=Object.keys(Jt);if(Object.getOwnPropertySymbols){var hn=Object.getOwnPropertySymbols(Jt);Mt&&(hn=hn.filter(function(jt){return Object.getOwnPropertyDescriptor(Jt,jt).enumerable})),un.push.apply(un,hn)}return un}function Wt(Jt){for(var Mt=1;Mt<arguments.length;Mt++){var un=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?$t(Object(un),!0).forEach(function(hn){(0,pt.Z)(Jt,hn,un[hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Jt,Object.getOwnPropertyDescriptors(un)):$t(Object(un)).forEach(function(hn){Object.defineProperty(Jt,hn,Object.getOwnPropertyDescriptor(un,hn))})}return Jt}var Dt=document.createElement("img");Dt.src="data:".concat(bn.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var In=!1,rn=function(Jt){var Mt=Jt.element,un=Jt.setAppState,hn=Jt.onLinkOpen,jt=(0,tn.gF)(),vn=Mt.link||"",xn=(0,kt.useState)(vn),Gn=(0,ht.Z)(xn,2),Zt=Gn[0],Xn=Gn[1],Cn=(0,kt.useRef)(null),Qn=jt.showHyperlinkPopup==="editor"||!vn,Tn=(0,kt.useCallback)(function(){if(Cn.current){var Wn=Et(Cn.current.value);!Mt.link&&Wn&&(0,Tt.L)("hyperlink","create"),(0,at.DR)(Mt,{link:Wn}),un({showHyperlinkPopup:"info"})}},[Mt,un]);(0,kt.useLayoutEffect)(function(){return function(){Tn()}},[Tn]),(0,kt.useEffect)(function(){var Wn=null,ln=function(Un){Qn||(Wn&&clearTimeout(Wn),wt(Mt,jt,[Un.clientX,Un.clientY])&&(Wn=window.setTimeout(function(){un({showHyperlinkPopup:!1})},500)))};return window.addEventListener(bn.Ks.POINTER_MOVE,ln,!1),function(){window.removeEventListener(bn.Ks.POINTER_MOVE,ln,!1),Wn&&clearTimeout(Wn)}},[jt,Mt,Qn,un]);var Pn=(0,kt.useCallback)(function(){(0,Tt.L)("hyperlink","delete"),(0,at.DR)(Mt,{link:null}),Qn&&(Cn.current.value=""),un({showHyperlinkPopup:!1})},[un,Mt,Qn]),tr=_t(Mt,jt),ir=tr.x,gr=tr.y;return jt.draggingElement||jt.resizingElement||jt.isRotating||jt.openMenu?null:(0,Nt.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(gr,"px"),left:"".concat(ir,"px"),width:320,padding:5},children:[Qn?(0,Nt.jsx)("input",{className:(0,Ot.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Cn,value:Zt,onChange:function(Wn){return Xn(Wn.target.value)},autoFocus:!0,onKeyDown:function(Wn){Wn.stopPropagation(),Wn[an.tW.CTRL_OR_CMD]&&Wn.key===an.tW.K&&Wn.preventDefault(),Wn.key!==an.tW.ENTER&&Wn.key!==an.tW.ESCAPE||Tn()}}):(0,Nt.jsx)("a",{href:Mt.link||"",className:(0,Ot.Z)("excalidraw-hyperlinkContainer-link",{"d-none":Qn}),target:Vt(Mt.link)?"_self":"_blank",onClick:function(Wn){if(Mt.link&&hn){var ln=(0,ot.ag)(bn.Ks.EXCALIDRAW_LINK,Wn.nativeEvent);hn(Mt,ln),ln.defaultPrevented&&Wn.preventDefault()}},rel:"noopener noreferrer",children:Mt.link}),(0,Nt.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Qn&&(0,Nt.jsx)(xt.V,{type:"button",title:(0,it.t)("buttons.edit"),"aria-label":(0,it.t)("buttons.edit"),label:(0,it.t)("buttons.edit"),onClick:function(){(0,Tt.L)("hyperlink","edit","popup-ui"),un({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:vt.Pm}),vn&&(0,Nt.jsx)(xt.V,{type:"button",title:(0,it.t)("buttons.remove"),"aria-label":(0,it.t)("buttons.remove"),label:(0,it.t)("buttons.remove"),onClick:Pn,className:"excalidraw-hyperlinkContainer--remove",icon:vt.XH})]})]})},_t=function(Jt,Mt){var un=(0,pn.qf)(Jt),hn=(0,ht.Z)(un,2),jt=hn[0],vn=hn[1],xn=(0,ot._i)({sceneX:jt+Jt.width/2,sceneY:vn},Mt),Gn=xn.x,Zt=xn.y;return{x:Gn-Mt.offsetLeft-160,y:Zt-Mt.offsetTop-85}},Et=function(Jt){return(Jt=Jt.trim())&&(Jt.includes("://")||/^[[\\/]/.test(Jt)||(Jt="https://".concat(Jt))),Jt},Vt=function(Jt){return!!(Jt!=null&&Jt.includes(location.origin)||Jt!=null&&Jt.startsWith("/"))},Pt=(0,gt.z)({name:"hyperlink",perform:function(Jt,Mt){return Mt.showHyperlinkPopup!=="editor"&&{elements:Jt,appState:Wt(Wt({},Mt),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(Jt){return Jt[an.tW.CTRL_OR_CMD]&&Jt.key===an.tW.K},contextItemLabel:function(Jt,Mt){return qt(Jt,Mt)},predicate:function(Jt,Mt){return(0,Zn.eD)(Jt,Mt).length===1},PanelComponent:function(Jt){var Mt=Jt.elements,un=Jt.appState,hn=Jt.updateData,jt=(0,Zn.eD)(Mt,un);return(0,Nt.jsx)(xt.V,{type:"button",icon:vt.xP,"aria-label":(0,it.t)(qt(Mt,un)),title:"".concat((0,it.t)("labels.link.label")," - ").concat((0,ot.uY)("CtrlOrCmd+K")),onClick:function(){return hn(null)},selected:jt.length===1&&!!jt[0].link})}}),qt=function(Jt,Mt){return(0,Zn.eD)(Jt,Mt)[0].link?"labels.link.edit":"labels.link.create"},dn=function(Jt,Mt,un){var hn=(0,ht.Z)(Jt,4),jt=hn[0],vn=hn[1],xn=hn[2],Gn=hn[3],Zt=gn.Dn,Xn=Zt/un.zoom.value,Cn=Zt/un.zoom.value,Qn=Zt/un.zoom.value,Tn=(jt+xn)/2,Pn=(vn+Gn)/2,tr=(Zt-8)/(2*un.zoom.value),ir=4/un.zoom.value,gr=xn+ir-tr,Wn=vn-ir-Qn+tr,ln=(0,Qt.U1)(gr+Xn/2,Wn+Cn/2,Tn,Pn,Mt),Un=(0,ht.Z)(ln,2);return[Un[0]-Xn/2,Un[1]-Cn/2,Xn,Cn]},Yt=function(Jt,Mt,un,hn){var jt=(0,ht.Z)(un,2),vn=jt[0],xn=jt[1];if(!Jt.link||Mt.selectedElementIds[Jt.id])return!1;var Gn=4/Mt.zoom.value;if(!hn&&Mt.viewModeEnabled&&(0,mn.pX)(Jt,[vn,xn],Gn))return!0;var Zt=(0,pn.qf)(Jt),Xn=(0,ht.Z)(Zt,4),Cn=Xn[0],Qn=Xn[1],Tn=Xn[2],Pn=Xn[3],tr=dn([Cn,Qn,Tn,Pn],Jt.angle,Mt),ir=(0,ht.Z)(tr,4),gr=ir[0],Wn=ir[1],ln=ir[2],Un=ir[3];return vn>gr-Gn&&vn<gr+Gn+ln&&xn>Wn-Gn&&xn<Wn+Un+Gn},Xt=null,zt=function(Jt,Mt){Xt&&clearTimeout(Xt),Xt=window.setTimeout(function(){return At(Jt,Mt)},bn.sA)},At=function(Jt,Mt){if(Jt.link){var un=(0,fn.bK)();un.classList.add("excalidraw-tooltip--visible"),un.style.maxWidth="20rem",un.textContent=Jt.link;var hn=(0,pn.qf)(Jt),jt=(0,ht.Z)(hn,4),vn=jt[0],xn=jt[1],Gn=jt[2],Zt=jt[3],Xn=dn([vn,xn,Gn,Zt],Jt.angle,Mt),Cn=(0,ht.Z)(Xn,4),Qn=Cn[0],Tn=Cn[1],Pn=Cn[2],tr=Cn[3],ir=(0,ot._i)({sceneX:Qn,sceneY:Tn},Mt);(0,fn.Js)(un,{left:ir.x,top:ir.y,width:Pn,height:tr},"top"),(0,Tt.L)("hyperlink","tooltip","link-icon"),In=!0}},Ut=function(){Xt&&clearTimeout(Xt),In&&(In=!1,(0,fn.bK)().classList.remove("excalidraw-tooltip--visible"))},wt=function(Jt,Mt,un){var hn=(0,ht.Z)(un,2),jt=hn[0],vn=hn[1],xn=(0,ot.dE)({clientX:jt,clientY:vn},Mt),Gn=xn.x,Zt=xn.y,Xn=15/Mt.zoom.value;if((0,mn.pX)(Jt,[Gn,Zt],Xn))return!1;var Cn=(0,pn.qf)(Jt),Qn=(0,ht.Z)(Cn,3),Tn=Qn[0],Pn=Qn[1],tr=Qn[2];if(Gn>=Tn&&Gn<=tr&&Zt>=Pn-85&&Zt<=Pn)return!1;var ir=_t(Jt,Mt),gr=ir.x,Wn=ir.y;return!(jt>=gr-Xn&&jt<=gr+320+10+Xn&&vn>=Wn-Xn&&vn<=Wn+Xn+10+42)}},8290:function(Ht,St,_){_.d(St,{$q:function(){return _t},DK:function(){return bt},H:function(){return Gt},HG:function(){return Zn},N1:function(){return bn},R:function(){return ft},Ww:function(){return rt},Y9:function(){return Ct},ZB:function(){return Tt},cz:function(){return Qt},ek:function(){return In},el:function(){return pn}});var pt=_(7169),ht=_(2577),ot=_(75),at=_(1974),gt=_(2325),xt=_(1935),vt=_(1564),it=_(6938),kt=_(6340),Ot=_(6066),an=_(5710);function gn(Pt,qt){var dn=Object.keys(Pt);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(Pt);qt&&(Yt=Yt.filter(function(Xt){return Object.getOwnPropertyDescriptor(Pt,Xt).enumerable})),dn.push.apply(dn,Yt)}return dn}var Qt=function(Pt){return!Pt[Ot.tW.CTRL_OR_CMD]},bn=function(Pt){return Pt.isBindingEnabled},fn=function(Pt,qt){var dn=[];return qt.forEach(function(Yt){var Xt=Pt.getNonDeletedElement(Yt);Xt!=null&&dn.push(Xt)}),dn},Zn=function(Pt,qt,dn){var Yt=new Set,Xt=new Set;mn(Pt,qt,dn,"start",Yt,Xt),mn(Pt,dn,qt,"end",Yt,Xt);var zt=Array.from(Xt).filter(function(At){return!Yt.has(At)});fn(vt.Z.getScene(Pt),zt).forEach(function(At){var Ut;(0,xt.DR)(At,{boundElements:(Ut=At.boundElements)===null||Ut===void 0?void 0:Ut.filter(function(wt){return wt.type!=="arrow"||wt.id!==Pt.id})})})},mn=function(Pt,qt,dn,Yt,Xt,zt){if(qt!=="keep")if(qt!=null)dn!=null&&(dn==="keep"?Bt(Pt,qt,Yt):Yt!=="start"&&dn.id===qt.id)||(Rt(Pt,qt,Yt),Xt.add(qt.id));else{var At=yt(Pt,Yt);At!=null&&zt.add(At)}},pn=function(Pt){Pt.forEach(function(qt){(0,at.Mn)(qt)?Zn(qt,Nt(qt,"start"),Nt(qt,"end")):(0,at.f0)(qt)&&An(qt)})},An=function(Pt){Wt(Pt).forEach(function(qt){var dn=(0,ht.Z)(qt,2),Yt=dn[0],Xt=dn[1];return Zn(Yt,Xt==="end"?"keep":Pt,Xt==="start"?"keep":Pt)})},ft=function(Pt,qt,dn,Yt){qt.startBoundElement!=null&&Rt(Pt,qt.startBoundElement,"start");var Xt=Ct(Yt,dn);Xt==null||Bt(Pt,Xt,"end")||Rt(Pt,Xt,"end")},Rt=function(Pt,qt,dn){(0,xt.DR)(Pt,(0,pt.Z)({},dn==="start"?"startBinding":"endBinding",function(Yt){for(var Xt=1;Xt<arguments.length;Xt++){var zt=arguments[Xt]!=null?arguments[Xt]:{};Xt%2?gn(Object(zt),!0).forEach(function(At){(0,pt.Z)(Yt,At,zt[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Yt,Object.getOwnPropertyDescriptors(zt)):gn(Object(zt)).forEach(function(At){Object.defineProperty(Yt,At,Object.getOwnPropertyDescriptor(zt,At))})}return Yt}({elementId:qt.id},ct(Pt,qt,dn)))),(0,kt.xn)(qt.boundElements||[]).has(Pt.id)||(0,xt.DR)(qt,{boundElements:(qt.boundElements||[]).concat({id:Pt.id,type:"arrow"})})},Bt=function(Pt,qt,dn){var Yt=Pt[dn==="start"?"endBinding":"startBinding"];return bt(Pt,Yt==null?void 0:Yt.elementId,qt)},bt=function(Pt,qt,dn){return qt===dn.id&&Pt.points.length<3},Gt=function(Pt){Pt.forEach(function(qt){(0,at.Mn)(qt)&&Zn(qt,null,null)})},yt=function(Pt,qt){var dn=qt==="start"?"startBinding":"endBinding",Yt=Pt[dn];return Yt==null?null:((0,xt.DR)(Pt,(0,pt.Z)({},dn,null)),Yt.elementId)},Ct=function(Pt,qt){return(0,ot.QG)(qt.getNonDeletedElements(),function(dn){return(0,at.f0)(dn,!1)&&(0,gt.uu)(dn,Pt)})},ct=function(Pt,qt,dn){var Yt=dn==="start"?-1:1,Xt=Yt===-1?0:Pt.points.length-1,zt=Xt-Yt,At=it._.getPointAtIndexGlobalCoordinates(Pt,Xt),Ut=it._.getPointAtIndexGlobalCoordinates(Pt,zt);return{focus:(0,gt.T_)(qt,Ut,At),gap:Math.max(1,(0,gt.oT)(qt,At))}},rt=function(Pt,qt){var dn,Yt=((dn=Pt.boundElements)!==null&&dn!==void 0?dn:[]).filter(function(wt){return wt.type==="arrow"});if(Yt.length!==0){var Xt=qt??{},zt=Xt.newSize,At=Xt.simultaneouslyUpdated,Ut=lt(At);fn(vt.Z.getScene(Pt),Yt.map(function(wt){return wt.id})).forEach(function(wt){if((0,at.bt)(wt)){var Jt=Pt;if(_e(wt,Jt)){var Mt=It(Jt,wt.startBinding,zt),un=It(Jt,wt.endBinding,zt);Ut.has(wt.id)?(0,xt.DR)(wt,{startBinding:Mt,endBinding:un}):(st(wt,"start",Mt,Pt),st(wt,"end",un,Pt),(0,an.WJ)(wt)&&(0,an.RB)(wt,!1))}}})}},_e=function(Pt,qt){var dn,Yt;return((dn=Pt.startBinding)===null||dn===void 0?void 0:dn.elementId)===qt.id||((Yt=Pt.endBinding)===null||Yt===void 0?void 0:Yt.elementId)===qt.id},lt=function(Pt){return new Set((Pt||[]).map(function(qt){return qt.id}))},st=function(Pt,qt,dn,Yt){if(!(dn==null||dn.elementId!==Yt.id&&Pt.points.length>2)){var Xt=vt.Z.getScene(Pt).getElement(dn.elementId);if(Xt!=null){var zt,At=qt==="start"?-1:1,Ut=At===-1?0:Pt.points.length-1,wt=Ut-At,Jt=it._.getPointAtIndexGlobalCoordinates(Pt,wt),Mt=(0,gt.j_)(Xt,dn.focus,Jt);if(dn.gap===0)zt=Mt;else{var un=(0,gt.MZ)(Xt,Jt,Mt,dn.gap);zt=un.length===0?Mt:un[0]}it._.movePoints(Pt,[{index:Ut,point:it._.pointFromAbsoluteCoords(Pt,zt)}],(0,pt.Z)({},qt==="start"?"startBinding":"endBinding",dn))}}},It=function(Pt,qt,dn){if(qt==null||dn==null)return qt;var Yt=qt.gap,Xt=qt.focus,zt=qt.elementId,At=dn.width,Ut=dn.height,wt=Pt.width,Jt=Pt.height;return{elementId:zt,gap:Math.max(1,Math.min((0,gt.fb)(Pt,At,Ut),Yt*(At<Ut?At/wt:Ut/Jt))),focus:Xt}},Tt=function(Pt){var qt=new Set(Pt.map(function(dn){return dn.id}));return Pt.flatMap(function(dn){return(0,at.Mn)(dn,!1)?tn(dn).filter(function(Yt){return!qt.has(Yt.id)}):(0,at.f0)(dn,!1)?Wt(dn).filter(function(Yt){return!qt.has(Yt[0].id)}):[]})},tn=function(Pt){return[Nt(Pt,"start"),Nt(Pt,"end")].filter(function(qt){return qt!=null})},Nt=function(Pt,qt){return Ct($t(Pt,qt),vt.Z.getScene(Pt))},$t=function(Pt,qt){var dn=qt==="start"?0:-1;return(0,kt.AK)(it._.getPointAtIndexGlobalCoordinates(Pt,dn))},Wt=function(Pt){return vt.Z.getScene(Pt).getNonDeletedElements().map(function(qt){if(!(0,at.Mn)(qt,!1))return null;var dn=Dt(qt,"start",Pt),Yt=Dt(qt,"end",Pt);return dn||Yt?[qt,dn&&Yt?"both":dn?"start":"end",Pt]:null}).filter(function(qt){return qt!=null})},Dt=function(Pt,qt,dn){return Pt[qt==="start"?"startBinding":"endBinding"]==null&&!Bt(Pt,dn,qt)&&(0,gt.uu)(dn,$t(Pt,qt))},In=function(Pt,qt,dn,Yt){var Xt=new Set,zt=new Set,At=Yt==="duplicatesServeAsOld";qt.forEach(function(Ut){var wt=Ut.boundElements;if(wt!=null&&wt.length>0&&(wt.forEach(function(un){At&&!dn.has(un.id)&&Xt.add(un.id)}),zt.add(dn.get(Ut.id))),(0,at.Mn)(Ut)){if(Ut.startBinding!=null){var Jt=Ut.startBinding.elementId;At&&!dn.has(Jt)&&zt.add(Jt)}if(Ut.endBinding!=null){var Mt=Ut.endBinding.elementId;At&&!dn.has(Mt)&&zt.add(Mt)}Ut.startBinding==null&&Ut.endBinding==null||Xt.add(dn.get(Ut.id))}}),Pt.filter(function(Ut){var wt=Ut.id;return Xt.has(wt)}).forEach(function(Ut){var wt=Ut.startBinding,Jt=Ut.endBinding;(0,xt.DR)(Ut,{startBinding:rn(wt,dn),endBinding:rn(Jt,dn)})}),Pt.filter(function(Ut){var wt=Ut.id;return zt.has(wt)}).forEach(function(Ut){var wt=Ut.boundElements;wt!=null&&wt.length>0&&(0,xt.DR)(Ut,{boundElements:wt.map(function(Jt){return dn.has(Jt.id)?{id:dn.get(Jt.id),type:Jt.type}:Jt})})})},rn=function(Pt,qt){var dn;if(Pt==null)return null;var Yt=Pt.elementId;return{focus:Pt.focus,gap:Pt.gap,elementId:(dn=qt.get(Yt))!==null&&dn!==void 0?dn:Yt}},_t=function(Pt,qt){var dn=new Set(qt.map(function(Xt){return Xt.id})),Yt=new Set;qt.forEach(function(Xt){var zt;(0,at.f0)(Xt)?(zt=Xt.boundElements)===null||zt===void 0||zt.forEach(function(At){dn.has(At.id)||Yt.add(At.id)}):(0,at.Mn)(Xt)&&(Xt.startBinding&&Yt.add(Xt.startBinding.elementId),Xt.endBinding&&Yt.add(Xt.endBinding.elementId))}),Pt.filter(function(Xt){var zt=Xt.id;return Yt.has(zt)}).forEach(function(Xt){(0,at.f0)(Xt)?(0,xt.DR)(Xt,{boundElements:Vt(Xt.boundElements,dn)}):(0,at.Mn)(Xt)&&(0,xt.DR)(Xt,{startBinding:Et(Xt.startBinding,dn),endBinding:Et(Xt.endBinding,dn)})})},Et=function(Pt,qt){return Pt==null||qt.has(Pt.elementId)?null:Pt},Vt=function(Pt,qt){return Pt?Pt.filter(function(dn){return!qt.has(dn.id)}):null}},8925:function(Ht,St,_){_.d(St,{CM:function(){return bn},IX:function(){return mn},KP:function(){return bt},Pi:function(){return Bt},UC:function(){return Qt},Ut:function(){return yt},Y5:function(){return ft},os:function(){return Ct},qf:function(){return gn},v2:function(){return ct},wC:function(){return Gt}});var pt=_(2577),ht=_(1930),ot=_(6552),at=_(8234),gt=_(3063),xt=_(1974),vt=_(5001),it=_(5710),kt=_(6938);function Ot(rt,_e){var lt=typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(!lt){if(Array.isArray(rt)||(lt=function($t,Wt){if($t){if(typeof $t=="string")return an($t,Wt);var Dt=Object.prototype.toString.call($t).slice(8,-1);if(Dt==="Object"&&$t.constructor&&(Dt=$t.constructor.name),Dt==="Map"||Dt==="Set")return Array.from($t);if(Dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Dt))return an($t,Wt)}}(rt))||_e&&rt&&typeof rt.length=="number"){lt&&(rt=lt);var st=0,It=function(){};return{s:It,n:function(){return st>=rt.length?{done:!0}:{done:!1,value:rt[st++]}},e:function($t){throw $t},f:It}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tt,tn=!0,Nt=!1;return{s:function(){lt=lt.call(rt)},n:function(){var $t=lt.next();return tn=$t.done,$t},e:function($t){Nt=!0,Tt=$t},f:function(){try{tn||lt.return==null||lt.return()}finally{if(Nt)throw Tt}}}}function an(rt,_e){(_e==null||_e>rt.length)&&(_e=rt.length);for(var lt=0,st=new Array(_e);lt<_e;lt++)st[lt]=rt[lt];return st}var gn=function(rt){var _e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,xt.F9)(rt))return An(rt);if((0,xt.bt)(rt))return kt._.getElementAbsoluteCoords(rt,_e);if((0,xt.iB)(rt)){var lt=(0,it.tl)(rt);if((0,xt.Yv)(lt)){var st=kt._.getBoundTextElementPosition(lt,rt);return[st.x,st.y,st.x+rt.width,st.y+rt.height,st.x+rt.width/2,st.y+rt.height/2]}}return[rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,rt.x+rt.width/2,rt.y+rt.height/2]},Qt=function(rt){var _e=Math.floor(rt.width/2)+1,lt=rt.width,st=Math.floor(rt.height/2)+1;return[_e,0,lt,st,_e,rt.height,0,st]},bn=function(rt){var _e,lt=Ot(rt.sets);try{for(lt.s();!(_e=lt.n()).done;){var st=_e.value;if(st.type==="path")return st.ops}}catch(It){lt.e(It)}finally{lt.f()}return rt.sets[0].ops},fn=function(rt,_e,lt,st,It){var Tt=1-rt;return Math.pow(Tt,3)*_e+3*Math.pow(Tt,2)*rt*lt+3*Tt*Math.pow(rt,2)*st+Math.pow(rt,3)*It},Zn=function(rt,_e,lt,st){var It=_e-rt,Tt=lt-_e,tn=3*It-6*Tt+3*(st-lt),Nt=6*Tt-6*It,$t=3*It,Wt=Nt*Nt-4*tn*$t;if(!(Wt>=0))return!1;var Dt=null,In=null,rn=1/0,_t=1/0;return tn===0?rn=_t=-$t/Nt:(rn=(-Nt+Math.sqrt(Wt))/(2*tn),_t=(-Nt-Math.sqrt(Wt))/(2*tn)),rn>=0&&rn<=1&&(Dt=fn(rn,rt,_e,lt,st)),_t>=0&&_t<=1&&(In=fn(_t,rt,_e,lt,st)),[Dt,In]},mn=function(rt,_e){var lt=[0,0],st=rt.reduce(function(It,Tt){var tn=Tt.op,Nt=Tt.data;if(tn==="move")lt=Nt;else if(tn==="bcurveTo"){var $t=[Nt[0],Nt[1]],Wt=[Nt[2],Nt[3]],Dt=[Nt[4],Nt[5]],In=_e?_e.apply(void 0,$t):$t,rn=_e?_e.apply(void 0,Wt):Wt,_t=_e?_e.apply(void 0,Dt):Dt,Et=_e?_e.apply(void 0,(0,ht.Z)(lt)):lt;lt=Dt;var Vt=function(zt,At,Ut,wt){var Jt=Zn(zt[0],At[0],Ut[0],wt[0]),Mt=Zn(zt[1],At[1],Ut[1],wt[1]),un=Math.min(zt[0],wt[0]),hn=Math.max(zt[0],wt[0]);if(Jt){var jt=Jt.filter(function(Zt){return Zt!==null});un=Math.min.apply(Math,[un].concat((0,ht.Z)(jt))),hn=Math.max.apply(Math,[hn].concat((0,ht.Z)(jt)))}var vn=Math.min(zt[1],wt[1]),xn=Math.max(zt[1],wt[1]);if(Mt){var Gn=Mt.filter(function(Zt){return Zt!==null});vn=Math.min.apply(Math,[vn].concat((0,ht.Z)(Gn))),xn=Math.max.apply(Math,[xn].concat((0,ht.Z)(Gn)))}return[un,vn,hn,xn]}(Et,In,rn,_t),Pt=(0,pt.Z)(Vt,4),qt=Pt[0],dn=Pt[1],Yt=Pt[2],Xt=Pt[3];It.minX=Math.min(It.minX,qt),It.minY=Math.min(It.minY,dn),It.maxX=Math.max(It.maxX,Yt),It.maxY=Math.max(It.maxY,Xt)}return It},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[st.minX,st.minY,st.maxX,st.maxY]},pn=function(rt){var _e,lt=1/0,st=1/0,It=-1/0,Tt=-1/0,tn=Ot(rt);try{for(tn.s();!(_e=tn.n()).done;){var Nt=(0,pt.Z)(_e.value,2),$t=Nt[0],Wt=Nt[1];lt=Math.min(lt,$t),st=Math.min(st,Wt),It=Math.max(It,$t),Tt=Math.max(Tt,Wt)}}catch(Dt){tn.e(Dt)}finally{tn.f()}return[lt,st,It,Tt]},An=function(rt){var _e=pn(rt.points),lt=(0,pt.Z)(_e,4),st=lt[0],It=lt[1],Tt=lt[2],tn=lt[3],Nt=st+rt.x,$t=It+rt.y,Wt=Tt+rt.x,Dt=tn+rt.y;return[Nt,$t,Wt,Dt,(Nt+Wt)/2,($t+Dt)/2]},ft=function(rt,_e,lt,st){var It=bn(_e[0]);if(It.length<1)return null;var Tt=lt==="start"?1:It.length-1,tn=It[Tt].data,Nt=[tn[4],tn[5]],$t=[tn[2],tn[3]],Wt=[tn[0],tn[1]],Dt=It[Tt-1],In=[0,0];Dt.op==="move"?In=Dt.data:Dt.op==="bcurveTo"&&(In=[Dt.data[4],Dt.data[5]]);var rn=function(cr,or){return Math.pow(1-cr,3)*Nt[or]+3*cr*Math.pow(1-cr,2)*$t[or]+3*Math.pow(cr,2)*(1-cr)*Wt[or]+In[or]*Math.pow(cr,3)},_t=lt==="start"?In:Nt,Et=(0,pt.Z)(_t,2),Vt=Et[0],Pt=Et[1],qt=[rn(.3,0),rn(.3,1)],dn=qt[0],Yt=qt[1],Xt=Math.hypot(Vt-dn,Pt-Yt),zt=(Vt-dn)/Xt,At=(Pt-Yt)/Xt,Ut={arrow:30,bar:15,dot:15,triangle:15}[st],wt=0;if(st==="arrow"){var Jt=(0,pt.Z)(rt.points[rt.points.length-1],2),Mt=Jt[0],un=Jt[1],hn=rt.points.length>1?rt.points[rt.points.length-2]:[0,0],jt=(0,pt.Z)(hn,2),vn=jt[0],xn=jt[1];wt=Math.hypot(Mt-vn,un-xn)}else for(var Gn=0;Gn<rt.points.length;Gn++){var Zt=rt.points[Gn-1]||[0,0],Xn=(0,pt.Z)(Zt,2),Cn=Xn[0],Qn=Xn[1],Tn=(0,pt.Z)(rt.points[Gn],2),Pn=Tn[0],tr=Tn[1];wt+=Math.hypot(Pn-Cn,tr-Qn)}var ir=Math.min(Ut,wt/2),gr=Vt-zt*ir,Wn=Pt-At*ir;if(st==="dot")return[Vt,Pt,Math.hypot(Wn-Pt,gr-Vt)+rt.strokeWidth];var ln={arrow:20,bar:90,triangle:25}[st],Un=(0,ot.U1)(gr,Wn,Vt,Pt,-ln*Math.PI/180),wn=(0,pt.Z)(Un,2),Mn=wn[0],zn=wn[1],Jn=(0,ot.U1)(gr,Wn,Vt,Pt,ln*Math.PI/180),er=(0,pt.Z)(Jn,2);return[Vt,Pt,Mn,zn,er[0],er[1]]},Rt=function(rt,_e,lt){var st;if(rt.points.length<2){var It=(0,pt.Z)(rt.points[0],2),Tt=It[0],tn=It[1],Nt=(0,ot.U1)(rt.x+Tt,rt.y+tn,_e,lt,rt.angle),$t=(0,pt.Z)(Nt,2),Wt=$t[0],Dt=$t[1],In=[Wt,Dt,Wt,Dt],rn=(0,it.WJ)(rt);if(rn){var _t=kt._.getMinMaxXYWithBoundText(rt,[Wt,Dt,Wt,Dt],rn);In=[_t[0],_t[1],_t[2],_t[3]]}return In}var Et=(st=(0,gt.R2)(rt))===null||st===void 0?void 0:st[0],Vt=Et??function(zt){var At=at.Z.generator(),Ut=(0,gt.i)(zt);return At[zt.roundness?"curve":Ut.fill?"polygon":"linearPath"](zt.points,Ut)}(rt),Pt=bn(Vt),qt=mn(Pt,function(zt,At){return(0,ot.U1)(rt.x+zt,rt.y+At,_e,lt,rt.angle)}),dn=[qt[0],qt[1],qt[2],qt[3]],Yt=(0,it.WJ)(rt);if(Yt){var Xt=kt._.getMinMaxXYWithBoundText(rt,dn,Yt);dn=[Xt[0],Xt[1],Xt[2],Xt[3]]}return dn},Bt=function(rt){var _e,lt=gn(rt),st=(0,pt.Z)(lt,6),It=st[0],Tt=st[1],tn=st[2],Nt=st[3],$t=st[4],Wt=st[5];if((0,xt.F9)(rt)){var Dt=pn(rt.points.map(function(Zr){var yr=(0,pt.Z)(Zr,2),Ar=yr[0],pr=yr[1];return(0,ot.U1)(Ar,pr,$t-rt.x,Wt-rt.y,rt.angle)})),In=(0,pt.Z)(Dt,4),rn=In[0],_t=In[1],Et=In[2],Vt=In[3];return[rn+rt.x,_t+rt.y,Et+rt.x,Vt+rt.y]}if((0,xt.bt)(rt))_e=Rt(rt,$t,Wt);else if(rt.type==="diamond"){var Pt=(0,ot.U1)($t,Tt,$t,Wt,rt.angle),qt=(0,pt.Z)(Pt,2),dn=qt[0],Yt=qt[1],Xt=(0,ot.U1)($t,Nt,$t,Wt,rt.angle),zt=(0,pt.Z)(Xt,2),At=zt[0],Ut=zt[1],wt=(0,ot.U1)(It,Wt,$t,Wt,rt.angle),Jt=(0,pt.Z)(wt,2),Mt=Jt[0],un=Jt[1],hn=(0,ot.U1)(tn,Wt,$t,Wt,rt.angle),jt=(0,pt.Z)(hn,2),vn=jt[0],xn=jt[1];_e=[Math.min(dn,At,Mt,vn),Math.min(Yt,Ut,un,xn),Math.max(dn,At,Mt,vn),Math.max(Yt,Ut,un,xn)]}else if(rt.type==="ellipse"){var Gn=(tn-It)/2,Zt=(Nt-Tt)/2,Xn=Math.cos(rt.angle),Cn=Math.sin(rt.angle),Qn=Math.hypot(Gn*Xn,Zt*Cn),Tn=Math.hypot(Zt*Xn,Gn*Cn);_e=[$t-Qn,Wt-Tn,$t+Qn,Wt+Tn]}else{var Pn=(0,ot.U1)(It,Tt,$t,Wt,rt.angle),tr=(0,pt.Z)(Pn,2),ir=tr[0],gr=tr[1],Wn=(0,ot.U1)(It,Nt,$t,Wt,rt.angle),ln=(0,pt.Z)(Wn,2),Un=ln[0],wn=ln[1],Mn=(0,ot.U1)(tn,Nt,$t,Wt,rt.angle),zn=(0,pt.Z)(Mn,2),Jn=zn[0],er=zn[1],cr=(0,ot.U1)(tn,Tt,$t,Wt,rt.angle),or=(0,pt.Z)(cr,2),ur=or[0],Ur=or[1];_e=[Math.min(ir,Un,Jn,ur),Math.min(gr,wn,er,Ur),Math.max(ir,Un,Jn,ur),Math.max(gr,wn,er,Ur)]}return _e},bt=function(rt){if(!rt.length)return[0,0,0,0];var _e=1/0,lt=-1/0,st=1/0,It=-1/0;return rt.forEach(function(Tt){var tn=Bt(Tt),Nt=(0,pt.Z)(tn,4),$t=Nt[0],Wt=Nt[1],Dt=Nt[2],In=Nt[3];_e=Math.min(_e,$t),st=Math.min(st,Wt),lt=Math.max(lt,Dt),It=Math.max(It,In)}),[_e,st,lt,It]},Gt=function(rt,_e,lt,st){if(!(0,xt.bt)(rt)&&!(0,xt.F9)(rt))return[rt.x,rt.y,rt.x+_e,rt.y+lt];var It,Tt=(0,vt.z)(0,_e,(0,vt.z)(1,lt,rt.points,st),st);if((0,xt.F9)(rt))It=pn(Tt);else{var tn=at.Z.generator(),Nt=rt.roundness?tn.curve(Tt,(0,gt.i)(rt)):tn.linearPath(Tt,(0,gt.i)(rt)),$t=bn(Nt);It=mn($t)}var Wt=It,Dt=(0,pt.Z)(Wt,4),In=Dt[0],rn=Dt[1],_t=Dt[2],Et=Dt[3];return[In+rt.x,rn+rt.y,_t+rt.x,Et+rt.y]},yt=function(rt,_e){var lt=at.Z.generator(),st=rt.roundness==null?lt.linearPath(_e,(0,gt.i)(rt)):lt.curve(_e,(0,gt.i)(rt)),It=bn(st),Tt=mn(It),tn=(0,pt.Z)(Tt,4),Nt=tn[0],$t=tn[1],Wt=tn[2],Dt=tn[3];return[Nt+rt.x,$t+rt.y,Wt+rt.x,Dt+rt.y]},Ct=function(rt,_e){if(!rt.length)return[0,0,0,0];var lt=1/0,st=rt[0];return rt.forEach(function(It){var Tt=Bt(It),tn=(0,pt.Z)(Tt,4),Nt=tn[0],$t=tn[1],Wt=tn[2],Dt=tn[3],In=(0,ot.LW)((Nt+Wt)/2,($t+Dt)/2,_e.x,_e.y);In<lt&&(lt=In,st=It)}),Bt(st)},ct=function(rt){var _e=bt(rt),lt=(0,pt.Z)(_e,4),st=lt[0],It=lt[1],Tt=lt[2],tn=lt[3];return{minX:st,minY:It,maxX:Tt,maxY:tn,width:Tt-st,height:tn-It,midX:(st+Tt)/2,midY:(It+tn)/2}}},2325:function(Ht,St,_){_.d(St,{uu:function(){return _t},T_:function(){return vn},j_:function(){return xn},oT:function(){return Pt},wX:function(){return $t},MZ:function(){return Gn},wB:function(){return Wt},Qu:function(){return Dt},pX:function(){return rn},fb:function(){return Et}});var pt=_(2577),ht=function(ln,Un){return[0,0,0,0,Un,ln,1,0]},ot=function(){var ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,wn=[0,0,0,0,0,0,0,0];if(Un<0||Un>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Un,"`"));return ln!==0&&(wn[Un]=ln),wn},at=function(ln){return[ln[0],ln[1],ln[2],ln[3],-ln[4],-ln[5],-ln[6],-ln[7]]},gt=function(ln,Un){return Qt(Un)?[ln[0]-Un,ln[1],ln[2],ln[3],ln[4],ln[5],ln[6],ln[7]]:[ln[0]-Un[0],ln[1]-Un[1],ln[2]-Un[2],ln[3]-Un[3],ln[4]-Un[4],ln[5]-Un[5],ln[6]-Un[6],ln[7]-Un[7]]},xt=function(ln,Un){return Qt(Un)?[ln[0]*Un,ln[1]*Un,ln[2]*Un,ln[3]*Un,ln[4]*Un,ln[5]*Un,ln[6]*Un,ln[7]*Un]:[vt(ln,Un),Un[1]*ln[0]+Un[0]*ln[1]-Un[4]*ln[2]+Un[5]*ln[3]+Un[2]*ln[4]-Un[3]*ln[5]-Un[7]*ln[6]-Un[6]*ln[7],Un[2]*ln[0]+Un[0]*ln[2]-Un[6]*ln[3]+Un[3]*ln[6],Un[3]*ln[0]+Un[6]*ln[2]+Un[0]*ln[3]-Un[2]*ln[6],Un[4]*ln[0]+Un[2]*ln[1]-Un[1]*ln[2]+Un[7]*ln[3]+Un[0]*ln[4]+Un[6]*ln[5]-Un[5]*ln[6]+Un[3]*ln[7],Un[5]*ln[0]-Un[3]*ln[1]+Un[7]*ln[2]+Un[1]*ln[3]-Un[6]*ln[4]+Un[0]*ln[5]+Un[4]*ln[6]+Un[2]*ln[7],Un[6]*ln[0]+Un[3]*ln[2]-Un[2]*ln[3]+Un[0]*ln[6],Un[7]*ln[0]+Un[6]*ln[1]+Un[5]*ln[2]+Un[4]*ln[3]+Un[3]*ln[4]+Un[2]*ln[5]+Un[1]*ln[6]+Un[0]*ln[7]]},vt=function(ln,Un){return Un[0]*ln[0]+Un[2]*ln[2]+Un[3]*ln[3]-Un[6]*ln[6]},it=function(ln,Un){return[kt(ln,Un),ln[1]*Un[7]+ln[4]*Un[5]-ln[5]*Un[4]+ln[7]*Un[1],ln[2]*Un[7]-ln[4]*Un[6]+ln[6]*Un[4]+ln[7]*Un[2],ln[3]*Un[7]+ln[5]*Un[6]-ln[6]*Un[5]+ln[7]*Un[3],ln[4]*Un[7]+ln[7]*Un[4],ln[5]*Un[7]+ln[7]*Un[5],ln[6]*Un[7]+ln[7]*Un[6],ln[7]*Un[7]]},kt=function(ln,Un){return ln[0]*Un[7]+ln[1]*Un[6]+ln[2]*Un[5]+ln[3]*Un[4]+ln[4]*Un[3]+ln[5]*Un[2]+ln[6]*Un[1]+ln[7]*Un[0]},Ot=function(ln){return Math.sqrt(Math.abs(ln[0]*ln[0]-ln[2]*ln[2]-ln[3]*ln[3]+ln[6]*ln[6]))},an=function(ln){var Un=Ot(ln);if(Un===0||Un===1)return ln;var wn=ln[6]<0?-1:1;return xt(ln,wn/Un)},gn=function(ln){var Un=function(wn){return Math.sqrt(Math.abs(wn[7]*wn[7]-wn[5]*wn[5]-wn[4]*wn[4]+wn[1]*wn[1]))}(ln);return Un===0||Un===1?ln:xt(ln,1/Un)},Qt=function(ln){return typeof ln=="number"},bn=(ot(1,1),ot(1,2),ot(1,3),ot(1,4),ot(1,5),ot(1,6),ot(1,7),function(ln,Un,wn){return an([0,wn,ln,Un,0,0,0,0])}),fn=function(ln,Un){return an(it(Un,ln))},Zn=function(ln,Un){return wn=ln,[(Mn=Un)[0]*wn[0]+Mn[2]*wn[2]+Mn[3]*wn[3]-Mn[6]*wn[6],Mn[1]*wn[0]+Mn[0]*wn[1]-Mn[4]*wn[2]+Mn[5]*wn[3]+Mn[2]*wn[4]-Mn[3]*wn[5]-Mn[7]*wn[6]-Mn[6]*wn[7],Mn[2]*wn[0]+Mn[0]*wn[2]-Mn[6]*wn[3]+Mn[3]*wn[6],Mn[3]*wn[0]+Mn[6]*wn[2]+Mn[0]*wn[3]-Mn[2]*wn[6],Mn[4]*wn[0]+Mn[7]*wn[3]+Mn[0]*wn[4]+Mn[3]*wn[7],Mn[5]*wn[0]+Mn[7]*wn[2]+Mn[0]*wn[5]+Mn[2]*wn[7],Mn[6]*wn[0]+Mn[0]*wn[6],Mn[7]*wn[0]+Mn[0]*wn[7]];var wn,Mn},mn=function(ln){var Un=(0,pt.Z)(ln,2),wn=Un[0];return[0,0,0,0,Un[1],wn,1,0]},pn=function(ln){return[ln[5],ln[4]]},An=function(ln,Un){return an((wn=ln,[(Mn=Un)[0]*wn[0],Mn[1]*wn[0]+Mn[0]*wn[1],Mn[2]*wn[0]+Mn[0]*wn[2],Mn[3]*wn[0]+Mn[0]*wn[3],Mn[4]*wn[0]+Mn[2]*wn[1]-Mn[1]*wn[2]+Mn[0]*wn[4],Mn[5]*wn[0]-Mn[3]*wn[1]+Mn[1]*wn[3]+Mn[0]*wn[5],Mn[6]*wn[0]+Mn[3]*wn[2]-Mn[2]*wn[3]+Mn[0]*wn[6],Mn[7]*wn[0]+Mn[6]*wn[1]+Mn[5]*wn[2]+Mn[4]*wn[3]+Mn[3]*wn[4]+Mn[2]*wn[5]+Mn[1]*wn[6]]));var wn,Mn},ft=function(ln,Un){return Ot(it(ln,Un))},Rt=function(ln,Un){return kt(ln,Un)},Bt=function(ln){return[0,0,0,0,ln[4],ln[5],0,0]},bt=function(ln,Un){return wn=xt(ln,Math.sin(Un/2)),Mn=Math.cos(Un/2),Qt(Mn)?[wn[0]+Mn,wn[1],wn[2],wn[3],wn[4],wn[5],wn[6],wn[7]]:[wn[0]+Mn[0],wn[1]+Mn[1],wn[2]+Mn[2],wn[3]+Mn[3],wn[4]+Mn[4],wn[5]+Mn[5],wn[6]+Mn[6],wn[7]+Mn[7]];var wn,Mn},Gt=function(ln,Un){return an(xt(xt(ln,Un),at(ln)))},yt=_(6552),Ct=_(1493),ct=_(8925),rt=_(3063),_e=_(1974),lt=_(1047),st=_(6340),It=_(267),Tt=_(5710);function tn(ln,Un){var wn=typeof Symbol<"u"&&ln[Symbol.iterator]||ln["@@iterator"];if(!wn){if(Array.isArray(ln)||(wn=function(or,ur){if(or){if(typeof or=="string")return Nt(or,ur);var Ur=Object.prototype.toString.call(or).slice(8,-1);if(Ur==="Object"&&or.constructor&&(Ur=or.constructor.name),Ur==="Map"||Ur==="Set")return Array.from(or);if(Ur==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ur))return Nt(or,ur)}}(ln))||Un&&ln&&typeof ln.length=="number"){wn&&(ln=wn);var Mn=0,zn=function(){};return{s:zn,n:function(){return Mn>=ln.length?{done:!0}:{done:!1,value:ln[Mn++]}},e:function(or){throw or},f:zn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Jn,er=!0,cr=!1;return{s:function(){wn=wn.call(ln)},n:function(){var or=wn.next();return er=or.done,or},e:function(or){cr=!0,Jn=or},f:function(){try{er||wn.return==null||wn.return()}finally{if(cr)throw Jn}}}}function Nt(ln,Un){(Un==null||Un>ln.length)&&(Un=ln.length);for(var wn=0,Mn=new Array(Un);wn<Un;wn++)Mn[wn]=ln[wn];return Mn}var $t=function ln(Un,wn,Mn,zn){var Jn=10/wn.zoom.value,er=[Mn,zn];if(In(wn,Un)&&(0,It.oY)([Un],wn))return rn(Un,er,Jn);var cr=(0,Tt.WJ)(Un);return cr&&ln(cr,wn,Mn,zn)?!0:Dt(Un,wn,er)},Wt=function(ln,Un,wn,Mn){var zn=10/Un.zoom.value,Jn=(0,Tt.WJ)(ln);return(!Jn||!$t(Jn,Un,wn,Mn))&&!Dt(ln,Un,[wn,Mn])&&rn(ln,[wn,Mn],zn)},Dt=function(ln,Un,wn){var Mn=10/Un.zoom.value,zn=(0,lt.iB)(ln)?qt:function(Jn){if(Jn.type==="arrow")return!1;if(Jn.type==="freedraw")return!0;var er=!(0,st.Qm)(Jn.backgroundColor)||(0,_e.Xo)(Jn);return Jn.type==="line"?er&&(0,yt.g6)(Jn.points):er||(0,_e.pC)(Jn)}(ln)?dn:Yt;return Vt({element:ln,point:wn,threshold:Mn,check:zn})},In=function(ln,Un){return ln.selectedElementIds[Un.id]},rn=function(ln,Un,wn){var Mn=(0,pt.Z)(Un,2),zn=Mn[0],Jn=Mn[1],er=(0,ct.qf)(ln),cr=(0,pt.Z)(er,4),or=cr[0],ur=cr[1],Ur=cr[2],Zr=cr[3],yr=(or+Ur)/2,Ar=(ur+Zr)/2,pr=(0,yt.U1)(zn,Jn,yr,Ar,-ln.angle),Nr=(0,pt.Z)(pr,2),Or=Nr[0],ba=Nr[1];return Or>or-wn&&Or<Ur+wn&&ba>ur-wn&&ba<Zr+wn},_t=function(ln,Un){var wn=Un.x,Mn=Un.y,zn=Et(ln,ln.width,ln.height);return Vt({element:ln,point:[wn,Mn],threshold:zn,check:Xt})},Et=function(ln,Un,wn){var Mn=(ln.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Un,wn);return Math.max(16,Math.min(.25*Mn,32))},Vt=function(ln){switch(ln.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var Un=Pt(ln.element,ln.point);return ln.check(Un,ln.threshold);case"freedraw":return!!ln.check(zt(ln.element,ln.point),ln.threshold)&&Jt(ln.element,ln.point,ln.threshold);case"arrow":case"line":return Mt(ln);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Pt=function(ln,Un){switch(ln.type){case"rectangle":case"image":case"text":return zt(ln,Un);case"diamond":return At(ln,Un);case"ellipse":return Ut(ln,Un)}},qt=function(ln,Un){return ln<0},dn=function(ln,Un){return ln<Un},Yt=function(ln,Un){return Math.abs(ln)<Un},Xt=function(ln,Un){return 0<=ln&&ln<Un},zt=function(ln,Un){var wn=un(ln,Un),Mn=(0,pt.Z)(wn,4),zn=Mn[1],Jn=Mn[2],er=Mn[3];return Math.max(Rt(zn,bn(0,1,-er)),Rt(zn,bn(1,0,-Jn)))},At=function(ln,Un){var wn=un(ln,Un),Mn=(0,pt.Z)(wn,4),zn=Mn[1],Jn=Mn[2],er=Mn[3],cr=bn(er,Jn,-er*Jn);return Rt(zn,cr)},Ut=function(ln,Un){var wn,Mn=wt(ln,Un),zn=(0,pt.Z)(Mn,2),Jn=zn[0],er=zn[1];return wn=er,-Math.sign(wn[1])*Rt(Jn,er)},wt=function(ln,Un){var wn=un(ln,Un),Mn=(0,pt.Z)(wn,4),zn=Mn[1],Jn=Mn[2],er=Mn[3],cr=pn(zn),or=(0,pt.Z)(cr,2),ur=or[0],Ur=or[1],Zr=.707,yr=.707,Ar=Jn,pr=er;[0,1,2,3].forEach(function(ba){var ho=Ar*Zr,oo=pr*yr,lo=(Ar*Ar-pr*pr)*Math.pow(Zr,3)/Ar,$r=(pr*pr-Ar*Ar)*Math.pow(yr,3)/pr,qr=ho-lo,Co=oo-$r,po=ur-lo,na=Ur-$r,lr=Math.hypot(Co,qr),Ir=Math.hypot(na,po);Zr=Math.min(1,Math.max(0,(po*lr/Ir+lo)/Ar)),yr=Math.min(1,Math.max(0,(na*lr/Ir+$r)/pr));var Cr=Math.hypot(yr,Zr);Zr/=Cr,yr/=Cr});var Nr,Or=ht(Ar*Zr,pr*yr);return[zn,Zn(fn(zn,Nr=Or),Nr)]},Jt=function(ln,Un,wn){var Mn,zn;if(ln.angle===0)Mn=Un[0]-ln.x,zn=Un[1]-ln.y;else{var Jn=(0,ct.qf)(ln),er=(0,pt.Z)(Jn,4),cr=er[0],or=er[1],ur=er[2],Ur=er[3],Zr=(0,yt.xj)(Un,[cr+(ur-cr)/2,or+(Ur-or)/2],-ln.angle);Mn=Zr[0]-ln.x,zn=Zr[1]-ln.y}var yr,Ar=(0,pt.Z)(ln.points,2),pr=Ar[0],Nr=Ar[1];if((0,yt.LW)(pr[0],pr[1],Mn,zn)<wn||(0,yt.LW)(Nr[0],Nr[1],Mn,zn)<wn)return!0;for(var Or=0;Or<ln.points.length;Or++){var ba=[Nr[0]-pr[0],Nr[1]-pr[1]],ho=Math.hypot(ba[1],ba[0]),oo=[ba[0]/ho,ba[1]/ho],lo=[Mn-pr[0],zn-pr[1]],$r=(lo[0]*oo[0]+lo[1]*oo[1])/Math.hypot(oo[1],oo[0]);yr=[pr[0]+oo[0]*$r,pr[1]+oo[1]*$r];var qr=(0,yt.LW)(yr[0],yr[1],pr[0],pr[1]),Co=(0,yt.LW)(yr[0],yr[1],Nr[0],Nr[1]);if(yr=Co<qr&&qr>ho?Nr:qr<Co&&Co>ho?pr:yr,Math.hypot(zn-yr[1],Mn-yr[0])<wn)return!0;pr=Nr,Nr=ln.points[Or+1]}var po=(0,rt.R2)(ln);return!(!po||!po.sets.length)&&Wn(po,Mn,zn,wn)},Mt=function(ln){var Un=ln.element,wn=ln.threshold;if(!(0,rt.R2)(Un))return!1;var Mn=un(ln.element,ln.point),zn=(0,pt.Z)(Mn,4),Jn=zn[0],er=zn[1],cr=zn[2],or=zn[3],ur=bn(0,1,-or),Ur=bn(1,0,-cr);if(!dn(Rt(er,ur),wn)||!dn(Rt(er,Ur),wn))return!1;var Zr=pn(Jn),yr=(0,pt.Z)(Zr,2),Ar=yr[0],pr=yr[1],Nr=(0,rt.R2)(Un);return Nr?ln.check===dn&&Nr.some(function(Or){return gr(Or,Ar,pr,Un.roundness?"round":"sharp")})?!0:Nr.some(function(Or){return Wn(Or,Ar,pr,wn)}):!1},un=function(ln,Un){var wn,Mn=mn(Un),zn=(0,ct.qf)(ln),Jn=(0,pt.Z)(zn,4),er=Jn[0],cr=Jn[1],or=Jn[2],ur=Jn[3],Ur=(0,ct.qf)(ln),Zr=jt([er,cr,or,ur]),yr=bt(Zr,ln.angle),Ar=Gt(yr,Mn),pr=function(lo){return[0,0,0,0,Math.abs(lo[4]),Math.abs(lo[5]),1,0]}(gt(Ar,Bt(Zr))),Nr=(wn=ln.x,[0,0,0,0,ln.y,wn,0,0]),Or=gt(Ar,Nr),ba=(0,pt.Z)(Ur,4),ho=ba[0],oo=ba[1];return[Or,pr,(ba[2]-ho)/2,(ba[3]-oo)/2]},hn=function(ln){var Un=(0,ct.qf)(ln),wn=(0,pt.Z)(Un,4),Mn=wn[0],zn=wn[1],Jn=wn[2],er=wn[3],cr=jt([Mn,zn,Jn,er]),or=bt(cr,ln.angle),ur=at(function(Ur){return[1,0,0,0,-.5*Ur[5],.5*Ur[4],0,0]}(Bt(cr)));return xt(ur,or)},jt=function(ln){var Un=(0,pt.Z)(ln,4),wn=Un[0],Mn=Un[1],zn=Un[2],Jn=Un[3];return ht((wn+zn)/2,(Mn+Jn)/2)},vn=function(ln,Un,wn){var Mn=hn(ln),zn=Gt(Mn,mn(Un)),Jn=Gt(Mn,mn(wn)),er=fn(zn,Jn),cr=ln.height/ln.width,or=ln.width/2,ur=ln.height/2,Ur=er[2],Zr=er[3],yr=er[1],Ar=Math.abs(Zr),pr=Math.abs(Ur);switch(ln.type){case"rectangle":case"image":case"text":return yr/(or*(pr+cr*Ar));case"diamond":return Ar<pr?yr/(pr*or):yr/(Ar*ur);case"ellipse":return yr/(or*Math.sqrt(Math.pow(Ur,2)+Math.pow(cr,2)*Math.pow(Zr,2)))}},xn=function(ln,Un,wn){if(Un===0){var Mn=(0,ct.qf)(ln),zn=(0,pt.Z)(Mn,4),Jn=zn[0],er=zn[1],cr=zn[2],or=zn[3],ur=jt([Jn,er,cr,or]);return pn(ur)}var Ur,Zr=hn(ln),yr=Gt(Zr,mn(wn)),Ar=at(Zr);switch(ln.type){case"rectangle":case"image":case"text":case"diamond":Ur=ir(ln,Un,yr);break;case"ellipse":Ur=tr(ln,Un,yr)}return pn(Gt(Ar,Ur))},Gn=function(ln,Un,wn){var Mn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,zn=hn(ln),Jn=Gt(zn,mn(Un)),er=Gt(zn,mn(wn)),cr=fn(Jn,er),or=at(zn),ur=Zt(ln,cr,Jn,Mn);return ur.map(function(Ur){return pn(Gt(or,Ur))})},Zt=function(ln,Un,wn){var Mn,zn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(ln.type){case"rectangle":case"image":case"text":case"diamond":var Jn=Xn(ln);Mn=Jn.flatMap(function(cr,or){var ur=[cr,Jn[(or+1)%4]];return Cn(Un,Qn(ur,zn))}).concat(Jn.flatMap(function(cr){return Pn(cr,zn,Un)}));break;case"ellipse":Mn=Tn(ln,zn,Un)}if(Mn.length<2)return[];var er=Mn.sort(function(cr,or){return ft(cr,wn)-ft(or,wn)});return[er[0],er[er.length-1]]},Xn=function(ln){var Un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,wn=Un*ln.width/2,Mn=Un*ln.height/2;switch(ln.type){case"rectangle":case"image":case"text":return[ht(wn,Mn),ht(wn,-Mn),ht(-wn,-Mn),ht(-wn,Mn)];case"diamond":return[ht(0,Mn),ht(wn,0),ht(0,-Mn),ht(-wn,0)]}},Cn=function(ln,Un){var wn=(0,pt.Z)(Un,2),Mn=wn[0],zn=wn[1];return Rt(Mn,ln)*Rt(zn,ln)>=0?[]:[An(ln,fn(Mn,zn))]},Qn=function(ln,Un){var wn=(0,pt.Z)(ln,2),Mn=wn[0],zn=wn[1],Jn=function(er,cr){var or=.5*cr;return[1,0,0,0,or*er[4],or*er[5],0,0]}(function(er,cr){return gn([0,0,0,0,cr[4]-er[4],cr[5]-er[5],0,0])}(Mn,zn),Un);return[Gt(Jn,Mn),Gt(Jn,zn)]},Tn=function(ln,Un,wn){var Mn=ln.width/2+Un,zn=ln.height/2+Un,Jn=wn[2],er=wn[3],cr=wn[1],or=Mn*Mn*Jn*Jn+zn*zn*er*er,ur=or-cr*cr;if(or===0||ur<=0)return[];var Ur=Math.sqrt(ur),Zr=-Mn*Mn*Jn*cr,yr=-zn*zn*er*cr;return[ht((Zr+Mn*zn*er*Ur)/or,(yr-Mn*zn*Jn*Ur)/or),ht((Zr-Mn*zn*er*Ur)/or,(yr+Mn*zn*Jn*Ur)/or)]},Pn=function(ln,Un,wn){if(Un===0)return Rt(wn,ln)===0?[ln]:[];var Mn=wn[2],zn=wn[3],Jn=wn[1],er=pn(ln),cr=(0,pt.Z)(er,2),or=cr[0],ur=cr[1],Ur=Mn*Mn+zn*zn,Zr=Un*Un*Ur-Math.pow(Mn*or+zn*ur+Jn,2);if(Ur===0||Zr<=0)return[];var yr=Math.sqrt(Zr),Ar=or*zn*zn-ur*Mn*zn-Mn*Jn,pr=ur*Mn*Mn-or*Mn*zn-zn*Jn;return[ht((Ar+zn*yr)/Ur,(pr-Mn*yr)/Ur),ht((Ar-zn*yr)/Ur,(pr+Mn*yr)/Ur)]},tr=function(ln,Un,wn){var Mn=Math.abs(Un),zn=ln.width*Mn/2,Jn=ln.height*Mn/2,er=Math.sign(Un),cr=pn(wn),or=(0,pt.Z)(cr,2),ur=or[0],Ur=or[1],Zr=Ur===0?1e-4:Ur,yr=Math.pow(ur,2)*Math.pow(Jn,2)+Math.pow(Zr,2)*Math.pow(zn,2),Ar=(-ur*Math.pow(Jn,2)+er*Zr*Math.sqrt(Math.max(0,yr-Math.pow(zn,2)*Math.pow(Jn,2))))/yr,pr=(-Ar*ur-1)/Zr;pr===0&&(pr=.01*(Object.is(pr,-0)?-1:1));var Nr=-Math.pow(zn,2)*Ar/(Math.pow(pr,2)*Math.pow(Jn,2)+Math.pow(Ar,2)*Math.pow(zn,2));return ht(Nr,(-Ar*Nr-1)/pr)},ir=function(ln,Un,wn){var Mn=Math.abs(Un),zn=Math.sign(Un),Jn=Xn(ln,Mn),er=0,cr=null;return Jn.forEach(function(or){var ur=zn*fn(wn,or)[1];ur>er&&(er=ur,cr=or)}),cr},gr=function(ln,Un,wn,Mn){var zn,Jn=[],er=!1,cr=tn((0,ct.CM)(ln));try{for(cr.s();!(zn=cr.n()).done;){var or=zn.value;or.op==="move"?(er=!er)&&Jn.push([or.data[0],or.data[1]]):or.op==="bcurveTo"?er&&(Jn.push([or.data[0],or.data[1]]),Jn.push([or.data[2],or.data[3]]),Jn.push([or.data[4],or.data[5]])):or.op==="lineTo"&&er&&Jn.push([or.data[0],or.data[1]])}}catch(Ur){cr.e(Ur)}finally{cr.f()}if(Jn.length>=4){if(Mn==="sharp")return(0,yt.c9)(Jn,Un,wn);var ur=(0,Ct.s)(Jn,10,5);return(0,yt.c9)(ur,Un,wn)}return!1},Wn=function(ln,Un,wn,Mn){var zn=(0,ct.CM)(ln),Jn=[0,0];return zn.some(function(er,cr){var or=er.op,ur=er.data;if(or==="move")Jn=ur;else{if(or==="bcurveTo"){var Ur=[ur[0],ur[1]],Zr=[ur[2],ur[3]],yr=[ur[4],ur[5]],Ar=Jn;Jn=yr;var pr=function(Nr,Or,ba,ho,oo,lo){for(var $r=(0,pt.Z)(oo,2),qr=$r[0],Co=$r[1],po=function(Cr,wr){return Math.pow(1-Cr,3)*ho[wr]+3*Cr*Math.pow(1-Cr,2)*ba[wr]+3*Math.pow(Cr,2)*(1-Cr)*Or[wr]+Nr[wr]*Math.pow(Cr,3)},na=0;na<=1;){var lr=po(na,0),Ir=po(na,1);if(Math.sqrt(Math.pow(lr-qr,2)+Math.pow(Ir-Co,2))<lo)return!0;na+=.01}return!1}(Ar,Ur,Zr,yr,[Un,wn],Mn);return pr}if(or==="lineTo")return gr(ln,Un,wn,"sharp");or==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(Ht,St,_){_.d(St,{PK:function(){return an},Xx:function(){return gn},bp:function(){return bn},oA:function(){return Qt}});var pt=_(2577),ht=_(7169),ot=_(8950),at=_(2975),gt=_.n(at),xt=_(2335),vt=_(8211),it=_(1974);function kt(fn,Zn){var mn=Object.keys(fn);if(Object.getOwnPropertySymbols){var pn=Object.getOwnPropertySymbols(fn);Zn&&(pn=pn.filter(function(An){return Object.getOwnPropertyDescriptor(fn,An).enumerable})),mn.push.apply(mn,pn)}return mn}function Ot(fn){for(var Zn=1;Zn<arguments.length;Zn++){var mn=arguments[Zn]!=null?arguments[Zn]:{};Zn%2?kt(Object(mn),!0).forEach(function(pn){(0,ht.Z)(fn,pn,mn[pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fn,Object.getOwnPropertyDescriptors(mn)):kt(Object(mn)).forEach(function(pn){Object.defineProperty(fn,pn,Object.getOwnPropertyDescriptor(mn,pn))})}return fn}var an=function(fn){return new Promise(function(Zn,mn){var pn=new Image;pn.onload=function(){Zn(pn)},pn.onerror=function(An){mn(An)},pn.src=fn})},gn=function(){var fn=(0,ot.Z)(gt().mark(function Zn(mn){var pn,An,ft,Rt,Bt;return gt().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return pn=mn.fileIds,An=mn.files,ft=mn.imageCache,Rt=new Map,Bt=new Map,bt.next=5,Promise.all(pn.reduce(function(Gt,yt){var Ct=An[yt];return Ct&&!Rt.has(yt)?(Rt.set(yt,!0),Gt.concat((0,ot.Z)(gt().mark(function ct(){var rt,_e,lt;return gt().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(st.prev=0,Ct.mimeType!==xt.LO.binary){st.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return rt=an(Ct.dataURL),_e={image:rt,mimeType:Ct.mimeType},ft.set(yt,_e),st.next=8,rt;case 8:lt=st.sent,ft.set(yt,Ot(Ot({},_e),{},{image:lt})),st.next=15;break;case 12:st.prev=12,st.t0=st.catch(0),Bt.set(yt,!0);case 15:case"end":return st.stop()}},ct,null,[[0,12]])}))())):Gt},[]));case 5:return bt.abrupt("return",{imageCache:ft,updatedFiles:Rt,erroredFiles:Bt});case 6:case"end":return bt.stop()}},Zn)}));return function(Zn){return fn.apply(this,arguments)}}(),Qt=function(fn){return fn.filter(function(Zn){return(0,it.wi)(Zn)})},bn=function(){var fn=(0,ot.Z)(gt().mark(function Zn(mn){var pn,An,ft,Rt,Bt,bt,Gt;return gt().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(pn=new DOMParser().parseFromString(mn,xt.LO.svg),An=pn.querySelector("svg"),!pn.querySelector("parsererror")&&((Ct=An)==null?void 0:Ct.nodeName.toLowerCase())==="svg"){yt.next=7;break}throw new Error((0,vt.t)("errors.invalidSVGString"));case 7:return An.hasAttribute("xmlns")||An.setAttribute("xmlns",xt.hR),An.hasAttribute("width")&&An.hasAttribute("height")||(ft=An.getAttribute("viewBox"),Rt=An.getAttribute("width")||"50",Bt=An.getAttribute("height")||"50",ft&&(bt=ft.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(Gt=(0,pt.Z)(bt,3),Rt=Gt[1],Bt=Gt[2]),An.setAttribute("width",Rt),An.setAttribute("height",Bt)),yt.abrupt("return",An.outerHTML);case 10:case"end":return yt.stop()}var Ct},Zn)}));return function(Zn){return fn.apply(this,arguments)}}()},1047:function(Ht,St,_){_.d(St,{ox:function(){return an.ox},BQ:function(){return In},_M:function(){return rn},EJ:function(){return rt},o8:function(){return yt},Sy:function(){return kt.Sy},os:function(){return Ot.os},KP:function(){return Ot.KP},Un:function(){return ft},$V:function(){return ct},qf:function(){return Ot.qf},Pi:function(){return Ot.Pi},jt:function(){return mn},o4:function(){return vt},Lm:function(){return $t},Qp:function(){return it},T:function(){return Rt.T},xx:function(){return Rt.xx},Uo:function(){return tn},n2:function(){return pn},PC:function(){return an.PC},kK:function(){return an.kK},n_:function(){return Nt},wX:function(){return gn.wX},r2:function(){return ot.r2},wB:function(){return gn.wB},QD:function(){return gt},qP:function(){return Wt},iB:function(){return ot.iB},Up:function(){return kt.Up},vw:function(){return kt.vw},y8:function(){return kt.y8},VL:function(){return kt.VL},oN:function(){return bt.oN},JZ:function(){return kt.JZ},RT:function(){return st},b_:function(){return _e.b_},vY:function(){return Rt.vY},N_:function(){return kt.N_}});var pt=_(7169),ht=_(1935),ot=_(1974),at=_(2335),gt=function(_t){return(0,ot.bt)(_t)||(0,ot.F9)(_t)?_t.points.length<2:_t.width===0&&_t.height===0},xt=function(_t,Et,Vt){var Pt=Math.abs(Et),qt=Math.abs(Vt);if(_t==="line"||_t==="arrow"||_t==="freedraw"){var dn=Math.round(Math.atan(qt/Pt)/at.ay)*at.ay;dn===0?Vt=0:dn===Math.PI/2?Et=0:Vt=Pt*Math.tan(dn)*Math.sign(Vt)||Vt}else _t!=="selection"&&(Vt=Pt*Math.sign(Vt));return{width:Et,height:Vt}},vt=function(_t,Et,Vt,Pt){var qt=Vt-_t,dn=Pt-Et,Yt=Math.round(Math.atan(dn/qt)/at.ay)*at.ay;if(Yt===0)dn=0;else if(Yt===Math.PI/2)qt=0;else{var Xt=Math.tan(Yt),zt=Et-Xt*_t,At=-1/Xt,Ut=Pt-At*Vt;qt=(-1*Ut- -1*zt)/(-1*Xt- -1*At)-_t,dn=(zt*At-Ut*Xt)/(-1*Xt- -1*At)-Et}return{width:qt,height:dn}},it=function(_t){var Et={width:_t.width,height:_t.height,x:_t.x,y:_t.y};if(_t.width<0){var Vt=Math.abs(_t.width);Et.width=Vt,Et.x=_t.x-Vt}if(_t.height<0){var Pt=Math.abs(_t.height);Et.height=Pt,Et.y=_t.y-Pt}return Et},kt=_(2791),Ot=_(8925),an=_(267),gn=_(2325),Qt=_(2577),bn=_(2726),fn=["rotation"],Zn=function(_t,Et,Vt){return Et>=_t[0]&&Et<=_t[0]+_t[2]&&Vt>=_t[1]&&Vt<=_t[1]+_t[3]},mn=function(_t,Et,Vt,Pt,qt,dn){return _t.reduce(function(Yt,Xt){if(Yt)return Yt;var zt=function(At,Ut,wt,Jt,Mt,un){if(!Ut.selectedElementIds[At.id])return!1;var hn=(0,an.PC)(At,Mt,un),jt=hn.rotation,vn=(0,bn.Z)(hn,fn);if(jt&&Zn(jt,wt,Jt))return"rotation";var xn=Object.keys(vn).filter(function(Gn){var Zt=vn[Gn];return!!Zt&&Zn(Zt,wt,Jt)});return xn.length>0&&xn[0]}(Xt,Et,Vt,Pt,qt,dn);return zt?{element:Xt,transformHandleType:zt}:null},null)},pn=function(_t,Et,Vt,Pt,qt){var dn=(0,Qt.Z)(_t,4),Yt=dn[0],Xt=dn[1],zt=dn[2],At=dn[3],Ut=(0,an.kK)([Yt,Xt,zt,At,(Yt+zt)/2,(Xt+At)/2],0,Pt,qt,an.ox);return Object.keys(Ut).find(function(wt){var Jt=Ut[wt];return Jt&&Zn(Jt,Et,Vt)})||!1},An=["ns","nesw","ew","nwse"],ft=function(_t){var Et=_t.element,Vt=_t.transformHandleType,Pt=Et&&Math.sign(Et.height)*Math.sign(Et.width)==-1,qt=null;switch(Vt){case"n":case"s":qt="ns";break;case"w":case"e":qt="ew";break;case"nw":case"se":qt=Pt?"nesw":"nwse";break;case"ne":case"sw":qt=Pt?"nwse":"nesw";break;case"rotation":return"grab"}return qt&&Et&&(qt=function(dn,Yt){var Xt=An.indexOf(dn);if(Xt>=0){var zt=Math.round(Yt/(Math.PI/4));dn=An[(Xt+zt)%An.length]}return dn}(qt,Et.angle)),qt?"".concat(qt,"-resize"):""},Rt=_(8634),Bt=_(8290),bt=_(5710),Gt=_(242),yt=function(_t,Et,Vt,Pt){var qt=arguments.length>4&&arguments[4]!==void 0&&arguments[4],dn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Yt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,Xt=arguments.length>7?arguments[7]:void 0,zt=(0,Ot.KP)(Et),At=(0,Qt.Z)(zt,2),Ut=At[0],wt=At[1],Jt={x:Vt-Ut,y:Pt-wt};Et.forEach(function(Mt){if(Ct(qt,dn,Yt,_t,Mt,Jt),!Mt.groupIds.length||Xt.editingGroupId&&!(0,Gt.zq)(Xt,Mt)){var un=(0,bt.WJ)(Mt);un&&Ct(qt,dn,Yt,_t,un,Jt)}(0,Bt.Ww)(Mt,{simultaneouslyUpdated:Et})})},Ct=function(_t,Et,Vt,Pt,qt,dn){var Yt,Xt;if(_t){var zt=_t&&Et<Vt,At=_t&&Et>Vt,Ut=Pt.originalElements.get(qt.id);Yt=zt&&Ut?Ut.x:qt.x+dn.x,Xt=At&&Ut?Ut.y:qt.y+dn.y}else Yt=qt.x+dn.x,Xt=qt.y+dn.y;(0,ht.DR)(qt,{x:Yt,y:Xt})},ct=function(_t,Et,Vt){var Pt=(0,Ot.KP)(_t),qt=(0,Qt.Z)(Pt,2);return[Et-qt[0],Vt-qt[1]]},rt=function(_t,Et,Vt,Pt,qt,dn,Yt,Xt,zt,At,Ut){if(zt&&_t.type!=="selection")if(Ut)Xt=Yt/Ut;else{if(Math.abs(dn-Pt)>Math.abs(qt-Vt)){var wt=xt(Et,Xt,qt<Vt?-Yt:Yt);Yt=wt.width,Xt=wt.height}else{var Jt=xt(Et,Yt,dn<Pt?-Xt:Xt);Yt=Jt.width,Xt=Jt.height}Xt<0&&(Xt=-Xt)}var Mt=qt<Vt?Vt-Yt:Vt,un=dn<Pt?Pt-Xt:Pt;At&&(Mt=Vt-(Yt+=Yt)/2,un=Pt-(Xt+=Xt)/2),Yt!==0&&Xt!==0&&(0,ht.DR)(_t,{x:Mt,y:un,width:Yt,height:Xt})},_e=_(6906),lt=_(75),st=function(_t,Et){return!!(!_t.viewModeEnabled&&_t.activeTool.type!=="custom"&&(_t.editingElement||_t.activeTool.type!=="selection"&&_t.activeTool.type!=="eraser"&&_t.activeTool.type!=="hand")||(0,lt.eD)(Et,_t).length)};function It(_t,Et){var Vt=Object.keys(_t);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(_t);Et&&(Pt=Pt.filter(function(qt){return Object.getOwnPropertyDescriptor(_t,qt).enumerable})),Vt.push.apply(Vt,Pt)}return Vt}function Tt(_t){for(var Et=1;Et<arguments.length;Et++){var Vt=arguments[Et]!=null?arguments[Et]:{};Et%2?It(Object(Vt),!0).forEach(function(Pt){(0,pt.Z)(_t,Pt,Vt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(Vt)):It(Object(Vt)).forEach(function(Pt){Object.defineProperty(_t,Pt,Object.getOwnPropertyDescriptor(Vt,Pt))})}return _t}var tn=function(_t){return _t.reduce(function(Et,Vt){return Et+Vt.version},0)},Nt=function(_t){return _t.filter(function(Et){return!Et.isDeleted&&!gt(Et)})},$t=function(_t){return _t.filter(function(Et){return!Et.isDeleted})},Wt=function(_t){return!_t.isDeleted},Dt=function(_t){return $t(_t).map(function(Et){return(0,ot.dt)(Et.type)?Tt(Tt({},Et),{},{lastCommittedPoint:null}):Et})},In=function(_t){return Dt(_t)},rn=function(_t){return Dt(_t)}},6938:function(Ht,St,_){_.d(St,{_:function(){return bt}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(8821),gt=_(5169),xt=_(6552),vt=_(1047),it=_(8925),kt=_(1935),Ot=_(1564),an=_(8290),gn=_(6340),Qt=_(1974),bn=_(6066),fn=_(5710),Zn=_(3063),mn=_(2335);function pn(yt,Ct){var ct=typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(!ct){if(Array.isArray(yt)||(ct=function(Tt,tn){if(Tt){if(typeof Tt=="string")return An(Tt,tn);var Nt=Object.prototype.toString.call(Tt).slice(8,-1);if(Nt==="Object"&&Tt.constructor&&(Nt=Tt.constructor.name),Nt==="Map"||Nt==="Set")return Array.from(Tt);if(Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return An(Tt,tn)}}(yt))||Ct&&yt&&typeof yt.length=="number"){ct&&(yt=ct);var rt=0,_e=function(){};return{s:_e,n:function(){return rt>=yt.length?{done:!0}:{done:!1,value:yt[rt++]}},e:function(Tt){throw Tt},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lt,st=!0,It=!1;return{s:function(){ct=ct.call(yt)},n:function(){var Tt=ct.next();return st=Tt.done,Tt},e:function(Tt){It=!0,lt=Tt},f:function(){try{st||ct.return==null||ct.return()}finally{if(It)throw lt}}}}function An(yt,Ct){(Ct==null||Ct>yt.length)&&(Ct=yt.length);for(var ct=0,rt=new Array(Ct);ct<Ct;ct++)rt[ct]=yt[ct];return rt}function ft(yt,Ct){var ct=Object.keys(yt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(yt);Ct&&(rt=rt.filter(function(_e){return Object.getOwnPropertyDescriptor(yt,_e).enumerable})),ct.push.apply(ct,rt)}return ct}function Rt(yt){for(var Ct=1;Ct<arguments.length;Ct++){var ct=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?ft(Object(ct),!0).forEach(function(rt){(0,ht.Z)(yt,rt,ct[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(ct)):ft(Object(ct)).forEach(function(rt){Object.defineProperty(yt,rt,Object.getOwnPropertyDescriptor(ct,rt))})}return yt}var Bt={version:null,points:[],zoom:null},bt=function(){function yt(Ct,ct){(0,at.Z)(this,yt),this.elementId=Ct.id,Ot.Z.mapElementToScene(this.elementId,ct),yt.normalizePoints(Ct),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,gt.Z)(yt,null,[{key:"getElement",value:function(Ct){var ct,rt=(ct=Ot.Z.getScene(Ct))===null||ct===void 0?void 0:ct.getNonDeletedElement(Ct);return rt||null}},{key:"handleBoxSelection",value:function(Ct,ct,rt){var _e;if(!ct.editingLinearElement||((_e=ct.draggingElement)===null||_e===void 0?void 0:_e.type)!=="selection")return!1;var lt=ct.editingLinearElement,st=lt.selectedPointsIndices,It=lt.elementId,Tt=yt.getElement(It);if(!Tt)return!1;var tn=(0,vt.qf)(ct.draggingElement),Nt=(0,ot.Z)(tn,4),$t=Nt[0],Wt=Nt[1],Dt=Nt[2],In=Nt[3],rn=yt.getPointsGlobalCoordinates(Tt).reduce(function(_t,Et,Vt){return(Et[0]>=$t&&Et[0]<=Dt&&Et[1]>=Wt&&Et[1]<=In||Ct.shiftKey&&st!=null&&st.includes(Vt))&&_t.push(Vt),_t},[]);rt({editingLinearElement:Rt(Rt({},lt),{},{selectedPointsIndices:rn.length?rn:null})})}},{key:"handlePointDragging",value:function(Ct,ct,rt,_e,lt,st){if(!st)return!1;var It=st.selectedPointsIndices,Tt=st.elementId,tn=yt.getElement(Tt);if(!tn)return!1;var Nt=tn.points[st.pointerDownState.lastClickedPoint];if(It&&Nt){if((0,bn.Ge)(Ct)&&It.length===1&&tn.points.length>1){var $t=It[0],Wt=tn.points[$t===0?1:$t-1],Dt=yt._getShiftLockedDelta(tn,Wt,[rt,_e],ct.gridSize),In=(0,ot.Z)(Dt,2),rn=In[0],_t=In[1];yt.movePoints(tn,[{index:$t,point:[rn+Wt[0],_t+Wt[1]],isDragging:$t===st.pointerDownState.lastClickedPoint}])}else{var Et=yt.createPointAt(tn,rt-st.pointerOffset.x,_e-st.pointerOffset.y,ct.gridSize),Vt=Et[0]-Nt[0],Pt=Et[1]-Nt[1];yt.movePoints(tn,It.map(function(Yt){return{index:Yt,point:Yt===st.pointerDownState.lastClickedPoint?yt.createPointAt(tn,rt-st.pointerOffset.x,_e-st.pointerOffset.y,ct.gridSize):[tn.points[Yt][0]+Vt,tn.points[Yt][1]+Pt],isDragging:Yt===st.pointerDownState.lastClickedPoint}})),(0,fn.WJ)(tn)&&(0,fn.RB)(tn,!1)}if((0,Qt.Mn)(tn,!1)){var qt=[];It[0]===0&&qt.push((0,gn.AK)(yt.getPointGlobalCoordinates(tn,tn.points[0])));var dn=It[It.length-1];dn===tn.points.length-1&&qt.push((0,gn.AK)(yt.getPointGlobalCoordinates(tn,tn.points[dn]))),qt.length&&lt(tn,qt)}return!0}return!1}},{key:"handlePointerUp",value:function(Ct,ct,rt){var _e,lt=ct.elementId,st=ct.selectedPointsIndices,It=ct.isDragging,Tt=ct.pointerDownState,tn=yt.getElement(lt);if(!tn)return ct;var Nt={};if(It&&st){var $t,Wt=pn(st);try{for(Wt.s();!($t=Wt.n()).done;){var Dt=$t.value;if(Dt===0||Dt===tn.points.length-1){(0,xt.g6)(tn.points,rt.zoom.value)&&yt.movePoints(tn,[{index:Dt,point:Dt===0?tn.points[tn.points.length-1]:tn.points[0]}]);var In=(0,an.N1)(rt)?(0,an.Y9)((0,gn.AK)(yt.getPointAtIndexGlobalCoordinates(tn,Dt)),Ot.Z.getScene(tn)):null;Nt[Dt===0?"startBindingElement":"endBindingElement"]=In}}}catch(rn){Wt.e(rn)}finally{Wt.f()}}return Rt(Rt(Rt({},ct),Nt),{},{selectedPointsIndices:It||Ct.shiftKey?!It&&Ct.shiftKey&&(_e=Tt.prevSelectedPointsIndices)!==null&&_e!==void 0&&_e.includes(Tt.lastClickedPoint)?st&&st.filter(function(rn){return rn!==Tt.lastClickedPoint}):st:st!=null&&st.includes(Tt.lastClickedPoint)?[Tt.lastClickedPoint]:st,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(Ct,ct,rt,_e){var lt=(0,xt.LW)(ct[0],ct[1],rt[0],rt[1]);return Ct.points.length>2&&Ct.roundness&&(lt=(0,xt.eH)(Ct,rt)),lt*_e.value<4*yt.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(Ct,ct,rt,_e){var lt=(0,xt.H5)(ct,rt);if(Ct.points.length>2&&Ct.roundness){var st=(0,xt.yB)(Ct,Ct.points[_e]);if(st){var It=(0,xt.lk)(Ct,Ct.points[_e],.5),Tt=(0,xt.N_)(st[0],st[1],st[2],st[3],It),tn=(0,ot.Z)(Tt,2),Nt=tn[0],$t=tn[1];lt=yt.getPointGlobalCoordinates(Ct,[Nt,$t])}}return lt}},{key:"getSegmentMidPointIndex",value:function(Ct,ct,rt){var _e=yt.getElement(Ct.elementId);if(!_e)return-1;for(var lt=yt.getEditorMidPoints(_e,ct),st=0;st<lt.length;){if(yt.arePointsEqual(rt,lt[st]))return st+1;st++}return-1}},{key:"handlePointerDown",value:function(Ct,ct,rt,_e,lt){var st,It={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!lt)return It;var Tt=lt.elementId,tn=yt.getElement(Tt);if(!tn)return It;var Nt=yt.getSegmentMidpointHitCoords(lt,_e,ct),$t=null;if(Nt&&($t=yt.getSegmentMidPointIndex(lt,ct,Nt)),Ct.altKey&&ct.editingLinearElement)return lt.lastUncommittedPoint==null&&((0,kt.DR)(tn,{points:[].concat((0,pt.Z)(tn.points),[yt.createPointAt(tn,_e.x,_e.y,ct.gridSize)])}),It.didAddPoint=!0),rt.resumeRecording(),It.linearElementEditor=Rt(Rt({},lt),{},{pointerDownState:{prevSelectedPointsIndices:lt.selectedPointsIndices,lastClickedPoint:-1,origin:{x:_e.x,y:_e.y},segmentMidpoint:{value:Nt,index:$t,added:!1}},selectedPointsIndices:[tn.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,an.Y9)(_e,Ot.Z.getScene(tn))}),It.didAddPoint=!0,It;var Wt=yt.getPointIndexUnderCursor(tn,ct.zoom,_e.x,_e.y);if(Wt>=0||Nt)It.hitElement=tn;else{var Dt=lt.startBindingElement,In=lt.endBindingElement;(0,an.N1)(ct)&&(0,Qt.Mn)(tn)&&(0,an.HG)(tn,Dt,In)}var rn=(0,vt.qf)(tn),_t=(0,ot.Z)(rn,4),Et=_t[0],Vt=_t[1],Pt=(Et+_t[2])/2,qt=(Vt+_t[3])/2,dn=Wt>-1&&(0,xt.U1)(tn.x+tn.points[Wt][0],tn.y+tn.points[Wt][1],Pt,qt,tn.angle),Yt=Wt>-1||Ct.shiftKey?Ct.shiftKey||(st=lt.selectedPointsIndices)!==null&&st!==void 0&&st.includes(Wt)?Gt([].concat((0,pt.Z)(lt.selectedPointsIndices||[]),[Wt])):[Wt]:null;return It.linearElementEditor=Rt(Rt({},lt),{},{pointerDownState:{prevSelectedPointsIndices:lt.selectedPointsIndices,lastClickedPoint:Wt,origin:{x:_e.x,y:_e.y},segmentMidpoint:{value:Nt,index:$t,added:!1}},selectedPointsIndices:Yt,pointerOffset:dn?{x:_e.x-dn[0],y:_e.y-dn[1]}:{x:0,y:0}}),It}},{key:"arePointsEqual",value:function(Ct,ct){return!Ct&&!ct||!(!Ct||!ct)&&(0,xt.Jj)(Ct,ct)}},{key:"handlePointerMove",value:function(Ct,ct,rt,_e){if(!_e.editingLinearElement)return null;var lt=_e.editingLinearElement,st=lt.elementId,It=lt.lastUncommittedPoint,Tt=yt.getElement(st);if(!Tt)return _e.editingLinearElement;var tn,Nt=Tt.points,$t=Nt[Nt.length-1];if(!Ct.altKey)return $t===It&&yt.deletePoints(Tt,[Nt.length-1]),Rt(Rt({},_e.editingLinearElement),{},{lastUncommittedPoint:null});if((0,bn.Ge)(Ct)&&Nt.length>=2){var Wt=Nt[Nt.length-2],Dt=yt._getShiftLockedDelta(Tt,Wt,[ct,rt],_e.gridSize),In=(0,ot.Z)(Dt,2),rn=In[0],_t=In[1];tn=[rn+Wt[0],_t+Wt[1]]}else tn=yt.createPointAt(Tt,ct-_e.editingLinearElement.pointerOffset.x,rt-_e.editingLinearElement.pointerOffset.y,_e.gridSize);return $t===It?yt.movePoints(Tt,[{index:Tt.points.length-1,point:tn}]):yt.addPoints(Tt,_e,[{point:tn}]),Rt(Rt({},_e.editingLinearElement),{},{lastUncommittedPoint:Tt.points[Tt.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(Ct,ct){var rt=(0,vt.qf)(Ct),_e=(0,ot.Z)(rt,4),lt=_e[0],st=_e[1],It=(lt+_e[2])/2,Tt=(st+_e[3])/2,tn=Ct.x,Nt=Ct.y,$t=(0,xt.U1)(tn+ct[0],Nt+ct[1],It,Tt,Ct.angle),Wt=(0,ot.Z)($t,2);return[tn=Wt[0],Nt=Wt[1]]}},{key:"getPointsGlobalCoordinates",value:function(Ct){var ct=(0,vt.qf)(Ct),rt=(0,ot.Z)(ct,4),_e=rt[0],lt=rt[1],st=rt[2],It=rt[3],Tt=(_e+st)/2,tn=(lt+It)/2;return Ct.points.map(function(Nt){var $t=Ct.x,Wt=Ct.y,Dt=(0,xt.U1)($t+Nt[0],Wt+Nt[1],Tt,tn,Ct.angle),In=(0,ot.Z)(Dt,2);return[$t=In[0],Wt=In[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(Ct,ct){var rt=ct<0?Ct.points.length+ct:ct,_e=(0,vt.qf)(Ct),lt=(0,ot.Z)(_e,4),st=lt[0],It=lt[1],Tt=(st+lt[2])/2,tn=(It+lt[3])/2,Nt=Ct.points[rt],$t=Ct.x,Wt=Ct.y;return Nt?(0,xt.U1)($t+Nt[0],Wt+Nt[1],Tt,tn,Ct.angle):(0,xt.U1)($t,Wt,Tt,tn,Ct.angle)}},{key:"pointFromAbsoluteCoords",value:function(Ct,ct){var rt=(0,vt.qf)(Ct),_e=(0,ot.Z)(rt,4),lt=_e[0],st=_e[1],It=(lt+_e[2])/2,Tt=(st+_e[3])/2,tn=(0,xt.U1)(ct[0],ct[1],It,Tt,-Ct.angle),Nt=(0,ot.Z)(tn,2),$t=Nt[0],Wt=Nt[1];return[$t-Ct.x,Wt-Ct.y]}},{key:"getPointIndexUnderCursor",value:function(Ct,ct,rt,_e){for(var lt=yt.getPointsGlobalCoordinates(Ct),st=lt.length;--st>-1;){var It=lt[st];if((0,xt.LW)(rt,_e,It[0],It[1])*ct.value<yt.POINT_HANDLE_SIZE+1)return st}return-1}},{key:"createPointAt",value:function(Ct,ct,rt,_e){var lt=(0,xt.wC)(ct,rt,_e),st=(0,vt.qf)(Ct),It=(0,ot.Z)(st,4),Tt=It[0],tn=It[1],Nt=(Tt+It[2])/2,$t=(tn+It[3])/2,Wt=(0,xt.U1)(lt[0],lt[1],Nt,$t,-Ct.angle),Dt=(0,ot.Z)(Wt,2),In=Dt[0],rn=Dt[1];return[In-Ct.x,rn-Ct.y]}},{key:"getNormalizedPoints",value:function(Ct){var ct=Ct.points,rt=ct[0][0],_e=ct[0][1];return{points:ct.map(function(lt,st){return[lt[0]-rt,lt[1]-_e]}),x:Ct.x+rt,y:Ct.y+_e}}},{key:"normalizePoints",value:function(Ct){(0,kt.DR)(Ct,yt.getNormalizedPoints(Ct))}},{key:"duplicateSelectedPoints",value:function(Ct){if(!Ct.editingLinearElement)return!1;var ct=Ct.editingLinearElement,rt=ct.selectedPointsIndices,_e=ct.elementId,lt=yt.getElement(_e);if(!lt||rt===null)return!1;var st=lt.points,It=[],Tt=!1,tn=-1,Nt=st.reduce(function(Wt,Dt,In){if(++tn,Wt.push(Dt),rt.includes(In)){var rn=st[In+1];rn||(Tt=!0),Wt.push(rn?[(Dt[0]+rn[0])/2,(Dt[1]+rn[1])/2]:[Dt[0],Dt[1]]),It.push(tn+1),++tn}return Wt},[]);if((0,kt.DR)(lt,{points:Nt}),Tt){var $t=lt.points[lt.points.length-1];yt.movePoints(lt,[{index:lt.points.length-1,point:[$t[0]+30,$t[1]+30]}])}return{appState:Rt(Rt({},Ct),{},{editingLinearElement:Rt(Rt({},Ct.editingLinearElement),{},{selectedPointsIndices:It})})}}},{key:"deletePoints",value:function(Ct,ct){var rt=0,_e=0;if(ct.includes(0)){var lt=Ct.points.find(function(It,Tt){return!ct.includes(Tt)});lt&&(rt=lt[0],_e=lt[1])}var st=Ct.points.reduce(function(It,Tt,tn){return ct.includes(tn)||It.push(It.length?[Tt[0]-rt,Tt[1]-_e]:[0,0]),It},[]);yt._updatePoints(Ct,st,rt,_e)}},{key:"addPoints",value:function(Ct,ct,rt){var _e=[].concat((0,pt.Z)(Ct.points),(0,pt.Z)(rt.map(function(lt){return lt.point})));yt._updatePoints(Ct,_e,0,0)}},{key:"movePoints",value:function(Ct,ct,rt){var _e=Ct.points,lt=0,st=0,It=ct.find(function(tn){return tn.index===0});It&&(lt=It.point[0]+_e[It.index][0],st=It.point[1]+_e[It.index][1]);var Tt=_e.map(function(tn,Nt){var $t=ct.find(function(In){return In.index===Nt});if($t){if(It)return tn;var Wt=$t.point[0]-_e[$t.index][0],Dt=$t.point[1]-_e[$t.index][1];return[tn[0]+Wt,tn[1]+Dt]}return lt||st?[tn[0]-lt,tn[1]-st]:tn});yt._updatePoints(Ct,Tt,lt,st,rt)}},{key:"shouldAddMidpoint",value:function(Ct,ct,rt){if(!yt.getElement(Ct.elementId))return!1;var _e=Ct.pointerDownState.segmentMidpoint;if(_e.added||_e.value===null||_e.index===null||Ct.pointerDownState.origin===null)return!1;var lt=Ct.pointerDownState.origin,st=(0,xt.LW)(lt.x,lt.y,ct.x,ct.y);return!(!rt.editingLinearElement&&st<mn.f/rt.zoom.value)}},{key:"addMidpoint",value:function(Ct,ct,rt){var _e=yt.getElement(Ct.elementId);if(_e){var lt=Ct.pointerDownState.segmentMidpoint,st={pointerDownState:Ct.pointerDownState,selectedPointsIndices:Ct.selectedPointsIndices},It=yt.createPointAt(_e,ct.x,ct.y,rt.gridSize),Tt=[].concat((0,pt.Z)(_e.points.slice(0,lt.index)),[It],(0,pt.Z)(_e.points.slice(lt.index)));return(0,kt.DR)(_e,{points:Tt}),st.pointerDownState=Rt(Rt({},Ct.pointerDownState),{},{segmentMidpoint:Rt(Rt({},Ct.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:lt.index}),st.selectedPointsIndices=[lt.index],st}}},{key:"_updatePoints",value:function(Ct,ct,rt,_e,lt){var st=(0,it.Ut)(Ct,ct),It=(0,it.Ut)(Ct,Ct.points),Tt=(st[0]+st[2])/2,tn=(st[1]+st[3])/2,Nt=(It[0]+It[2])/2-Tt,$t=(It[1]+It[3])/2-tn,Wt=(0,xt.U1)(rt,_e,Nt,$t,Ct.angle);(0,kt.DR)(Ct,Rt(Rt({},lt),{},{points:ct,x:Ct.x+Wt[0],y:Ct.y+Wt[1]}))}},{key:"_getShiftLockedDelta",value:function(Ct,ct,rt,_e){var lt=yt.getPointGlobalCoordinates(Ct,ct),st=(0,xt.wC)(rt[0],rt[1],_e),It=(0,ot.Z)(st,2),Tt=It[0],tn=It[1],Nt=(0,vt.o4)(lt[0],lt[1],Tt,tn),$t=Nt.width,Wt=Nt.height;return(0,xt.xj)([$t,Wt],[0,0],-Ct.angle)}}]),yt}();bt.POINT_HANDLE_SIZE=10,bt.getEditorMidPoints=function(yt,Ct){var ct=(0,fn.WJ)(yt);return!Ct.editingLinearElement&&yt.points.length>2&&!ct?[]:(Bt.version===yt.version&&Bt.zoom===Ct.zoom.value||bt.updateEditorMidPointsCache(yt,Ct),Bt.points)},bt.updateEditorMidPointsCache=function(yt,Ct){for(var ct=bt.getPointsGlobalCoordinates(yt),rt=0,_e=[];rt<ct.length-1;)if(bt.isSegmentTooShort(yt,yt.points[rt],yt.points[rt+1],Ct.zoom))_e.push(null),rt++;else{var lt=bt.getSegmentMidPoint(yt,ct[rt],ct[rt+1],rt+1);_e.push(lt),rt++}Bt.points=_e,Bt.version=yt.version,Bt.zoom=Ct.zoom.value},bt.getSegmentMidpointHitCoords=function(yt,Ct,ct){var rt=yt.elementId,_e=bt.getElement(rt);if(!_e||bt.getPointIndexUnderCursor(_e,ct.zoom,Ct.x,Ct.y)>=0||bt.getPointsGlobalCoordinates(_e).length>=3&&!ct.editingLinearElement)return null;var lt=bt.POINT_HANDLE_SIZE/ct.zoom.value,st=yt.segmentMidPointHoveredCoords;if(st&&(0,xt.LW)(st[0],st[1],Ct.x,Ct.y)<=lt)return st;for(var It=0,Tt=bt.getEditorMidPoints(_e,ct);It<Tt.length;){if(Tt[It]!==null&&(0,xt.LW)(Tt[It][0],Tt[It][1],Ct.x,Ct.y)<=lt)return Tt[It];It++}return null},bt.getBoundTextElementPosition=function(yt,Ct){var ct=bt.getPointsGlobalCoordinates(yt);ct.length<2&&(0,kt.DR)(Ct,{isDeleted:!0});var rt=0,_e=0;if(yt.points.length%2==1){var lt=Math.floor(yt.points.length/2),st=bt.getPointGlobalCoordinates(yt,yt.points[lt]);rt=st[0]-Ct.width/2,_e=st[1]-Ct.height/2}else{var It=yt.points.length/2-1,Tt=Bt.points[It];yt.points.length===2&&(Tt=(0,xt.H5)(ct[0],ct[1])),Tt&&Bt.version===yt.version||(Tt=bt.getSegmentMidPoint(yt,ct[It],ct[It+1],It+1)),rt=Tt[0]-Ct.width/2,_e=Tt[1]-Ct.height/2}return{x:rt,y:_e}},bt.getMinMaxXYWithBoundText=function(yt,Ct,ct){var rt=(0,ot.Z)(Ct,4),_e=rt[0],lt=rt[1],st=rt[2],It=rt[3],Tt=(_e+st)/2,tn=(lt+It)/2,Nt=bt.getBoundTextElementPosition(yt,ct),$t=Nt.x,Wt=Nt.y,Dt=$t+ct.width,In=Wt+ct.height,rn=(0,xt.xj)([_e,lt],[Tt,tn],yt.angle),_t=(0,xt.xj)([st,lt],[Tt,tn],yt.angle),Et=(0,xt.xj)([$t,Wt],[Tt,tn],-yt.angle),Vt=(0,xt.xj)([Dt,Wt],[Tt,tn],-yt.angle),Pt=(0,xt.xj)([$t,In],[Tt,tn],-yt.angle),qt=(0,xt.xj)([Dt,In],[Tt,tn],-yt.angle);return rn[0]<_t[0]&&rn[1]>=_t[1]?(_e=Math.min(_e,Pt[0]),st=Math.max(st,Math.max(Vt[0],qt[0])),lt=Math.min(lt,Et[1]),It=Math.max(It,qt[1])):rn[0]>=_t[0]&&rn[1]>_t[1]?(_e=Math.min(_e,qt[0]),st=Math.max(st,Math.max(Et[0],Vt[0])),lt=Math.min(lt,Pt[1]),It=Math.max(It,Vt[1])):rn[0]>=_t[0]?(_e=Math.min(_e,Vt[0]),st=Math.max(st,Pt[0]),lt=Math.min(lt,qt[1]),It=Math.max(It,Et[1])):rn[1]<=_t[1]&&(_e=Math.min(_e,Math.min(Vt[0],Et[0])),st=Math.max(st,qt[0]),lt=Math.min(lt,Vt[1]),It=Math.max(It,Pt[1])),[_e,lt,st,It,Tt,tn]},bt.getElementAbsoluteCoords=function(yt){var Ct,ct,rt,_e,lt,st=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(yt.points.length<2||!(0,Zn.R2)(yt)){var It=yt.points.reduce(function(Xt,zt){var At=(0,ot.Z)(zt,2),Ut=At[0],wt=At[1];return Xt.minY=Math.min(Xt.minY,wt),Xt.minX=Math.min(Xt.minX,Ut),Xt.maxX=Math.max(Xt.maxX,Ut),Xt.maxY=Math.max(Xt.maxY,wt),Xt},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),Tt=It.minX,tn=It.minY,Nt=It.maxX,$t=It.maxY;ct=Tt+yt.x,rt=tn+yt.y,_e=Nt+yt.x,lt=$t+yt.y}else{var Wt=(0,Zn.R2)(yt),Dt=(0,it.CM)(Wt[0]),In=(0,it.IX)(Dt),rn=(0,ot.Z)(In,4),_t=rn[0],Et=rn[1],Vt=rn[2],Pt=rn[3];ct=_t+yt.x,rt=Et+yt.y,_e=Vt+yt.x,lt=Pt+yt.y}var qt=(ct+_e)/2,dn=(rt+lt)/2;if(Ct=[ct,rt,_e,lt,qt,dn],!st)return Ct;var Yt=(0,fn.WJ)(yt);return Yt&&(Ct=bt.getMinMaxXYWithBoundText(yt,[ct,rt,_e,lt],Yt)),Ct};var Gt=function(yt){var Ct=(0,pt.Z)(new Set(yt.filter(function(ct){return ct!==null&&ct!==-1})));return(Ct=Ct.sort(function(ct,rt){return ct-rt})).length?Ct:null}},1935:function(Ht,St,_){_.d(St,{BE:function(){return an},DR:function(){return Ot},ZP:function(){return gn}});var pt=_(6655),ht=_(7169),ot=_(3063),at=_(1564),gt=_(5001),xt=_(6954),vt=_(6340);function it(Qt,bn){var fn=Object.keys(Qt);if(Object.getOwnPropertySymbols){var Zn=Object.getOwnPropertySymbols(Qt);bn&&(Zn=Zn.filter(function(mn){return Object.getOwnPropertyDescriptor(Qt,mn).enumerable})),fn.push.apply(fn,Zn)}return fn}function kt(Qt){for(var bn=1;bn<arguments.length;bn++){var fn=arguments[bn]!=null?arguments[bn]:{};bn%2?it(Object(fn),!0).forEach(function(Zn){(0,ht.Z)(Qt,Zn,fn[Zn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qt,Object.getOwnPropertyDescriptors(fn)):it(Object(fn)).forEach(function(Zn){Object.defineProperty(Qt,Zn,Object.getOwnPropertyDescriptor(fn,Zn))})}return Qt}var Ot=function(Qt,bn){var fn,Zn=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],mn=!1,pn=bn,An=pn.points,ft=pn.fileId;for(var Rt in An!==void 0&&(bn=kt(kt({},(0,gt.k)(An)),bn)),bn){var Bt=bn[Rt];if(Bt!==void 0){if(Qt[Rt]===Bt&&((0,pt.Z)(Bt)!=="object"||Bt===null||Rt==="groupIds"||Rt==="scale"))continue;if(Rt==="scale"){var bt=Qt[Rt],Gt=Bt;if(bt[0]===Gt[0]&&bt[1]===Gt[1])continue}else if(Rt==="points"){var yt=Qt[Rt],Ct=Bt;if(yt.length===Ct.length){for(var ct=!1,rt=yt.length;--rt;){var _e=yt[rt],lt=Ct[rt];if(_e[0]!==lt[0]||_e[1]!==lt[1]){ct=!0;break}}if(!ct)continue}}Qt[Rt]=Bt,mn=!0}}return mn&&(bn.height===void 0&&bn.width===void 0&&ft===void 0&&An===void 0||(0,ot.bI)(Qt),Qt.version++,Qt.versionNonce=(0,xt.LU)(),Qt.updated=(0,vt.C3)(),Zn&&((fn=at.Z.getScene(Qt))===null||fn===void 0||fn.informMutation())),Qt},an=function(Qt,bn){var fn=!1;for(var Zn in bn){var mn=bn[Zn];if(mn!==void 0){if(Qt[Zn]===mn&&((0,pt.Z)(mn)!=="object"||mn===null))continue;fn=!0}}return fn?kt(kt(kt({},Qt),bn),{},{updated:(0,vt.C3)(),version:Qt.version+1,versionNonce:(0,xt.LU)()}):Qt},gn=function(Qt,bn){return Qt.version=(bn??Qt.version)+1,Qt.versionNonce=(0,xt.LU)(),Qt.updated=(0,vt.C3)(),Qt}},2791:function(Ht,St,_){_.d(St,{JZ:function(){return yt},KE:function(){return ct},N_:function(){return Ct},OL:function(){return st},Sy:function(){return Tt},Up:function(){return Rt},VL:function(){return bt},_N:function(){return tn},vw:function(){return _e},y8:function(){return rt}});var pt=_(6655),ht=_(2577),ot=_(7169),at=_(2726),gt=_(6340),xt=_(6954),vt=_(1935),it=_(242),kt=_(1047),Ot=_(6552),an=_(8925),gn=_(5710),Qt=_(2335),bn=_(1974),fn=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function Zn(Nt,$t){var Wt=typeof Symbol<"u"&&Nt[Symbol.iterator]||Nt["@@iterator"];if(!Wt){if(Array.isArray(Nt)||(Wt=function(Vt,Pt){if(Vt){if(typeof Vt=="string")return mn(Vt,Pt);var qt=Object.prototype.toString.call(Vt).slice(8,-1);if(qt==="Object"&&Vt.constructor&&(qt=Vt.constructor.name),qt==="Map"||qt==="Set")return Array.from(Vt);if(qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt))return mn(Vt,Pt)}}(Nt))||$t&&Nt&&typeof Nt.length=="number"){Wt&&(Nt=Wt);var Dt=0,In=function(){};return{s:In,n:function(){return Dt>=Nt.length?{done:!0}:{done:!1,value:Nt[Dt++]}},e:function(Vt){throw Vt},f:In}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rn,_t=!0,Et=!1;return{s:function(){Wt=Wt.call(Nt)},n:function(){var Vt=Wt.next();return _t=Vt.done,Vt},e:function(Vt){Et=!0,rn=Vt},f:function(){try{_t||Wt.return==null||Wt.return()}finally{if(Et)throw rn}}}}function mn(Nt,$t){($t==null||$t>Nt.length)&&($t=Nt.length);for(var Wt=0,Dt=new Array($t);Wt<$t;Wt++)Dt[Wt]=Nt[Wt];return Dt}function pn(Nt,$t){var Wt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(Nt);$t&&(Dt=Dt.filter(function(In){return Object.getOwnPropertyDescriptor(Nt,In).enumerable})),Wt.push.apply(Wt,Dt)}return Wt}function An(Nt){for(var $t=1;$t<arguments.length;$t++){var Wt=arguments[$t]!=null?arguments[$t]:{};$t%2?pn(Object(Wt),!0).forEach(function(Dt){(0,ot.Z)(Nt,Dt,Wt[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(Wt)):pn(Object(Wt)).forEach(function(Dt){Object.defineProperty(Nt,Dt,Object.getOwnPropertyDescriptor(Wt,Dt))})}return Nt}var ft=function(Nt,$t){var Wt,Dt,In=$t.x,rn=$t.y,_t=$t.strokeColor,Et=_t===void 0?Qt.HN.strokeColor:_t,Vt=$t.backgroundColor,Pt=Vt===void 0?Qt.HN.backgroundColor:Vt,qt=$t.fillStyle,dn=qt===void 0?Qt.HN.fillStyle:qt,Yt=$t.strokeWidth,Xt=Yt===void 0?Qt.HN.strokeWidth:Yt,zt=$t.strokeStyle,At=zt===void 0?Qt.HN.strokeStyle:zt,Ut=$t.roughness,wt=Ut===void 0?Qt.HN.roughness:Ut,Jt=$t.opacity,Mt=Jt===void 0?Qt.HN.opacity:Jt,un=$t.width,hn=un===void 0?0:un,jt=$t.height,vn=jt===void 0?0:jt,xn=$t.angle,Gn=xn===void 0?0:xn,Zt=$t.groupIds,Xn=Zt===void 0?[]:Zt,Cn=$t.roundness,Qn=Cn===void 0?null:Cn,Tn=$t.boundElements,Pn=Tn===void 0?null:Tn,tr=$t.link,ir=tr===void 0?null:tr,gr=$t.locked,Wn=gr===void 0?Qt.HN.locked:gr,ln=(0,at.Z)($t,fn);return{id:ln.id||(0,xt.kb)(),type:Nt,x:In,y:rn,width:hn,height:vn,angle:Gn,strokeColor:Et,backgroundColor:Pt,fillStyle:dn,strokeWidth:Xt,strokeStyle:At,roughness:wt,opacity:Mt,groupIds:Xn,roundness:Qn,seed:(Wt=ln.seed)!==null&&Wt!==void 0?Wt:(0,xt.LU)(),version:ln.version||1,versionNonce:(Dt=ln.versionNonce)!==null&&Dt!==void 0?Dt:0,isDeleted:!1,boundElements:Pn,updated:(0,gt.C3)(),link:ir,locked:Wn}},Rt=function(Nt){return ft(Nt.type,Nt)},Bt=function(Nt,$t){return{x:Nt.textAlign==="center"?$t.width/2:Nt.textAlign==="right"?$t.width:0,y:Nt.verticalAlign==="middle"?$t.height/2:0}},bt=function(Nt){var $t=Nt.fontFamily||Qt.rk,Wt=Nt.fontSize||Qt.n5,Dt=Nt.lineHeight||(0,gn.PT)($t),In=(0,gn.bG)(Nt.text),rn=(0,gn.X1)(In,(0,gt.mO)({fontFamily:$t,fontSize:Wt}),Dt),_t=Nt.textAlign||Qt.Hg,Et=Nt.verticalAlign||Qt.hs,Vt=Bt({textAlign:_t,verticalAlign:Et},rn);return(0,vt.BE)(An(An({},ft("text",Nt)),{},{text:In,fontSize:Wt,fontFamily:$t,textAlign:_t,verticalAlign:Et,x:Nt.x-Vt.x,y:Nt.y-Vt.y,width:rn.width,height:rn.height,baseline:rn.baseline,containerId:Nt.containerId||null,originalText:In,lineHeight:Dt}),{})},Gt=function(Nt,$t){var Wt,Dt,In=(0,gn.tl)(Nt),rn=(0,gn.X1)($t,(0,gt.mO)(Nt),Nt.lineHeight),_t=rn.width,Et=rn.height,Vt=rn.baseline,Pt=Nt.textAlign,qt=Nt.verticalAlign;if(Pt!=="center"||qt!==Qt.oX.MIDDLE||Nt.containerId){var dn=(0,kt.qf)(Nt),Yt=(0,ht.Z)(dn,4),Xt=Yt[0],zt=Yt[1],At=Yt[2],Ut=Yt[3],wt=(0,an.wC)(Nt,_t,Et,!1),Jt=(0,ht.Z)(wt,4),Mt=(Xt-Jt[0])/2,un=(zt-Jt[1])/2,hn=(At-Jt[2])/2,jt=(Ut-Jt[3])/2,vn=(0,Ot.yq)({s:!0,e:Pt==="center"||Pt==="left",w:Pt==="center"||Pt==="right"},Nt.x,Nt.y,Nt.angle,Mt,un,hn,jt),xn=(0,ht.Z)(vn,2);Wt=xn[0],Dt=xn[1]}else{var Gn=(0,gn.X1)(Nt.text,(0,gt.mO)(Nt),Nt.lineHeight),Zt=Bt(Nt,{width:_t-Gn.width,height:Et-Gn.height});Wt=Nt.x-Zt.x,Dt=Nt.y-Zt.y}if(In){var Xn=(0,gn.S)(Nt),Cn=(0,gn.HE)(In),Qn=Cn.height,Tn=Cn.width;Et>Qn-2*Xn&&(Qn=Et+2*Xn),_t>Tn-2*Xn&&(Tn=_t+2*Xn),(0,bn.Yv)(In)||Qn===Cn.height&&Tn===Cn.width||(0,vt.DR)(In,{height:Qn,width:Tn})}return{width:_t,height:Et,baseline:Vt,x:Number.isFinite(Wt)?Wt:Nt.x,y:Number.isFinite(Dt)?Dt:Nt.y}},yt=function(Nt){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nt.text;if(!Nt.isDeleted){var Wt=(0,gn.tl)(Nt);Wt&&($t=(0,gn.lD)($t,(0,gt.mO)(Nt),(0,gn.jd)(Wt)));var Dt=Gt(Nt,$t);return An({text:$t},Dt)}},Ct=function(Nt,$t){$t.text;var Wt=$t.isDeleted,Dt=$t.originalText;return(0,vt.BE)(Nt,An({originalText:Dt,isDeleted:Wt??Nt.isDeleted},yt(Nt,Dt)))},ct=function(Nt){return An(An({},ft(Nt.type,Nt)),{},{points:Nt.points||[],pressures:[],simulatePressure:Nt.simulatePressure,lastCommittedPoint:null})},rt=function(Nt){return An(An({},ft(Nt.type,Nt)),{},{points:Nt.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:Nt.startArrowhead,endArrowhead:Nt.endArrowhead})},_e=function(Nt){var $t,Wt,Dt;return An(An({},ft("image",Nt)),{},{strokeColor:"transparent",status:($t=Nt.status)!==null&&$t!==void 0?$t:"pending",fileId:(Wt=Nt.fileId)!==null&&Wt!==void 0?Wt:null,scale:(Dt=Nt.scale)!==null&&Dt!==void 0?Dt:[1,1]})},lt=function Nt($t){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if($t==null||(0,pt.Z)($t)!=="object")return $t;var Dt=Object.prototype.toString.call($t);if(Dt==="[object Object]"){var In=typeof $t.constructor=="function"?Object.create(Object.getPrototypeOf($t)):{};for(var rn in $t)if($t.hasOwnProperty(rn)){if(Wt===0&&(rn==="shape"||rn==="canvas"))continue;In[rn]=Nt($t[rn],Wt+1)}return In}if(Array.isArray($t)){for(var _t=$t.length,Et=new Array(_t);_t--;)Et[_t]=Nt($t[_t],Wt+1);return Et}return $t},st=function(Nt){return lt(Nt)},It=function(Nt){if((0,gt.h2)()&&Nt){var $t,Wt,Dt="".concat(Nt,"_copy");return($t=window.h)!==null&&$t!==void 0&&(Wt=$t.app)!==null&&Wt!==void 0&&Wt.getSceneElementsIncludingDeleted().find(function(In){return In.id===Dt})&&(Dt+="_copy"),Dt}return(0,xt.kb)()},Tt=function(Nt,$t,Wt,Dt){var In=st(Wt);return In.id=It(In.id),In.boundElements=null,In.updated=(0,gt.C3)(),In.seed=(0,xt.LU)(),In.groupIds=(0,it.Qy)(In.groupIds,Nt,function(rn){return $t.has(rn)||$t.set(rn,It(rn)),$t.get(rn)}),Dt&&(In=Object.assign(In,Dt)),In},tn=function(Nt){var $t,Wt=[],Dt=(0,gt.xn)(Nt),In=new Map,rn=function(Xt){if(In.has(Xt))return In.get(Xt);if(Dt.has(Xt)){var zt=It(Xt);return In.set(Xt,zt),zt}return null},_t=new Map,Et=Zn(Nt);try{for(Et.s();!($t=Et.n()).done;){var Vt=$t.value,Pt=lt(Vt);if(Pt.id=rn(Vt.id),Pt.groupIds&&(Pt.groupIds=Pt.groupIds.map(function(Xt){return _t.has(Xt)||_t.set(Xt,It(Xt)),_t.get(Xt)})),"containerId"in Pt&&Pt.containerId){var qt=rn(Pt.containerId);Pt.containerId=qt}if("boundElements"in Pt&&Pt.boundElements&&(Pt.boundElements=Pt.boundElements.reduce(function(Xt,zt){var At=rn(zt.id);return At&&Xt.push(An(An({},zt),{},{id:At})),Xt},[])),"endBinding"in Pt&&Pt.endBinding){var dn=rn(Pt.endBinding.elementId);Pt.endBinding=dn?An(An({},Pt.endBinding),{},{elementId:dn}):null}if("startBinding"in Pt&&Pt.startBinding){var Yt=rn(Pt.startBinding.elementId);Pt.startBinding=Yt?An(An({},Pt.startBinding),{},{elementId:Yt}):null}Wt.push(Pt)}}catch(Xt){Et.e(Xt)}finally{Et.f()}return Wt}},8634:function(Ht,St,_){_.d(St,{LW:function(){return Zn},T:function(){return yt},l2:function(){return Rt},vY:function(){return mn},xx:function(){return Gt}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(2335),gt=_(5001),xt=_(6552),vt=_(8925),it=_(1974),kt=_(1935),Ot=_(6340),an=_(8290),gn=_(1564),Qt=_(5710);function bn(Ct,ct){var rt=Object.keys(Ct);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ct);ct&&(_e=_e.filter(function(lt){return Object.getOwnPropertyDescriptor(Ct,lt).enumerable})),rt.push.apply(rt,_e)}return rt}function fn(Ct){for(var ct=1;ct<arguments.length;ct++){var rt=arguments[ct]!=null?arguments[ct]:{};ct%2?bn(Object(rt),!0).forEach(function(_e){(0,ht.Z)(Ct,_e,rt[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(rt)):bn(Object(rt)).forEach(function(_e){Object.defineProperty(Ct,_e,Object.getOwnPropertyDescriptor(rt,_e))})}return Ct}var Zn=function(Ct){return Ct>=2*Math.PI?Ct-2*Math.PI:Ct},mn=function(Ct,ct,rt,_e,lt,st,It,Tt,tn,Nt,$t){if(rt.length===1){var Wt=(0,ot.Z)(rt,1)[0];return ct==="rotation"?(pn(Wt,Tt,tn,lt,Ct.originalElements),(0,an.Ww)(Wt)):!(0,it.iB)(Wt)||ct!=="nw"&&ct!=="ne"&&ct!=="sw"&&ct!=="se"?ct&&Rt(Ct.originalElements,It,Wt,ct,st,Tt,tn):(ft(Wt,ct,st,Tt,tn),(0,an.Ww)(Wt)),!0}if(rt.length>1){if(ct==="rotation")return bt(Ct,rt,Tt,tn,lt,Nt,$t),!0;if(ct==="nw"||ct==="ne"||ct==="sw"||ct==="se")return Bt(Ct,rt,ct,st,Tt,tn),!0}return!1},pn=function(Ct,ct,rt,_e,lt){var st=(0,vt.qf)(Ct),It=(0,ot.Z)(st,4),Tt=It[0],tn=It[1],Nt=(Tt+It[2])/2,$t=(tn+It[3])/2,Wt=5*Math.PI/2+Math.atan2(rt-$t,ct-Nt);_e&&(Wt+=at.ay/2,Wt-=Wt%at.ay),Wt=Zn(Wt);var Dt=(0,Qt.xB)(Ct);if((0,kt.DR)(Ct,{angle:Wt}),Dt){var In,rn=(In=gn.Z.getScene(Ct))===null||In===void 0?void 0:In.getElement(Dt);rn&&!(0,it.Yv)(Ct)&&(0,kt.DR)(rn,{angle:Wt})}},An=function(Ct,ct,rt){var _e=Ct.width;if((0,it.Xh)(Ct)){var lt=(0,Qt.tl)(Ct);lt&&(_e=(0,Qt.jd)(lt))}var st=Ct.fontSize*(ct/_e);if(st<1)return null;var It=(0,Qt.X1)(Ct.text,(0,Ot.mO)({fontSize:st,fontFamily:Ct.fontFamily}),Ct.lineHeight);return{size:st,baseline:It.baseline+(rt-It.height)}},ft=function(Ct,ct,rt,_e,lt){var st,It=(0,vt.qf)(Ct),Tt=(0,ot.Z)(It,4),tn=Tt[0],Nt=Tt[1],$t=Tt[2],Wt=Tt[3],Dt=(tn+$t)/2,In=(Nt+Wt)/2,rn=(0,xt.U1)(_e,lt,Dt,In,-Ct.angle),_t=(0,ot.Z)(rn,2),Et=_t[0],Vt=_t[1];switch(ct){case"se":st=Math.max((Et-tn)/($t-tn),(Vt-Nt)/(Wt-Nt));break;case"nw":st=Math.max(($t-Et)/($t-tn),(Wt-Vt)/(Wt-Nt));break;case"ne":st=Math.max((Et-tn)/($t-tn),(Wt-Vt)/(Wt-Nt));break;case"sw":st=Math.max(($t-Et)/($t-tn),(Vt-Nt)/(Wt-Nt))}if(st>0){var Pt=Ct.width*st,qt=Ct.height*st,dn=An(Ct,Pt,qt);if(dn===null)return;var Yt=(0,vt.wC)(Ct,Pt,qt,!1),Xt=(0,ot.Z)(Yt,4),zt=(tn-Xt[0])/2,At=(Nt-Xt[1])/2,Ut=($t-Xt[2])/2,wt=(Wt-Xt[3])/2,Jt=(0,xt.yq)(function(jt,vn){return{n:/^(n|ne|nw)$/.test(jt)||vn&&/^(s|se|sw)$/.test(jt),s:/^(s|se|sw)$/.test(jt)||vn&&/^(n|ne|nw)$/.test(jt),w:/^(w|nw|sw)$/.test(jt)||vn&&/^(e|ne|se)$/.test(jt),e:/^(e|ne|se)$/.test(jt)||vn&&/^(w|nw|sw)$/.test(jt)}}(ct,rt),Ct.x,Ct.y,Ct.angle,zt,At,Ut,wt),Mt=(0,ot.Z)(Jt,2),un=Mt[0],hn=Mt[1];(0,kt.DR)(Ct,{fontSize:dn.size,width:Pt,height:qt,baseline:dn.baseline,x:un,y:hn})}},Rt=function(Ct,ct,rt,_e,lt,st,It){var Tt=Ct.get(rt.id),tn=(0,vt.wC)(Tt,Tt.width,Tt.height,!0),Nt=(0,ot.Z)(tn,4),$t=[Nt[0],Nt[1]],Wt=[Nt[2],Nt[3]],Dt=(0,xt.H5)($t,Wt),In=(0,xt.xj)([st,It],Dt,-Tt.angle),rn=(0,vt.wC)(rt,rt.width,rt.height,!0),_t=(0,ot.Z)(rn,4),Et=_t[0],Vt=_t[1],Pt=_t[2]-Et,qt=_t[3]-Vt,dn=(Wt[0]-$t[0])/Pt,Yt=(Wt[1]-$t[1])/qt,Xt={},zt=(0,Qt.WJ)(rt);_e.includes("e")&&(dn=(In[0]-$t[0])/Pt),_e.includes("s")&&(Yt=(In[1]-$t[1])/qt),_e.includes("w")&&(dn=(Wt[0]-In[0])/Pt),_e.includes("n")&&(Yt=(Wt[1]-In[1])/qt);var At=Tt.width,Ut=Tt.height,wt=rt.width*dn,Jt=rt.height*Yt;if(lt&&(wt=2*wt-At,Jt=2*Jt-Ut),ct){var Mt=Math.abs(wt)/At,un=Math.abs(Jt)/Ut;if(_e.length===1&&(Jt*=Mt,wt*=un),_e.length===2){var hn=Math.max(Mt,un);wt=At*hn*Math.sign(wt),Jt=Ut*hn*Math.sign(Jt)}}if(zt){var jt=Ct.get(zt.id);if(jt&&(Xt={fontSize:jt.fontSize,baseline:jt.baseline}),ct){var vn=fn(fn({},rt),{},{width:wt,height:Jt}),xn=An(zt,(0,Qt.jd)(vn),(0,Qt.N2)(vn));if(xn===null)return;Xt={fontSize:xn.size,baseline:xn.baseline}}else{var Gn=(0,Qt.AT)((0,Ot.mO)(zt),zt.lineHeight),Zt=(0,Qt.w_)(zt.fontSize,zt.lineHeight);wt=Math.ceil(Math.max(wt,Gn)),Jt=Math.ceil(Math.max(Jt,Zt))}}var Xn=(0,vt.wC)(Tt,wt,Jt,!0),Cn=(0,ot.Z)(Xn,4),Qn=Cn[0],Tn=Cn[1],Pn=Cn[2],tr=Cn[3],ir=Pn-Qn,gr=tr-Tn,Wn=[].concat($t);if(["n","w","nw"].includes(_e)&&(Wn=[Wt[0]-Math.abs(ir),Wt[1]-Math.abs(gr)]),_e==="ne"){var ln=[$t[0],Wt[1]];Wn=[ln[0],ln[1]-Math.abs(gr)]}if(_e==="sw"){var Un=[Wt[0],$t[1]];Wn=[Un[0]-Math.abs(ir),Un[1]]}ct&&(["s","n"].includes(_e)&&(Wn[0]=Dt[0]-ir/2),["e","w"].includes(_e)&&(Wn[1]=Dt[1]-gr/2)),wt<0&&(_e.includes("e")&&(Wn[0]-=Math.abs(ir)),_e.includes("w")&&(Wn[0]+=Math.abs(ir))),Jt<0&&(_e.includes("s")&&(Wn[1]-=Math.abs(gr)),_e.includes("n")&&(Wn[1]+=Math.abs(gr))),lt&&(Wn[0]=Dt[0]-Math.abs(ir)/2,Wn[1]=Dt[1]-Math.abs(gr)/2);var wn,Mn,zn=Tt.angle,Jn=(0,xt.xj)(Wn,Dt,zn),er=[Wn[0]+Math.abs(ir)/2,Wn[1]+Math.abs(gr)/2],cr=(0,xt.xj)(er,Dt,zn);Wn=(0,xt.xj)(Jn,cr,-zn),((0,it.bt)(rt)||(0,it.F9)(rt))&&(wn=(0,gt.z)(1,Jt,Tt.points,!0),Mn=(0,gt.z)(0,wt,wn,!0));var or=(0,pt.Z)(Wn);or[0]+=Tt.x-Qn,or[1]+=Tt.y-Tn;var ur={width:Math.abs(wt),height:Math.abs(Jt),x:or[0],y:or[1],points:Mn};"scale"in rt&&"scale"in Tt&&(0,kt.DR)(rt,{scale:[(Math.sign(Pn-Tt.x)||Tt.scale[0])*Tt.scale[0],(Math.sign(tr-Tt.y)||Tt.scale[1])*Tt.scale[1]]}),ur.width!==0&&ur.height!==0&&Number.isFinite(ur.x)&&Number.isFinite(ur.y)&&((0,an.Ww)(rt,{newSize:{width:ur.width,height:ur.height}}),(0,kt.DR)(rt,ur),zt&&Xt!=null&&(0,kt.DR)(zt,{fontSize:Xt.fontSize,baseline:Xt.baseline}),(0,Qt.RB)(rt,_e))},Bt=function(Ct,ct,rt,_e,lt,st){var It=ct.reduce(function(At,Ut){var wt=Ct.originalElements.get(Ut.id);return wt&&At.push({orig:wt,latest:Ut}),At},[]),Tt=(0,vt.v2)(It.map(function(At){return At.orig})),tn=Tt.minX,Nt=Tt.minY,$t=Tt.maxX,Wt=Tt.maxY,Dt=Tt.midX,In=Tt.midY,rn=rt,_t=_e?[Dt,In]:{ne:[tn,Wt],se:[tn,Nt],sw:[$t,Nt],nw:[$t,Wt]}[rn],Et=(0,ot.Z)(_t,2),Vt=Et[0],Pt=Et[1],qt={ne:[lt>=Vt,st<=Pt],se:[lt>=Vt,st>=Pt],sw:[lt<=Vt,st>=Pt],nw:[lt<=Vt,st<=Pt]}[rn].map(function(At){return At?1:-1}),dn=(0,ot.Z)(qt,2),Yt=dn[0],Xt=dn[1];if(!(Yt<0&&Xt<0)){var zt=Math.max(Yt*Math.abs(lt-Vt)/($t-tn),Xt*Math.abs(st-Pt)/(Wt-Nt))*(_e?2:1);zt!==0&&It.forEach(function(At){var Ut=At.orig.width*zt,wt=At.orig.height*zt,Jt=Vt+(At.orig.x-Vt)*zt,Mt=Pt+(At.orig.y-Pt)*zt,un=function(Zt,Xn,Cn,Qn){return(0,it.bt)(Zt)||(0,it.F9)(Zt)?{points:(0,gt.z)(0,Xn,(0,gt.z)(1,Cn,Zt.points,Qn),Qn)}:{}}(At.orig,Ut,wt,!1),hn=fn({width:Ut,height:wt,x:Jt,y:Mt},un),jt=null,vn=(0,Qt.WJ)(At.latest);if(vn||(0,it.iB)(At.orig)){var xn=fn(fn({},At.latest),{},{width:Ut,height:wt}),Gn=An(vn??At.orig,vn?(0,Qt.jd)(xn):xn.width,vn?(0,Qt.N2)(xn):xn.height);if(!Gn)return;(0,it.iB)(At.orig)&&(hn.fontSize=Gn.size,hn.baseline=Gn.baseline),vn&&(jt={fontSize:Gn.size,baseline:Gn.baseline})}(0,an.Ww)(At.latest,{newSize:{width:Ut,height:wt}}),(0,kt.DR)(At.latest,hn),vn&&jt&&((0,kt.DR)(vn,jt),(0,Qt.RB)(At.latest,rt))})}},bt=function(Ct,ct,rt,_e,lt,st,It){var Tt=5*Math.PI/2+Math.atan2(_e-It,rt-st);lt&&(Tt+=at.ay/2,Tt-=Tt%at.ay),ct.forEach(function(tn){var Nt,$t,Wt=(0,vt.qf)(tn),Dt=(0,ot.Z)(Wt,4),In=Dt[0],rn=Dt[1],_t=(In+Dt[2])/2,Et=(rn+Dt[3])/2,Vt=(Nt=($t=Ct.originalElements.get(tn.id))===null||$t===void 0?void 0:$t.angle)!==null&&Nt!==void 0?Nt:tn.angle,Pt=(0,xt.U1)(_t,Et,st,It,Tt+Vt-tn.angle),qt=(0,ot.Z)(Pt,2),dn=qt[0],Yt=qt[1];(0,kt.DR)(tn,{x:tn.x+(dn-_t),y:tn.y+(Yt-Et),angle:Zn(Tt+Vt)});var Xt=(0,Qt.xB)(tn);if(Xt){var zt,At=(zt=gn.Z.getScene(tn))===null||zt===void 0?void 0:zt.getElement(Xt);At&&!(0,it.Yv)(tn)&&(0,kt.DR)(At,{x:At.x+(dn-_t),y:At.y+(Yt-Et),angle:Zn(Tt+Vt)})}})},Gt=function(Ct,ct,rt,_e){var lt=ct.length===1?(0,vt.qf)(ct[0]):(0,vt.KP)(ct),st=(0,ot.Z)(lt,4),It=st[0],Tt=st[1],tn=st[2],Nt=st[3],$t=(It+tn)/2,Wt=(Tt+Nt)/2,Dt=ct.length===1?ct[0].angle:0,In=(0,xt.U1)(rt,_e,$t,Wt,-Dt),rn=(0,ot.Z)(In,2);switch(rt=rn[0],_e=rn[1],Ct){case"n":return(0,xt.U1)(rt-(It+tn)/2,_e-Tt,0,0,Dt);case"s":return(0,xt.U1)(rt-(It+tn)/2,_e-Nt,0,0,Dt);case"w":return(0,xt.U1)(rt-It,_e-(Tt+Nt)/2,0,0,Dt);case"e":return(0,xt.U1)(rt-tn,_e-(Tt+Nt)/2,0,0,Dt);case"nw":return(0,xt.U1)(rt-It,_e-Tt,0,0,Dt);case"ne":return(0,xt.U1)(rt-tn,_e-Tt,0,0,Dt);case"sw":return(0,xt.U1)(rt-It,_e-Nt,0,0,Dt);case"se":return(0,xt.U1)(rt-tn,_e-Nt,0,0,Dt);default:return[0,0]}},yt=function(Ct,ct){var rt=(0,ot.Z)(ct.points,2),_e=(0,ot.Z)(rt[1],2),lt=_e[0],st=_e[1];return Ct==="nw"&&(lt<0||st<0)||Ct==="ne"&&lt>=0||Ct==="sw"&&lt<=0||Ct==="se"&&(lt>0||st>0)?"end":"origin"}},5710:function(Ht,St,_){_.d(St,{$2:function(){return ct},AT:function(){return $t},FE:function(){return Gt},HE:function(){return _t},H_:function(){return Pt},N2:function(){return Jt},NS:function(){return Ut},OW:function(){return Xt},P7:function(){return Bt},PT:function(){return hn},R8:function(){return Ct},RB:function(){return bt},Rg:function(){return rt},S:function(){return qt},TP:function(){return Et},WJ:function(){return In},X1:function(){return yt},Zr:function(){return At},aV:function(){return Yt},bG:function(){return An},cn:function(){return dn},cw:function(){return Vt},eB:function(){return Mt},jd:function(){return wt},lD:function(){return Tt},mY:function(){return st},oN:function(){return Rt},tl:function(){return rn},w_:function(){return _e},xB:function(){return Dt}});var pt,ht=_(2577),ot=_(1930),at=_(7169),gt=_(6340),xt=_(1935),vt=_(2335),it=_(1564),kt=_(1047),Ot=_(1974),an=_(6938),gn=_(75),Qt=_(2325),bn=_(6906);function fn(jt,vn){var xn=Object.keys(jt);if(Object.getOwnPropertySymbols){var Gn=Object.getOwnPropertySymbols(jt);vn&&(Gn=Gn.filter(function(Zt){return Object.getOwnPropertyDescriptor(jt,Zt).enumerable})),xn.push.apply(xn,Gn)}return xn}function Zn(jt){for(var vn=1;vn<arguments.length;vn++){var xn=arguments[vn]!=null?arguments[vn]:{};vn%2?fn(Object(xn),!0).forEach(function(Gn){(0,at.Z)(jt,Gn,xn[Gn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jt,Object.getOwnPropertyDescriptors(xn)):fn(Object(xn)).forEach(function(Gn){Object.defineProperty(jt,Gn,Object.getOwnPropertyDescriptor(xn,Gn))})}return jt}var mn,pn,An=function(jt){return jt.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},ft=function(jt){return An(jt).split(`
`)},Rt=function(jt,vn){var xn=void 0,Gn={x:jt.x,y:jt.y,text:jt.text,width:jt.width,height:jt.height,baseline:jt.baseline};Gn.text=jt.text,vn&&(xn=wt(vn),Gn.text=Tt(jt.originalText,(0,gt.mO)(jt),xn));var Zt=yt(Gn.text,(0,gt.mO)(jt),jt.lineHeight);if(Gn.width=Zt.width,Gn.height=Zt.height,Gn.baseline=Zt.baseline,vn)if((0,Ot.Yv)(vn)){var Xn=jt.x+jt.width/2,Cn=jt.y+jt.height/2,Qn=Zt.width-jt.width,Tn=Zt.height-jt.height;Gn.x=Cn-(jt.height+Tn)/2,Gn.y=Xn-(jt.width+Qn)/2}else{var Pn=_t(vn),tr=Jt(vn),ir=Pn.height;Zt.height>tr&&(ir=Ut(Zt.height,vn.type),(0,xt.DR)(vn,{height:ir}),tr=Jt(vn),(0,bn.h_)(vn.id,ir));var gr=Zn(Zn({},jt),Gn),Wn=Gt(vn,gr),ln=Wn.x,Un=Wn.y;Gn.x=ln,Gn.y=Un}(0,xt.DR)(jt,Gn)},Bt=function(jt,vn,xn){var Gn=(0,gt.xn)(jt);vn.forEach(function(Zt){var Xn=xn.get(Zt.id),Cn=Dt(Zt);if(Cn){var Qn=xn.get(Cn);if(Qn){var Tn=Gn.get(Xn);Tn&&(0,xt.DR)(Tn,{boundElements:(Zt.boundElements||[]).filter(function(tr){return tr.id!==Qn&&tr.id!==Cn}).concat({type:"text",id:Qn})});var Pn=Gn.get(Qn);Pn&&(0,kt.iB)(Pn)&&(0,xt.DR)(Pn,{containerId:Tn?Xn:null})}}})},bt=function(jt,vn){var xn=Dt(jt);if(xn){(0,bn.kT)(jt.id);var Gn=it.Z.getScene(jt).getElement(xn);if(Gn&&Gn.text){if(!jt)return;var Zt=(Gn=it.Z.getScene(jt).getElement(xn)).text,Xn=Gn.height,Cn=Gn.width,Qn=_t(jt),Tn=wt(jt),Pn=Jt(jt),tr=Qn.height,ir=Gn.baseline;if(vn!=="n"&&vn!=="s"){Zt&&(Zt=Tt(Gn.originalText,(0,gt.mO)(Gn),Tn));var gr=yt(Zt,(0,gt.mO)(Gn),Gn.lineHeight);Xn=gr.height,Cn=gr.width,ir=gr.baseline}if(Xn>Pn){var Wn=(tr=Ut(Xn,jt.type))-Qn.height,ln=(0,Ot.Yv)(jt)||vn!=="ne"&&vn!=="nw"&&vn!=="n"?jt.y:jt.y-Wn;(0,xt.DR)(jt,{height:tr,y:ln})}(0,xt.DR)(Gn,{text:Zt,width:Cn,height:Xn,baseline:ir}),(0,Ot.Yv)(jt)||(0,xt.DR)(Gn,Gt(jt,Gn))}}},Gt=function(jt,vn){if((0,Ot.Yv)(jt))return an._.getBoundTextElementPosition(jt,vn);var xn,Gn=Vt(jt),Zt=Jt(jt),Xn=wt(jt);return xn=vn.verticalAlign===vt.oX.TOP?Gn.y:vn.verticalAlign===vt.oX.BOTTOM?Gn.y+(Zt-vn.height):Gn.y+(Zt/2-vn.height/2),{x:vn.textAlign===vt.I8.LEFT?Gn.x:vn.textAlign===vt.I8.RIGHT?Gn.x+(Xn-vn.width):Gn.x+(Xn/2-vn.width/2),y:xn}},yt=function(jt,vn,xn){jt=jt.split(`
`).map(function(Xn){return Xn||" "}).join(`
`);var Gn=parseFloat(vn),Zt=It(jt,Gn,xn);return{width:st(jt,vn),height:Zt,baseline:Ct(jt,vn,xn)}},Ct=function(jt,vn,xn,Gn){var Zt=document.createElement("div");Zt.style.position="absolute",Zt.style.whiteSpace="pre",Zt.style.font=vn,Zt.style.minHeight="1em",Gn&&(Zt.style.overflow="hidden",Zt.style.wordBreak="break-word",Zt.style.whiteSpace="pre-wrap"),Zt.style.lineHeight=String(xn),Zt.innerText=jt,document.body.appendChild(Zt);var Xn=document.createElement("span");Xn.style.display="inline-block",Xn.style.overflow="hidden",Xn.style.width="1px",Xn.style.height="1px",Zt.appendChild(Xn);var Cn=Xn.offsetTop+Xn.offsetHeight,Qn=Zt.offsetHeight;if(vt.G6){var Tn=It(jt,parseFloat(vn),xn),Pn=parseFloat(vn),tr=It(jt,Math.round(Pn),xn);Tn>Qn&&(Cn+=Tn-tr),Qn>Tn&&(Cn-=tr-Tn)}return document.body.removeChild(Zt),Cn},ct=function(jt){var vn=ft(jt.text).length;return jt.height/vn/jt.fontSize},rt=function(jt,vn){return jt*vn},_e=function(jt,vn){return rt(jt,vn)+2*vt.gK},lt=function(jt,vn){mn||(mn=document.createElement("canvas"));var xn=mn.getContext("2d");xn.font=vn;var Gn=xn.measureText(jt).width;return(0,gt.h2)()?10*Gn:Gn},st=function(jt,vn){var xn=ft(jt),Gn=0;return xn.forEach(function(Zt){Gn=Math.max(Gn,lt(Zt,vn))}),Gn},It=function(jt,vn,xn){var Gn=ft(jt).length;return rt(vn,xn)*Gn},Tt=function(jt,vn,xn){if(!Number.isFinite(xn)||xn<0)return jt;var Gn=[],Zt=jt.split(`
`),Xn=lt(" ",vn),Cn="",Qn=0,Tn=function(tr){tr.trim()&&Gn.push(tr)},Pn=function(){Cn="",Qn=0};return Zt.forEach(function(tr){if(st(tr,vn)<=xn)Gn.push(tr);else{var ir=function(zn){var Jn=zn.split("-");return Jn.length>1&&Jn.forEach(function(er,cr){cr!==Jn.length-1&&(Jn[cr]=er+="-")}),Jn.join(" ").split(" ")}(tr);Pn();for(var gr=0;gr<ir.length;){var Wn=lt(ir[gr],vn);if(Wn===xn)Tn(ir[gr]),gr++;else if(Wn>xn){for(Tn(Cn),Pn();ir[gr].length>0;){var ln=String.fromCodePoint(ir[gr].codePointAt(0)),Un=tn.calculate(ln,vn);Qn+=Un,ir[gr]=ir[gr].slice(ln.length),Qn>=xn?(Tn(Cn),Cn=ln,Qn=Un):Cn+=ln}Qn+Xn>=xn?(Tn(Cn),Pn()):Cn.endsWith("-")||(Cn+=" ",Qn+=Xn),gr++}else for(;Qn<xn&&gr<ir.length;){var wn=ir[gr];if((Qn=lt(Cn+wn,vn))>xn){Tn(Cn),Pn();break}gr++;var Mn=!wn.endsWith("-");if(Cn+=wn,Mn&&(Cn+=" "),Qn+Xn>=xn){Mn?Gn.push(Cn.slice(0,-1)):Gn.push(Cn),Pn();break}}}Cn.slice(-1)===" "&&(Cn=Cn.slice(0,-1),Tn(Cn))}}),Gn.join(`
`)},tn=(pn={},{calculate:function(jt,vn){var xn=jt.charCodeAt(0);if(pn[vn]||(pn[vn]=[]),!pn[vn][xn]){var Gn=lt(jt,vn);pn[vn][xn]=Gn}return pn[vn][xn]},getCache:function(jt){return pn[jt]}}),Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),$t=function(jt,vn){var xn=Wt(jt);return xn===0?yt(Nt.split("").join(`
`),jt,vn).width+2*vt.gK:xn+2*vt.gK},Wt=function(jt){var vn=tn.getCache(jt);if(!vn)return 0;var xn=vn.filter(function(Gn){return Gn!==void 0});return Math.max.apply(Math,(0,ot.Z)(xn))},Dt=function(jt){var vn,xn,Gn;return jt!=null&&(vn=jt.boundElements)!==null&&vn!==void 0&&vn.length&&(jt==null||(xn=jt.boundElements)===null||xn===void 0||(Gn=xn.filter(function(Zt){return Zt.type==="text"})[0])===null||Gn===void 0?void 0:Gn.id)||null},In=function(jt){if(!jt)return null;var vn,xn=Dt(jt);return xn&&((vn=it.Z.getScene(jt))===null||vn===void 0?void 0:vn.getElement(xn))||null},rn=function(jt){return jt&&jt.containerId&&((vn=it.Z.getScene(jt))===null||vn===void 0?void 0:vn.getElement(jt.containerId))||null;var vn},_t=function(jt){return(0,Ot.Yv)(jt)?{width:Math.max(jt.width,300),height:jt.height}:{width:jt.width,height:jt.height}},Et=function(jt,vn){if(!(0,Ot.Yv)(jt))return{x:jt.x+jt.width/2,y:jt.y+jt.height/2};var xn=an._.getPointsGlobalCoordinates(jt);if(xn.length%2==1){var Gn=Math.floor(jt.points.length/2),Zt=an._.getPointGlobalCoordinates(jt,jt.points[Gn]);return{x:Zt[0],y:Zt[1]}}var Xn=jt.points.length/2-1,Cn=an._.getEditorMidPoints(jt,vn)[Xn];return Cn||(Cn=an._.getSegmentMidPoint(jt,xn[Xn],xn[Xn+1],Xn+1)),{x:Cn[0],y:Cn[1]}},Vt=function(jt){var vn=vt.gK,xn=vt.gK;return jt.type==="ellipse"&&(vn+=jt.width/2*(1-Math.sqrt(2)/2),xn+=jt.height/2*(1-Math.sqrt(2)/2)),jt.type==="diamond"&&(vn+=jt.width/4,xn+=jt.height/4),{x:jt.x+vn,y:jt.y+xn}},Pt=function(jt){var vn=rn(jt);return!vn||(0,Ot.Yv)(vn)?jt.angle:vn.angle},qt=function(jt){var vn=rn(jt);return vn&&jt?(0,Ot.Yv)(vn)?8*vt.gK:vt.gK:0},dn=function(jt){return jt.some(function(vn){if((0,Ot.Xh)(vn)){var xn=rn(vn);return!(0,kt.iB)(vn)||!(0,Ot.Yv)(xn)}return!1})},Yt=function(jt){return jt.some(function(vn){if((0,Ot.Xh)(vn)){var xn=rn(vn);return!(0,kt.iB)(vn)||!(0,Ot.Yv)(xn)}return(0,kt.iB)(vn)})},Xt=function(jt,vn,xn,Gn){var Zt=(0,gn.eD)(jt,vn);if(Zt.length===1)return(0,Ot.mG)(Zt[0],!1)?Zt[0]:null;for(var Xn=null,Cn=jt.length-1;Cn>=0;--Cn)if(!jt[Cn].isDeleted){var Qn=(0,kt.qf)(jt[Cn]),Tn=(0,ht.Z)(Qn,4),Pn=Tn[0],tr=Tn[1],ir=Tn[2],gr=Tn[3];if((0,Ot.Yv)(jt[Cn])&&(0,Qt.Qu)(jt[Cn],vn,[xn,Gn])){Xn=jt[Cn];break}if(Pn<xn&&xn<ir&&tr<Gn&&Gn<gr){Xn=jt[Cn];break}}return(0,Ot.mG)(Xn,!1)?Xn:null},zt=new Set(["rectangle","ellipse","diamond","image","arrow"]),At=function(jt){return zt.has(jt.type)},Ut=function(jt,vn){jt=Math.ceil(jt);var xn=2*vt.gK;return vn==="ellipse"?Math.round((jt+xn)/Math.sqrt(2)*2):vn==="arrow"?jt+8*xn:vn==="diamond"?2*(jt+xn):jt+xn},wt=function(jt){var vn=_t(jt).width;if((0,Ot.Yv)(jt)){var xn=vn-8*vt.gK*2;if(xn<=0){var Gn=In(jt);return Gn?Gn.width:8*vt.gK*2}return xn}return jt.type==="ellipse"?Math.round(vn/2*Math.sqrt(2))-2*vt.gK:jt.type==="diamond"?Math.round(vn/2)-2*vt.gK:vn-2*vt.gK},Jt=function(jt){var vn=_t(jt).height;if((0,Ot.Yv)(jt)){if(vn-8*vt.gK*2<=0){var xn=In(jt);return xn?xn.height:8*vt.gK*2}return vn}return jt.type==="ellipse"?Math.round(vn/2*Math.sqrt(2))-2*vt.gK:jt.type==="diamond"?Math.round(vn/2)-2*vt.gK:vn-2*vt.gK},Mt=function(){return st(Nt,(0,gt.mO)({fontSize:vt.n5,fontFamily:vt.rk}))>0},un=(pt={},(0,at.Z)(pt,vt.ut.Virgil,1.25),(0,at.Z)(pt,vt.ut.Helvetica,1.15),(0,at.Z)(pt,vt.ut.Cascadia,1.2),pt),hn=function(jt){return jt in un?un[jt]:un[vt.rk]}},6906:function(Ht,St,_){_.d(St,{b_:function(){return Gt},eR:function(){return bt},h_:function(){return Rt},kT:function(){return Bt}});var pt=_(8950),ht=_(7169),ot=_(2577),at=_(2975),gt=_.n(at),xt=_(6066),vt=_(6340),it=_(1564),kt=_(1974),Ot=_(2335),an=_(1935),gn=_(5710),Qt=_(6208),bn=_(2416),fn=_(6938),Zn=_(6665);function mn(yt,Ct){var ct=Object.keys(yt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(yt);Ct&&(rt=rt.filter(function(_e){return Object.getOwnPropertyDescriptor(yt,_e).enumerable})),ct.push.apply(ct,rt)}return ct}function pn(yt){for(var Ct=1;Ct<arguments.length;Ct++){var ct=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?mn(Object(ct),!0).forEach(function(rt){(0,ht.Z)(yt,rt,ct[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(ct)):mn(Object(ct)).forEach(function(rt){Object.defineProperty(yt,rt,Object.getOwnPropertyDescriptor(ct,rt))})}return yt}var An=function(yt,Ct,ct,rt,_e,lt){var st=rt.zoom,It=180*ct/Math.PI,Tt=yt*(st.value-1)/2,tn=Ct*(st.value-1)/2;return yt>_e&&st.value!==1&&(Tt=_e*(st.value-1)/2),Ct>lt&&st.value!==1&&(tn=lt*(st.value-1)/2),"translate(".concat(Tt,"px, ").concat(tn,"px) scale(").concat(st.value,") rotate(").concat(It,"deg)")},ft={},Rt=function(yt,Ct){var ct=ft[yt]||(ft[yt]={height:Ct});return ct.height=Ct,ct},Bt=function(yt){ft[yt]&&delete ft[yt]},bt=function(yt){var Ct,ct;return(Ct=(ct=ft[yt])===null||ct===void 0?void 0:ct.height)!==null&&Ct!==void 0?Ct:null},Gt=function(yt){var Ct=yt.id,ct=yt.onChange,rt=yt.onSubmit,_e=yt.getViewportCoords,lt=yt.element,st=yt.canvas,It=yt.excalidrawContainer,Tt=yt.app,tn=function(){var wt,Jt=Tt.state,Mt=(wt=it.Z.getScene(lt))===null||wt===void 0?void 0:wt.getElement(Ct);if(Mt){var un=Mt.textAlign,hn=Mt.verticalAlign;if(Mt&&(0,kt.iB)(Mt)){var jt=Mt.x,vn=Mt.y,xn=(0,gn.tl)(Mt),Gn=Mt.width,Zt=Mt.height,Xn=Mt.width,Cn=Mt.height;if(xn&&Mt.containerId){if((0,kt.Yv)(xn)){var Qn=fn._.getBoundTextElementPosition(xn,Mt);jt=Qn.x,vn=Qn.y}var Tn,Pn=function(Zr,yr){if(!yr.style.fontFamily||!yr.style.fontSize)return!1;var Ar=yr.style.fontFamily.replace(/"/g,"");return(0,vt.$g)({fontFamily:Zr.fontFamily})!==Ar||"".concat(Zr.fontSize,"px")!==yr.style.fontSize}(Mt,Nt),tr=(0,gn.HE)(xn),ir=Number(Nt.style.height.slice(0,-2));if(ir>0&&(Cn=ir),Pn&&(Cn=Mt.height),Pn?Tn=Rt(xn.id,tr.height):(Tn=ft[xn.id])||(Tn=Rt(xn.id,tr.height)),Gn=(0,gn.jd)(xn),Zt=(0,gn.N2)(xn),!(0,kt.Yv)(xn)&&Cn>Zt){var gr=(0,gn.NS)(Cn,xn.type);return void(0,an.DR)(xn,{height:gr})}if(!(0,kt.Yv)(xn)&&tr.height>Tn.height&&Cn<Zt){var Wn=(0,gn.NS)(Cn,xn.type);(0,an.DR)(xn,{height:Wn})}else{var ln=(0,gn.cw)(xn);hn===Ot.oX.MIDDLE&&((0,kt.Yv)(xn)||(vn=ln.y+Zt/2-Cn/2)),hn===Ot.oX.BOTTOM&&(vn=ln.y+(Zt-Cn))}}var Un=_e(jt,vn),wn=(0,ot.Z)(Un,2),Mn=wn[0],zn=wn[1],Jn=Nt.selectionStart,er=Nt.selectionEnd,cr=Nt.value.length;if(Nt.value=Mt.originalText,Jn===er&&er!==cr){var or=cr-er;Nt.selectionStart=Nt.value.length-or,Nt.selectionEnd=Nt.value.length-or}xn?Xn+=.5:(Gn=(Jt.width-8-Mn)/Jt.zoom.value,Xn=Math.min(Xn,Gn));var ur=Mt.lineHeight;Ot.G6&&(ur=(0,gn.$2)(pn(pn({},Mt),{},{fontSize:Math.round(Mt.fontSize)})));var Ur=(Jt.height-zn)/Jt.zoom.value;Object.assign(Nt.style,{font:(0,vt.mO)(Mt),lineHeight:ur,width:"".concat(Xn,"px"),height:"".concat(Cn,"px"),left:"".concat(Mn,"px"),top:"".concat(zn,"px"),transform:An(Xn,Cn,(0,gn.H_)(Mt),Jt,Gn,Ur),textAlign:un,verticalAlign:hn,color:Mt.strokeColor,opacity:Mt.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(Ur,"px")}),Nt.scrollTop=0,(0,vt.h2)()&&(Nt.style.fontFamily=(0,vt.$g)(Mt)),(0,an.DR)(Mt,{x:jt,y:vn})}}},Nt=document.createElement("textarea");Nt.dir="auto",Nt.tabIndex=0,Nt.dataset.type="wysiwyg",Nt.wrap="off",Nt.classList.add("excalidraw-wysiwyg");var $t="pre",Wt="normal";(0,kt.Xh)(lt)&&($t="pre-wrap",Wt="break-word"),Object.assign(Nt.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:Wt,whiteSpace:$t,overflowWrap:"break-word",boxSizing:"content-box"}),tn(),ct&&(Nt.onpaste=function(){var wt=(0,pt.Z)(gt().mark(function Jt(Mt){var un,hn,jt,vn,xn,Gn;return gt().wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:return Zt.next=2,(0,Zn.mQ)(Mt,!0);case 2:if((un=Zt.sent).text){Zt.next=5;break}return Zt.abrupt("return");case 5:if(hn=(0,gn.bG)(un.text)){Zt.next=8;break}return Zt.abrupt("return");case 8:jt=(0,gn.tl)(lt),vn=(0,vt.mO)({fontSize:Tt.state.currentItemFontSize,fontFamily:Tt.state.currentItemFontFamily}),jt&&(xn=(0,gn.lD)("".concat(Nt.value).concat(hn),vn,(0,gn.jd)(jt)),Gn=(0,gn.mY)(xn,vn),Nt.style.width="".concat(Gn,"px"));case 11:case"end":return Zt.stop()}},Jt)}));return function(Jt){return wt.apply(this,arguments)}}(),Nt.oninput=function(){var wt,Jt=(wt=it.Z.getScene(lt))===null||wt===void 0?void 0:wt.getElement(Ct),Mt=(0,vt.mO)(Jt);if((0,kt.Xh)(lt)){var un=(0,gn.tl)(lt),hn=(0,gn.lD)((0,gn.bG)(Nt.value),Mt,(0,gn.jd)(un)),jt=(0,gn.X1)(hn,Mt,Jt.lineHeight),vn=jt.width,xn=jt.height;Nt.style.width="".concat(vn,"px"),Nt.style.height="".concat(xn,"px")}ct((0,gn.bG)(Nt.value))}),Nt.onkeydown=function(wt){if(!wt.shiftKey&&bn.Lo.keyTest(wt))wt.preventDefault(),Tt.actionManager.executeAction(bn.Lo),tn();else if(!wt.shiftKey&&bn.CZ.keyTest(wt))wt.preventDefault(),Tt.actionManager.executeAction(bn.CZ),tn();else if(Qt.Tu.keyTest(wt))Tt.actionManager.executeAction(Qt.Tu);else if(Qt.Zq.keyTest(wt))Tt.actionManager.executeAction(Qt.Zq);else if(wt.key===xt.tW.ESCAPE)wt.preventDefault(),Pt=!0,qt();else if(wt.key===xt.tW.ENTER&&wt[xt.tW.CTRL_OR_CMD]){if(wt.preventDefault(),wt.isComposing||wt.keyCode===229)return;Pt=!0,qt()}else if(wt.key===xt.tW.TAB||wt[xt.tW.CTRL_OR_CMD]&&(wt.code===xt.aU.BRACKET_LEFT||wt.code===xt.aU.BRACKET_RIGHT)){if(wt.preventDefault(),wt.isComposing)return;wt.shiftKey||wt.code===xt.aU.BRACKET_LEFT?_t():rn(),Nt.dispatchEvent(new Event("input"))}};var Dt=" ".repeat(4),In=new RegExp("^ {1,".concat(4,"}")),rn=function(){var wt=Nt.selectionStart,Jt=Nt.selectionEnd,Mt=Et(),un=Nt.value;Mt.forEach(function(hn){var jt=un.slice(0,hn),vn=un.slice(hn);un="".concat(jt).concat(Dt).concat(vn)}),Nt.value=un,Nt.selectionStart=wt+4,Nt.selectionEnd=Jt+4*Mt.length},_t=function(){var wt=Nt.selectionStart,Jt=Nt.selectionEnd,Mt=Et(),un=[],hn=Nt.value;Mt.forEach(function(jt){var vn=hn.slice(jt,jt+4).match(In);if(vn){var xn=hn.slice(0,jt),Gn=hn.slice(jt+vn[0].length);hn="".concat(xn).concat(Gn),un.push(jt)}}),Nt.value=hn,un.length&&(wt>un[un.length-1]?Nt.selectionStart=Math.max(wt-4,un[un.length-1]):Nt.selectionStart=wt,Nt.selectionEnd=Math.max(Nt.selectionStart,Jt-4*un.length))},Et=function(){var wt=Nt.selectionStart,Jt=Nt.selectionEnd,Mt=Nt.value,un=Mt.slice(0,wt).match(/[^\n]*$/)[0].length;return wt-=un,Mt.slice(wt,Jt).split(`
`).reduce(function(hn,jt,vn,xn){return hn.concat(vn?hn[vn-1]+xn[vn-1].length+1:wt)},[]).reverse()},Vt=function(wt){wt.preventDefault(),wt.stopPropagation()},Pt=!1,qt=function(){var wt;dn();var Jt=(wt=it.Z.getScene(lt))===null||wt===void 0?void 0:wt.getElement(lt.id);if(Jt){var Mt=Nt.value,un=(0,gn.tl)(Jt);if(un){if(Mt=Jt.text,Nt.value.trim()){var hn=(0,gn.xB)(un);hn&&hn===lt.id||(0,an.DR)(un,{boundElements:(un.boundElements||[]).concat({type:"text",id:lt.id})})}else{var jt;(0,an.DR)(un,{boundElements:(jt=un.boundElements)===null||jt===void 0?void 0:jt.filter(function(vn){return!(0,kt.iB)(vn)})})}(0,gn.oN)(Jt,un)}rt({text:Mt,viaKeyboard:Pt,originalText:Nt.value})}},dn=function(){At||(At=!0,Nt.onblur=null,Nt.oninput=null,Nt.onkeydown=null,Ut&&Ut.disconnect(),window.removeEventListener("resize",tn),window.removeEventListener("wheel",Vt,!0),window.removeEventListener("pointerdown",Xt),window.removeEventListener("pointerup",Yt),window.removeEventListener("blur",qt),zt(),Nt.remove())},Yt=function wt(Jt){window.removeEventListener("pointerup",wt);var Mt=Jt==null?void 0:Jt.target,un=Mt instanceof HTMLInputElement&&Mt.closest(".color-picker-input")&&(0,vt.s)(Mt);setTimeout(function(){Nt.onblur=qt,Mt&&un&&(Mt.onblur=function(){Nt.focus()}),un||Nt.focus()})},Xt=function(wt){var Jt=wt.target instanceof HTMLInputElement&&wt.target.closest(".color-picker-input")&&(0,vt.s)(wt.target);((wt.target instanceof HTMLElement||wt.target instanceof SVGElement)&&wt.target.closest(".".concat(Ot.$C.SHAPE_ACTIONS_MENU))&&!(0,vt.s)(wt.target)||Jt)&&(Nt.onblur=null,window.addEventListener("pointerup",Yt),window.addEventListener("blur",qt))},zt=it.Z.getScene(lt).addCallback(function(){var wt;tn(),!((wt=document.activeElement)===null||wt===void 0||!wt.closest(".color-picker-input"))||Nt.focus()}),At=!1;Nt.select(),Yt();var Ut=null;st&&"ResizeObserver"in window?(Ut=new window.ResizeObserver(function(){tn()})).observe(st):window.addEventListener("resize",tn),window.addEventListener("pointerdown",Xt),window.addEventListener("wheel",Vt,{passive:!1,capture:!0}),It==null||It.querySelector(".excalidraw-textEditorContainer").appendChild(Nt)}},267:function(Ht,St,_){_.d(St,{PC:function(){return bn},kK:function(){return Qt},oY:function(){return fn},ox:function(){return it}});var pt=_(2577),ht=_(8925),ot=_(6552),at=_(1047),gt=_(1974),xt=_(3547),vt={mouse:8,pen:16,touch:28},it={e:!0,s:!0,n:!0,w:!0},kt={e:!0,s:!0,n:!0,w:!0},Ot={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},an={e:!0,s:!0,n:!0,w:!0},gn=function(Zn,mn,pn,An,ft,Rt,Bt){var bt=(0,ot.U1)(Zn+pn/2,mn+An/2,ft,Rt,Bt),Gt=(0,pt.Z)(bt,2);return[Gt[0]-pn/2,Gt[1]-An/2,pn,An]},Qt=function(Zn,mn,pn,An){var ft=(0,pt.Z)(Zn,6),Rt=ft[0],Bt=ft[1],bt=ft[2],Gt=ft[3],yt=ft[4],Ct=ft[5],ct=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,_e=vt[An],lt=_e/pn.value,st=_e/pn.value,It=_e/pn.value,Tt=_e/pn.value,tn=bt-Rt,Nt=Gt-Bt,$t=rt/pn.value,Wt=(_e-2*xt.Lu)/(2*pn.value),Dt={nw:ct.nw?void 0:gn(Rt-$t-It+Wt,Bt-$t-Tt+Wt,lt,st,yt,Ct,mn),ne:ct.ne?void 0:gn(bt+$t-Wt,Bt-$t-Tt+Wt,lt,st,yt,Ct,mn),sw:ct.sw?void 0:gn(Rt-$t-It+Wt,Gt+$t-Wt,lt,st,yt,Ct,mn),se:ct.se?void 0:gn(bt+$t-Wt,Gt+$t-Wt,lt,st,yt,Ct,mn),rotation:ct.rotation?void 0:gn(Rt+tn/2-lt/2,Bt-$t-Tt+Wt-16/pn.value,lt,st,yt,Ct,mn)},In=5*vt.mouse/pn.value;return Math.abs(tn)>In&&(ct.n||(Dt.n=gn(Rt+tn/2-lt/2,Bt-$t-Tt+Wt,lt,st,yt,Ct,mn)),ct.s||(Dt.s=gn(Rt+tn/2-lt/2,Gt+$t-Wt,lt,st,yt,Ct,mn))),Math.abs(Nt)>In&&(ct.w||(Dt.w=gn(Rt-$t-It+Wt,Bt+Nt/2-st/2,lt,st,yt,Ct,mn)),ct.e||(Dt.e=gn(bt+$t-Wt,Bt+Nt/2-st/2,lt,st,yt,Ct,mn))),Dt},bn=function(Zn,mn){var pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(Zn.locked)return{};var An={};if(Zn.type==="freedraw"||(0,gt.bt)(Zn)){if(Zn.points.length===2){var ft=(0,pt.Z)(Zn.points,2),Rt=ft[1];Rt[0]===0||Rt[1]===0?An=an:Rt[0]>0&&Rt[1]<0?An=Ot:Rt[0]>0&&Rt[1]>0?An=an:Rt[0]<0&&Rt[1]>0?An=Ot:Rt[0]<0&&Rt[1]<0&&(An=an)}}else(0,at.iB)(Zn)&&(An=kt);var Bt=(0,gt.bt)(Zn)?xt.Lu+8:xt.Lu;return Qt((0,ht.qf)(Zn,!0),Zn.angle,mn,pn,An,Bt)},fn=function(Zn,mn){if(mn.editingLinearElement)return!1;if(Zn.length>1)return!0;var pn=Zn[0];return!(0,gt.bt)(pn)||pn.points.length>2}},1974:function(Ht,St,_){_.d(St,{F9:function(){return gt},Lx:function(){return an},Mn:function(){return Ot},QI:function(){return mn},UQ:function(){return An},Xh:function(){return Zn},Xo:function(){return fn},Yv:function(){return it},bt:function(){return vt},dt:function(){return kt},eK:function(){return pn},f0:function(){return gn},iB:function(){return at},mG:function(){return Qt},pC:function(){return ot},r2:function(){return bn},wi:function(){return ht}});var pt=_(2335),ht=function(ft){return!!ft&&ft.type==="image"&&!!ft.fileId},ot=function(ft){return!!ft&&ft.type==="image"},at=function(ft){return ft!=null&&ft.type==="text"},gt=function(ft){return ft!=null&&xt(ft.type)},xt=function(ft){return ft==="freedraw"},vt=function(ft){return ft!=null&&kt(ft.type)},it=function(ft){return ft!=null&&ft.type==="arrow"},kt=function(ft){return ft==="arrow"||ft==="line"},Ot=function(ft){var Rt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return ft!=null&&(!ft.locked||Rt===!0)&&an(ft.type)},an=function(ft){return ft==="arrow"},gn=function(ft){var Rt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ft==null||ft.locked&&Rt!==!0||ft.type!=="rectangle"&&ft.type!=="diamond"&&ft.type!=="ellipse"&&ft.type!=="image"&&(ft.type!=="text"||ft.containerId))},Qt=function(ft){var Rt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return ft!=null&&(!ft.locked||Rt===!0)&&(ft.type==="rectangle"||ft.type==="diamond"||ft.type==="ellipse"||ft.type==="image"||it(ft))},bn=function(ft){return(ft==null?void 0:ft.type)==="text"||(ft==null?void 0:ft.type)==="diamond"||(ft==null?void 0:ft.type)==="rectangle"||(ft==null?void 0:ft.type)==="ellipse"||(ft==null?void 0:ft.type)==="arrow"||(ft==null?void 0:ft.type)==="freedraw"||(ft==null?void 0:ft.type)==="line"},fn=function(ft){var Rt;return Qt(ft)&&!((Rt=ft.boundElements)===null||Rt===void 0||!Rt.some(function(Bt){return Bt.type==="text"}))},Zn=function(ft){return ft!==null&&"containerId"in ft&&ft.containerId!==null&&at(ft)},mn=function(ft){return ft==="rectangle"},pn=function(ft,Rt){return!(ft!==pt.a6.ADAPTIVE_RADIUS&&ft!==pt.a6.LEGACY||!mn(Rt.type))||ft===pt.a6.PROPORTIONAL_RADIUS&&((Bt=Rt.type)==="line"||Bt==="arrow"||Bt==="diamond");var Bt},An=function(ft){return ft.type==="arrow"||ft.type==="line"||ft.type==="diamond"?{type:pt.a6.PROPORTIONAL_RADIUS}:ft.type==="rectangle"?{type:pt.a6.ADAPTIVE_RADIUS}:null}},6797:function(Ht,St,_){_.d(St,{_:function(){return gn},l:function(){return an}});var pt=_(5169),ht=_(8821),ot=_(2248),at=_(7245),gt=_(2312),xt=_(5901);function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(Qt,bn,fn){return it=vt()?Reflect.construct.bind():function(Zn,mn,pn){var An=[null];An.push.apply(An,mn);var ft=new(Function.bind.apply(Zn,An));return pn&&(0,xt.Z)(ft,pn.prototype),ft},it.apply(null,arguments)}function kt(Qt){var bn=typeof Map=="function"?new Map:void 0;return kt=function(fn){if(fn===null||(Zn=fn,Function.toString.call(Zn).indexOf("[native code]")===-1))return fn;var Zn;if(typeof fn!="function")throw new TypeError("Super expression must either be null or a function");if(bn!==void 0){if(bn.has(fn))return bn.get(fn);bn.set(fn,mn)}function mn(){return it(fn,arguments,(0,gt.Z)(this).constructor)}return mn.prototype=Object.create(fn.prototype,{constructor:{value:mn,enumerable:!1,writable:!0,configurable:!0}}),(0,xt.Z)(mn,fn)},kt(Qt)}function Ot(Qt){var bn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fn,Zn=(0,gt.Z)(Qt);if(bn){var mn=(0,gt.Z)(this).constructor;fn=Reflect.construct(Zn,arguments,mn)}else fn=Zn.apply(this,arguments);return(0,at.Z)(this,fn)}}var an=function(Qt){(0,ot.Z)(fn,Qt);var bn=Ot(fn);function fn(){var Zn,mn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,ht.Z)(this,fn),(Zn=bn.call(this)).name=pn,Zn.message=mn,Zn}return(0,pt.Z)(fn)}(kt(Error)),gn=function(Qt){(0,ot.Z)(fn,Qt);var bn=Ot(fn);function fn(){var Zn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,ht.Z)(this,fn),bn.call(this,Zn,"AbortError")}return(0,pt.Z)(fn)}(kt(DOMException))},242:function(Ht,St,_){_.d(St,{AI:function(){return Bt},F$:function(){return Ot},Fb:function(){return mn},Nd:function(){return Zn},Qy:function(){return An},S_:function(){return ft},YS:function(){return pn},bO:function(){return bn},h6:function(){return Rt},iE:function(){return fn},iJ:function(){return Qt},yO:function(){return gn},zq:function(){return an}});var pt=_(1930),ht=_(2577),ot=_(7169),at=_(75),gt=_(5710);function xt(bt,Gt){var yt=typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(!yt){if(Array.isArray(bt)||(yt=function(st,It){if(st){if(typeof st=="string")return vt(st,It);var Tt=Object.prototype.toString.call(st).slice(8,-1);if(Tt==="Object"&&st.constructor&&(Tt=st.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(st);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return vt(st,It)}}(bt))||Gt&&bt&&typeof bt.length=="number"){yt&&(bt=yt);var Ct=0,ct=function(){};return{s:ct,n:function(){return Ct>=bt.length?{done:!0}:{done:!1,value:bt[Ct++]}},e:function(st){throw st},f:ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt,_e=!0,lt=!1;return{s:function(){yt=yt.call(bt)},n:function(){var st=yt.next();return _e=st.done,st},e:function(st){lt=!0,rt=st},f:function(){try{_e||yt.return==null||yt.return()}finally{if(lt)throw rt}}}}function vt(bt,Gt){(Gt==null||Gt>bt.length)&&(Gt=bt.length);for(var yt=0,Ct=new Array(Gt);yt<Gt;yt++)Ct[yt]=bt[yt];return Ct}function it(bt,Gt){var yt=Object.keys(bt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(bt);Gt&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(bt,ct).enumerable})),yt.push.apply(yt,Ct)}return yt}function kt(bt){for(var Gt=1;Gt<arguments.length;Gt++){var yt=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?it(Object(yt),!0).forEach(function(Ct){(0,ot.Z)(bt,Ct,yt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(yt)):it(Object(yt)).forEach(function(Ct){Object.defineProperty(bt,Ct,Object.getOwnPropertyDescriptor(yt,Ct))})}return bt}var Ot=function(bt,Gt,yt){var Ct=yt.filter(function(ct){return ct.groupIds.includes(bt)});return Ct.length<2?Gt.selectedGroupIds[bt]||Gt.editingGroupId===bt?kt(kt({},Gt),{},{selectedGroupIds:kt(kt({},Gt.selectedGroupIds),{},(0,ot.Z)({},bt,!1)),editingGroupId:null}):Gt:kt(kt({},Gt),{},{selectedGroupIds:kt(kt({},Gt.selectedGroupIds),{},(0,ot.Z)({},bt,!0)),selectedElementIds:kt(kt({},Gt.selectedElementIds),Object.fromEntries(Ct.map(function(ct){return[ct.id,!0]})))})},an=function(bt,Gt){return gn(bt,Gt)!=null},gn=function(bt,Gt){return Gt.groupIds.filter(function(yt){return yt!==bt.editingGroupId}).find(function(yt){return bt.selectedGroupIds[yt]})},Qt=function(bt){return Object.entries(bt.selectedGroupIds).filter(function(Gt){var yt=(0,ht.Z)(Gt,2);return yt[0],yt[1]}).map(function(Gt){var yt=(0,ht.Z)(Gt,2),Ct=yt[0];return yt[1],Ct})},bn=function(bt,Gt){var yt=kt(kt({},bt),{},{selectedGroupIds:{}}),Ct=(0,at.eD)(Gt,bt);if(!Ct.length)return kt(kt({},yt),{},{editingGroupId:null});var ct,rt=xt(Ct);try{for(rt.s();!(ct=rt.n()).done;){var _e=ct.value.groupIds;if(bt.editingGroupId){var lt=_e.indexOf(bt.editingGroupId);lt>-1&&(_e=_e.slice(0,lt))}if(_e.length>0){var st=_e[_e.length-1];yt=Ot(st,yt,Gt)}}}catch(It){rt.e(It)}finally{rt.f()}return yt},fn=function(bt,Gt){return kt(kt({},bt),{},{editingGroupId:Gt.groupIds.length?Gt.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,ot.Z)({},Gt.id,!0)})},Zn=function(bt,Gt){return bt.groupIds.includes(Gt)},mn=function(bt,Gt){return bt.filter(function(yt){return Zn(yt,Gt)})},pn=function(bt,Gt){return bt.groupIds.find(function(yt){return Gt[yt]})},An=function(bt,Gt,yt){for(var Ct=(0,pt.Z)(bt),ct=Gt?bt.indexOf(Gt):-1,rt=ct>-1?ct:bt.length,_e=0;_e<rt;_e++)Ct[_e]=yt(Ct[_e]);return Ct},ft=function(bt,Gt,yt){var Ct=(0,pt.Z)(bt),ct=yt?Ct.indexOf(yt):-1,rt=ct>-1?ct:Ct.length;return Ct.splice(rt,0,Gt),Ct},Rt=function(bt,Gt){return bt.filter(function(yt){return!Gt[yt]})},Bt=function(bt){var Gt=new Map;return bt.forEach(function(yt){var Ct=yt.groupIds.length===0?yt.id:yt.groupIds[yt.groupIds.length-1],ct=Gt.get(Ct)||[],rt=(0,gt.WJ)(yt);rt&&ct.push(rt),Gt.set(Ct,[].concat((0,pt.Z)(ct),[yt]))}),Array.from(Gt.values())}},8211:function(Ht,St,_){_.d(St,{Fp:function(){return kt},G3:function(){return fn},Mj:function(){return Ot},QT:function(){return An},m0:function(){return bn},t:function(){return mn}});var pt=_(8950),ht=_(2975),ot=_.n(ht),at=_(1463),gt=_(4451),xt=_(2335),vt=_(9487),it=_(4739),kt={code:"en",label:"English"},Ot=[{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].concat([kt]).sort(function(ft,Rt){return ft.label>Rt.label?1:-1}).filter(function(ft){return gt[ft.code]>=85}),an="__test__";xt.Vi.DEVELOPMENT==="production"&&Ot.unshift({code:an,label:"test language"},{code:"".concat(an,".rtl"),label:"test language (rtl)",rtl:!0});var gn=kt,Qt={},bn=function(){var ft=(0,pt.Z)(ot().mark(function Rt(Bt){return ot().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(gn=Bt,document.documentElement.dir=gn.rtl?"rtl":"ltr",document.documentElement.lang=gn.code,!Bt.code.startsWith(an)){bt.next=7;break}Qt={},bt.next=17;break;case 7:return bt.prev=7,bt.next=10,_(940)("./".concat(gn.code,".json"));case 10:Qt=bt.sent,bt.next=17;break;case 13:bt.prev=13,bt.t0=bt.catch(7),console.error("Failed to load language ".concat(Bt.code,":"),bt.t0.message),Qt=at;case 17:vt.e_.set(pn,Bt.code);case 18:case"end":return bt.stop()}},Rt,null,[[7,13]])}));return function(Rt){return ft.apply(this,arguments)}}(),fn=function(){return gn},Zn=function(ft,Rt){for(var Bt=0;Bt<Rt.length;++Bt){var bt=Rt[Bt];if(ft[bt]===void 0)return;ft=ft[bt]}if(typeof ft=="string")return ft},mn=function(ft,Rt){if(gn.code.startsWith(an)){var Bt=Rt?"".concat(ft,"(").concat(JSON.stringify(Rt).slice(1,-1),")"):ft;return"[[".concat(Bt,"]]")}var bt=ft.split("."),Gt=Zn(Qt,bt)||Zn(at,bt);if(Gt===void 0)throw new Error("Can't find translation for ".concat(ft));if(Rt)for(var yt in Rt)Gt=Gt.replace("{{".concat(yt,"}}"),String(Rt[yt]));return Gt},pn=(0,it.cn)(kt.code),An=function(){var ft=(0,it.Dv)(pn,vt.yE);return{t:mn,langCode:ft}}},9487:function(Ht,St,_){_.d(St,{e_:function(){return ot},yE:function(){return ht}});var pt=_(4739),ht=(_(9787),Symbol()),ot=(0,pt.Vv)()},6066:function(Ht,St,_){_.d(St,{E0:function(){return xt},Ge:function(){return vt},OA:function(){return gt},Wl:function(){return at},aU:function(){return ht},tW:function(){return ot}});var pt=_(2335),ht={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},ot={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:pt.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},at=function(it){return it===ot.ARROW_LEFT||it===ot.ARROW_RIGHT||it===ot.ARROW_DOWN||it===ot.ARROW_UP},gt=function(it){return it.altKey},xt=function(it){return it.shiftKey},vt=function(it){return it.shiftKey}},6552:function(Ht,St,_){_.d(St,{EK:function(){return Bt},H5:function(){return it},Jj:function(){return Rt},LW:function(){return vt},N_:function(){return mn},U1:function(){return at},c9:function(){return Ot},eH:function(){return An},g6:function(){return kt},lk:function(){return ft},wC:function(){return bn},xj:function(){return gt},yB:function(){return Zn},yW:function(){return fn},yq:function(){return xt}});var pt=_(2335),ht=_(3063),ot=_(8925),at=function(bt,Gt,yt,Ct,ct){return[(bt-yt)*Math.cos(ct)-(Gt-Ct)*Math.sin(ct)+yt,(bt-yt)*Math.sin(ct)+(Gt-Ct)*Math.cos(ct)+Ct]},gt=function(bt,Gt,yt){return at(bt[0],bt[1],Gt[0],Gt[1],yt)},xt=function(bt,Gt,yt,Ct,ct,rt,_e,lt){var st=Math.cos(Ct),It=Math.sin(Ct);return bt.e&&bt.w?Gt+=ct+_e:bt.e?(Gt+=ct*(1+st),yt+=ct*It,Gt+=_e*(1-st),yt+=_e*-It):bt.w&&(Gt+=ct*(1-st),yt+=ct*-It,Gt+=_e*(1+st),yt+=_e*It),bt.n&&bt.s?yt+=rt+lt:bt.n?(Gt+=rt*It,yt+=rt*(1-st),Gt+=lt*-It,yt+=lt*(1+st)):bt.s&&(Gt+=rt*-It,yt+=rt*(1+st),Gt+=lt*It,yt+=lt*(1-st)),[Gt,yt]},vt=function(bt,Gt,yt,Ct){var ct=yt-bt,rt=Ct-Gt;return Math.hypot(ct,rt)},it=function(bt,Gt){return[(bt[0]+Gt[0])/2,(bt[1]+Gt[1])/2]},kt=function(bt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(bt.length>=3){var yt=[bt[0],bt[bt.length-1]],Ct=yt[0],ct=yt[1],rt=vt(Ct[0],Ct[1],ct[0],ct[1]);return rt<=pt.qx/Gt}return!1},Ot=function(bt,Gt,yt){var Ct=bt.length;if(Ct<3)return!1;for(var ct=[Number.MAX_SAFE_INTEGER,yt],rt=[Gt,yt],_e=0,lt=0;lt<Ct;lt++){var st=bt[lt],It=bt[(lt+1)%Ct];if(Qt(st,It,rt,ct)){if(gn(st,rt,It)===0)return an(st,rt,It);_e++}}return _e%2==1},an=function(bt,Gt,yt){return Gt[0]<=Math.max(bt[0],yt[0])&&Gt[0]>=Math.min(bt[0],yt[0])&&Gt[1]<=Math.max(bt[1],yt[1])&&Gt[1]>=Math.min(bt[1],yt[1])},gn=function(bt,Gt,yt){var Ct=(Gt[1]-bt[1])*(yt[0]-Gt[0])-(Gt[0]-bt[0])*(yt[1]-Gt[1]);return Ct===0?0:Ct>0?1:2},Qt=function(bt,Gt,yt,Ct){var ct=gn(bt,Gt,yt),rt=gn(bt,Gt,Ct),_e=gn(yt,Ct,bt),lt=gn(yt,Ct,Gt);return ct!==rt&&_e!==lt||!(ct!==0||!an(bt,yt,Gt))||!(rt!==0||!an(bt,Ct,Gt))||!(_e!==0||!an(yt,bt,Ct))||!(lt!==0||!an(yt,Gt,Ct))},bn=function(bt,Gt,yt){return yt?[Math.round(bt/yt)*yt,Math.round(Gt/yt)*yt]:[bt,Gt]},fn=function(bt,Gt){var yt,Ct,ct;if(((yt=Gt.roundness)===null||yt===void 0?void 0:yt.type)===pt.a6.PROPORTIONAL_RADIUS||((Ct=Gt.roundness)===null||Ct===void 0?void 0:Ct.type)===pt.a6.LEGACY)return bt*pt.Rx;if(((ct=Gt.roundness)===null||ct===void 0?void 0:ct.type)===pt.a6.ADAPTIVE_RADIUS){var rt,_e,lt=(rt=(_e=Gt.roundness)===null||_e===void 0?void 0:_e.value)!==null&&rt!==void 0?rt:pt._9;return bt<=lt/pt.Rx?bt*pt.Rx:lt}return 0},Zn=function(bt,Gt){var yt=(0,ht.R2)(bt);if(!yt)return null;for(var Ct=(0,ot.CM)(yt[0]),ct=[0,0],rt=0,_e=1/0,lt=null;rt<Ct.length;){var st=Ct[rt],It=st.op,Tt=st.data;if(It==="move"&&(ct=Tt),It==="bcurveTo"){var tn=ct,Nt=[Tt[0],Tt[1]],$t=[Tt[2],Tt[3]],Wt=[Tt[4],Tt[5]],Dt=vt(Wt[0],Wt[1],Gt[0],Gt[1]);Dt<_e&&(_e=Dt,lt=[tn,Nt,$t,Wt]),ct=Wt}rt++}return lt},mn=function(bt,Gt,yt,Ct,ct){var rt=function(_e,lt){return Math.pow(1-_e,3)*Ct[lt]+3*_e*Math.pow(1-_e,2)*yt[lt]+3*Math.pow(_e,2)*(1-_e)*Gt[lt]+bt[lt]*Math.pow(_e,3)};return[rt(ct,0),rt(ct,1)]},pn=function(bt,Gt){var yt=[];yt[0]=0;for(var Ct=function(_e,lt){var st=Zn(_e,lt);if(!st)return[];for(var It=[],Tt=1;Tt>0;){var tn=mn(st[0],st[1],st[2],st[3],Tt);It.push([tn[0],tn[1]]),Tt-=.05}return It.length&&Rt(It.at(-1),lt)&&It.push([lt[0],lt[1]]),It}(bt,Gt),ct=0,rt=0;ct<Ct.length-1;)rt+=vt(Ct[ct][0],Ct[ct][1],Ct[ct+1][0],Ct[ct+1][1]),yt.push(rt),ct++;return yt},An=function(bt,Gt){return pn(bt,Gt).at(-1)},ft=function(bt,Gt,yt){for(var Ct=pn(bt,Gt),ct=Ct.length-1,rt=yt*Ct.at(-1),_e=0,lt=ct,st=0;_e<lt;)Ct[st=Math.floor(_e+(lt-_e)/2)]<rt?_e=st+1:lt=st;return Ct[st]>rt&&st--,Ct[st]===rt?st/ct:1-(st+(rt-Ct[st])/(Ct[st+1]-Ct[st]))/ct},Rt=function(bt,Gt){return bt[0]===Gt[0]&&bt[1]===Gt[1]},Bt=function(bt){return Math.round(bt/Math.PI*1e4)%5e3==0}},3024:function(Ht,St,_){_.d(St,{$D:function(){return Bt},Fl:function(){return Rt},I_:function(){return Ot.I_},N7:function(){return fn.N7},NI:function(){return Ot.NI},NL:function(){return ft},ZY:function(){return bn.ZY},cT:function(){return bn.cT},i1:function(){return bt},lV:function(){return bn.lV},zh:function(){return Zn.zh}});var pt=_(8950),ht=_(7169),ot=_(2975),at=_.n(ot),gt=_(4162),xt=_(8897),vt=_(679),it=_(2335),kt=_(673),Ot=_(5523),an=_(6665),gn=_(1564),Qt=_(2791),bn=_(434),fn=_(3063),Zn=_(7053);function mn(Gt,yt){var Ct=Object.keys(Gt);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(Gt);yt&&(ct=ct.filter(function(rt){return Object.getOwnPropertyDescriptor(Gt,rt).enumerable})),Ct.push.apply(Ct,ct)}return Ct}function pn(Gt){for(var yt=1;yt<arguments.length;yt++){var Ct=arguments[yt]!=null?arguments[yt]:{};yt%2?mn(Object(Ct),!0).forEach(function(ct){(0,ht.Z)(Gt,ct,Ct[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gt,Object.getOwnPropertyDescriptors(Ct)):mn(Object(Ct)).forEach(function(ct){Object.defineProperty(Gt,ct,Object.getOwnPropertyDescriptor(Ct,ct))})}return Gt}var An=function(Gt){var yt=new gn.Z;return yt.replaceAllElements((0,Qt._N)(Gt)),yt.getNonDeletedElements()},ft=function(Gt){var yt=Gt.elements,Ct=Gt.appState,ct=Gt.files,rt=Gt.maxWidthOrHeight,_e=Gt.getDimensions,lt=Gt.exportPadding,st=(0,vt.nu)({elements:yt,appState:Ct},null,null),It=st.elements,Tt=st.appState,tn=Tt.exportBackground,Nt=Tt.viewBackgroundColor;return(0,gt.NL)(An(It),pn(pn({},Tt),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),ct||{},{exportBackground:tn,exportPadding:lt,viewBackgroundColor:Nt},function($t,Wt){var Dt,In=document.createElement("canvas");if(rt){var rn;typeof _e=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var _t=Math.max($t,Wt),Et=rt<_t?rt/_t:(rn=Ct==null?void 0:Ct.exportScale)!==null&&rn!==void 0?rn:1;return In.width=$t*Et,In.height=Wt*Et,{canvas:In,scale:Et}}var Vt=(_e==null?void 0:_e($t,Wt))||{width:$t,height:Wt};return In.width=Vt.width,In.height=Vt.height,{canvas:In,scale:(Dt=Vt.scale)!==null&&Dt!==void 0?Dt:1}})},Rt=function(){var Gt=(0,pt.Z)(at().mark(function yt(Ct){var ct,rt,_e,lt,st,It;return at().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return _e=(rt=Ct).mimeType,lt=_e===void 0?it.LO.png:_e,st=rt.quality,lt===it.LO.png&&typeof st=="number"&&console.warn('"quality" will be ignored for "'.concat(it.LO.png,'" mimeType')),lt==="image/jpg"&&(lt=it.LO.jpg),lt!==it.LO.jpg||(ct=Ct.appState)!==null&&ct!==void 0&&ct.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(it.LO.jpg,'" mimeType')),Ct=pn(pn({},Ct),{},{appState:pn(pn({},Ct.appState),{},{exportBackground:!0})})),Tt.next=6,ft(pn(pn({},Ct),{},{elements:An(Ct.elements)}));case 6:return It=Tt.sent,st=st||(/image\/jpe?g/.test(lt)?.92:.8),Tt.abrupt("return",new Promise(function(tn,Nt){It.toBlob(function(){var $t=(0,pt.Z)(at().mark(function Wt(Dt){var In;return at().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(Dt){rn.next=2;break}return rn.abrupt("return",Nt(new Error("couldn't export to blob")));case 2:if(!Dt||lt!==it.LO.png||(In=Ct.appState)===null||In===void 0||!In.exportEmbedScene){rn.next=6;break}return rn.next=5,(0,kt.encodePngMetadata)({blob:Dt,metadata:(0,Ot.I_)(Ct.elements,Ct.appState,Ct.files||{},"local")});case 5:Dt=rn.sent;case 6:tn(Dt);case 7:case"end":return rn.stop()}},Wt)}));return function(Wt){return $t.apply(this,arguments)}}(),lt,st)}));case 9:case"end":return Tt.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),Bt=function(){var Gt=(0,pt.Z)(at().mark(function yt(Ct){var ct,rt,_e,lt,st,It,Tt,tn,Nt,$t;return at().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return ct=Ct.elements,rt=Ct.appState,_e=rt===void 0?(0,xt.im)():rt,lt=Ct.files,st=lt===void 0?{}:lt,It=Ct.exportPadding,Tt=(0,vt.nu)({elements:ct,appState:_e},null,null),tn=Tt.elements,Nt=Tt.appState,$t=pn(pn({},Nt),{},{exportPadding:It}),Wt.abrupt("return",(0,gt.$D)(An(tn),$t,st,{serializeAsJSON:function(){return(0,Ot.I_)(tn,$t,st||{},"local")}}));case 4:case"end":return Wt.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}(),bt=function(){var Gt=(0,pt.Z)(at().mark(function yt(Ct){var ct,rt;return at().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(Ct.type!=="svg"){_e.next=8;break}return _e.next=3,Bt(Ct);case 3:return ct=_e.sent,_e.next=6,(0,an.dd)(ct.outerHTML);case 6:case 11:case 17:_e.next=20;break;case 8:if(Ct.type!=="png"){_e.next=13;break}return _e.next=11,(0,an.uR)(Rt(Ct));case 13:if(Ct.type!=="json"){_e.next=19;break}return rt=pn(pn({offsetTop:0,offsetLeft:0,width:0,height:0},(0,xt.im)()),Ct.appState),_e.next=17,(0,an.vQ)(Ct.elements,rt,Ct.files);case 19:throw new Error("Invalid export type");case 20:case"end":return _e.stop()}},yt)}));return function(yt){return Gt.apply(this,arguments)}}()},5001:function(Ht,St,_){_.d(St,{k:function(){return ht},z:function(){return ot}});var pt=_(1930),ht=function(at){var gt=at.map(function(vt){return vt[0]}),xt=at.map(function(vt){return vt[1]});return{width:Math.max.apply(Math,(0,pt.Z)(gt))-Math.min.apply(Math,(0,pt.Z)(gt)),height:Math.max.apply(Math,(0,pt.Z)(xt))-Math.min.apply(Math,(0,pt.Z)(xt))}},ot=function(at,gt,xt,vt){var it=xt.map(function(Zn){return Zn[at]}),kt=Math.max.apply(Math,(0,pt.Z)(it)),Ot=Math.min.apply(Math,(0,pt.Z)(it)),an=kt-Ot,gn=an===0?1:gt/an,Qt=1/0,bn=xt.map(function(Zn){var mn=Zn[at]*gn,pn=(0,pt.Z)(Zn);return pn[at]=mn,mn<Qt&&(Qt=mn),pn});if(!vt||bn.length===2)return bn;var fn=Ot-Qt;return bn.map(function(Zn){return Zn.map(function(mn,pn){return pn===at?mn+fn:mn})})}},6954:function(Ht,St,_){_.d(St,{LU:function(){return xt},kb:function(){return vt}});var pt=_(8152),ht=_(5605),ot=_(6340),at=new pt.k(Date.now()),gt=0,xt=function(){return Math.floor(at.next()*Math.pow(2,31))},vt=function(){return(0,ot.h2)()?"id".concat(gt++):(0,ht.x0)()}},3063:function(Ht,St,_){_.d(St,{Dn:function(){return rn},i:function(){return zt},N7:function(){return vn},R2:function(){return dn},bI:function(){return Xt},lw:function(){return Jt},Rg:function(){return un}});var pt=_(1930),ht=_(7169),ot=_(2577),at=_(1974),gt=_(8925),xt=_(6340),vt=_(6552),it=_(8234),kt=_(8897),Ot=_(2335);function an(Zt,Xn,Cn,Qn=Tn=>Tn){return Zt*Qn(.5-Xn*(.5-Cn))}function gn(Zt,Xn){return[Zt[0]+Xn[0],Zt[1]+Xn[1]]}function Qt(Zt,Xn){return[Zt[0]-Xn[0],Zt[1]-Xn[1]]}function bn(Zt,Xn){return[Zt[0]*Xn,Zt[1]*Xn]}function fn(Zt){return[Zt[1],-Zt[0]]}function Zn(Zt,Xn){return Zt[0]*Xn[0]+Zt[1]*Xn[1]}function mn(Zt,Xn){return Zt[0]===Xn[0]&&Zt[1]===Xn[1]}function pn(Zt,Xn){return function(Cn){return Cn[0]*Cn[0]+Cn[1]*Cn[1]}(Qt(Zt,Xn))}function An(Zt){return function(Xn,Cn){return[Xn[0]/Cn,Xn[1]/Cn]}(Zt,function(Xn){return Math.hypot(Xn[0],Xn[1])}(Zt))}function ft(Zt,Xn){return Math.hypot(Zt[1]-Xn[1],Zt[0]-Xn[0])}function Rt(Zt,Xn,Cn){let Qn=Math.sin(Cn),Tn=Math.cos(Cn),Pn=Zt[0]-Xn[0],tr=Zt[1]-Xn[1],ir=Pn*Qn+tr*Tn;return[Pn*Tn-tr*Qn+Xn[0],ir+Xn[1]]}function Bt(Zt,Xn,Cn){return gn(Zt,bn(Qt(Xn,Zt),Cn))}function bt(Zt,Xn,Cn){return gn(Zt,bn(Xn,Cn))}var{min:Gt,PI:yt}=Math,Ct=yt+1e-4;function ct(Zt,Xn={}){return function(Cn,Qn={}){let{size:Tn=16,smoothing:Pn=.5,thinning:tr=.5,simulatePressure:ir=!0,easing:gr=na=>na,start:Wn={},end:ln={},last:Un=!1}=Qn,{cap:wn=!0,easing:Mn=na=>na*(2-na)}=Wn,{cap:zn=!0,easing:Jn=na=>--na*na*na+1}=ln;if(Cn.length===0||Tn<=0)return[];let er,cr=Cn[Cn.length-1].runningLength,or=Wn.taper===!1?0:Wn.taper===!0?Math.max(Tn,cr):Wn.taper,ur=ln.taper===!1?0:ln.taper===!0?Math.max(Tn,cr):ln.taper,Ur=Math.pow(Tn*Pn,2),Zr=[],yr=[],Ar=Cn.slice(0,10).reduce((na,lr)=>{let Ir=lr.pressure;if(ir){let Cr=Gt(1,lr.distance/Tn),wr=Gt(1,1-Cr);Ir=Gt(1,na+.275*Cr*(wr-na))}return(na+Ir)/2},Cn[0].pressure),pr=an(Tn,tr,Cn[Cn.length-1].pressure,gr),Nr=Cn[0].vector,Or=Cn[0].point,ba=Or,ho=Or,oo=ba,lo=!1;for(let na=0;na<Cn.length;na++){let{pressure:lr}=Cn[na],{point:Ir,vector:Cr,distance:wr,runningLength:Er}=Cn[na];if(na<Cn.length-1&&cr-Er<3)continue;if(tr){if(ir){let mo=Gt(1,wr/Tn),Zo=Gt(1,1-mo);lr=Gt(1,Ar+.275*mo*(Zo-Ar))}pr=an(Tn,tr,lr,gr)}else pr=Tn/2;er===void 0&&(er=pr);let Rr=Er<or?Mn(Er/or):1,Kr=cr-Er<ur?Jn((cr-Er)/ur):1;pr=Math.max(.01,pr*Math.min(Rr,Kr));let ga=(na<Cn.length-1?Cn[na+1]:Cn[na]).vector,to=na<Cn.length-1?Zn(Cr,ga):1,io=to!==null&&to<0;if(Zn(Cr,Nr)<0&&!lo||io){let mo=bn(fn(Nr),pr);for(let Zo=.07692307692307693,No=0;No<=1;No+=Zo)ho=Rt(Qt(Ir,mo),Ir,Ct*No),Zr.push(ho),oo=Rt(gn(Ir,mo),Ir,Ct*-No),yr.push(oo);Or=ho,ba=oo,io&&(lo=!0);continue}if(lo=!1,na===Cn.length-1){let mo=bn(fn(Cr),pr);Zr.push(Qt(Ir,mo)),yr.push(gn(Ir,mo));continue}let so=bn(fn(Bt(ga,Cr,to)),pr);ho=Qt(Ir,so),(na<=1||pn(Or,ho)>Ur)&&(Zr.push(ho),Or=ho),oo=gn(Ir,so),(na<=1||pn(ba,oo)>Ur)&&(yr.push(oo),ba=oo),Ar=lr,Nr=Cr}let $r=Cn[0].point.slice(0,2),qr=Cn.length>1?Cn[Cn.length-1].point.slice(0,2):gn(Cn[0].point,[1,1]),Co=[],po=[];if(Cn.length===1){if(!or&&!ur||Un){let na=bt($r,An(fn(Qt($r,qr))),-(er||pr)),lr=[];for(let Ir=.07692307692307693,Cr=Ir;Cr<=1;Cr+=Ir)lr.push(Rt(na,$r,2*Ct*Cr));return lr}}else{if(!(or||ur&&Cn.length===1))if(wn)for(let lr=.07692307692307693,Ir=lr;Ir<=1;Ir+=lr){let Cr=Rt(yr[0],$r,Ct*Ir);Co.push(Cr)}else{let lr=Qt(Zr[0],yr[0]),Ir=bn(lr,.5),Cr=bn(lr,.51);Co.push(Qt($r,Ir),Qt($r,Cr),gn($r,Cr),gn($r,Ir))}let na=fn(function(lr){return[-lr[0],-lr[1]]}(Cn[Cn.length-1].vector));if(ur||or&&Cn.length===1)po.push(qr);else if(zn){let lr=bt(qr,na,pr);for(let Ir=.034482758620689655,Cr=Ir;Cr<1;Cr+=Ir)po.push(Rt(lr,qr,3*Ct*Cr))}else po.push(gn(qr,bn(na,pr)),gn(qr,bn(na,.99*pr)),Qt(qr,bn(na,.99*pr)),Qt(qr,bn(na,pr)))}return Zr.concat(po,yr.reverse(),Co)}(function(Cn,Qn={}){var Tn;let{streamline:Pn=.5,size:tr=16,last:ir=!1}=Qn;if(Cn.length===0)return[];let gr=.15+.85*(1-Pn),Wn=Array.isArray(Cn[0])?Cn:Cn.map(({x:Jn,y:er,pressure:cr=.5})=>[Jn,er,cr]);if(Wn.length===2){let Jn=Wn[1];Wn=Wn.slice(0,-1);for(let er=1;er<5;er++)Wn.push(Bt(Wn[0],Jn,er/4))}Wn.length===1&&(Wn=[...Wn,[...gn(Wn[0],[1,1]),...Wn[0].slice(2)]]);let ln=[{point:[Wn[0][0],Wn[0][1]],pressure:Wn[0][2]>=0?Wn[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Un=!1,wn=0,Mn=ln[0],zn=Wn.length-1;for(let Jn=1;Jn<Wn.length;Jn++){let er=ir&&Jn===zn?Wn[Jn].slice(0,2):Bt(Mn.point,Wn[Jn],gr);if(mn(Mn.point,er))continue;let cr=ft(er,Mn.point);if(wn+=cr,Jn<zn&&!Un){if(wn<tr)continue;Un=!0}Mn={point:er,pressure:Wn[Jn][2]>=0?Wn[Jn][2]:.5,vector:An(Qt(Mn.point,er)),distance:cr,runningLength:wn},ln.push(Mn)}return ln[0].vector=((Tn=ln[1])==null?void 0:Tn.vector)||[0,0],ln}(Zt,Xn),Xn)}var rt=_(5710),_e=_(6938);function lt(Zt,Xn){var Cn=Object.keys(Zt);if(Object.getOwnPropertySymbols){var Qn=Object.getOwnPropertySymbols(Zt);Xn&&(Qn=Qn.filter(function(Tn){return Object.getOwnPropertyDescriptor(Zt,Tn).enumerable})),Cn.push.apply(Cn,Qn)}return Cn}function st(Zt){for(var Xn=1;Xn<arguments.length;Xn++){var Cn=arguments[Xn]!=null?arguments[Xn]:{};Xn%2?lt(Object(Cn),!0).forEach(function(Qn){(0,ht.Z)(Zt,Qn,Cn[Qn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Zt,Object.getOwnPropertyDescriptors(Cn)):lt(Object(Cn)).forEach(function(Qn){Object.defineProperty(Zt,Qn,Object.getOwnPropertyDescriptor(Cn,Qn))})}return Zt}var It="invert(100%) hue-rotate(180deg) saturate(1.25)",Tt=(0,kt.im)(),tn=function(Zt,Xn){return(0,at.wi)(Zt)&&!Xn.imageCache.has(Zt.fileId)},Nt=function(Zt,Xn){var Cn;return Xn.theme==="dark"&&(0,at.wi)(Zt)&&!tn(Zt,Xn)&&((Cn=Xn.imageCache.get(Zt.fileId))===null||Cn===void 0?void 0:Cn.mimeType)!==Ot.LO.svg},$t=function(Zt){return[8,8+Zt]},Wt=function(Zt){return[1.5,6+Zt]},Dt=function(Zt){return Zt.type==="freedraw"?12*Zt.strokeWidth:20},In=function(Zt,Xn,Cn){var Qn,Tn=document.createElement("canvas"),Pn=Tn.getContext("2d"),tr=Dt(Zt),ir=function(or,ur){var Ur=16777216,Zr=32767,yr=Dt(or),Ar=(0,gt.qf)(or),pr=(0,ot.Z)(Ar,4),Nr=pr[0],Or=pr[1],ba=pr[2],ho=pr[3],oo=(0,at.bt)(or)||(0,at.F9)(or)?(0,xt.TE)(Nr,ba):or.width,lo=(0,at.bt)(or)||(0,at.F9)(or)?(0,xt.TE)(Or,ho):or.height,$r=oo*window.devicePixelRatio+2*yr,qr=lo*window.devicePixelRatio+2*yr,Co=ur.value;return($r*Co>Zr||qr*Co>Zr)&&(Co=Math.min(Zr/$r,Zr/qr)),$r*qr*Co*Co>Ur&&(Co=Math.sqrt(Ur/($r*qr))),{width:$r=Math.floor($r*Co),height:qr=Math.floor(qr*Co),scale:Co}}(Zt,Xn),gr=ir.width,Wn=ir.height,ln=ir.scale;Tn.width=gr,Tn.height=Wn;var Un=0,wn=0;if((0,at.bt)(Zt)||(0,at.F9)(Zt)){var Mn=(0,gt.qf)(Zt),zn=(0,ot.Z)(Mn,2),Jn=zn[0],er=zn[1];Un=Zt.x>Jn?(0,xt.TE)(Zt.x,Jn)*window.devicePixelRatio*ln:0,wn=Zt.y>er?(0,xt.TE)(Zt.y,er)*window.devicePixelRatio*ln:0,Pn.translate(Un,wn)}Pn.save(),Pn.translate(tr*ln,tr*ln),Pn.scale(window.devicePixelRatio*ln,window.devicePixelRatio*ln);var cr=it.Z.canvas(Tn);return Nt(Zt,Cn)&&(Pn.filter=It),Vt(Zt,cr,Pn,Cn),Pn.restore(),{element:Zt,canvas:Tn,theme:Cn.theme,scale:ln,zoomValue:Xn.value,canvasOffsetX:Un,canvasOffsetY:wn,boundTextElementVersion:((Qn=(0,rt.WJ)(Zt))===null||Qn===void 0?void 0:Qn.version)||null}},rn=14,_t=document.createElement("img");_t.src="data:".concat(Ot.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var Et=document.createElement("img");Et.src="data:".concat(Ot.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var Vt=function(Zt,Xn,Cn,Qn){switch(Cn.globalAlpha=Zt.opacity/100,Zt.type){case"rectangle":case"diamond":case"ellipse":Cn.lineJoin="round",Cn.lineCap="round",Xn.draw(dn(Zt));break;case"arrow":case"line":Cn.lineJoin="round",Cn.lineCap="round",dn(Zt).forEach(function(Jn){Xn.draw(Jn)});break;case"freedraw":Cn.save(),Cn.fillStyle=Zt.strokeColor;var Tn=function(Jn){return hn.get(Jn)}(Zt),Pn=dn(Zt);Pn&&Xn.draw(Pn),Cn.fillStyle=Zt.strokeColor,Cn.fill(Tn),Cn.restore();break;case"image":var tr,ir=(0,at.wi)(Zt)?(tr=Qn.imageCache.get(Zt.fileId))===null||tr===void 0?void 0:tr.image:void 0;ir==null||ir instanceof Promise?function(Jn,er,cr){er.fillStyle="#E7E7E7",er.fillRect(0,0,Jn.width,Jn.height);var or=Math.min(Jn.width,Jn.height),ur=Math.min(or,Math.min(.4*or,100));er.drawImage(Jn.status==="error"?Et:_t,Jn.width/2-ur/2,Jn.height/2-ur/2,ur,ur)}(Zt,Cn,Qn.zoom.value):Cn.drawImage(ir,0,0,Zt.width,Zt.height);break;default:if(!(0,at.iB)(Zt))throw new Error("Unimplemented type ".concat(Zt.type));var gr=(0,xt.dZ)(Zt.text),Wn=gr&&!Cn.canvas.isConnected;Wn&&document.body.appendChild(Cn.canvas),Cn.canvas.setAttribute("dir",gr?"rtl":"ltr"),Cn.save(),Cn.font=(0,xt.mO)(Zt),Cn.fillStyle=Zt.strokeColor,Cn.textAlign=Zt.textAlign;for(var ln=Zt.text.replace(/\r\n?/g,`
`).split(`
`),Un=Zt.textAlign==="center"?Zt.width/2:Zt.textAlign==="right"?Zt.width:0,wn=(0,rt.Rg)(Zt.fontSize,Zt.lineHeight),Mn=Zt.height-Zt.baseline,zn=0;zn<ln.length;zn++)Cn.fillText(ln[zn],Un,(zn+1)*wn-Mn);Cn.restore(),Wn&&Cn.canvas.remove()}Cn.globalAlpha=1},Pt=new WeakMap,qt=new WeakMap,dn=function(Zt){return qt.get(Zt)},Yt=function(Zt,Xn){return qt.set(Zt,Xn)},Xt=function(Zt){return qt.delete(Zt)},zt=function(Zt){var Xn=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Cn={seed:Zt.seed,strokeLineDash:Zt.strokeStyle==="dashed"?$t(Zt.strokeWidth):Zt.strokeStyle==="dotted"?Wt(Zt.strokeWidth):void 0,disableMultiStroke:Zt.strokeStyle!=="solid",strokeWidth:Zt.strokeStyle!=="solid"?Zt.strokeWidth+.5:Zt.strokeWidth,fillWeight:Zt.strokeWidth/2,hachureGap:4*Zt.strokeWidth,roughness:Zt.roughness,stroke:Zt.strokeColor,preserveVertices:Xn};switch(Zt.type){case"rectangle":case"diamond":case"ellipse":return Cn.fillStyle=Zt.fillStyle,Cn.fill=Zt.backgroundColor==="transparent"?void 0:Zt.backgroundColor,Zt.type==="ellipse"&&(Cn.curveFitting=1),Cn;case"line":case"freedraw":return(0,vt.g6)(Zt.points)&&(Cn.fillStyle=Zt.fillStyle,Cn.fill=Zt.backgroundColor==="transparent"?void 0:Zt.backgroundColor),Cn;case"arrow":return Cn;default:throw new Error("Unimplemented type ".concat(Zt.type))}},At=function(Zt,Xn){var Cn=qt.get(Zt);if(Cn===void 0)switch(Pt.delete(Zt),Zt.type){case"rectangle":if(Zt.roundness){var Qn=Zt.width,Tn=Zt.height,Pn=(0,vt.yW)(Math.min(Qn,Tn),Zt);Cn=Xn.path("M ".concat(Pn," 0 L ").concat(Qn-Pn," 0 Q ").concat(Qn," 0, ").concat(Qn," ").concat(Pn," L ").concat(Qn," ").concat(Tn-Pn," Q ").concat(Qn," ").concat(Tn,", ").concat(Qn-Pn," ").concat(Tn," L ").concat(Pn," ").concat(Tn," Q 0 ").concat(Tn,", 0 ").concat(Tn-Pn," L 0 ").concat(Pn," Q 0 0, ").concat(Pn," 0"),zt(Zt,!0))}else Cn=Xn.rectangle(0,0,Zt.width,Zt.height,zt(Zt));Yt(Zt,Cn);break;case"diamond":var tr=(0,gt.UC)(Zt),ir=(0,ot.Z)(tr,8),gr=ir[0],Wn=ir[1],ln=ir[2],Un=ir[3],wn=ir[4],Mn=ir[5],zn=ir[6],Jn=ir[7];if(Zt.roundness){var er=(0,vt.yW)(Math.abs(gr-zn),Zt),cr=(0,vt.yW)(Math.abs(Un-Wn),Zt);Cn=Xn.path("M ".concat(gr+er," ").concat(Wn+cr," L ").concat(ln-er," ").concat(Un-cr,`
            C `).concat(ln," ").concat(Un,", ").concat(ln," ").concat(Un,", ").concat(ln-er," ").concat(Un+cr,`
            L `).concat(wn+er," ").concat(Mn-cr,`
            C `).concat(wn," ").concat(Mn,", ").concat(wn," ").concat(Mn,", ").concat(wn-er," ").concat(Mn-cr,`
            L `).concat(zn+er," ").concat(Jn+cr,`
            C `).concat(zn," ").concat(Jn,", ").concat(zn," ").concat(Jn,", ").concat(zn+er," ").concat(Jn-cr,`
            L `).concat(gr-er," ").concat(Wn+cr,`
            C `).concat(gr," ").concat(Wn,", ").concat(gr," ").concat(Wn,", ").concat(gr+er," ").concat(Wn+cr),zt(Zt,!0))}else Cn=Xn.polygon([[gr,Wn],[ln,Un],[wn,Mn],[zn,Jn]],zt(Zt));Yt(Zt,Cn);break;case"ellipse":Cn=Xn.ellipse(Zt.width/2,Zt.height/2,Zt.width,Zt.height,zt(Zt)),Yt(Zt,Cn);break;case"line":case"arrow":var or=zt(Zt),ur=Zt.points.length?Zt.points:[[0,0]];if(Cn=Zt.roundness?[Xn.curve(ur,or)]:or.fill?[Xn.polygon(ur,or)]:[Xn.linearPath(ur,or)],Zt.type==="arrow"){var Ur=Zt.startArrowhead,Zr=Ur===void 0?null:Ur,yr=Zt.endArrowhead,Ar=yr===void 0?"arrow":yr,pr=function(oo,lo,$r,qr){var Co=(0,gt.Y5)(oo,lo,$r,qr);if(Co===null)return[];if(qr==="dot"){var po=(0,ot.Z)(Co,3),na=po[0],lr=po[1],Ir=po[2];return[Xn.circle(na,lr,Ir,st(st({},or),{},{fill:oo.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(qr==="triangle"){var Cr=(0,ot.Z)(Co,6),wr=Cr[0],Er=Cr[1],Rr=Cr[2],Kr=Cr[3],ga=Cr[4],to=Cr[5];return delete or.strokeLineDash,[Xn.polygon([[wr,Er],[Rr,Kr],[ga,to],[wr,Er]],st(st({},or),{},{fill:oo.strokeColor,fillStyle:"solid"}))]}var io=(0,ot.Z)(Co,6),so=io[0],mo=io[1],Zo=io[2],No=io[3],Jo=io[4],Bl=io[5];if(oo.strokeStyle==="dotted"){var ro=Wt(oo.strokeWidth-1);or.strokeLineDash=[ro[0],ro[1]-1]}else delete or.strokeLineDash;return[Xn.line(Zo,No,so,mo,or),Xn.line(Jo,Bl,so,mo,or)]};if(Zr!==null){var Nr,Or=pr(Zt,Cn,"start",Zr);(Nr=Cn).push.apply(Nr,(0,pt.Z)(Or))}if(Ar!==null){var ba,ho=pr(Zt,Cn,"end",Ar);(ba=Cn).push.apply(ba,(0,pt.Z)(ho))}}Yt(Zt,Cn);break;case"freedraw":jt(Zt),Cn=(0,vt.g6)(Zt.points)?Xn.polygon(Zt.points,st(st({},zt(Zt)),{},{stroke:"none"})):null,Yt(Zt,Cn);break;case"text":case"image":Yt(Zt,null)}},Ut=function(Zt,Xn){var Cn,Qn=Xn?Xn.zoom:Tt.zoom,Tn=Pt.get(Zt),Pn=Tn&&Tn.zoomValue!==Qn.value&&!(Xn!=null&&Xn.shouldCacheIgnoreZoom),tr=((Cn=(0,rt.WJ)(Zt))===null||Cn===void 0?void 0:Cn.version)||null;if(!Tn||Pn||Tn.theme!==Xn.theme||Tn.boundTextElementVersion!==tr){var ir=In(Zt,Qn,Xn);return Pt.set(Zt,ir),ir}return Tn},wt=function(Zt,Xn,Cn,Qn){var Tn=Zt.element,Pn=Dt(Tn),tr=Zt.scale,ir=(0,gt.qf)(Tn),gr=(0,ot.Z)(ir,4),Wn=gr[0],ln=gr[1],Un=gr[2],wn=gr[3];(0,at.F9)(Tn)&&(Wn=Math.floor(Wn),Un=Math.ceil(Un),ln=Math.floor(ln),wn=Math.ceil(wn));var Mn=((Wn+Un)/2+Qn.scrollX)*window.devicePixelRatio,zn=((ln+wn)/2+Qn.scrollY)*window.devicePixelRatio;Cn.save(),Cn.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var Jn=(0,rt.WJ)(Tn);if((0,at.Yv)(Tn)&&Jn){var er=document.createElement("canvas"),cr=er.getContext("2d"),or=Math.max((0,xt.TE)(Wn,Un),(0,xt.TE)(ln,wn));er.width=or*window.devicePixelRatio*tr+Pn*Zt.scale*10,er.height=or*window.devicePixelRatio*tr+Pn*Zt.scale*10;var ur=(er.width-Zt.canvas.width)/2,Ur=(er.height-Zt.canvas.height)/2;cr.translate(er.width/2,er.height/2),cr.rotate(Tn.angle),cr.drawImage(Zt.canvas,-Zt.canvas.width/2,-Zt.canvas.height/2,Zt.canvas.width,Zt.canvas.height);var Zr=(0,gt.qf)(Jn),yr=(0,ot.Z)(Zr,6),Ar=yr[4],pr=yr[5];cr.rotate(-Tn.angle);var Nr=er.width/2-(Ar-Wn)*window.devicePixelRatio*tr-ur-Pn*tr,Or=er.height/2-(pr-ln)*window.devicePixelRatio*tr-Ur-Pn*tr;cr.translate(-Nr,-Or),cr.clearRect(-(Jn.width/2+Ot.gK)*window.devicePixelRatio*tr,-(Jn.height/2+Ot.gK)*window.devicePixelRatio*tr,(Jn.width+2*Ot.gK)*window.devicePixelRatio*tr,(Jn.height+2*Ot.gK)*window.devicePixelRatio*tr),Cn.translate(Mn,zn),Cn.drawImage(er,-(Un-Wn)/2*window.devicePixelRatio-ur/tr-Pn,-(wn-ln)/2*window.devicePixelRatio-Ur/tr-Pn,er.width/tr,er.height/tr)}else if(Cn.translate(Mn,zn),Cn.rotate(Tn.angle),"scale"in Zt.element&&!tn(Tn,Qn)&&Cn.scale(Zt.element.scale[0],Zt.element.scale[1]),Cn.translate(-Mn,-zn),Cn.drawImage(Zt.canvas,(Wn+Qn.scrollX)*window.devicePixelRatio-Pn*Zt.scale/Zt.scale,(ln+Qn.scrollY)*window.devicePixelRatio-Pn*Zt.scale/Zt.scale,Zt.canvas.width/Zt.scale,Zt.canvas.height/Zt.scale),{REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_MATOMO_URL:"https://excalidraw.matomo.cloud/",REACT_APP_CDN_MATOMO_TRACKER_URL:"//cdn.matomo.cloud/excalidraw.matomo.cloud/matomo.js",REACT_APP_MATOMO_SITE_ID:"1",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.15.2",IS_EXCALIDRAW_NPM_PACKAGE:!0}.REACT_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,at.Xo)(Tn)){var ba=(0,rt.cw)(Tn);Cn.strokeStyle="#c92a2a",Cn.lineWidth=3,Cn.strokeRect((ba.x+Qn.scrollX)*window.devicePixelRatio,(ba.y+Qn.scrollY)*window.devicePixelRatio,(0,rt.jd)(Tn)*window.devicePixelRatio,(0,rt.N2)(Tn)*window.devicePixelRatio)}Cn.restore()},Jt=function(Zt,Xn,Cn,Qn,Tn){var Pn=Xn.generator;switch(Zt.type){case"selection":Cn.save(),Cn.translate(Zt.x+Qn.scrollX,Zt.y+Qn.scrollY),Cn.fillStyle="rgba(0, 0, 200, 0.04)";var tr=.5/Qn.zoom.value;Cn.fillRect(tr,tr,Zt.width,Zt.height),Cn.lineWidth=1/Qn.zoom.value,Cn.strokeStyle="rgb(105, 101, 219)",Cn.strokeRect(tr,tr,Zt.width,Zt.height),Cn.restore();break;case"freedraw":if(At(Zt,Pn),Qn.isExporting){var ir=(0,gt.qf)(Zt),gr=(0,ot.Z)(ir,4),Wn=gr[0],ln=gr[1],Un=gr[2],wn=gr[3],Mn=(Wn+Un)/2+Qn.scrollX,zn=(ln+wn)/2+Qn.scrollY,Jn=(Un-Wn)/2-(Zt.x-Wn),er=(wn-ln)/2-(Zt.y-ln);Cn.save(),Cn.translate(Mn,zn),Cn.rotate(Zt.angle),Cn.translate(-Jn,-er),Vt(Zt,Xn,Cn,Qn),Cn.restore()}else{var cr=Ut(Zt,Qn);wt(cr,0,Cn,Qn)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(At(Zt,Pn),Qn.isExporting){var or=(0,gt.qf)(Zt),ur=(0,ot.Z)(or,4),Ur=ur[0],Zr=ur[1],yr=ur[2],Ar=ur[3],pr=(Ur+yr)/2+Qn.scrollX,Nr=(Zr+Ar)/2+Qn.scrollY,Or=(yr-Ur)/2-(Zt.x-Ur),ba=(Ar-Zr)/2-(Zt.y-Zr);if((0,at.iB)(Zt)){var ho=(0,rt.tl)(Zt);if((0,at.Yv)(ho)){var oo=_e._.getBoundTextElementPosition(ho,Zt);Or=(yr-Ur)/2-(oo.x-Ur),ba=(Ar-Zr)/2-(oo.y-Zr)}}Cn.save(),Cn.translate(pr,Nr),Nt(Zt,Qn)&&(Cn.filter="none");var lo=(0,rt.WJ)(Zt);if((0,at.Yv)(Zt)&&lo){var $r=document.createElement("canvas"),qr=$r.getContext("2d"),Co=Math.max((0,xt.TE)(Ur,yr),(0,xt.TE)(Zr,Ar)),po=Dt(Zt);$r.width=Co*Tn.exportScale+10*po*Tn.exportScale,$r.height=Co*Tn.exportScale+10*po*Tn.exportScale,qr.translate($r.width/2,$r.height/2),qr.scale(Tn.exportScale,Tn.exportScale),Or=Zt.width/2-(Zt.x-Ur),ba=Zt.height/2-(Zt.y-Zr),qr.rotate(Zt.angle);var na=it.Z.canvas($r);qr.translate(-Or,-ba),Vt(Zt,na,qr,Qn),qr.translate(Or,ba),qr.rotate(-Zt.angle);var lr=(0,gt.qf)(lo),Ir=(0,ot.Z)(lr,6),Cr=(Ur+yr)/2-Ir[4],wr=(Zr+Ar)/2-Ir[5];qr.translate(-Cr,-wr),qr.clearRect(-lo.width/2,-lo.height/2,lo.width,lo.height),Cn.scale(1/Tn.exportScale,1/Tn.exportScale),Cn.drawImage($r,-$r.width/2,-$r.height/2,$r.width,$r.height)}else Cn.rotate(Zt.angle),Zt.type==="image"&&Cn.scale(Zt.scale[0],Zt.scale[1]),Cn.translate(-Or,-ba),Vt(Zt,Xn,Cn,Qn);Cn.restore()}else{var Er=Ut(Zt,Qn),Rr=Cn.imageSmoothingEnabled;Qn!=null&&Qn.shouldCacheIgnoreZoom||Zt.angle&&!(0,vt.EK)(Zt.angle)||(Cn.imageSmoothingEnabled=!1),wt(Er,0,Cn,Qn),Cn.imageSmoothingEnabled=Rr}break;default:throw new Error("Unimplemented type ".concat(Zt.type))}},Mt=function(Zt,Xn,Cn){if(Cn===void 0)return Zt.draw(Xn);var Qn={sets:Xn.sets,shape:Xn.shape,options:st(st({},Xn.options),{},{fixedDecimalPlaceDigits:Cn})};return Zt.draw(Qn)},un=function(Zt,Xn,Cn,Qn,Tn,Pn,tr){var ir=(0,gt.qf)(Zt),gr=(0,ot.Z)(ir,4),Wn=gr[0],ln=gr[1],Un=gr[2],wn=gr[3],Mn=(Un-Wn)/2-(Zt.x-Wn),zn=(wn-ln)/2-(Zt.y-ln);if((0,at.iB)(Zt)){var Jn=(0,rt.tl)(Zt);if((0,at.Yv)(Jn)){var er=(0,gt.qf)(Jn),cr=(0,ot.Z)(er,4),or=cr[0],ur=cr[1],Ur=cr[2],Zr=cr[3],yr=_e._.getBoundTextElementPosition(Jn,Zt);Mn=(Ur-or)/2-(yr.x-or),zn=(Zr-ur)/2-(yr.y-ur),Tn=Tn+yr.x-Zt.x,Pn=Pn+yr.y-Zt.y}}var Ar=180*Zt.angle/Math.PI,pr=Xn.generator,Nr=Cn;if(Zt.link){var Or=Cn.ownerDocument.createElementNS(Ot.hR,"a");Or.setAttribute("href",Zt.link),Nr.appendChild(Or),Nr=Or}switch(Zt.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":At(Zt,pr);var ba=Mt(Xn,dn(Zt),Ot.zK),ho=Zt.opacity/100;ho!==1&&(ba.setAttribute("stroke-opacity","".concat(ho)),ba.setAttribute("fill-opacity","".concat(ho))),ba.setAttribute("stroke-linecap","round"),ba.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Nr.appendChild(ba);break;case"line":case"arrow":var oo=(0,rt.WJ)(Zt),lo=Cn.ownerDocument.createElementNS(Ot.hR,"mask");if(oo){lo.setAttribute("id","mask-".concat(Zt.id));var $r=Cn.ownerDocument.createElementNS(Ot.hR,"rect");Tn=Tn||0,Pn=Pn||0,$r.setAttribute("x","0"),$r.setAttribute("y","0"),$r.setAttribute("fill","#fff"),$r.setAttribute("width","".concat(Zt.width+100+Tn)),$r.setAttribute("height","".concat(Zt.height+100+Pn)),lo.appendChild($r);var qr=Cn.ownerDocument.createElementNS(Ot.hR,"rect"),Co=_e._.getBoundTextElementPosition(Zt,oo),po=Tn+Co.x-Zt.x,na=Pn+Co.y-Zt.y;qr.setAttribute("x",po.toString()),qr.setAttribute("y",na.toString()),qr.setAttribute("fill","#000"),qr.setAttribute("width","".concat(oo.width)),qr.setAttribute("height","".concat(oo.height)),qr.setAttribute("opacity","1"),lo.appendChild(qr)}At(Zt,pr);var lr=Cn.ownerDocument.createElementNS(Ot.hR,"g");oo&&lr.setAttribute("mask","url(#mask-".concat(Zt.id,")"));var Ir=Zt.opacity/100;lr.setAttribute("stroke-linecap","round"),dn(Zt).forEach(function(os){var Zl=Mt(Xn,os,Ot.zK);Ir!==1&&(Zl.setAttribute("stroke-opacity","".concat(Ir)),Zl.setAttribute("fill-opacity","".concat(Ir))),Zl.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Zt.type==="line"&&(0,vt.g6)(Zt.points)&&Zt.backgroundColor!=="transparent"&&Zl.setAttribute("fill-rule","evenodd"),lr.appendChild(Zl)}),Nr.appendChild(lr),Nr.append(lo);break;case"freedraw":At(Zt,pr),jt(Zt);var Cr=Zt.opacity/100,wr=dn(Zt),Er=wr?Mt(Xn,wr,Ot.zK):Cn.ownerDocument.createElementNS(Ot.hR,"g");Cr!==1&&(Er.setAttribute("stroke-opacity","".concat(Cr)),Er.setAttribute("fill-opacity","".concat(Cr))),Er.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Er.setAttribute("stroke","none");var Rr=Cn.ownerDocument.createElementNS(Ot.hR,"path");Rr.setAttribute("fill",Zt.strokeColor),Rr.setAttribute("d",vn(Zt)),Er.appendChild(Rr),Nr.appendChild(Er);break;case"image":var Kr=Math.round(Zt.width),ga=Math.round(Zt.height),to=(0,at.wi)(Zt)&&Qn[Zt.fileId];if(to){var io="image-".concat(to.id),so=Cn.querySelector("#".concat(io));if(!so){(so=Cn.ownerDocument.createElementNS(Ot.hR,"symbol")).id=io;var mo=Cn.ownerDocument.createElementNS(Ot.hR,"image");mo.setAttribute("width","100%"),mo.setAttribute("height","100%"),mo.setAttribute("href",to.dataURL),so.appendChild(mo),Nr.prepend(so)}var Zo=Cn.ownerDocument.createElementNS(Ot.hR,"use");if(Zo.setAttribute("href","#".concat(io)),tr&&to.mimeType!==Ot.LO.svg&&Zo.setAttribute("filter",It),Zo.setAttribute("width","".concat(Kr)),Zo.setAttribute("height","".concat(ga)),Zt.scale[0]!==1||Zt.scale[1]!==1){var No=Zt.scale[0]!==1?-Kr:0,Jo=Zt.scale[1]!==1?-ga:0;Zo.setAttribute("transform","scale(".concat(Zt.scale[0],", ").concat(Zt.scale[1],") translate(").concat(No," ").concat(Jo,")"))}var Bl=Cn.ownerDocument.createElementNS(Ot.hR,"g");Bl.appendChild(Zo),Bl.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")")),Nr.appendChild(Bl)}break;default:if(!(0,at.iB)(Zt))throw new Error("Unimplemented type ".concat(Zt.type));var ro=Zt.opacity/100,Io=Cn.ownerDocument.createElementNS(Ot.hR,"g");ro!==1&&(Io.setAttribute("stroke-opacity","".concat(ro)),Io.setAttribute("fill-opacity","".concat(ro))),Io.setAttribute("transform","translate(".concat(Tn||0," ").concat(Pn||0,") rotate(").concat(Ar," ").concat(Mn," ").concat(zn,")"));for(var Qo=Zt.text.replace(/\r\n?/g,`
`).split(`
`),Lo=(0,rt.Rg)(Zt.fontSize,Zt.lineHeight),Vl=Zt.textAlign==="center"?Zt.width/2:Zt.textAlign==="right"?Zt.width:0,Dl=(0,xt.dZ)(Zt.text)?"rtl":"ltr",Ll=Zt.textAlign==="center"?"middle":Zt.textAlign==="right"||Dl==="rtl"?"end":"start",Xl=0;Xl<Qo.length;Xl++){var _o=Cn.ownerDocument.createElementNS(Ot.hR,"text");_o.textContent=Qo[Xl],_o.setAttribute("x","".concat(Vl)),_o.setAttribute("y","".concat(Xl*Lo)),_o.setAttribute("font-family",(0,xt.$g)(Zt)),_o.setAttribute("font-size","".concat(Zt.fontSize,"px")),_o.setAttribute("fill",Zt.strokeColor),_o.setAttribute("text-anchor",Ll),_o.setAttribute("style","white-space: pre;"),_o.setAttribute("direction",Dl),_o.setAttribute("dominant-baseline","text-before-edge"),Io.appendChild(_o)}Nr.appendChild(Io)}},hn=new WeakMap([]);function jt(Zt){var Xn=vn(Zt),Cn=new Path2D(Xn);return hn.set(Zt,Cn),Cn}function vn(Zt){return function(Xn){if(!Xn.length)return"";var Cn=Xn.length-1;return Xn.reduce(function(Qn,Tn,Pn,tr){return Pn===Cn?Qn.push(Tn,xn(Tn,tr[0]),"L",tr[0],"Z"):Qn.push(Tn,xn(Tn,tr[Pn+1])),Qn},["M",Xn[0],"Q"]).join(" ").replace(Gn,"$1")}(ct(Zt.simulatePressure?Zt.points:Zt.points.length?Zt.points.map(function(Xn,Cn){var Qn=(0,ot.Z)(Xn,2);return[Qn[0],Qn[1],Zt.pressures[Cn]]}):[[0,0,.5]],{simulatePressure:Zt.simulatePressure,size:4.25*Zt.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(Xn){return Math.sin(Xn*Math.PI/2)},last:!!Zt.lastCommittedPoint}))}function xn(Zt,Xn){return[(Zt[0]+Xn[0])/2,(Zt[1]+Xn[1])/2]}var Gn=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(Ht,St,_){_.d(St,{Lu:function(){return bt},Eu:function(){return st},M_:function(){return In}});var pt,ht=_(2577),ot=_(1930),at=_(5284),gt=_(1047),xt=_(756),vt=_(1868),it=_(3063),kt=_(8982),Ot=_(6938),an=_(242),gn=_(2325),Qt=_(8290),bn=_(267),fn=_(6340);(function(rn){rn.ACTIVE="active",rn.AWAY="away",rn.IDLE="idle"})(pt||(pt={}));var Zn=_(2335),mn=_(4929),pn=_(1974);function An(rn,_t){var Et=typeof Symbol<"u"&&rn[Symbol.iterator]||rn["@@iterator"];if(!Et){if(Array.isArray(rn)||(Et=function(Xt,zt){if(Xt){if(typeof Xt=="string")return ft(Xt,zt);var At=Object.prototype.toString.call(Xt).slice(8,-1);if(At==="Object"&&Xt.constructor&&(At=Xt.constructor.name),At==="Map"||At==="Set")return Array.from(Xt);if(At==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(At))return ft(Xt,zt)}}(rn))||_t&&rn&&typeof rn.length=="number"){Et&&(rn=Et);var Vt=0,Pt=function(){};return{s:Pt,n:function(){return Vt>=rn.length?{done:!0}:{done:!1,value:rn[Vt++]}},e:function(Xt){throw Xt},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,dn=!0,Yt=!1;return{s:function(){Et=Et.call(rn)},n:function(){var Xt=Et.next();return dn=Xt.done,Xt},e:function(Xt){Yt=!0,qt=Xt},f:function(){try{dn||Et.return==null||Et.return()}finally{if(Yt)throw qt}}}}function ft(rn,_t){(_t==null||_t>rn.length)&&(_t=rn.length);for(var Et=0,Vt=new Array(_t);Et<_t;Et++)Vt[Et]=rn[Et];return Vt}var Rt,Bt=(0,fn.Q5)(),bt=2,Gt=function(rn,_t,Et,Vt,Pt,qt,dn,Yt){var Xt=arguments.length>8&&arguments[8]!==void 0&&arguments[8];rn.save(),rn.translate(qt,dn),rn.rotate(Yt),Xt&&rn.fillRect(_t-qt,Et-dn,Vt,Pt),rn.strokeRect(_t-qt,Et-dn,Vt,Pt),rn.restore()},yt=function(rn,_t,Et,Vt){var Pt=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];rn.beginPath(),rn.arc(_t,Et,Vt,0,2*Math.PI),rn.fill(),Pt&&rn.stroke()},Ct=function(rn,_t,Et,Vt,Pt,qt){var dn=arguments.length>6&&arguments[6]!==void 0&&arguments[6];rn.strokeStyle="#5e5ad8",rn.setLineDash([]),rn.fillStyle="rgba(255, 255, 255, 0.9)",qt?rn.fillStyle="rgba(134, 131, 226, 0.9)":dn&&(rn.fillStyle="rgba(177, 151, 252, 0.7)"),yt(rn,Vt[0],Vt[1],Pt/Et.zoom.value,!dn)},ct=function(rn,_t,Et,Vt){if(_t.selectedLinearElement){rn.save(),rn.translate(Et.scrollX,Et.scrollY),rn.lineWidth=1/Et.zoom.value;var Pt=Ot._.getPointsGlobalCoordinates(Vt),qt=Ot._.POINT_HANDLE_SIZE,dn=_t.editingLinearElement?qt:qt/2;Pt.forEach(function(Yt,Xt){var zt,At,Ut=!((zt=_t.editingLinearElement)===null||zt===void 0||(At=zt.selectedPointsIndices)===null||At===void 0||!At.includes(Xt));Ct(rn,_t,Et,Yt,dn,Ut)}),Ot._.getEditorMidPoints(Vt,_t).filter(function(Yt){return Yt!==null}).forEach(function(Yt){var Xt;_t!=null&&(Xt=_t.selectedLinearElement)!==null&&Xt!==void 0&&Xt.segmentMidPointHoveredCoords&&Ot._.arePointsEqual(Yt,_t.selectedLinearElement.segmentMidPointHoveredCoords)?_t.editingLinearElement?(Ct(rn,_t,Et,Yt,dn,!1),rt(Yt,rn,Et)):(rt(Yt,rn,Et),Ct(rn,_t,Et,Yt,dn,!1)):(_t.editingLinearElement||Pt.length===2)&&Ct(rn,_t,Et,Yt,qt/2,!1,!0)}),rn.restore()}},rt=function(rn,_t,Et){_t.fillStyle="rgba(105, 101, 219, 0.4)",yt(_t,rn[0],rn[1],Ot._.POINT_HANDLE_SIZE/Et.zoom.value,!1)},_e=function(rn){var _t,Et=rn.elements,Vt=rn.appState,Pt=rn.scale,qt=rn.rc,dn=rn.canvas,Yt=rn.renderConfig;if(dn===null)return{atLeastOneVisibleElement:!1};var Xt=Yt.renderScrollbars,zt=Xt===void 0||Xt,At=Yt.renderSelection,Ut=At===void 0||At,wt=Yt.renderGrid,Jt=wt===void 0||wt,Mt=Yt.isExporting,un=Yt.selectionColor||at.black,hn=dn.getContext("2d");hn.setTransform(1,0,0,1,0,0),hn.save(),hn.scale(Pt,Pt);var jt=dn.width/Pt,vn=dn.height/Pt;Mt&&Yt.theme==="dark"&&(hn.filter=Zn.ZF),typeof Yt.viewBackgroundColor=="string"?((Yt.viewBackgroundColor==="transparent"||Yt.viewBackgroundColor.length===5||Yt.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(Yt.viewBackgroundColor))&&hn.clearRect(0,0,jt,vn),hn.save(),hn.fillStyle=Yt.viewBackgroundColor,hn.fillRect(0,0,jt,vn),hn.restore()):hn.clearRect(0,0,jt,vn),hn.save(),hn.scale(Yt.zoom.value,Yt.zoom.value),Jt&&Vt.gridSize&&function(Er,Rr,Kr,ga,to,io){Er.save(),Er.strokeStyle="rgba(0,0,0,0.1)",Er.beginPath();for(var so=Kr;so<Kr+to+2*Rr;so+=Rr)Er.moveTo(so,ga-Rr),Er.lineTo(so,ga+io+2*Rr);for(var mo=ga;mo<ga+io+2*Rr;mo+=Rr)Er.moveTo(Kr-Rr,mo),Er.lineTo(Kr+to+2*Rr,mo);Er.stroke(),Er.restore()}(hn,Vt.gridSize,-Math.ceil(Yt.zoom.value/Vt.gridSize)*Vt.gridSize+Yt.scrollX%Vt.gridSize,-Math.ceil(Yt.zoom.value/Vt.gridSize)*Vt.gridSize+Yt.scrollY%Vt.gridSize,jt/Yt.zoom.value,vn/Yt.zoom.value);var xn=Et.filter(function(Er){return Dt(Er,jt,vn,{zoom:Yt.zoom,offsetLeft:Vt.offsetLeft,offsetTop:Vt.offsetTop,scrollX:Yt.scrollX,scrollY:Yt.scrollY})}),Gn=void 0;if(xn.forEach(function(Er){try{var Rr;(0,it.lw)(Er,qt,hn,Yt,Vt),((Rr=Vt.editingLinearElement)===null||Rr===void 0?void 0:Rr.elementId)===Er.id&&Er&&(Gn=Er),Mt||Wt(Er,hn,Vt)}catch(Kr){console.error(Kr)}}),Gn&&ct(hn,Vt,Yt,Gn),Vt.selectionElement)try{(0,it.lw)(Vt.selectionElement,qt,hn,Yt,Vt)}catch(Er){console.error(Er)}(0,Qt.N1)(Vt)&&Vt.suggestedBindings.filter(function(Er){return Er!=null}).forEach(function(Er){tn(hn,Yt,Er)});var Zt,Xn=(0,vt.eD)(Et,Vt);if(Xn.length===1&&((_t=Vt.editingLinearElement)===null||_t===void 0?void 0:_t.elementId)===Xn[0].id&&ct(hn,Vt,Yt,Xn[0]),Vt.selectedLinearElement&&Vt.selectedLinearElement.hoverPointIndex>=0&&function(Er,Rr,Kr){var ga,to,io=Rr.selectedLinearElement,so=io.elementId,mo=io.hoverPointIndex;if((ga=Rr.editingLinearElement)===null||ga===void 0||(to=ga.selectedPointsIndices)===null||to===void 0||!to.includes(mo)){var Zo=Ot._.getElement(so);if(Zo){var No=Ot._.getPointAtIndexGlobalCoordinates(Zo,mo);Er.save(),Er.translate(Kr.scrollX,Kr.scrollY),rt(No,Er,Kr),Er.restore()}}}(hn,Vt,Yt),Ut&&!Vt.multiElement&&!Vt.editingLinearElement){var Cn,Qn=(0,bn.oY)(Xn,Vt),Tn=Xn.map(function(Er){return Er.id});if(Xn.length===1&&(0,pn.bt)(Xn[0])&&((Cn=Vt.selectedLinearElement)===null||Cn===void 0?void 0:Cn.elementId)===Xn[0].id&&!Xn[0].locked&&ct(hn,Vt,Yt,Xn[0]),Qn){var Pn,tr=Et.reduce(function(Er,Rr){var Kr=[];if(Tn.includes(Rr.id)&&!(0,an.zq)(Vt,Rr)&&Kr.push(un),Yt.remoteSelectedElementIds[Rr.id]&&Kr.push.apply(Kr,(0,ot.Z)(Yt.remoteSelectedElementIds[Rr.id].map(function(Bl){return(0,kt.X)(Bl,Vt).background}))),Kr.length){var ga=(0,gt.qf)(Rr,!0),to=(0,ht.Z)(ga,6),io=to[0],so=to[1],mo=to[2],Zo=to[3],No=to[4],Jo=to[5];Er.push({angle:Rr.angle,elementX1:io,elementY1:so,elementX2:mo,elementY2:Zo,selectionColors:Kr,dashed:!!Yt.remoteSelectedElementIds[Rr.id],cx:No,cy:Jo})}return Er},[]),ir=function(Er){var Rr=(0,an.Fb)(Et,Er),Kr=(0,gt.KP)(Rr),ga=(0,ht.Z)(Kr,4),to=ga[0],io=ga[1],so=ga[2],mo=ga[3];tr.push({angle:0,elementX1:to,elementX2:so,elementY1:io,elementY2:mo,selectionColors:[at.black],dashed:!0,cx:to+(so-to)/2,cy:io+(mo-io)/2})},gr=An((0,an.iJ)(Vt));try{for(gr.s();!(Pn=gr.n()).done;)ir(Pn.value)}catch(Er){gr.e(Er)}finally{gr.f()}Vt.editingGroupId&&ir(Vt.editingGroupId),tr.forEach(function(Er){return Tt(hn,Yt,Er)})}if(hn.save(),hn.translate(Yt.scrollX,Yt.scrollY),Xn.length===1){hn.fillStyle=at.white;var Wn=(0,gt.PC)(Xn[0],Yt.zoom,"mouse");!Vt.viewModeEnabled&&Qn&&It(hn,Yt,Wn,Xn[0].angle)}else if(Xn.length>1&&!Vt.isRotating){var ln=2*bt/Yt.zoom.value;hn.fillStyle=at.white;var Un=(0,gt.KP)(Xn),wn=(0,ht.Z)(Un,4),Mn=wn[0],zn=wn[1],Jn=wn[2],er=wn[3],cr=hn.getLineDash();hn.setLineDash([2/Yt.zoom.value]);var or=hn.lineWidth;hn.lineWidth=1/Yt.zoom.value,hn.strokeStyle=un,Gt(hn,Mn-ln,zn-ln,Jn-Mn+2*ln,er-zn+2*ln,(Mn+Jn)/2,(zn+er)/2,0),hn.lineWidth=or,hn.setLineDash(cr);var ur=(0,gt.kK)([Mn,zn,Jn,er,(Mn+Jn)/2,(zn+er)/2],0,Yt.zoom,"mouse",gt.ox);Xn.some(function(Er){return!Er.locked})&&It(hn,Yt,ur,0)}hn.restore()}for(var Ur in hn.restore(),Yt.remotePointerViewportCoords){var Zr=Yt.remotePointerViewportCoords[Ur],yr=Zr.x,Ar=Zr.y;yr-=Vt.offsetLeft,Ar-=Vt.offsetTop;var pr=yr<0||yr>jt-9||Ar<0||Ar>vn-14;yr=Math.max(yr,0),yr=Math.min(yr,jt-9),Ar=Math.max(Ar,0),Ar=Math.min(Ar,vn-14);var Nr=(0,kt.X)(Ur,Vt),Or=Nr.background,ba=Nr.stroke;hn.save(),hn.strokeStyle=ba,hn.fillStyle=Or;var ho=Yt.remotePointerUserStates[Ur];(pr||ho===pt.AWAY)&&(hn.globalAlpha=.48),Yt.remotePointerButton&&Yt.remotePointerButton[Ur]==="down"&&(hn.beginPath(),hn.arc(yr,Ar,15,0,2*Math.PI,!1),hn.lineWidth=3,hn.strokeStyle="#ffffff88",hn.stroke(),hn.closePath(),hn.beginPath(),hn.arc(yr,Ar,15,0,2*Math.PI,!1),hn.lineWidth=1,hn.strokeStyle=ba,hn.stroke(),hn.closePath()),hn.beginPath(),hn.moveTo(yr,Ar),hn.lineTo(yr+1,Ar+14),hn.lineTo(yr+4,Ar+9),hn.lineTo(yr+9,Ar+10),hn.lineTo(yr,Ar),hn.fill(),hn.stroke();var oo=Yt.remotePointerUsernames[Ur],lo="";ho===pt.AWAY?lo=Bt?"":" (".concat(pt.AWAY,")"):ho===pt.IDLE&&(lo=Bt?"":" (".concat(pt.IDLE,")"));var $r="".concat(oo||"").concat(lo?" ".concat(lo):"");if(!pr&&$r){var qr=yr+9,Co=Ar+14,po=hn.measureText($r),na=po.actualBoundingBoxDescent+po.actualBoundingBoxAscent,lr=qr-1,Ir=Co-1,Cr=po.width+8+2,wr=na+8+2;hn.roundRect?(hn.beginPath(),hn.roundRect(lr,Ir,Cr,wr,4/Yt.zoom.value),hn.fillStyle=Or,hn.fill(),hn.fillStyle=ba,hn.stroke()):(hn.fillStyle=ba,hn.fillRect(lr,Ir,Cr,wr),hn.fillStyle=Or,hn.fillRect(qr,Co,Cr-2,wr-2)),hn.fillStyle=at.white,hn.fillText($r,qr+4,Co+4+po.actualBoundingBoxAscent)}hn.restore(),hn.closePath()}return zt&&(Zt=(0,xt.tJ)(Et,jt,vn,Yt),hn.save(),hn.fillStyle=xt.w1,hn.strokeStyle="rgba(255,255,255,0.8)",[Zt.horizontal,Zt.vertical].forEach(function(Er){Er&&function(Rr,Kr,ga,to,io,so){Rr.beginPath(),Rr.moveTo(Kr+so,ga),Rr.lineTo(Kr+to-so,ga),Rr.quadraticCurveTo(Kr+to,ga,Kr+to,ga+so),Rr.lineTo(Kr+to,ga+io-so),Rr.quadraticCurveTo(Kr+to,ga+io,Kr+to-so,ga+io),Rr.lineTo(Kr+so,ga+io),Rr.quadraticCurveTo(Kr,ga+io,Kr,ga+io-so),Rr.lineTo(Kr,ga+so),Rr.quadraticCurveTo(Kr,ga,Kr+so,ga),Rr.closePath(),Rr.fill(),Rr.stroke()}(hn,Er.x,Er.y,Er.width,Er.height,xt.nn/2)}),hn.restore()),hn.restore(),{atLeastOneVisibleElement:xn.length>0,scrollBars:Zt}},lt=(0,fn.hR)(function(rn){var _t,Et=_e(rn);(_t=rn.callback)===null||_t===void 0||_t.call(rn,Et)},{trailing:!0}),st=function(rn,_t){var Et;if(!_t){var Vt=_e(rn);return(Et=rn.callback)===null||Et===void 0||Et.call(rn,Vt),Vt}lt(rn)},It=function(rn,_t,Et,Vt){Object.keys(Et).forEach(function(Pt){var qt=Et[Pt];if(qt!==void 0){var dn=(0,ht.Z)(qt,4),Yt=dn[0],Xt=dn[1],zt=dn[2],At=dn[3];rn.save(),rn.lineWidth=1/_t.zoom.value,_t.selectionColor&&(rn.strokeStyle=_t.selectionColor),Pt==="rotation"?yt(rn,Yt+zt/2,Xt+At/2,zt/2):rn.roundRect?(rn.beginPath(),rn.roundRect(Yt,Xt,zt,At,2/_t.zoom.value),rn.fill(),rn.stroke()):Gt(rn,Yt,Xt,zt,At,Yt+zt/2,Xt+At/2,Vt,!0),rn.restore()}})},Tt=function(rn,_t,Et){var Vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*bt,Pt=Et.angle,qt=Et.elementX1,dn=Et.elementY1,Yt=Et.elementX2,Xt=Et.elementY2,zt=Et.selectionColors,At=Et.cx,Ut=Et.cy,wt=Et.dashed,Jt=Yt-qt,Mt=Xt-dn,un=Vt/_t.zoom.value,hn=8/_t.zoom.value,jt=4/_t.zoom.value;rn.save(),rn.translate(_t.scrollX,_t.scrollY),rn.lineWidth=1/_t.zoom.value;for(var vn=zt.length,xn=0;xn<vn;++xn)rn.strokeStyle=zt[xn],wt&&rn.setLineDash([hn,jt+(hn+jt)*(vn-1)]),rn.lineDashOffset=(hn+jt)*xn,Gt(rn,qt-un,dn-un,Jt+2*un,Mt+2*un,At,Ut,Pt);rn.restore()},tn=function(rn,_t,Et){var Vt=Array.isArray(Et)?$t:Nt;rn.save(),rn.translate(_t.scrollX,_t.scrollY),Vt(rn,Et),rn.restore()},Nt=function(rn,_t){var Et=(0,gt.qf)(_t),Vt=(0,ht.Z)(Et,4),Pt=Vt[0],qt=Vt[1],dn=Vt[2]-Pt,Yt=Vt[3]-qt,Xt=(0,gn.fb)(_t,dn,Yt);rn.strokeStyle="rgba(0,0,0,.05)",rn.lineWidth=Xt-4;var zt=2+Xt/2;switch(_t.type){case"rectangle":case"text":case"image":Gt(rn,Pt-zt,qt-zt,dn+2*zt,Yt+2*zt,Pt+dn/2,qt+Yt/2,_t.angle);break;case"diamond":var At=Math.hypot(dn,Yt);(function(Ut,wt,Jt,Mt,un,hn){Ut.save(),Ut.translate(Mt,un),Ut.rotate(hn),Ut.beginPath(),Ut.moveTo(0,Jt/2),Ut.lineTo(wt/2,0),Ut.lineTo(0,-Jt/2),Ut.lineTo(-wt/2,0),Ut.closePath(),Ut.stroke(),Ut.restore()})(rn,dn+2*(zt*At/Yt),Yt+2*(zt*At/dn),Pt+dn/2,qt+Yt/2,_t.angle);break;case"ellipse":(function(Ut,wt,Jt,Mt,un,hn){Ut.beginPath(),Ut.ellipse(Mt,un,wt/2,Jt/2,hn,0,2*Math.PI),Ut.stroke()})(rn,dn+2*zt,Yt+2*zt,Pt+dn/2,qt+Yt/2,_t.angle)}},$t=function(rn,_t){var Et=(0,ht.Z)(_t,3),Vt=Et[0],Pt=Et[1],qt=Et[2],dn=(0,gn.fb)(qt,qt.width,qt.height);rn.strokeStyle="rgba(0,0,0,0)",rn.fillStyle="rgba(0,0,0,.05)",(Pt==="both"?[0,-1]:Pt==="start"?[0]:[-1]).forEach(function(Yt){var Xt=Ot._.getPointAtIndexGlobalCoordinates(Vt,Yt),zt=(0,ht.Z)(Xt,2),At=zt[0],Ut=zt[1];yt(rn,At,Ut,dn)})},Wt=function(rn,_t,Et){if(rn.link&&!Et.selectedElementIds[rn.id]){var Vt=(0,gt.qf)(rn),Pt=(0,ht.Z)(Vt,4),qt=Pt[0],dn=Pt[1],Yt=Pt[2],Xt=Pt[3],zt=(0,mn.sw)([qt,dn,Yt,Xt],rn.angle,Et),At=(0,ht.Z)(zt,4),Ut=At[0],wt=At[1],Jt=At[2],Mt=At[3],un=Ut+Jt/2,hn=wt+Mt/2;if(_t.save(),_t.translate(Et.scrollX+un,Et.scrollY+hn),_t.rotate(rn.angle),Rt&&Rt.zoom===Et.zoom.value)_t.drawImage(Rt,Ut-un,wt-hn,Jt,Mt);else{(Rt=document.createElement("canvas")).zoom=Et.zoom.value,Rt.width=Jt*window.devicePixelRatio*Et.zoom.value,Rt.height=Mt*window.devicePixelRatio*Et.zoom.value;var jt=Rt.getContext("2d");jt.scale(window.devicePixelRatio*Et.zoom.value,window.devicePixelRatio*Et.zoom.value),jt.fillStyle="#fff",jt.fillRect(0,0,Jt,Mt),jt.drawImage(mn.rj,0,0,Jt,Mt),jt.restore(),_t.drawImage(Rt,Ut-un,wt-hn,Jt,Mt)}_t.restore()}},Dt=function(rn,_t,Et,Vt){var Pt=(0,gt.Pi)(rn),qt=(0,ht.Z)(Pt,4),dn=qt[0],Yt=qt[1],Xt=qt[2],zt=qt[3],At=(0,fn.dE)({clientX:Vt.offsetLeft,clientY:Vt.offsetTop},Vt),Ut=(0,fn.dE)({clientX:Vt.offsetLeft+_t,clientY:Vt.offsetTop+Et},Vt);return At.x<=Xt&&At.y<=zt&&Ut.x>=dn&&Ut.y>=Yt},In=function(rn,_t,Et,Vt){var Pt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},qt=Pt.offsetX,dn=qt===void 0?0:qt,Yt=Pt.offsetY,Xt=Yt===void 0?0:Yt,zt=Pt.exportWithDarkMode,At=zt!==void 0&&zt;Et&&rn.forEach(function(Ut,wt){if(!Ut.isDeleted)try{(0,it.Rg)(Ut,_t,Et,Vt,Ut.x+dn,Ut.y+Xt,At)}catch(Jt){console.error(Jt)}})}},1564:function(Ht,St,_){var pt=_(1930),ht=_(8821),ot=_(5169),at=_(1047),gt=function(vt){return typeof vt=="string"},xt=function(){function vt(){(0,ht.Z)(this,vt),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,ot.Z)(vt,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(it){return this.elementsMap.get(it)||null}},{key:"getNonDeletedElement",value:function(it){var kt=this.getElement(it);return kt&&(0,at.qP)(kt)?kt:null}},{key:"mapElements",value:function(it){var kt=!1,Ot=this.elements.map(function(an){var gn=it(an);return gn!==an&&(kt=!0),gn});return kt&&this.replaceAllElements(Ot),kt}},{key:"replaceAllElements",value:function(it){var kt=this;this.elements=it,this.elementsMap.clear(),it.forEach(function(Ot){kt.elementsMap.set(Ot.id,Ot),vt.mapElementToScene(Ot,kt)}),this.nonDeletedElements=(0,at.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var it=0,kt=Array.from(this.callbacks);it<kt.length;it++)(0,kt[it])()}},{key:"addCallback",value:function(it){var kt=this;if(this.callbacks.has(it))throw new Error;return this.callbacks.add(it),function(){if(!kt.callbacks.has(it))throw new Error;kt.callbacks.delete(it)}}},{key:"destroy",value:function(){var it=this;vt.sceneMapById.forEach(function(kt,Ot){kt===it&&vt.sceneMapById.delete(Ot)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(it,kt){if(!Number.isFinite(kt)||kt<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var Ot=[].concat((0,pt.Z)(this.elements.slice(0,kt)),[it],(0,pt.Z)(this.elements.slice(kt)));this.replaceAllElements(Ot)}},{key:"getElementIndex",value:function(it){return this.elements.findIndex(function(kt){return kt.id===it})}}],[{key:"mapElementToScene",value:function(it,kt){gt(it)?this.sceneMapById.set(it,kt):(this.sceneMapByElement.set(it,kt),this.sceneMapById.set(it.id,kt))}},{key:"getScene",value:function(it){return gt(it)?this.sceneMapById.get(it)||null:this.sceneMapByElement.get(it)||null}}]),vt}();xt.sceneMapByElement=new WeakMap,xt.sceneMapById=new Map,St.Z=xt},8120:function(Ht,St,_){_.d(St,{$b:function(){return pt},CJ:function(){return kt},M9:function(){return at},PD:function(){return ht},QG:function(){return it},Un:function(){return vt},Zd:function(){return ot},bZ:function(){return xt},sh:function(){return gt}});var pt=function(Ot){return Ot==="rectangle"||Ot==="ellipse"||Ot==="diamond"||Ot==="line"||Ot==="freedraw"},ht=function(Ot){return Ot!=="image"},ot=function(Ot){return Ot==="rectangle"||Ot==="ellipse"||Ot==="diamond"||Ot==="freedraw"||Ot==="arrow"||Ot==="line"},at=function(Ot){return Ot==="rectangle"||Ot==="ellipse"||Ot==="diamond"||Ot==="arrow"||Ot==="line"},gt=function(Ot){return Ot==="rectangle"||Ot==="arrow"||Ot==="line"||Ot==="diamond"},xt=function(Ot){return Ot==="text"},vt=function(Ot){return Ot==="arrow"},it=function(Ot,an){for(var gn=null,Qt=Ot.length-1;Qt>=0;--Qt){var bn=Ot[Qt];if(!bn.isDeleted&&an(bn)){gn=bn;break}}return gn},kt=function(Ot,an){return Ot.filter(function(gn){return!gn.isDeleted&&an(gn)})}},4162:function(Ht,St,_){_.d(St,{$D:function(){return fn},Cg:function(){return mn},NL:function(){return bn},oj:function(){return Qt}});var pt=_(2577),ht=_(8950),ot=_(2975),at=_.n(ot),gt=_(8234),xt=_(8925),vt=_(3547),it=_(6340),kt=_(2335),Ot=_(8897),an=_(5523),gn=_(5637),Qt="<!-- svg-source:excalidraw -->",bn=function(){var pn=(0,ht.Z)(at().mark(function An(ft,Rt,Bt,bt){var Gt,yt,Ct,ct,rt,_e,lt,st,It,Tt,tn,Nt,$t,Wt,Dt,In,rn,_t,Et=arguments;return at().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Gt=bt.exportBackground,yt=bt.exportPadding,Ct=yt===void 0?kt.qy:yt,ct=bt.viewBackgroundColor,rt=Et.length>4&&Et[4]!==void 0?Et[4]:function(Pt,qt){var dn=document.createElement("canvas");return dn.width=Pt*Rt.exportScale,dn.height=qt*Rt.exportScale,{canvas:dn,scale:Rt.exportScale}},_e=Zn(ft,Ct),lt=(0,pt.Z)(_e,4),st=lt[0],It=lt[1],Tt=lt[2],tn=lt[3],Nt=rt(Tt,tn),$t=Nt.canvas,Wt=Nt.scale,Dt=Wt===void 0?1:Wt,In=(0,Ot.im)(),Vt.next=7,(0,gn.Xx)({imageCache:new Map,fileIds:(0,gn.oA)(ft).map(function(Pt){return Pt.fileId}),files:Bt});case 7:return rn=Vt.sent,_t=rn.imageCache,(0,vt.Eu)({elements:ft,appState:Rt,scale:Dt,rc:gt.Z.canvas($t),canvas:$t,renderConfig:{viewBackgroundColor:Gt?ct:null,scrollX:-st+Ct,scrollY:-It+Ct,zoom:In.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:Rt.exportWithDarkMode?"dark":"light",imageCache:_t,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),Vt.abrupt("return",$t);case 11:case"end":return Vt.stop()}},An)}));return function(An,ft,Rt,Bt){return pn.apply(this,arguments)}}(),fn=function(){var pn=(0,ht.Z)(at().mark(function An(ft,Rt,Bt,bt){var Gt,yt,Ct,ct,rt,_e,lt,st,It,Tt,tn,Nt,$t,Wt,Dt,In,rn,_t,Et;return at().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(Gt=Rt.exportPadding,yt=Gt===void 0?kt.qy:Gt,Ct=Rt.viewBackgroundColor,ct=Rt.exportScale,rt=ct===void 0?1:ct,_e=Rt.exportEmbedScene,lt="",!_e){Vt.next=14;break}return Vt.prev=3,Vt.next=6,Promise.resolve().then(_.bind(_,673));case 6:return Vt.next=8,Vt.sent.encodeSvgMetadata({text:bt!=null&&bt.serializeAsJSON?bt==null||(st=bt.serializeAsJSON)===null||st===void 0?void 0:st.call(bt):(0,an.I_)(ft,Rt,Bt||{},"local")});case 8:lt=Vt.sent,Vt.next=14;break;case 11:Vt.prev=11,Vt.t0=Vt.catch(3),console.error(Vt.t0);case 14:return It=Zn(ft,yt),Tt=(0,pt.Z)(It,4),tn=Tt[0],Nt=Tt[1],$t=Tt[2],Wt=Tt[3],(Dt=document.createElementNS(kt.hR,"svg")).setAttribute("version","1.1"),Dt.setAttribute("xmlns",kt.hR),Dt.setAttribute("viewBox","0 0 ".concat($t," ").concat(Wt)),Dt.setAttribute("width","".concat($t*rt)),Dt.setAttribute("height","".concat(Wt*rt)),Rt.exportWithDarkMode&&Dt.setAttribute("filter",kt.ZF),In="https://excalidraw.com/",In=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.2"),(rn=In)!==null&&rn!==void 0&&rn.startsWith("/")&&(In=In.replace("/","".concat(window.location.origin,"/"))),In="".concat(In,"/dist/excalidraw-assets/"),Dt.innerHTML=`
  `.concat(Qt,`
  `).concat(lt,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(In,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(In,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),Rt.exportBackground&&Ct&&((_t=Dt.ownerDocument.createElementNS(kt.hR,"rect")).setAttribute("x","0"),_t.setAttribute("y","0"),_t.setAttribute("width","".concat($t)),_t.setAttribute("height","".concat(Wt)),_t.setAttribute("fill",Ct),Dt.appendChild(_t)),Et=gt.Z.svg(Dt),(0,vt.M_)(ft,Et,Dt,Bt||{},{offsetX:-tn+yt,offsetY:-Nt+yt,exportWithDarkMode:Rt.exportWithDarkMode}),Vt.abrupt("return",Dt);case 29:case"end":return Vt.stop()}},An,null,[[3,11]])}));return function(An,ft,Rt,Bt){return pn.apply(this,arguments)}}(),Zn=function(pn,An){var ft=(0,xt.KP)(pn),Rt=(0,pt.Z)(ft,4),Bt=Rt[0],bt=Rt[1],Gt=Rt[2],yt=Rt[3];return[Bt,bt,(0,it.TE)(Bt,Gt)+2*An,(0,it.TE)(bt,yt)+An+An]},mn=function(pn,An,ft){var Rt=Zn(pn,An).map(function(bt){return Math.trunc(bt*ft)}),Bt=(0,pt.Z)(Rt,4);return[Bt[2],Bt[3]]}},75:function(Ht,St,_){_.d(St,{$b:function(){return at.$b},CJ:function(){return at.CJ},M9:function(){return at.M9},N:function(){return ht.N},PR:function(){return ht.PR},QG:function(){return at.QG},Un:function(){return at.Un},W:function(){return ot.W},Yp:function(){return ht.Yp},Zd:function(){return at.Zd},Zs:function(){return ht.Zs},_4:function(){return pt._4},bZ:function(){return at.bZ},eD:function(){return ht.eD},j:function(){return gt.j},sh:function(){return at.sh}});var pt=_(756),ht=_(1868),ot=_(2264),at=_(8120),gt=_(746)},2264:function(Ht,St,_){_.d(St,{W:function(){return gt},s:function(){return at}});var pt=_(2577),ht=_(1047),ot=_(6340),at=function(xt){var vt=xt.scenePoint,it=xt.viewportDimensions,kt=xt.zoom;return{scrollX:it.width/2/kt.value-vt.x,scrollY:it.height/2/kt.value-vt.y}},gt=function(xt,vt,it){if(!(xt=(0,ht.n_)(xt)).length)return{scrollX:0,scrollY:0};var kt=(0,ht.KP)(xt),Ot=(0,pt.Z)(kt,4),an=Ot[0],gn=Ot[1],Qt=Ot[2],bn=Ot[3];if(function(mn,pn,An){var ft=(0,pt.Z)(An,4),Rt=ft[0],Bt=ft[1],bt=ft[2],Gt=ft[3],yt=(0,ot._i)({sceneX:Rt,sceneY:Bt},mn),Ct=yt.x,ct=yt.y,rt=(0,ot._i)({sceneX:bt,sceneY:Gt},mn),_e=rt.x,lt=rt.y;return _e-Ct>mn.width||lt-ct>mn.height}(vt,0,[an,gn,Qt,bn])){var fn=(0,ht.os)(xt,(0,ot.dE)({clientX:vt.scrollX,clientY:vt.scrollY},vt)),Zn=(0,pt.Z)(fn,4);an=Zn[0],gn=Zn[1],Qt=Zn[2],bn=Zn[3]}return at({scenePoint:{x:(an+Qt)/2,y:(gn+bn)/2},viewportDimensions:{width:vt.width,height:vt.height},zoom:vt.zoom})}},756:function(Ht,St,_){_.d(St,{WM:function(){return gt},_4:function(){return kt},nn:function(){return xt},tJ:function(){return it},w1:function(){return vt}});var pt=_(2577),ht=_(1047),ot=_(6340),at=_(8211),gt=4,xt=6,vt="rgba(0,0,0,0.3)",it=function(Ot,an,gn,Qt){var bn=Qt.scrollX,fn=Qt.scrollY,Zn=Qt.zoom;if(Ot.length===0)return{horizontal:null,vertical:null};var mn=(0,ht.KP)(Ot),pn=(0,pt.Z)(mn,4),An=pn[0],ft=pn[1],Rt=pn[2],Bt=pn[3],bt=an/Zn.value,Gt=gn/Zn.value,yt=an-bt,Ct=gn-Gt,ct={top:parseInt((0,ot.IH)("sat")),bottom:parseInt((0,ot.IH)("sab")),left:parseInt((0,ot.IH)("sal")),right:parseInt((0,ot.IH)("sar"))},rt=(0,at.G3)().rtl,_e=yt/2-bn+ct.left,lt=Ct/2-fn+ct.top,st=_e+bt-ct.right,It=lt+Gt-ct.bottom,Tt=Math.min(An,_e),tn=Math.min(ft,lt),Nt=Math.max(Rt,st),$t=Math.max(Bt,It);return{horizontal:_e===Tt&&st===Nt?null:{x:Math.max(ct.left,gt)+(_e-Tt)/(Nt-Tt)*an,y:gn-xt-Math.max(gt,ct.bottom),width:(st-_e)/(Nt-Tt)*an-Math.max(2*gt,ct.left+ct.right),height:xt},vertical:lt===tn&&It===$t?null:{x:rt?Math.max(ct.left,gt):an-xt-Math.max(ct.right,gt),y:(lt-tn)/($t-tn)*gn+Math.max(ct.top,gt),width:xt,height:(It-lt)/($t-tn)*gn-Math.max(2*gt,ct.top+ct.bottom)}}},kt=function(Ot,an,gn){var Qt=[Ot.horizontal,Ot.vertical].map(function(mn){return mn!=null&&mn.x<=an&&an<=mn.x+mn.width&&mn.y<=gn&&gn<=mn.y+mn.height}),bn=(0,pt.Z)(Qt,2),fn=bn[0],Zn=bn[1];return{isOverEither:fn||Zn,isOverHorizontal:fn,isOverVertical:Zn}}},1868:function(Ht,St,_){_.d(St,{N:function(){return gt},PR:function(){return xt},Yp:function(){return at},Zs:function(){return it},eD:function(){return vt}});var pt=_(2577),ht=_(1047),ot=_(1974),at=function(kt,Ot){var an=(0,ht.qf)(Ot),gn=(0,pt.Z)(an,4),Qt=gn[0],bn=gn[1],fn=gn[2],Zn=gn[3];return kt.filter(function(mn){var pn=(0,ht.Pi)(mn),An=(0,pt.Z)(pn,4),ft=An[0],Rt=An[1],Bt=An[2],bt=An[3];return mn.locked===!1&&mn.type!=="selection"&&!(0,ot.Xh)(mn)&&Qt<=ft&&bn<=Rt&&fn>=Bt&&Zn>=bt})},gt=function(kt,Ot){return kt.some(function(an){return Ot.selectedElementIds[an.id]})},xt=function(kt,Ot,an){var gn=Array.from(new Set(vt(kt,Ot).map(function(Qt){return an(Qt)})));return gn.length===1?gn[0]:null},vt=function(kt,Ot){var an=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return kt.filter(function(gn){return Ot.selectedElementIds[gn.id]||an&&(0,ot.Xh)(gn)&&Ot.selectedElementIds[gn==null?void 0:gn.containerId]?gn:null})},it=function(kt,Ot){return Ot.editingElement?[Ot.editingElement]:vt(kt,Ot,!0)}},746:function(Ht,St,_){_.d(St,{E:function(){return ot},j:function(){return ht}});var pt=_(2335),ht=function(at){return Math.max(pt.Zj,Math.min(at,30))},ot=function(at,gt){var xt=at.viewportX,vt=at.viewportY,it=at.nextZoom,kt=xt-gt.offsetLeft,Ot=vt-gt.offsetTop,an=gt.zoom.value;return{scrollX:gt.scrollX+(kt-kt/an)+-(kt-kt/it),scrollY:gt.scrollY+(Ot-Ot/an)+-(Ot-Ot/it),zoom:{value:it}}}},6340:function(Ht,St,_){_.d(St,{$9:function(){return Xt},$g:function(){return mn},$h:function(){return xn},AK:function(){return _t},B4:function(){return Gt},C3:function(){return Jt},Ds:function(){return An},FG:function(){return Et},Fc:function(){return gn},G3:function(){return wt},I4:function(){return un},IH:function(){return Dt},Ip:function(){return At},KJ:function(){return _e},Mj:function(){return Cn},OF:function(){return lt},Om:function(){return ct},Oo:function(){return Qt},PI:function(){return dn},Pr:function(){return tn},Q5:function(){return zt},Qm:function(){return qt},TE:function(){return Ct},Uk:function(){return st},_Z:function(){return fn},_i:function(){return Wt},ag:function(){return jt},cx:function(){return Vt},dE:function(){return $t},dZ:function(){return rn},h2:function(){return hn},hR:function(){return ft},mO:function(){return pn},qr:function(){return Pt},qz:function(){return Ut},rB:function(){return It},s:function(){return Zn},tH:function(){return Yt},uY:function(){return Nt},v4:function(){return vn},w8:function(){return Xn},wO:function(){return bn},wo:function(){return Tt},xn:function(){return Mt},xp:function(){return Zt},y8:function(){return Gn},yo:function(){return yt},z8:function(){return rt}});var pt=_(6655),ht=_(7169),ot=_(1930),at=_(2577),gt=_(5284),xt=_(56),vt=_(2335),it=_(5156),kt=_(8897);function Ot(Qn,Tn){var Pn=Object.keys(Qn);if(Object.getOwnPropertySymbols){var tr=Object.getOwnPropertySymbols(Qn);Tn&&(tr=tr.filter(function(ir){return Object.getOwnPropertyDescriptor(Qn,ir).enumerable})),Pn.push.apply(Pn,tr)}return Pn}function an(Qn){for(var Tn=1;Tn<arguments.length;Tn++){var Pn=arguments[Tn]!=null?arguments[Tn]:{};Tn%2?Ot(Object(Pn),!0).forEach(function(tr){(0,ht.Z)(Qn,tr,Pn[tr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qn,Object.getOwnPropertyDescriptors(Pn)):Ot(Object(Pn)).forEach(function(tr){Object.defineProperty(Qn,tr,Object.getOwnPropertyDescriptor(Pn,tr))})}return Qn}var gn=function(){var Qn=new Date,Tn=Qn.getFullYear(),Pn="".concat(Qn.getMonth()+1).padStart(2,"0"),tr="".concat(Qn.getDate()).padStart(2,"0"),ir="".concat(Qn.getHours()).padStart(2,"0"),gr="".concat(Qn.getMinutes()).padStart(2,"0");return"".concat(Tn,"-").concat(Pn,"-").concat(tr,"-").concat(ir).concat(gr)},Qt=function(Qn){return Qn.charAt(0).toUpperCase()+Qn.slice(1)},bn=function(Qn){return Qn instanceof HTMLElement&&Qn.className.includes("ToolIcon")},fn=function(Qn){return Qn instanceof HTMLElement&&Qn.dataset.type==="wysiwyg"||Qn instanceof HTMLBRElement||Qn instanceof HTMLInputElement||Qn instanceof HTMLTextAreaElement||Qn instanceof HTMLSelectElement},Zn=function(Qn){return Qn instanceof HTMLElement&&Qn.dataset.type==="wysiwyg"||Qn instanceof HTMLBRElement||Qn instanceof HTMLTextAreaElement||Qn instanceof HTMLInputElement&&(Qn.type==="text"||Qn.type==="number")},mn=function(Qn){for(var Tn=Qn.fontFamily,Pn=0,tr=Object.entries(vt.ut);Pn<tr.length;Pn++){var ir=(0,at.Z)(tr[Pn],2),gr=ir[0];if(ir[1]===Tn)return"".concat(gr,", ").concat(vt._D)}return vt._D},pn=function(Qn){var Tn=Qn.fontSize,Pn=Qn.fontFamily;return"".concat(Tn,"px ").concat(mn({fontFamily:Pn}))},An=function(Qn,Tn){var Pn=0,tr=null,ir=function(){for(var gr=arguments.length,Wn=new Array(gr),ln=0;ln<gr;ln++)Wn[ln]=arguments[ln];tr=Wn,clearTimeout(Pn),Pn=window.setTimeout(function(){tr=null,Qn.apply(void 0,Wn)},Tn)};return ir.flush=function(){if(clearTimeout(Pn),tr){var gr=tr;tr=null,Qn.apply(void 0,(0,ot.Z)(gr))}},ir.cancel=function(){tr=null,clearTimeout(Pn)},ir},ft=function(Qn,Tn){var Pn=null,tr=null,ir=null,gr=function ln(Un){Pn=window.requestAnimationFrame(function(){Pn=null,Qn.apply(void 0,(0,ot.Z)(Un)),tr=null,ir&&(tr=ir,ir=null,ln(tr))})},Wn=function(){for(var ln=arguments.length,Un=new Array(ln),wn=0;wn<ln;wn++)Un[wn]=arguments[wn];tr=Un,Pn===null?gr(tr):Tn!=null&&Tn.trailing&&(ir=Un)};return Wn.flush=function(){Pn!==null&&(cancelAnimationFrame(Pn),Pn=null),tr&&(Qn.apply(void 0,(0,ot.Z)(ir||tr)),tr=ir=null)},Wn.cancel=function(){tr=ir=null,Pn!==null&&(cancelAnimationFrame(Pn),Pn=null)},Wn};function Rt(Qn){return 1-Math.pow(1-Qn,4)}var Bt,bt,Gt=function(Qn,Tn,Pn,tr){var ir,gr=!1,Wn=0,ln=(tr==null?void 0:tr.duration)||250,Un=(tr==null?void 0:tr.easeFn)||Rt;return Wn=window.requestAnimationFrame(function wn(Mn){if(!gr){ir===void 0&&(ir=Mn);var zn=Mn-ir;if(zn<ln){var Jn=Un(zn/ln),er=Qn.map(function(cr,or){return(Tn[or]-cr)*Jn+cr});Pn.apply(void 0,(0,ot.Z)(er)),Wn=window.requestAnimationFrame(wn)}else Pn.apply(void 0,(0,ot.Z)(Tn))}}),function(){gr=!0,window.cancelAnimationFrame(Wn)}},yt=function(Qn,Tn){if(!Qn.length||Tn<1)return[];for(var Pn=0,tr=0,ir=Array(Math.ceil(Qn.length/Tn));Pn<Qn.length;)ir[tr++]=Qn.slice(Pn,Pn+=Tn);return ir},Ct=function(Qn,Tn){return Math.abs(Qn-Tn)},ct=function(Qn,Tn){return Tn.type==="custom"?an(an({},Qn.activeTool),{},{type:"custom",customType:Tn.customType}):an(an({},Qn.activeTool),{},{lastActiveTool:Tn.lastActiveToolBeforeEraser===void 0?Qn.activeTool.lastActiveTool:Tn.lastActiveToolBeforeEraser,type:Tn.type,customType:null})},rt=function(Qn){Qn&&(Qn.style.cursor="")},_e=function(Qn,Tn){Qn&&(Qn.style.cursor=Tn)},lt=function(Qn,Tn){Bt&&Bt.theme===Tn||function(){var Pn=Tn===vt.C6.DARK;(Bt=document.createElement("canvas")).theme=Tn,Bt.height=20,Bt.width=20;var tr=Bt.getContext("2d");tr.lineWidth=1,tr.beginPath(),tr.arc(Bt.width/2,Bt.height/2,5,0,2*Math.PI),tr.fillStyle=Pn?gt.black:gt.white,tr.fill(),tr.strokeStyle=Pn?gt.white:gt.black,tr.stroke(),bt=Bt.toDataURL(vt.LO.svg)}(),_e(Qn,"url(".concat(bt,") ").concat(10," ").concat(10,", auto"))},st=function(Qn,Tn){Qn&&(Tn.activeTool.type==="selection"?rt(Qn):(0,kt.l$)(Tn)?Qn.style.cursor=vt.oc.GRAB:(0,kt.EN)(Tn)?lt(Qn,Tn.theme):["image","custom"].includes(Tn.activeTool.type)||(Qn.style.cursor=vt.oc.CROSSHAIR))},It=function(){var Qn;return((Qn=document.fullscreenElement)===null||Qn===void 0?void 0:Qn.nodeName)==="HTML"},Tt=function(){return document.documentElement.requestFullscreen()},tn=function(){return document.exitFullscreen()},Nt=function(Qn){return Qn=Qn.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),vt.Um?Qn.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):Qn.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},$t=function(Qn,Tn){var Pn=Qn.clientX,tr=Qn.clientY,ir=Tn.zoom,gr=Tn.offsetLeft,Wn=Tn.offsetTop,ln=Tn.scrollX,Un=Tn.scrollY;return{x:(Pn-gr)/ir.value-ln,y:(tr-Wn)/ir.value-Un}},Wt=function(Qn,Tn){var Pn=Qn.sceneX,tr=Qn.sceneY,ir=Tn.zoom,gr=Tn.offsetLeft,Wn=Tn.offsetTop,ln=Tn.scrollX,Un=Tn.scrollY;return{x:(Pn+ln)*ir.value+gr,y:(tr+Un)*ir.value+Wn}},Dt=function(Qn){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(Qn))},In=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),rn=function(Qn){return In.test(Qn)},_t=function(Qn){var Tn=(0,at.Z)(Qn,2);return{x:Tn[0],y:Tn[1]}},Et=function(Qn){if((Qn==null?void 0:Qn.name)!=="AbortError")throw Qn;console.warn(Qn)},Vt=function(Qn,Tn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Pn<0&&(Pn=Qn.length+Pn);for(var tr=(Pn=Math.min(Qn.length,Math.max(Pn,0)))-1;++tr<Qn.length;)if(Tn(Qn[tr],tr,Qn))return tr;return-1},Pt=function(Qn,Tn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qn.length-1;Pn<0&&(Pn=Qn.length+Pn);for(var tr=(Pn=Math.min(Qn.length-1,Math.max(Pn,0)))+1;--tr>-1;)if(Tn(Qn[tr],tr,Qn))return tr;return-1},qt=function(Qn){var Tn=Qn.length===5&&Qn.substr(4,1)==="0",Pn=Qn.length===9&&Qn.substr(7,2)==="00";return Tn||Pn||Qn===xt.Z.elementBackground[0]},dn=function(){var Qn,Tn,Pn=new Promise(function(tr,ir){Qn=tr,Tn=ir});return Pn.resolve=Qn,Pn.reject=Tn,Pn},Yt=function(Qn){return function(Tn){(0,it.unstable_batchedUpdates)(Qn,Tn)}},Xt=function(Qn){return ft(function(Tn){(0,it.unstable_batchedUpdates)(Qn,Tn)})},zt=function(){var Qn=document.createElement("canvas").getContext("2d");return Qn?(Qn.fillStyle="#f00",Qn.textBaseline="top",Qn.font="32px Arial",Qn.fillText("",0,0),Qn.getImageData(12,12,1,1).data[0]!==0):!1},At=function(Qn){for(var Tn=Qn.parentElement;Tn;){if(Tn===document.body)return document;var Pn=window.getComputedStyle(Tn).overflowY;if(Tn.scrollHeight>Tn.clientHeight&&(Pn==="auto"||Pn==="scroll"||Pn==="overlay"))return Tn;Tn=Tn.parentElement}return document},Ut=function(Qn){for(var Tn=Qn.parentElement;Tn;){if(Tn.tabIndex>-1)return void Tn.focus();Tn=Tn.parentElement}},wt=function(Qn){return Array.from(Qn).map(function(Tn){return"0".concat(Tn.toString(16)).slice(-2)}).join("")},Jt=function(){return hn()?1:Date.now()},Mt=function(Qn){return Qn.reduce(function(Tn,Pn){return Tn.set(typeof Pn=="string"?Pn:Pn.id,Pn),Tn},new Map)},un=function(Qn){return Qn.reduce(function(Tn,Pn,tr){return Tn.set(Pn.id,[Pn,tr]),Tn},new Map)},hn=function(){return!1},jt=function(Qn,Tn){return new CustomEvent(Qn,{detail:{nativeEvent:Tn},cancelable:!0})},vn=function(Qn,Tn){var Pn=!1;for(var tr in Tn){var ir=Tn[tr];if(ir!==void 0){if(Qn[tr]===ir&&((0,pt.Z)(ir)!=="object"||ir===null))continue;Pn=!0}}return Pn?an(an({},Qn),Tn):Qn},xn=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Gn=function(Qn){return!!Qn&&(0,pt.Z)(Qn)==="object"&&"then"in Qn&&"catch"in Qn&&"finally"in Qn},Zt=function(Qn){var Tn=Qn==null?void 0:Qn.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return Tn?Array.from(Tn).filter(function(Pn){return Pn.tabIndex>-1&&!Pn.disabled}):[]},Xn=function(Qn,Tn){var Pn=Object.keys(Qn),tr=Object.keys(Qn);return Pn.length===tr.length&&Pn.every(function(ir){return Qn[ir]===Tn[ir]})},Cn=function(Qn,Tn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tr=Pn.checkForDefaultPrevented,ir=tr===void 0||tr;return function(gr){if(Qn==null||Qn(gr),!ir||!gr.defaultPrevented)return Tn==null?void 0:Tn(gr)}}},9669:function(Ht){Ht.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(Ht){Ht.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(Ht){Ht.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(Ht,St,_){Ht.exports=_.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(Ht,St,_){Ht.exports=_.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(Ht,St,_){Ht.exports=_.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(Ht,St,_){Ht.exports=_.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(Ht,St,_){Ht.exports=_.p+"excalidraw-assets/Cascadia.woff2"},3940:function(Ht,St,_){Ht.exports=_.p+"excalidraw-assets/Virgil.woff2"},9787:function(Ht){Ht.exports=$},5156:function(Ht){Ht.exports=tt},9649:function(Ht,St,_){var pt=_(8114).default;function ht(){Ht.exports=ht=function(){return ot},Ht.exports.__esModule=!0,Ht.exports.default=Ht.exports;var ot={},at=Object.prototype,gt=at.hasOwnProperty,xt=Object.defineProperty||function(st,It,Tt){st[It]=Tt.value},vt=typeof Symbol=="function"?Symbol:{},it=vt.iterator||"@@iterator",kt=vt.asyncIterator||"@@asyncIterator",Ot=vt.toStringTag||"@@toStringTag";function an(st,It,Tt){return Object.defineProperty(st,It,{value:Tt,enumerable:!0,configurable:!0,writable:!0}),st[It]}try{an({},"")}catch{an=function(It,Tt,tn){return It[Tt]=tn}}function gn(st,It,Tt,tn){var Nt=It&&It.prototype instanceof fn?It:fn,$t=Object.create(Nt.prototype),Wt=new rt(tn||[]);return xt($t,"_invoke",{value:Gt(st,Tt,Wt)}),$t}function Qt(st,It,Tt){try{return{type:"normal",arg:st.call(It,Tt)}}catch(tn){return{type:"throw",arg:tn}}}ot.wrap=gn;var bn={};function fn(){}function Zn(){}function mn(){}var pn={};an(pn,it,function(){return this});var An=Object.getPrototypeOf,ft=An&&An(An(_e([])));ft&&ft!==at&&gt.call(ft,it)&&(pn=ft);var Rt=mn.prototype=fn.prototype=Object.create(pn);function Bt(st){["next","throw","return"].forEach(function(It){an(st,It,function(Tt){return this._invoke(It,Tt)})})}function bt(st,It){function Tt(Nt,$t,Wt,Dt){var In=Qt(st[Nt],st,$t);if(In.type!=="throw"){var rn=In.arg,_t=rn.value;return _t&&pt(_t)=="object"&&gt.call(_t,"__await")?It.resolve(_t.__await).then(function(Et){Tt("next",Et,Wt,Dt)},function(Et){Tt("throw",Et,Wt,Dt)}):It.resolve(_t).then(function(Et){rn.value=Et,Wt(rn)},function(Et){return Tt("throw",Et,Wt,Dt)})}Dt(In.arg)}var tn;xt(this,"_invoke",{value:function(Nt,$t){function Wt(){return new It(function(Dt,In){Tt(Nt,$t,Dt,In)})}return tn=tn?tn.then(Wt,Wt):Wt()}})}function Gt(st,It,Tt){var tn="suspendedStart";return function(Nt,$t){if(tn==="executing")throw new Error("Generator is already running");if(tn==="completed"){if(Nt==="throw")throw $t;return lt()}for(Tt.method=Nt,Tt.arg=$t;;){var Wt=Tt.delegate;if(Wt){var Dt=yt(Wt,Tt);if(Dt){if(Dt===bn)continue;return Dt}}if(Tt.method==="next")Tt.sent=Tt._sent=Tt.arg;else if(Tt.method==="throw"){if(tn==="suspendedStart")throw tn="completed",Tt.arg;Tt.dispatchException(Tt.arg)}else Tt.method==="return"&&Tt.abrupt("return",Tt.arg);tn="executing";var In=Qt(st,It,Tt);if(In.type==="normal"){if(tn=Tt.done?"completed":"suspendedYield",In.arg===bn)continue;return{value:In.arg,done:Tt.done}}In.type==="throw"&&(tn="completed",Tt.method="throw",Tt.arg=In.arg)}}}function yt(st,It){var Tt=st.iterator[It.method];if(Tt===void 0){if(It.delegate=null,It.method==="throw"){if(st.iterator.return&&(It.method="return",It.arg=void 0,yt(st,It),It.method==="throw"))return bn;It.method="throw",It.arg=new TypeError("The iterator does not provide a 'throw' method")}return bn}var tn=Qt(Tt,st.iterator,It.arg);if(tn.type==="throw")return It.method="throw",It.arg=tn.arg,It.delegate=null,bn;var Nt=tn.arg;return Nt?Nt.done?(It[st.resultName]=Nt.value,It.next=st.nextLoc,It.method!=="return"&&(It.method="next",It.arg=void 0),It.delegate=null,bn):Nt:(It.method="throw",It.arg=new TypeError("iterator result is not an object"),It.delegate=null,bn)}function Ct(st){var It={tryLoc:st[0]};1 in st&&(It.catchLoc=st[1]),2 in st&&(It.finallyLoc=st[2],It.afterLoc=st[3]),this.tryEntries.push(It)}function ct(st){var It=st.completion||{};It.type="normal",delete It.arg,st.completion=It}function rt(st){this.tryEntries=[{tryLoc:"root"}],st.forEach(Ct,this),this.reset(!0)}function _e(st){if(st){var It=st[it];if(It)return It.call(st);if(typeof st.next=="function")return st;if(!isNaN(st.length)){var Tt=-1,tn=function Nt(){for(;++Tt<st.length;)if(gt.call(st,Tt))return Nt.value=st[Tt],Nt.done=!1,Nt;return Nt.value=void 0,Nt.done=!0,Nt};return tn.next=tn}}return{next:lt}}function lt(){return{value:void 0,done:!0}}return Zn.prototype=mn,xt(Rt,"constructor",{value:mn,configurable:!0}),xt(mn,"constructor",{value:Zn,configurable:!0}),Zn.displayName=an(mn,Ot,"GeneratorFunction"),ot.isGeneratorFunction=function(st){var It=typeof st=="function"&&st.constructor;return!!It&&(It===Zn||(It.displayName||It.name)==="GeneratorFunction")},ot.mark=function(st){return Object.setPrototypeOf?Object.setPrototypeOf(st,mn):(st.__proto__=mn,an(st,Ot,"GeneratorFunction")),st.prototype=Object.create(Rt),st},ot.awrap=function(st){return{__await:st}},Bt(bt.prototype),an(bt.prototype,kt,function(){return this}),ot.AsyncIterator=bt,ot.async=function(st,It,Tt,tn,Nt){Nt===void 0&&(Nt=Promise);var $t=new bt(gn(st,It,Tt,tn),Nt);return ot.isGeneratorFunction(It)?$t:$t.next().then(function(Wt){return Wt.done?Wt.value:$t.next()})},Bt(Rt),an(Rt,Ot,"Generator"),an(Rt,it,function(){return this}),an(Rt,"toString",function(){return"[object Generator]"}),ot.keys=function(st){var It=Object(st),Tt=[];for(var tn in It)Tt.push(tn);return Tt.reverse(),function Nt(){for(;Tt.length;){var $t=Tt.pop();if($t in It)return Nt.value=$t,Nt.done=!1,Nt}return Nt.done=!0,Nt}},ot.values=_e,rt.prototype={constructor:rt,reset:function(st){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ct),!st)for(var It in this)It.charAt(0)==="t"&&gt.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=void 0)},stop:function(){this.done=!0;var st=this.tryEntries[0].completion;if(st.type==="throw")throw st.arg;return this.rval},dispatchException:function(st){if(this.done)throw st;var It=this;function Tt(In,rn){return $t.type="throw",$t.arg=st,It.next=In,rn&&(It.method="next",It.arg=void 0),!!rn}for(var tn=this.tryEntries.length-1;tn>=0;--tn){var Nt=this.tryEntries[tn],$t=Nt.completion;if(Nt.tryLoc==="root")return Tt("end");if(Nt.tryLoc<=this.prev){var Wt=gt.call(Nt,"catchLoc"),Dt=gt.call(Nt,"finallyLoc");if(Wt&&Dt){if(this.prev<Nt.catchLoc)return Tt(Nt.catchLoc,!0);if(this.prev<Nt.finallyLoc)return Tt(Nt.finallyLoc)}else if(Wt){if(this.prev<Nt.catchLoc)return Tt(Nt.catchLoc,!0)}else{if(!Dt)throw new Error("try statement without catch or finally");if(this.prev<Nt.finallyLoc)return Tt(Nt.finallyLoc)}}}},abrupt:function(st,It){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var tn=this.tryEntries[Tt];if(tn.tryLoc<=this.prev&&gt.call(tn,"finallyLoc")&&this.prev<tn.finallyLoc){var Nt=tn;break}}Nt&&(st==="break"||st==="continue")&&Nt.tryLoc<=It&&It<=Nt.finallyLoc&&(Nt=null);var $t=Nt?Nt.completion:{};return $t.type=st,$t.arg=It,Nt?(this.method="next",this.next=Nt.finallyLoc,bn):this.complete($t)},complete:function(st,It){if(st.type==="throw")throw st.arg;return st.type==="break"||st.type==="continue"?this.next=st.arg:st.type==="return"?(this.rval=this.arg=st.arg,this.method="return",this.next="end"):st.type==="normal"&&It&&(this.next=It),bn},finish:function(st){for(var It=this.tryEntries.length-1;It>=0;--It){var Tt=this.tryEntries[It];if(Tt.finallyLoc===st)return this.complete(Tt.completion,Tt.afterLoc),ct(Tt),bn}},catch:function(st){for(var It=this.tryEntries.length-1;It>=0;--It){var Tt=this.tryEntries[It];if(Tt.tryLoc===st){var tn=Tt.completion;if(tn.type==="throw"){var Nt=tn.arg;ct(Tt)}return Nt}}throw new Error("illegal catch attempt")},delegateYield:function(st,It,Tt){return this.delegate={iterator:_e(st),resultName:It,nextLoc:Tt},this.method==="next"&&(this.arg=void 0),bn}},ot}Ht.exports=ht,Ht.exports.__esModule=!0,Ht.exports.default=Ht.exports},8114:function(Ht){function St(_){return Ht.exports=St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},Ht.exports.__esModule=!0,Ht.exports.default=Ht.exports,St(_)}Ht.exports=St,Ht.exports.__esModule=!0,Ht.exports.default=Ht.exports},2975:function(Ht,St,_){var pt=_(9649)();Ht.exports=pt;try{regeneratorRuntime=pt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=pt:Function("r","regeneratorRuntime = r")(pt)}},7017:function(Ht,St,_){function pt(ht,ot){(ot==null||ot>ht.length)&&(ot=ht.length);for(var at=0,gt=new Array(ot);at<ot;at++)gt[at]=ht[at];return gt}_.d(St,{Z:function(){return pt}})},3173:function(Ht,St,_){function pt(ht){if(ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht}_.d(St,{Z:function(){return pt}})},8950:function(Ht,St,_){function pt(ot,at,gt,xt,vt,it,kt){try{var Ot=ot[it](kt),an=Ot.value}catch(gn){return void gt(gn)}Ot.done?at(an):Promise.resolve(an).then(xt,vt)}function ht(ot){return function(){var at=this,gt=arguments;return new Promise(function(xt,vt){var it=ot.apply(at,gt);function kt(an){pt(it,xt,vt,kt,Ot,"next",an)}function Ot(an){pt(it,xt,vt,kt,Ot,"throw",an)}kt(void 0)})}}_.d(St,{Z:function(){return ht}})},8821:function(Ht,St,_){function pt(ht,ot){if(!(ht instanceof ot))throw new TypeError("Cannot call a class as a function")}_.d(St,{Z:function(){return pt}})},5169:function(Ht,St,_){function pt(ot,at){for(var gt=0;gt<at.length;gt++){var xt=at[gt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(ot,xt.key,xt)}}function ht(ot,at,gt){return at&&pt(ot.prototype,at),gt&&pt(ot,gt),Object.defineProperty(ot,"prototype",{writable:!1}),ot}_.d(St,{Z:function(){return ht}})},7169:function(Ht,St,_){function pt(ht,ot,at){return ot in ht?Object.defineProperty(ht,ot,{value:at,enumerable:!0,configurable:!0,writable:!0}):ht[ot]=at,ht}_.d(St,{Z:function(){return pt}})},2312:function(Ht,St,_){function pt(ht){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ot){return ot.__proto__||Object.getPrototypeOf(ot)},pt(ht)}_.d(St,{Z:function(){return pt}})},2248:function(Ht,St,_){_.d(St,{Z:function(){return ht}});var pt=_(5901);function ht(ot,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(at&&at.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),at&&(0,pt.Z)(ot,at)}},2726:function(Ht,St,_){function pt(ht,ot){if(ht==null)return{};var at,gt,xt=function(it,kt){if(it==null)return{};var Ot,an,gn={},Qt=Object.keys(it);for(an=0;an<Qt.length;an++)Ot=Qt[an],kt.indexOf(Ot)>=0||(gn[Ot]=it[Ot]);return gn}(ht,ot);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ht);for(gt=0;gt<vt.length;gt++)at=vt[gt],ot.indexOf(at)>=0||Object.prototype.propertyIsEnumerable.call(ht,at)&&(xt[at]=ht[at])}return xt}_.d(St,{Z:function(){return pt}})},7245:function(Ht,St,_){_.d(St,{Z:function(){return ot}});var pt=_(6655),ht=_(3173);function ot(at,gt){if(gt&&((0,pt.Z)(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,ht.Z)(at)}},5901:function(Ht,St,_){function pt(ht,ot){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,gt){return at.__proto__=gt,at},pt(ht,ot)}_.d(St,{Z:function(){return pt}})},2577:function(Ht,St,_){_.d(St,{Z:function(){return ht}});var pt=_(9139);function ht(ot,at){return function(gt){if(Array.isArray(gt))return gt}(ot)||function(gt,xt){var vt=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(vt!=null){var it,kt,Ot=[],an=!0,gn=!1;try{for(vt=vt.call(gt);!(an=(it=vt.next()).done)&&(Ot.push(it.value),!xt||Ot.length!==xt);an=!0);}catch(Qt){gn=!0,kt=Qt}finally{try{an||vt.return==null||vt.return()}finally{if(gn)throw kt}}return Ot}}(ot,at)||(0,pt.Z)(ot,at)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(Ht,St,_){_.d(St,{Z:function(){return ot}});var pt=_(7017),ht=_(9139);function ot(at){return function(gt){if(Array.isArray(gt))return(0,pt.Z)(gt)}(at)||function(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}(at)||(0,ht.Z)(at)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(Ht,St,_){function pt(ht){return pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},pt(ht)}_.d(St,{Z:function(){return pt}})},9139:function(Ht,St,_){_.d(St,{Z:function(){return ht}});var pt=_(7017);function ht(ot,at){if(ot){if(typeof ot=="string")return(0,pt.Z)(ot,at);var gt=Object.prototype.toString.call(ot).slice(8,-1);return gt==="Object"&&ot.constructor&&(gt=ot.constructor.name),gt==="Map"||gt==="Set"?Array.from(ot):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?(0,pt.Z)(ot,at):void 0}}},5605:function(Ht,St,_){_.d(St,{x0:function(){return pt}});let pt=(ht=21)=>crypto.getRandomValues(new Uint8Array(ht)).reduce((ot,at)=>ot+=(at&=63)<36?at.toString(36):at<62?(at-26).toString(36).toUpperCase():at>62?"-":"_","")},5284:function(Ht){Ht.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(Ht){Ht.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","brave_measure_text_error":{"start":"Looks like you are using Brave browser with the","aggressive_block_fingerprint":"Aggressively Block Fingerprinting","setting_enabled":"setting enabled","break":"This could result in breaking the","text_elements":"Text Elements","in_your_drawings":"in your drawings","strongly_recommend":"We strongly recommend disabling this setting. You can follow","steps":"these steps","how":"on how to do so","disable_setting":" If disabling this setting doesn't fix the display of text elements, please open an","issue":"issue","write":"on our GitHub, or write us on","discord":"Discord"}},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}`)},4451:function(Ht){Ht.exports=JSON.parse('{"ar-SA":89,"bg-BG":52,"bn-BD":57,"ca-ES":96,"cs-CZ":72,"da-DK":31,"de-DE":100,"el-GR":98,"en":100,"es-ES":99,"eu-ES":99,"fa-IR":91,"fi-FI":96,"fr-FR":99,"gl-ES":99,"he-IL":99,"hi-IN":73,"hu-HU":85,"id-ID":98,"it-IT":99,"ja-JP":97,"kab-KAB":93,"kk-KZ":19,"ko-KR":99,"ku-TR":91,"lt-LT":61,"lv-LV":93,"mr-IN":100,"my-MM":40,"nb-NO":100,"nl-NL":92,"nn-NO":86,"oc-FR":94,"pa-IN":79,"pl-PL":87,"pt-BR":96,"pt-PT":99,"ro-RO":100,"ru-RU":96,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":99,"ta-IN":90,"th-TH":39,"tr-TR":98,"uk-UA":93,"vi-VN":52,"zh-CN":99,"zh-HK":25,"zh-TW":100}')}},jn={};function Vn(Ht){var St=jn[Ht];if(St!==void 0)return St.exports;var _=jn[Ht]={id:Ht,exports:{}};return Dn[Ht](_,_.exports,Vn),_.exports}Vn.m=Dn,Vn.n=function(Ht){var St=Ht&&Ht.__esModule?function(){return Ht.default}:function(){return Ht};return Vn.d(St,{a:St}),St},mt=Object.getPrototypeOf?function(Ht){return Object.getPrototypeOf(Ht)}:function(Ht){return Ht.__proto__},Vn.t=function(Ht,St){if(1&St&&(Ht=this(Ht)),8&St||typeof Ht=="object"&&Ht&&(4&St&&Ht.__esModule||16&St&&typeof Ht.then=="function"))return Ht;var _=Object.create(null);Vn.r(_);var pt={};ut=ut||[null,mt({}),mt([]),mt(mt)];for(var ht=2&St&&Ht;typeof ht=="object"&&!~ut.indexOf(ht);ht=mt(ht))Object.getOwnPropertyNames(ht).forEach(function(ot){pt[ot]=function(){return Ht[ot]}});return pt.default=function(){return Ht},Vn.d(_,pt),_},Vn.d=function(Ht,St){for(var _ in St)Vn.o(St,_)&&!Vn.o(Ht,_)&&Object.defineProperty(Ht,_,{enumerable:!0,get:St[_]})},Vn.f={},Vn.e=function(Ht){return Promise.all(Object.keys(Vn.f).reduce(function(St,_){return Vn.f[_](Ht,St),St},[]))},Vn.u=function(Ht){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[Ht]+"-"+{22:"1f9df2b51e34996bad30",537:"3a152569bbebfec7c6c0",1204:"ef6ec5abb0c3c53c7a51",1302:"db1222db995d9425e281",1477:"1a05d5c242c822079dca",1513:"79f7d66730b39df84f8e",1628:"72ac7b7548d7fefdcd2a",1690:"e90ca79174b6e1eccb72",1790:"ed85a6f48e1df51b1b46",2091:"06d4bd2f3a164162f2b8",2312:"3280be0edae615c7685f",2359:"7ea7ab2356e76889af8d",2404:"4063d11b19f24794564a",2943:"2117445509ba7c479ee0",3024:"5805f36f33a3f8e53adc",3031:"d10a4bb9ede3c08a08e1",3082:"f70dfb7201a16dc3f9fc",3162:"1854ecccf3c6f8ea9c46",3397:"c922a007bb00d3e4f3b1",3421:"c39caba2da3f001066a8",3512:"d43636fb51002f55e2a4",3674:"b4be83b26070e4cf70ca",3682:"b5ea877625968f748b7f",3721:"2e7a1690edc8d46e8842",3808:"6031eb8be253b20c28e9",3885:"8209f0f674435b52293d",4e3:"2f5b95c0011820e16f4b",4680:"2cb13b38b6615ada3097",4736:"53d1c69ef585b6dd219b",4977:"9002b1505b0931924d42",5089:"3397acad1a98b5093c8b",5130:"6108f4ae0be3d1e369a6",5330:"586a1324f942d89620b6",5395:"aba1622a80e32e465a3d",6071:"68eba9ac00ae57bae3f4",6239:"446b14f993000d0f572f",6265:"1ae99f296c9febb99f72",6768:"1e3a5e87e39d2d90274c",6844:"cf33ecf52ab95055544b",7368:"6ccf0d8a164ecec52187",7429:"759924ef13bd9e602cb3",7759:"4e345c790342b7672248",7920:"4bcbf71743fda1544a84",8081:"1cc77079b354b962615f",8124:"8ab49e8d0473e92a8ab9",8340:"08c7fc343ef2f533ec5f",8534:"36b97455521e61312a47",8750:"50dcb09552f93c2de3a4",8759:"682b92427b8b27bb0aa8",9551:"69853849c71eff277ba0",9828:"dad8ce15f9b7a435a926"}[Ht]+".js"},Vn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Vn.o=function(Ht,St){return Object.prototype.hasOwnProperty.call(Ht,St)},nn={},yn="ExcalidrawLib:",Vn.l=function(Ht,St,_,pt){if(nn[Ht])nn[Ht].push(St);else{var ht,ot;if(_!==void 0)for(var at=document.getElementsByTagName("script"),gt=0;gt<at.length;gt++){var xt=at[gt];if(xt.getAttribute("src")==Ht||xt.getAttribute("data-webpack")==yn+_){ht=xt;break}}ht||(ot=!0,(ht=document.createElement("script")).charset="utf-8",ht.timeout=120,Vn.nc&&ht.setAttribute("nonce",Vn.nc),ht.setAttribute("data-webpack",yn+_),ht.src=Ht),nn[Ht]=[St];var vt=function(kt,Ot){ht.onerror=ht.onload=null,clearTimeout(it);var an=nn[Ht];if(delete nn[Ht],ht.parentNode&&ht.parentNode.removeChild(ht),an&&an.forEach(function(gn){return gn(Ot)}),kt)return kt(Ot)},it=setTimeout(vt.bind(null,void 0,{type:"timeout",target:ht}),12e4);ht.onerror=vt.bind(null,ht.onerror),ht.onload=vt.bind(null,ht.onload),ot&&document.head.appendChild(ht)}},Vn.r=function(Ht){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ht,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ht,"__esModule",{value:!0})},Vn.p="",function(){Vn.b=document.baseURI||self.location.href;var Ht={1388:0};Vn.f.j=function(pt,ht){var ot=Vn.o(Ht,pt)?Ht[pt]:void 0;if(ot!==0)if(ot)ht.push(ot[2]);else{var at=new Promise(function(vt,it){ot=Ht[pt]=[vt,it]});ht.push(ot[2]=at);var gt=Vn.p+Vn.u(pt),xt=new Error;Vn.l(gt,function(vt){if(Vn.o(Ht,pt)&&((ot=Ht[pt])!==0&&(Ht[pt]=void 0),ot)){var it=vt&&(vt.type==="load"?"missing":vt.type),kt=vt&&vt.target&&vt.target.src;xt.message="Loading chunk "+pt+` failed.
(`+it+": "+kt+")",xt.name="ChunkLoadError",xt.type=it,xt.request=kt,ot[1](xt)}},"chunk-"+pt,pt)}};var St=function(pt,ht){var ot,at,gt=ht[0],xt=ht[1],vt=ht[2],it=0;if(gt.some(function(kt){return Ht[kt]!==0})){for(ot in xt)Vn.o(xt,ot)&&(Vn.m[ot]=xt[ot]);vt&&vt(Vn)}for(pt&&pt(ht);it<gt.length;it++)at=gt[it],Vn.o(Ht,at)&&Ht[at]&&Ht[at][0](),Ht[at]=0},_=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];_.forEach(St.bind(null,0)),_.push=St.bind(null,_.push.bind(_))}(),Vn.nc=void 0;var $n={};return function(){Vn.r($n),Vn.d($n,{Button:function(){return Mn},Excalidraw:function(){return na},FONT_FAMILY:function(){return Ht.ut},Footer:function(){return _t},LiveCollaborationTrigger:function(){return Ur},MIME_TYPES:function(){return Ht.LO},MainMenu:function(){return Et.Z},Sidebar:function(){return ba.Y},THEME:function(){return Ht.C6},WelcomeScreen:function(){return ir},bumpVersion:function(){return Nr.ZP},defaultLang:function(){return yt.Fp},exportToBlob:function(){return Ar.Fl},exportToCanvas:function(){return Ar.NL},exportToClipboard:function(){return Ar.i1},exportToSvg:function(){return Ar.$D},getFreeDrawSvgPath:function(){return Ar.N7},getNonDeletedElements:function(){return Zr.Lm},getSceneVersion:function(){return Zr.Uo},isInvisiblySmallElement:function(){return Zr.QD},isLinearElement:function(){return pr.bt},languages:function(){return yt.Mj},loadFromBlob:function(){return Ar.cT},loadLibraryFromBlob:function(){return Ar.lV},loadSceneOrLibraryFromBlob:function(){return Ar.ZY},mergeLibraryItems:function(){return Ar.zh},mutateElement:function(){return Nr.DR},newElementWith:function(){return Nr.BE},parseLibraryTokensFromUrl:function(){return Or.Di},restore:function(){return yr.nu},restoreAppState:function(){return yr.lY},restoreElements:function(){return yr.ET},restoreLibraryItems:function(){return yr.wJ},sceneCoordsToViewportCoords:function(){return _e._i},serializeAsJSON:function(){return Ar.I_},serializeLibraryAsJSON:function(){return Ar.NI},useDevice:function(){return rt.Fy},useHandleLibrary:function(){return Or.xS},useI18n:function(){return yt.QT},viewportCoordsToSceneCoords:function(){return _e.dE}});var Ht=Vn(2335);Ht.Vi.TEST!=="production"&&(Vn.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.15.2","/dist/"));var St=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(lr){if((lr=Math.trunc(lr)||0)<0&&(lr+=this.length),!(lr<0||lr>=this.length))return this[lr]},writable:!0,enumerable:!1,configurable:!0})},_=Vn(487),pt=Vn.n(_),ht=Vn(631),ot=Vn.n(ht),at=Vn(2052),gt=Vn.n(at),xt=Vn(4010),vt=Vn.n(xt),it=Vn(1469),kt=Vn.n(it),Ot=Vn(9329),an=Vn.n(Ot),gn=Vn(4295),Qt={};Qt.styleTagTransform=an(),Qt.setAttributes=vt(),Qt.insert=gt().bind(null,"head"),Qt.domAPI=ot(),Qt.insertStyleElement=kt(),pt()(gn.Z,Qt),gn.Z&&gn.Z.locals&&gn.Z.locals;var bn=Vn(6479),fn=Vn.n(bn),Zn=Vn(9713),mn=Vn.n(Zn),pn=Vn(9787),An=Vn.n(pn),ft=Vn(8950),Rt=Vn(2577),Bt=Vn(2975),bt=Vn.n(Bt),Gt=Vn(5440),yt=Vn(8211),Ct=Vn(4512),ct=function(lr){var Ir=(0,pn.useState)(!0),Cr=(0,Rt.Z)(Ir,2),wr=Cr[0],Er=Cr[1];return(0,pn.useEffect)(function(){var Rr=function(){var ga=(0,ft.Z)(bt().mark(function to(){return bt().wrap(function(io){for(;;)switch(io.prev=io.next){case 0:return io.next=2,(0,yt.m0)(Kr);case 2:Er(!1);case 3:case"end":return io.stop()}},to)}));return function(){return ga.apply(this,arguments)}}(),Kr=yt.Mj.find(function(ga){return ga.code===lr.langCode})||yt.Fp;Rr()},[lr.langCode]),wr?(0,Ct.jsx)(Gt.z,{theme:lr.theme}):lr.children},rt=Vn(2134),_e=Vn(6340),lt=Vn(9915),st={};st.styleTagTransform=an(),st.setAttributes=vt(),st.insert=gt().bind(null,"head"),st.domAPI=ot(),st.insertStyleElement=kt(),pt()(lt.Z,st),lt.Z&&lt.Z.locals&&lt.Z.locals;var It=Vn(9310),Tt={};Tt.styleTagTransform=an(),Tt.setAttributes=vt(),Tt.insert=gt().bind(null,"head"),Tt.domAPI=ot(),Tt.insertStyleElement=kt(),pt()(It.Z,Tt),It.Z&&It.Z.locals&&It.Z.locals;var tn=Vn(4739),Nt=Vn(9487),$t=Vn(45),Wt=Vn(8888),Dt=Vn(8793),In={};In.styleTagTransform=an(),In.setAttributes=vt(),In.insert=gt().bind(null,"head"),In.domAPI=ot(),In.insertStyleElement=kt(),pt()(Dt.Z,In),Dt.Z&&Dt.Z.locals&&Dt.Z.locals;var rn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().footerCenterTunnel,wr=(0,rt.gF)();return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsx)("div",{className:(0,$t.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":wr.zenModeEnabled}),children:Ir})})},_t=rn;rn.displayName="FooterCenter";var Et=Vn(4709),Vt=Vn(7169),Pt=Vn(2726),qt=Vn(6710),dn=Vn(785),Yt=Vn(3646),Xt=["onSelect","children","icon","shortcut","className"],zt=["children","href","icon","shortcut","className"];function At(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function Ut(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?At(Object(Cr),!0).forEach(function(wr){(0,Vt.Z)(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):At(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var wt=function(lr){var Ir=lr.icon,Cr=lr.shortcut,wr=lr.children,Er=(0,rt.Fy)();return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Ir}),(0,Ct.jsx)("div",{className:"welcome-screen-menu-item__text",children:wr}),Cr&&!Er.isMobile&&(0,Ct.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:Cr})]})};wt.displayName="WelcomeScreenMenuItemContent";var Jt=function(lr){var Ir=lr.onSelect,Cr=lr.children,wr=lr.icon,Er=lr.shortcut,Rr=lr.className,Kr=Rr===void 0?"":Rr,ga=(0,Pt.Z)(lr,Xt);return(0,Ct.jsx)("button",Ut(Ut({},ga),{},{type:"button",className:"welcome-screen-menu-item ".concat(Kr),onClick:Ir,children:(0,Ct.jsx)(wt,{icon:wr,shortcut:Er,children:Cr})}))};Jt.displayName="WelcomeScreenMenuItem";var Mt=function(lr){var Ir=lr.children,Cr=lr.href,wr=lr.icon,Er=lr.shortcut,Rr=lr.className,Kr=Rr===void 0?"":Rr,ga=(0,Pt.Z)(lr,zt);return(0,Ct.jsx)("a",Ut(Ut({},ga),{},{className:"welcome-screen-menu-item ".concat(Kr),href:Cr,target:"_blank",rel:"noreferrer",children:(0,Ct.jsx)(wt,{icon:wr,shortcut:Er,children:Ir})}))};Mt.displayName="WelcomeScreenMenuItemLink";var un=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenCenterTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsx)("div",{className:"welcome-screen-center",children:Ir||(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(hn,{}),(0,Ct.jsx)(jt,{children:(0,yt.t)("welcomeScreen.defaults.center_heading")}),(0,Ct.jsxs)(vn,{children:[(0,Ct.jsx)(Gn,{}),(0,Ct.jsx)(xn,{})]})]})})})};un.displayName="Center";var hn=function(lr){var Ir=lr.children;return(0,Ct.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Ir||(0,Ct.jsxs)(Ct.Fragment,{children:[Yt.Mw," Excalidraw"]})})};hn.displayName="Logo";var jt=function(lr){var Ir=lr.children;return(0,Ct.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Ir})};jt.displayName="Heading";var vn=function(lr){var Ir=lr.children;return(0,Ct.jsx)("div",{className:"welcome-screen-menu",children:Ir})};vn.displayName="Menu";var xn=function(){var lr=(0,rt.eh)();return(0,Ct.jsx)(Jt,{onSelect:function(){return lr.executeAction(qt.jY)},shortcut:"?",icon:Yt.by,children:(0,yt.t)("helpDialog.title")})};xn.displayName="MenuItemHelp";var Gn=function(){var lr=(0,rt.gF)(),Ir=(0,rt.eh)();return lr.viewModeEnabled?null:(0,Ct.jsx)(Jt,{onSelect:function(){return Ir.executeAction(qt._d)},shortcut:(0,dn.C)("loadScene"),icon:Yt.Tl,children:(0,yt.t)("buttons.load")})};Gn.displayName="MenuItemLoadScene";var Zt=function(lr){var Ir=lr.onSelect,Cr=(0,yt.QT)().t;return(0,Ct.jsx)(Jt,{shortcut:null,onSelect:Ir,icon:Yt.jn,children:Cr("labels.liveCollaboration")})};Zt.displayName="MenuItemLiveCollaborationTrigger",un.Logo=hn,un.Heading=jt,un.Menu=vn,un.MenuItem=Jt,un.MenuItemLink=Mt,un.MenuItemHelp=xn,un.MenuItemLoadScene=Gn,un.MenuItemLiveCollaborationTrigger=Zt;var Xn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenMenuHintTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Yt.oQ,(0,Ct.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ir||(0,yt.t)("welcomeScreen.defaults.menuHint")})]})})};Xn.displayName="MenuHint";var Cn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenToolbarHintTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,Ct.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ir||(0,yt.t)("welcomeScreen.defaults.toolbarHint")}),Yt.DJ]})})};Cn.displayName="ToolbarHint";var Qn=function(lr){var Ir=lr.children,Cr=(0,Wt.R6)().welcomeScreenHelpHintTunnel;return(0,Ct.jsx)(Cr.In,{children:(0,Ct.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,Ct.jsx)("div",{children:Ir||(0,yt.t)("welcomeScreen.defaults.helpHint")}),Yt._U]})})};Qn.displayName="HelpHint";var Tn=Vn(1569),Pn={};Pn.styleTagTransform=an(),Pn.setAttributes=vt(),Pn.insert=gt().bind(null,"head"),Pn.domAPI=ot(),Pn.insertStyleElement=kt(),pt()(Tn.Z,Pn),Tn.Z&&Tn.Z.locals&&Tn.Z.locals;var tr=function(lr){return(0,Ct.jsx)(Ct.Fragment,{children:lr.children||(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(un,{}),(0,Ct.jsx)(Xn,{}),(0,Ct.jsx)(Cn,{}),(0,Ct.jsx)(Qn,{})]})})};tr.displayName="WelcomeScreen",tr.Center=un,tr.Hints={MenuHint:Xn,ToolbarHint:Cn,HelpHint:Qn};var ir=tr,gr=Vn(3137),Wn={};Wn.styleTagTransform=an(),Wn.setAttributes=vt(),Wn.insert=gt().bind(null,"head"),Wn.domAPI=ot(),Wn.insertStyleElement=kt(),pt()(gr.Z,Wn),gr.Z&&gr.Z.locals&&gr.Z.locals;var ln=["type","onSelect","children","className"];function Un(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function wn(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?Un(Object(Cr),!0).forEach(function(wr){(0,Vt.Z)(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):Un(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var Mn=function(lr){var Ir=lr.type,Cr=Ir===void 0?"button":Ir,wr=lr.onSelect,Er=lr.children,Rr=lr.className,Kr=Rr===void 0?"":Rr,ga=(0,Pt.Z)(lr,ln);return(0,Ct.jsx)("button",wn(wn({onClick:function(to){var io;wr(),(io=ga.onClick)===null||io===void 0||io.call(ga,to)},type:Cr,className:"excalidraw-button ".concat(Kr)},ga),{},{children:Er}))},zn=Vn(3397),Jn={};Jn.styleTagTransform=an(),Jn.setAttributes=vt(),Jn.insert=gt().bind(null,"head"),Jn.domAPI=ot(),Jn.insertStyleElement=kt(),pt()(zn.Z,Jn),zn.Z&&zn.Z.locals&&zn.Z.locals;var er=["isCollaborating","onSelect"];function cr(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function or(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?cr(Object(Cr),!0).forEach(function(wr){(0,Vt.Z)(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):cr(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var ur=function(lr){var Ir=lr.isCollaborating,Cr=lr.onSelect,wr=(0,Pt.Z)(lr,er),Er=(0,rt.gF)();return(0,Ct.jsxs)(Mn,or(or({},wr),{},{className:(0,$t.Z)("collab-button",{active:Ir}),type:"button",onSelect:Cr,style:{position:"relative"},title:(0,yt.t)("labels.liveCollaboration"),children:[Yt.jn,Er.collaborators.size>0&&(0,Ct.jsx)("div",{className:"CollabButton-collaborators",children:Er.collaborators.size})]}))},Ur=ur;ur.displayName="LiveCollaborationTrigger";var Zr=Vn(1047),yr=Vn(679),Ar=Vn(3024),pr=Vn(1974),Nr=Vn(1935),Or=Vn(7053),ba=Vn(9430),ho=["initialData","UIOptions"],oo=["initialData","UIOptions"];function lo(lr,Ir){var Cr=Object.keys(lr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(lr);Ir&&(wr=wr.filter(function(Er){return Object.getOwnPropertyDescriptor(lr,Er).enumerable})),Cr.push.apply(Cr,wr)}return Cr}function $r(lr){for(var Ir=1;Ir<arguments.length;Ir++){var Cr=arguments[Ir]!=null?arguments[Ir]:{};Ir%2?lo(Object(Cr),!0).forEach(function(wr){mn()(lr,wr,Cr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lr,Object.getOwnPropertyDescriptors(Cr)):lo(Object(Cr)).forEach(function(wr){Object.defineProperty(lr,wr,Object.getOwnPropertyDescriptor(Cr,wr))})}return lr}var qr=function(lr){var Ir,Cr,wr,Er=lr.onChange,Rr=lr.initialData,Kr=lr.excalidrawRef,ga=lr.isCollaborating,to=ga!==void 0&&ga,io=lr.onPointerUpdate,so=lr.renderTopRightUI,mo=lr.renderSidebar,Zo=lr.langCode,No=Zo===void 0?yt.Fp.code:Zo,Jo=lr.viewModeEnabled,Bl=lr.zenModeEnabled,ro=lr.gridModeEnabled,Io=lr.libraryReturnUrl,Qo=lr.theme,Lo=lr.name,Vl=lr.renderCustomStats,Dl=lr.onPaste,Ll=lr.detectScroll,Xl=Ll===void 0||Ll,_o=lr.handleKeyboardGlobally,os=_o!==void 0&&_o,Zl=lr.onLibraryChange,Hl=lr.autoFocus,ys=Hl!==void 0&&Hl,_c=lr.generateIdForFile,Us=lr.onLinkOpen,Ms=lr.onPointerDown,nu=lr.onScrollChange,on=lr.children,Bn=(Ir=lr.UIOptions)===null||Ir===void 0?void 0:Ir.canvasActions,On=$r($r({},lr.UIOptions),{},{canvasActions:$r($r({},Ht.cW.canvasActions),Bn)});return Bn!=null&&Bn.export&&(On.canvasActions.export.saveFileToDisk=(Cr=(wr=Bn.export)===null||wr===void 0?void 0:wr.saveFileToDisk)!==null&&Cr!==void 0?Cr:Ht.cW.canvasActions.export.saveFileToDisk),On.canvasActions.toggleTheme===null&&Qo===void 0&&(On.canvasActions.toggleTheme=!0),(0,pn.useEffect)(function(){var Hn=function(br){typeof br.scale=="number"&&br.scale!==1&&br.preventDefault()};return document.addEventListener("touchmove",Hn,{passive:!1}),function(){document.removeEventListener("touchmove",Hn)}},[]),(0,Ct.jsx)(tn.zt,{unstable_createStore:function(){return Nt.e_},scope:Nt.yE,children:(0,Ct.jsx)(ct,{langCode:No,theme:Qo,children:(0,Ct.jsx)(rt.ZP,{onChange:Er,initialData:Rr,excalidrawRef:Kr,isCollaborating:to,onPointerUpdate:io,renderTopRightUI:so,langCode:No,viewModeEnabled:Jo,zenModeEnabled:Bl,gridModeEnabled:ro,libraryReturnUrl:Io,theme:Qo,name:Lo,renderCustomStats:Vl,UIOptions:On,onPaste:Dl,detectScroll:Xl,handleKeyboardGlobally:os,onLibraryChange:Zl,autoFocus:ys,generateIdForFile:_c,onLinkOpen:Us,onPointerDown:Ms,onScrollChange:nu,renderSidebar:mo,children:on})})})},Co=function(lr,Ir){if(lr.children!==Ir.children)return!1;lr.initialData;var Cr=lr.UIOptions,wr=Cr===void 0?{}:Cr,Er=fn()(lr,ho),Rr=(Ir.initialData,Ir.UIOptions),Kr=Rr===void 0?{}:Rr,ga=fn()(Ir,oo),to=Object.keys(wr),io=Object.keys(Kr);return to.length===io.length&&to.every(function(so){return so==="canvasActions"?Object.keys(wr.canvasActions).every(function(mo){var Zo,No,Jo,Bl;return mo==="export"&&wr!=null&&(Zo=wr.canvasActions)!==null&&Zo!==void 0&&Zo.export&&Kr!=null&&(No=Kr.canvasActions)!==null&&No!==void 0&&No.export?wr.canvasActions.export.saveFileToDisk===Kr.canvasActions.export.saveFileToDisk:(wr==null||(Jo=wr.canvasActions)===null||Jo===void 0?void 0:Jo[mo])===(Kr==null||(Bl=Kr.canvasActions)===null||Bl===void 0?void 0:Bl[mo])}):wr[so]===Kr[so]})&&(0,_e.w8)(Er,ga)},po=(0,pn.forwardRef)(function(lr,Ir){return(0,Ct.jsx)(qr,$r($r({},lr),{},{excalidrawRef:Ir}))}),na=An().memo(po,Co);na.displayName="Excalidraw",St()}(),$n}()})})(excalidraw_production_min);var excalidraw_production_minExports=excalidraw_production_min.exports;main.exports=excalidraw_production_minExports;var mainExports=main.exports;const App$1="";var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,g){(function(){var $,tt="4.17.21",ut=200,mt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",nn="Expected a function",yn="Invalid `variable` option passed into `_.template`",Dn="__lodash_hash_undefined__",jn=500,Vn="__lodash_placeholder__",$n=1,Ht=2,St=4,_=1,pt=2,ht=1,ot=2,at=4,gt=8,xt=16,vt=32,it=64,kt=128,Ot=256,an=512,gn=30,Qt="...",bn=800,fn=16,Zn=1,mn=2,pn=3,An=1/0,ft=9007199254740991,Rt=17976931348623157e292,Bt=0/0,bt=4294967295,Gt=bt-1,yt=bt>>>1,Ct=[["ary",kt],["bind",ht],["bindKey",ot],["curry",gt],["curryRight",xt],["flip",an],["partial",vt],["partialRight",it],["rearg",Ot]],ct="[object Arguments]",rt="[object Array]",_e="[object AsyncFunction]",lt="[object Boolean]",st="[object Date]",It="[object DOMException]",Tt="[object Error]",tn="[object Function]",Nt="[object GeneratorFunction]",$t="[object Map]",Wt="[object Number]",Dt="[object Null]",In="[object Object]",rn="[object Promise]",_t="[object Proxy]",Et="[object RegExp]",Vt="[object Set]",Pt="[object String]",qt="[object Symbol]",dn="[object Undefined]",Yt="[object WeakMap]",Xt="[object WeakSet]",zt="[object ArrayBuffer]",At="[object DataView]",Ut="[object Float32Array]",wt="[object Float64Array]",Jt="[object Int8Array]",Mt="[object Int16Array]",un="[object Int32Array]",hn="[object Uint8Array]",jt="[object Uint8ClampedArray]",vn="[object Uint16Array]",xn="[object Uint32Array]",Gn=/\b__p \+= '';/g,Zt=/\b(__p \+=) '' \+/g,Xn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cn=/&(?:amp|lt|gt|quot|#39);/g,Qn=/[&<>"']/g,Tn=RegExp(Cn.source),Pn=RegExp(Qn.source),tr=/<%-([\s\S]+?)%>/g,ir=/<%([\s\S]+?)%>/g,gr=/<%=([\s\S]+?)%>/g,Wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ln=/^\w*$/,Un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wn=/[\\^$.*+?()[\]{}|]/g,Mn=RegExp(wn.source),zn=/^\s+/,Jn=/\s/,er=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cr=/\{\n\/\* \[wrapped with (.+)\] \*/,or=/,? & /,ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ur=/[()=,{}\[\]\/\s]/,Zr=/\\(\\)?/g,yr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ar=/\w*$/,pr=/^[-+]0x[0-9a-f]+$/i,Nr=/^0b[01]+$/i,Or=/^\[object .+?Constructor\]$/,ba=/^0o[0-7]+$/i,ho=/^(?:0|[1-9]\d*)$/,oo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lo=/($^)/,$r=/['\n\r\u2028\u2029\\]/g,qr="\\ud800-\\udfff",Co="\\u0300-\\u036f",po="\\ufe20-\\ufe2f",na="\\u20d0-\\u20ff",lr=Co+po+na,Ir="\\u2700-\\u27bf",Cr="a-z\\xdf-\\xf6\\xf8-\\xff",wr="\\xac\\xb1\\xd7\\xf7",Er="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rr="\\u2000-\\u206f",Kr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ga="A-Z\\xc0-\\xd6\\xd8-\\xde",to="\\ufe0e\\ufe0f",io=wr+Er+Rr+Kr,so="[']",mo="["+qr+"]",Zo="["+io+"]",No="["+lr+"]",Jo="\\d+",Bl="["+Ir+"]",ro="["+Cr+"]",Io="[^"+qr+io+Jo+Ir+Cr+ga+"]",Qo="\\ud83c[\\udffb-\\udfff]",Lo="(?:"+No+"|"+Qo+")",Vl="[^"+qr+"]",Dl="(?:\\ud83c[\\udde6-\\uddff]){2}",Ll="[\\ud800-\\udbff][\\udc00-\\udfff]",Xl="["+ga+"]",_o="\\u200d",os="(?:"+ro+"|"+Io+")",Zl="(?:"+Xl+"|"+Io+")",Hl="(?:"+so+"(?:d|ll|m|re|s|t|ve))?",ys="(?:"+so+"(?:D|LL|M|RE|S|T|VE))?",_c=Lo+"?",Us="["+to+"]?",Ms="(?:"+_o+"(?:"+[Vl,Dl,Ll].join("|")+")"+Us+_c+")*",nu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",on="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bn=Us+_c+Ms,On="(?:"+[Bl,Dl,Ll].join("|")+")"+Bn,Hn="(?:"+[Vl+No+"?",No,Dl,Ll,mo].join("|")+")",br=RegExp(so,"g"),xr=RegExp(No,"g"),Tr=RegExp(Qo+"(?="+Qo+")|"+Hn+Bn,"g"),Vr=RegExp([Xl+"?"+ro+"+"+Hl+"(?="+[Zo,Xl,"$"].join("|")+")",Zl+"+"+ys+"(?="+[Zo,Xl+os,"$"].join("|")+")",Xl+"?"+os+"+"+Hl,Xl+"+"+ys,on,nu,Jo,On].join("|"),"g"),fr=RegExp("["+_o+qr+lr+to+"]"),zr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xa=-1,jr={};jr[Ut]=jr[wt]=jr[Jt]=jr[Mt]=jr[un]=jr[hn]=jr[jt]=jr[vn]=jr[xn]=!0,jr[ct]=jr[rt]=jr[zt]=jr[lt]=jr[At]=jr[st]=jr[Tt]=jr[tn]=jr[$t]=jr[Wt]=jr[In]=jr[Et]=jr[Vt]=jr[Pt]=jr[Yt]=!1;var Mr={};Mr[ct]=Mr[rt]=Mr[zt]=Mr[At]=Mr[lt]=Mr[st]=Mr[Ut]=Mr[wt]=Mr[Jt]=Mr[Mt]=Mr[un]=Mr[$t]=Mr[Wt]=Mr[In]=Mr[Et]=Mr[Vt]=Mr[Pt]=Mr[qt]=Mr[hn]=Mr[jt]=Mr[vn]=Mr[xn]=!0,Mr[Tt]=Mr[tn]=Mr[Yt]=!1;var fo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},no={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ko={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ho=parseFloat,Oo=parseInt,Al=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ko=typeof self=="object"&&self&&self.Object===Object&&self,yo=Al||ko||Function("return this")(),Dr=g&&!g.nodeType&&g,To=Dr&&!0&&i&&!i.nodeType&&i,Fl=To&&To.exports===Dr,Ro=Fl&&Al.process,Po=function(){try{var ar=To&&To.require&&To.require("util").types;return ar||Ro&&Ro.binding&&Ro.binding("util")}catch{}}(),zl=Po&&Po.isArrayBuffer,yl=Po&&Po.isDate,hs=Po&&Po.isMap,h0=Po&&Po.isRegExp,C0=Po&&Po.isSet,p0=Po&&Po.isTypedArray;function Nl(ar,Br,_n){switch(_n.length){case 0:return ar.call(Br);case 1:return ar.call(Br,_n[0]);case 2:return ar.call(Br,_n[0],_n[1]);case 3:return ar.call(Br,_n[0],_n[1],_n[2])}return ar.apply(Br,_n)}function ru(ar,Br,_n,Jr){for(var bo=-1,wo=ar==null?0:ar.length;++bo<wo;){var qo=ar[bo];Br(Jr,qo,_n(qo),ar)}return Jr}function es(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length;++_n<Jr&&Br(ar[_n],_n,ar)!==!1;);return ar}function Gu(ar,Br){for(var _n=ar==null?0:ar.length;_n--&&Br(ar[_n],_n,ar)!==!1;);return ar}function Vs(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length;++_n<Jr;)if(!Br(ar[_n],_n,ar))return!1;return!0}function Gs(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length,bo=0,wo=[];++_n<Jr;){var qo=ar[_n];Br(qo,_n,ar)&&(wo[bo++]=qo)}return wo}function Ws(ar,Br){var _n=ar==null?0:ar.length;return!!_n&&iu(ar,Br,0)>-1}function ws(ar,Br,_n){for(var Jr=-1,bo=ar==null?0:ar.length;++Jr<bo;)if(_n(Br,ar[Jr]))return!0;return!1}function Yo(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length,bo=Array(Jr);++_n<Jr;)bo[_n]=Br(ar[_n],_n,ar);return bo}function xs(ar,Br){for(var _n=-1,Jr=Br.length,bo=ar.length;++_n<Jr;)ar[bo+_n]=Br[_n];return ar}function wu(ar,Br,_n,Jr){var bo=-1,wo=ar==null?0:ar.length;for(Jr&&wo&&(_n=ar[++bo]);++bo<wo;)_n=Br(_n,ar[bo],bo,ar);return _n}function m0(ar,Br,_n,Jr){var bo=ar==null?0:ar.length;for(Jr&&bo&&(_n=ar[--bo]);bo--;)_n=Br(_n,ar[bo],bo,ar);return _n}function Hu(ar,Br){for(var _n=-1,Jr=ar==null?0:ar.length;++_n<Jr;)if(Br(ar[_n],_n,ar))return!0;return!1}var Eu=au("length");function Su(ar){return ar.split("")}function zu(ar){return ar.match(ur)||[]}function f0(ar,Br,_n){var Jr;return _n(ar,function(bo,wo,qo){if(Br(bo,wo,qo))return Jr=wo,!1}),Jr}function Cu(ar,Br,_n,Jr){for(var bo=ar.length,wo=_n+(Jr?1:-1);Jr?wo--:++wo<bo;)if(Br(ar[wo],wo,ar))return wo;return-1}function iu(ar,Br,_n){return Br===Br?Q0(ar,Br,_n):Cu(ar,pu,_n)}function eI(ar,Br,_n,Jr){for(var bo=_n-1,wo=ar.length;++bo<wo;)if(Jr(ar[bo],Br))return bo;return-1}function pu(ar){return ar!==ar}function Rs(ar,Br){var _n=ar==null?0:ar.length;return _n?Xu(ar,Br)/_n:Bt}function au(ar){return function(Br){return Br==null?$:Br[ar]}}function Es(ar){return function(Br){return ar==null?$:ar[Br]}}function B0(ar,Br,_n,Jr,bo){return bo(ar,function(wo,qo,Do){_n=Jr?(Jr=!1,wo):Br(_n,wo,qo,Do)}),_n}function tI(ar,Br){var _n=ar.length;for(ar.sort(Br);_n--;)ar[_n]=ar[_n].value;return ar}function Xu(ar,Br){for(var _n,Jr=-1,bo=ar.length;++Jr<bo;){var wo=Br(ar[Jr]);wo!==$&&(_n=_n===$?wo:_n+wo)}return _n}function ju(ar,Br){for(var _n=-1,Jr=Array(ar);++_n<ar;)Jr[_n]=Br(_n);return Jr}function Jl(ar,Br){return Yo(Br,function(_n){return[_n,ar[_n]]})}function Ju(ar){return ar&&ar.slice(0,qu(ar)+1).replace(zn,"")}function _l(ar){return function(Br){return ar(Br)}}function _u(ar,Br){return Yo(Br,function(_n){return ar[_n]})}function mu(ar,Br){return ar.has(Br)}function Pu(ar,Br){for(var _n=-1,Jr=ar.length;++_n<Jr&&iu(Br,ar[_n],0)>-1;);return _n}function A0(ar,Br){for(var _n=ar.length;_n--&&iu(Br,ar[_n],0)>-1;);return _n}function nI(ar,Br){for(var _n=ar.length,Jr=0;_n--;)ar[_n]===Br&&++Jr;return Jr}var y0=Es(fo),rI=Es(no);function iI(ar){return"\\"+Ko[ar]}function Zu(ar,Br){return ar==null?$:ar[Br]}function ls(ar){return fr.test(ar)}function aI(ar){return zr.test(ar)}function x0(ar){for(var Br,_n=[];!(Br=ar.next()).done;)_n.push(Br.value);return _n}function Nu(ar){var Br=-1,_n=Array(ar.size);return ar.forEach(function(Jr,bo){_n[++Br]=[bo,Jr]}),_n}function Ku(ar,Br){return function(_n){return ar(Br(_n))}}function cs(ar,Br){for(var _n=-1,Jr=ar.length,bo=0,wo=[];++_n<Jr;){var qo=ar[_n];(qo===Br||qo===Vn)&&(ar[_n]=Vn,wo[bo++]=_n)}return wo}function ku(ar){var Br=-1,_n=Array(ar.size);return ar.forEach(function(Jr){_n[++Br]=Jr}),_n}function oI(ar){var Br=-1,_n=Array(ar.size);return ar.forEach(function(Jr){_n[++Br]=[Jr,Jr]}),_n}function Q0(ar,Br,_n){for(var Jr=_n-1,bo=ar.length;++Jr<bo;)if(ar[Jr]===Br)return Jr;return-1}function Ss(ar,Br,_n){for(var Jr=_n+1;Jr--;)if(ar[Jr]===Br)return Jr;return Jr}function ou(ar){return ls(ar)?v0(ar):Eu(ar)}function ts(ar){return ls(ar)?lI(ar):Su(ar)}function qu(ar){for(var Br=ar.length;Br--&&Jn.test(ar.charAt(Br)););return Br}var F0=Es(_r);function v0(ar){for(var Br=Tr.lastIndex=0;Tr.test(ar);)++Br;return Br}function lI(ar){return ar.match(Tr)||[]}function cI(ar){return ar.match(Vr)||[]}var U0=function ar(Br){Br=Br==null?yo:Ys.defaults(yo.Object(),Br,Ys.pick(yo,Xr));var _n=Br.Array,Jr=Br.Date,bo=Br.Error,wo=Br.Function,qo=Br.Math,Do=Br.Object,fu=Br.RegExp,$u=Br.String,Sl=Br.TypeError,lu=_n.prototype,_d=wo.prototype,Ls=Do.prototype,cu=Br["__core-js_shared__"],Tu=_d.toString,Eo=Ls.hasOwnProperty,e0=0,Xs=function(){var j=/[^.]+$/.exec(cu&&cu.keys&&cu.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),Cs=Ls.toString,Hs=Tu.call(Do),Bu=yo._,t0=fu("^"+Tu.call(Eo).replace(wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),su=Fl?Br.Buffer:$,Ol=Br.Symbol,Zs=Br.Uint8Array,Au=su?su.allocUnsafe:$,gu=Ku(Do.getPrototypeOf,Do),n0=Do.create,r0=Ls.propertyIsEnumerable,ss=lu.splice,So=Ol?Ol.isConcatSpreadable:$,zs=Ol?Ol.iterator:$,js=Ol?Ol.toStringTag:$,Du=function(){try{var j=Fu(Do,"defineProperty");return j({},"",{}),j}catch{}}(),nt=Br.clearTimeout!==yo.clearTimeout&&Br.clearTimeout,Ft=Jr&&Jr.now!==yo.Date.now&&Jr.now,en=Br.setTimeout!==yo.setTimeout&&Br.setTimeout,cn=qo.ceil,kn=qo.floor,sn=Do.getOwnPropertySymbols,Lt=su?su.isBuffer:$,En=Br.isFinite,Nn=lu.join,Ln=Ku(Do.keys,Do),Yn=qo.max,qn=qo.min,nr=Jr.now,hr=Br.parseInt,mr=qo.random,dr=lu.reverse,kr=Fu(Br,"DataView"),Gr=Fu(Br,"Map"),Pr=Fu(Br,"Promise"),Qr=Fu(Br,"Set"),_i=Fu(Br,"WeakMap"),Hr=Fu(Do,"create"),Yr=_i&&new _i,_a={},$a=vu(kr),ao=vu(Gr),Bo=vu(Pr),$o=vu(Qr),Ul=vu(_i),Il=Ol?Ol.prototype:$,Vo=Il?Il.valueOf:$,Wl=Il?Il.toString:$;function Sn(j){if(Ql(j)&&!Ao(j)&&!(j instanceof Wr)){if(j instanceof Wo)return j;if(Eo.call(j,"__wrapped__"))return ep(j)}return new Wo(j)}var zo=function(){function j(){}return function(et){if(!Cl(et))return{};if(n0)return n0(et);j.prototype=et;var dt=new j;return j.prototype=$,dt}}();function jo(){}function Wo(j,et){this.__wrapped__=j,this.__actions__=[],this.__chain__=!!et,this.__index__=0,this.__values__=$}Sn.templateSettings={escape:tr,evaluate:ir,interpolate:gr,variable:"",imports:{_:Sn}},Sn.prototype=jo.prototype,Sn.prototype.constructor=Sn,Wo.prototype=zo(jo.prototype),Wo.prototype.constructor=Wo;function Wr(j){this.__wrapped__=j,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bt,this.__views__=[]}function Uo(){var j=new Wr(this.__wrapped__);return j.__actions__=ns(this.__actions__),j.__dir__=this.__dir__,j.__filtered__=this.__filtered__,j.__iteratees__=ns(this.__iteratees__),j.__takeCount__=this.__takeCount__,j.__views__=ns(this.__views__),j}function Gl(){if(this.__filtered__){var j=new Wr(this);j.__dir__=-1,j.__filtered__=!0}else j=this.clone(),j.__dir__*=-1;return j}function Ns(){var j=this.__wrapped__.value(),et=this.__dir__,dt=Ao(j),Kt=et<0,Fn=dt?j.length:0,Rn=Sm(0,Fn,this.__views__),Kn=Rn.start,rr=Rn.end,sr=rr-Kn,Fr=Kt?rr:Kn-1,vr=this.__iteratees__,Sr=vr.length,Lr=0,eo=qn(sr,this.__takeCount__);if(!dt||!Kt&&Fn==sr&&eo==sr)return xC(j,this.__actions__);var go=[];e:for(;sr--&&Lr<eo;){Fr+=et;for(var Fo=-1,uo=j[Fr];++Fo<Sr;){var Go=vr[Fo],Xo=Go.iteratee,Is=Go.type,$l=Xo(uo);if(Is==mn)uo=$l;else if(!$l){if(Is==Zn)continue e;break e}}go[Lr++]=uo}return go}Wr.prototype=zo(jo.prototype),Wr.prototype.constructor=Wr;function ks(j){var et=-1,dt=j==null?0:j.length;for(this.clear();++et<dt;){var Kt=j[et];this.set(Kt[0],Kt[1])}}function sI(){this.__data__=Hr?Hr(null):{},this.size=0}function gI(j){var et=this.has(j)&&delete this.__data__[j];return this.size-=et?1:0,et}function G0(j){var et=this.__data__;if(Hr){var dt=et[j];return dt===Dn?$:dt}return Eo.call(et,j)?et[j]:$}function xl(j){var et=this.__data__;return Hr?et[j]!==$:Eo.call(et,j)}function Ou(j,et){var dt=this.__data__;return this.size+=this.has(j)?0:1,dt[j]=Hr&&et===$?Dn:et,this}ks.prototype.clear=sI,ks.prototype.delete=gI,ks.prototype.get=G0,ks.prototype.has=xl,ks.prototype.set=Ou;function ps(j){var et=-1,dt=j==null?0:j.length;for(this.clear();++et<dt;){var Kt=j[et];this.set(Kt[0],Kt[1])}}function w0(){this.__data__=[],this.size=0}function i0(j){var et=this.__data__,dt=X0(et,j);if(dt<0)return!1;var Kt=et.length-1;return dt==Kt?et.pop():ss.call(et,dt,1),--this.size,!0}function uI(j){var et=this.__data__,dt=X0(et,j);return dt<0?$:et[dt][1]}function yu(j){return X0(this.__data__,j)>-1}function a0(j,et){var dt=this.__data__,Kt=X0(dt,j);return Kt<0?(++this.size,dt.push([j,et])):dt[Kt][1]=et,this}ps.prototype.clear=w0,ps.prototype.delete=i0,ps.prototype.get=uI,ps.prototype.has=yu,ps.prototype.set=a0;function gs(j){var et=-1,dt=j==null?0:j.length;for(this.clear();++et<dt;){var Kt=j[et];this.set(Kt[0],Kt[1])}}function E0(){this.size=0,this.__data__={hash:new ks,map:new(Gr||ps),string:new ks}}function S0(j){var et=L0(this,j).delete(j);return this.size-=et?1:0,et}function Js(j){return L0(this,j).get(j)}function Rl(j){return L0(this,j).has(j)}function Mu(j,et){var dt=L0(this,j),Kt=dt.size;return dt.set(j,et),this.size+=dt.size==Kt?0:1,this}gs.prototype.clear=E0,gs.prototype.delete=S0,gs.prototype.get=Js,gs.prototype.has=Rl,gs.prototype.set=Mu;function _s(j){var et=-1,dt=j==null?0:j.length;for(this.__data__=new gs;++et<dt;)this.add(j[et])}function kp(j){return this.__data__.set(j,Dn),this}function Tp(j){return this.__data__.has(j)}_s.prototype.add=_s.prototype.push=kp,_s.prototype.has=Tp;function Qs(j){var et=this.__data__=new ps(j);this.size=et.size}function Dp(){this.__data__=new ps,this.size=0}function Op(j){var et=this.__data__,dt=et.delete(j);return this.size=et.size,dt}function Mp(j){return this.__data__.get(j)}function Vp(j){return this.__data__.has(j)}function Wp(j,et){var dt=this.__data__;if(dt instanceof ps){var Kt=dt.__data__;if(!Gr||Kt.length<ut-1)return Kt.push([j,et]),this.size=++dt.size,this;dt=this.__data__=new gs(Kt)}return dt.set(j,et),this.size=dt.size,this}Qs.prototype.clear=Dp,Qs.prototype.delete=Op,Qs.prototype.get=Mp,Qs.prototype.has=Vp,Qs.prototype.set=Wp;function eC(j,et){var dt=Ao(j),Kt=!dt&&Uu(j),Fn=!dt&&!Kt&&hu(j),Rn=!dt&&!Kt&&!Fn&&Yu(j),Kn=dt||Kt||Fn||Rn,rr=Kn?ju(j.length,$u):[],sr=rr.length;for(var Fr in j)(et||Eo.call(j,Fr))&&!(Kn&&(Fr=="length"||Fn&&(Fr=="offset"||Fr=="parent")||Rn&&(Fr=="buffer"||Fr=="byteLength"||Fr=="byteOffset")||$s(Fr,sr)))&&rr.push(Fr);return rr}function tC(j){var et=j.length;return et?j[yI(0,et-1)]:$}function Rp(j,et){return H0(ns(j),xu(et,0,j.length))}function Yp(j){return H0(ns(j))}function dI(j,et,dt){(dt!==$&&!Fs(j[et],dt)||dt===$&&!(et in j))&&Ps(j,et,dt)}function o0(j,et,dt){var Kt=j[et];(!(Eo.call(j,et)&&Fs(Kt,dt))||dt===$&&!(et in j))&&Ps(j,et,dt)}function X0(j,et){for(var dt=j.length;dt--;)if(Fs(j[dt][0],et))return dt;return-1}function Lp(j,et,dt,Kt){return uu(j,function(Fn,Rn,Kn){et(Kt,Fn,dt(Fn),Kn)}),Kt}function nC(j,et){return j&&Ds(et,Tl(et),j)}function Hp(j,et){return j&&Ds(et,is(et),j)}function Ps(j,et,dt){et=="__proto__"&&Du?Du(j,et,{configurable:!0,enumerable:!0,value:dt,writable:!0}):j[et]=dt}function II(j,et){for(var dt=-1,Kt=et.length,Fn=_n(Kt),Rn=j==null;++dt<Kt;)Fn[dt]=Rn?$:jI(j,et[dt]);return Fn}function xu(j,et,dt){return j===j&&(dt!==$&&(j=j<=dt?j:dt),et!==$&&(j=j>=et?j:et)),j}function ms(j,et,dt,Kt,Fn,Rn){var Kn,rr=et&$n,sr=et&Ht,Fr=et&St;if(dt&&(Kn=Fn?dt(j,Kt,Fn,Rn):dt(j)),Kn!==$)return Kn;if(!Cl(j))return j;var vr=Ao(j);if(vr){if(Kn=Zm(j),!rr)return ns(j,Kn)}else{var Sr=Yl(j),Lr=Sr==tn||Sr==Nt;if(hu(j))return vC(j,rr);if(Sr==In||Sr==ct||Lr&&!Fn){if(Kn=sr||Lr?{}:HC(j),!rr)return sr?ym(j,Hp(Kn,j)):Am(j,nC(Kn,j))}else{if(!Mr[Sr])return Fn?j:{};Kn=Nm(j,Sr,rr)}}Rn||(Rn=new Qs);var eo=Rn.get(j);if(eo)return eo;Rn.set(j,Kn),Bp(j)?j.forEach(function(uo){Kn.add(ms(uo,et,dt,uo,j,Rn))}):mp(j)&&j.forEach(function(uo,Go){Kn.set(Go,ms(uo,et,dt,Go,j,Rn))});var go=Fr?sr?ZI:XI:sr?is:Tl,Fo=vr?$:go(j);return es(Fo||j,function(uo,Go){Fo&&(Go=uo,uo=j[Go]),o0(Kn,Go,ms(uo,et,dt,Go,j,Rn))}),Kn}function zp(j){var et=Tl(j);return function(dt){return rC(dt,j,et)}}function rC(j,et,dt){var Kt=dt.length;if(j==null)return!Kt;for(j=Do(j);Kt--;){var Fn=dt[Kt],Rn=et[Fn],Kn=j[Fn];if(Kn===$&&!(Fn in j)||!Rn(Kn))return!1}return!0}function iC(j,et,dt){if(typeof j!="function")throw new Sl(nn);return I0(function(){j.apply($,dt)},et)}function l0(j,et,dt,Kt){var Fn=-1,Rn=Ws,Kn=!0,rr=j.length,sr=[],Fr=et.length;if(!rr)return sr;dt&&(et=Yo(et,_l(dt))),Kt?(Rn=ws,Kn=!1):et.length>=ut&&(Rn=mu,Kn=!1,et=new _s(et));e:for(;++Fn<rr;){var vr=j[Fn],Sr=dt==null?vr:dt(vr);if(vr=Kt||vr!==0?vr:0,Kn&&Sr===Sr){for(var Lr=Fr;Lr--;)if(et[Lr]===Sr)continue e;sr.push(vr)}else Rn(et,Sr,Kt)||sr.push(vr)}return sr}var uu=SC(Ts),aC=SC(hI,!0);function jp(j,et){var dt=!0;return uu(j,function(Kt,Fn,Rn){return dt=!!et(Kt,Fn,Rn),dt}),dt}function Z0(j,et,dt){for(var Kt=-1,Fn=j.length;++Kt<Fn;){var Rn=j[Kt],Kn=et(Rn);if(Kn!=null&&(rr===$?Kn===Kn&&!ds(Kn):dt(Kn,rr)))var rr=Kn,sr=Rn}return sr}function Jp(j,et,dt,Kt){var Fn=j.length;for(dt=xo(dt),dt<0&&(dt=-dt>Fn?0:Fn+dt),Kt=Kt===$||Kt>Fn?Fn:xo(Kt),Kt<0&&(Kt+=Fn),Kt=dt>Kt?0:yp(Kt);dt<Kt;)j[dt++]=et;return j}function oC(j,et){var dt=[];return uu(j,function(Kt,Fn,Rn){et(Kt,Fn,Rn)&&dt.push(Kt)}),dt}function Ml(j,et,dt,Kt,Fn){var Rn=-1,Kn=j.length;for(dt||(dt=Tm),Fn||(Fn=[]);++Rn<Kn;){var rr=j[Rn];et>0&&dt(rr)?et>1?Ml(rr,et-1,dt,Kt,Fn):xs(Fn,rr):Kt||(Fn[Fn.length]=rr)}return Fn}var bI=XC(),lC=XC(!0);function Ts(j,et){return j&&bI(j,et,Tl)}function hI(j,et){return j&&lC(j,et,Tl)}function N0(j,et){return Gs(et,function(dt){return _g(j[dt])})}function Qu(j,et){et=Iu(et,j);for(var dt=0,Kt=et.length;j!=null&&dt<Kt;)j=j[Os(et[dt++])];return dt&&dt==Kt?j:$}function cC(j,et,dt){var Kt=et(j);return Ao(j)?Kt:xs(Kt,dt(j))}function Pl(j){return j==null?j===$?dn:Dt:js&&js in Do(j)?Em(j):Ym(j)}function CI(j,et){return j>et}function _p(j,et){return j!=null&&Eo.call(j,et)}function Pp(j,et){return j!=null&&et in Do(j)}function Kp(j,et,dt){return j>=qn(et,dt)&&j<Yn(et,dt)}function pI(j,et,dt){for(var Kt=dt?ws:Ws,Fn=j[0].length,Rn=j.length,Kn=Rn,rr=_n(Rn),sr=1/0,Fr=[];Kn--;){var vr=j[Kn];Kn&&et&&(vr=Yo(vr,_l(et))),sr=qn(vr.length,sr),rr[Kn]=!dt&&(et||Fn>=120&&vr.length>=120)?new _s(Kn&&vr):$}vr=j[0];var Sr=-1,Lr=rr[0];e:for(;++Sr<Fn&&Fr.length<sr;){var eo=vr[Sr],go=et?et(eo):eo;if(eo=dt||eo!==0?eo:0,!(Lr?mu(Lr,go):Kt(Fr,go,dt))){for(Kn=Rn;--Kn;){var Fo=rr[Kn];if(!(Fo?mu(Fo,go):Kt(j[Kn],go,dt)))continue e}Lr&&Lr.push(go),Fr.push(eo)}}return Fr}function qp(j,et,dt,Kt){return Ts(j,function(Fn,Rn,Kn){et(Kt,dt(Fn),Rn,Kn)}),Kt}function c0(j,et,dt){et=Iu(et,j),j=_C(j,et);var Kt=j==null?j:j[Os(Bs(et))];return Kt==null?$:Nl(Kt,j,dt)}function sC(j){return Ql(j)&&Pl(j)==ct}function $p(j){return Ql(j)&&Pl(j)==zt}function em(j){return Ql(j)&&Pl(j)==st}function s0(j,et,dt,Kt,Fn){return j===et?!0:j==null||et==null||!Ql(j)&&!Ql(et)?j!==j&&et!==et:tm(j,et,dt,Kt,s0,Fn)}function tm(j,et,dt,Kt,Fn,Rn){var Kn=Ao(j),rr=Ao(et),sr=Kn?rt:Yl(j),Fr=rr?rt:Yl(et);sr=sr==ct?In:sr,Fr=Fr==ct?In:Fr;var vr=sr==In,Sr=Fr==In,Lr=sr==Fr;if(Lr&&hu(j)){if(!hu(et))return!1;Kn=!0,vr=!1}if(Lr&&!vr)return Rn||(Rn=new Qs),Kn||Yu(j)?RC(j,et,dt,Kt,Fn,Rn):Gm(j,et,sr,dt,Kt,Fn,Rn);if(!(dt&_)){var eo=vr&&Eo.call(j,"__wrapped__"),go=Sr&&Eo.call(et,"__wrapped__");if(eo||go){var Fo=eo?j.value():j,uo=go?et.value():et;return Rn||(Rn=new Qs),Fn(Fo,uo,dt,Kt,Rn)}}return Lr?(Rn||(Rn=new Qs),wm(j,et,dt,Kt,Fn,Rn)):!1}function nm(j){return Ql(j)&&Yl(j)==$t}function mI(j,et,dt,Kt){var Fn=dt.length,Rn=Fn,Kn=!Kt;if(j==null)return!Rn;for(j=Do(j);Fn--;){var rr=dt[Fn];if(Kn&&rr[2]?rr[1]!==j[rr[0]]:!(rr[0]in j))return!1}for(;++Fn<Rn;){rr=dt[Fn];var sr=rr[0],Fr=j[sr],vr=rr[1];if(Kn&&rr[2]){if(Fr===$&&!(sr in j))return!1}else{var Sr=new Qs;if(Kt)var Lr=Kt(Fr,vr,sr,j,et,Sr);if(!(Lr===$?s0(vr,Fr,_|pt,Kt,Sr):Lr))return!1}}return!0}function gC(j){if(!Cl(j)||Om(j))return!1;var et=_g(j)?t0:Or;return et.test(vu(j))}function rm(j){return Ql(j)&&Pl(j)==Et}function im(j){return Ql(j)&&Yl(j)==Vt}function am(j){return Ql(j)&&K0(j.length)&&!!jr[Pl(j)]}function uC(j){return typeof j=="function"?j:j==null?as:typeof j=="object"?Ao(j)?bC(j[0],j[1]):IC(j):Zp(j)}function fI(j){if(!d0(j))return Ln(j);var et=[];for(var dt in Do(j))Eo.call(j,dt)&&dt!="constructor"&&et.push(dt);return et}function om(j){if(!Cl(j))return Rm(j);var et=d0(j),dt=[];for(var Kt in j)Kt=="constructor"&&(et||!Eo.call(j,Kt))||dt.push(Kt);return dt}function BI(j,et){return j<et}function dC(j,et){var dt=-1,Kt=rs(j)?_n(j.length):[];return uu(j,function(Fn,Rn,Kn){Kt[++dt]=et(Fn,Rn,Kn)}),Kt}function IC(j){var et=kI(j);return et.length==1&&et[0][2]?jC(et[0][0],et[0][1]):function(dt){return dt===j||mI(dt,j,et)}}function bC(j,et){return DI(j)&&zC(et)?jC(Os(j),et):function(dt){var Kt=jI(dt,j);return Kt===$&&Kt===et?JI(dt,j):s0(et,Kt,_|pt)}}function k0(j,et,dt,Kt,Fn){j!==et&&bI(et,function(Rn,Kn){if(Fn||(Fn=new Qs),Cl(Rn))lm(j,et,Kn,dt,k0,Kt,Fn);else{var rr=Kt?Kt(MI(j,Kn),Rn,Kn+"",j,et,Fn):$;rr===$&&(rr=Rn),dI(j,Kn,rr)}},is)}function lm(j,et,dt,Kt,Fn,Rn,Kn){var rr=MI(j,dt),sr=MI(et,dt),Fr=Kn.get(sr);if(Fr){dI(j,dt,Fr);return}var vr=Rn?Rn(rr,sr,dt+"",j,et,Kn):$,Sr=vr===$;if(Sr){var Lr=Ao(sr),eo=!Lr&&hu(sr),go=!Lr&&!eo&&Yu(sr);vr=sr,Lr||eo||go?Ao(rr)?vr=rr:wl(rr)?vr=ns(rr):eo?(Sr=!1,vr=vC(sr,!0)):go?(Sr=!1,vr=UC(sr,!0)):vr=[]:b0(sr)||Uu(sr)?(vr=rr,Uu(rr)?vr=xp(rr):(!Cl(rr)||_g(rr))&&(vr=HC(sr))):Sr=!1}Sr&&(Kn.set(sr,vr),Fn(vr,sr,Kt,Rn,Kn),Kn.delete(sr)),dI(j,dt,vr)}function hC(j,et){var dt=j.length;if(dt)return et+=et<0?dt:0,$s(et,dt)?j[et]:$}function CC(j,et,dt){et.length?et=Yo(et,function(Rn){return Ao(Rn)?function(Kn){return Qu(Kn,Rn.length===1?Rn[0]:Rn)}:Rn}):et=[as];var Kt=-1;et=Yo(et,_l(co()));var Fn=dC(j,function(Rn,Kn,rr){var sr=Yo(et,function(Fr){return Fr(Rn)});return{criteria:sr,index:++Kt,value:Rn}});return tI(Fn,function(Rn,Kn){return Bm(Rn,Kn,dt)})}function cm(j,et){return pC(j,et,function(dt,Kt){return JI(j,Kt)})}function pC(j,et,dt){for(var Kt=-1,Fn=et.length,Rn={};++Kt<Fn;){var Kn=et[Kt],rr=Qu(j,Kn);dt(rr,Kn)&&g0(Rn,Iu(Kn,j),rr)}return Rn}function sm(j){return function(et){return Qu(et,j)}}function AI(j,et,dt,Kt){var Fn=Kt?eI:iu,Rn=-1,Kn=et.length,rr=j;for(j===et&&(et=ns(et)),dt&&(rr=Yo(j,_l(dt)));++Rn<Kn;)for(var sr=0,Fr=et[Rn],vr=dt?dt(Fr):Fr;(sr=Fn(rr,vr,sr,Kt))>-1;)rr!==j&&ss.call(rr,sr,1),ss.call(j,sr,1);return j}function mC(j,et){for(var dt=j?et.length:0,Kt=dt-1;dt--;){var Fn=et[dt];if(dt==Kt||Fn!==Rn){var Rn=Fn;$s(Fn)?ss.call(j,Fn,1):FI(j,Fn)}}return j}function yI(j,et){return j+kn(mr()*(et-j+1))}function gm(j,et,dt,Kt){for(var Fn=-1,Rn=Yn(cn((et-j)/(dt||1)),0),Kn=_n(Rn);Rn--;)Kn[Kt?Rn:++Fn]=j,j+=dt;return Kn}function xI(j,et){var dt="";if(!j||et<1||et>ft)return dt;do et%2&&(dt+=j),et=kn(et/2),et&&(j+=j);while(et);return dt}function vo(j,et){return VI(JC(j,et,as),j+"")}function um(j){return tC(Lu(j))}function dm(j,et){var dt=Lu(j);return H0(dt,xu(et,0,dt.length))}function g0(j,et,dt,Kt){if(!Cl(j))return j;et=Iu(et,j);for(var Fn=-1,Rn=et.length,Kn=Rn-1,rr=j;rr!=null&&++Fn<Rn;){var sr=Os(et[Fn]),Fr=dt;if(sr==="__proto__"||sr==="constructor"||sr==="prototype")return j;if(Fn!=Kn){var vr=rr[sr];Fr=Kt?Kt(vr,sr,rr):$,Fr===$&&(Fr=Cl(vr)?vr:$s(et[Fn+1])?[]:{})}o0(rr,sr,Fr),rr=rr[sr]}return j}var fC=Yr?function(j,et){return Yr.set(j,et),j}:as,Im=Du?function(j,et){return Du(j,"toString",{configurable:!0,enumerable:!1,value:PI(et),writable:!0})}:as;function bm(j){return H0(Lu(j))}function fs(j,et,dt){var Kt=-1,Fn=j.length;et<0&&(et=-et>Fn?0:Fn+et),dt=dt>Fn?Fn:dt,dt<0&&(dt+=Fn),Fn=et>dt?0:dt-et>>>0,et>>>=0;for(var Rn=_n(Fn);++Kt<Fn;)Rn[Kt]=j[Kt+et];return Rn}function hm(j,et){var dt;return uu(j,function(Kt,Fn,Rn){return dt=et(Kt,Fn,Rn),!dt}),!!dt}function T0(j,et,dt){var Kt=0,Fn=j==null?Kt:j.length;if(typeof et=="number"&&et===et&&Fn<=yt){for(;Kt<Fn;){var Rn=Kt+Fn>>>1,Kn=j[Rn];Kn!==null&&!ds(Kn)&&(dt?Kn<=et:Kn<et)?Kt=Rn+1:Fn=Rn}return Fn}return QI(j,et,as,dt)}function QI(j,et,dt,Kt){var Fn=0,Rn=j==null?0:j.length;if(Rn===0)return 0;et=dt(et);for(var Kn=et!==et,rr=et===null,sr=ds(et),Fr=et===$;Fn<Rn;){var vr=kn((Fn+Rn)/2),Sr=dt(j[vr]),Lr=Sr!==$,eo=Sr===null,go=Sr===Sr,Fo=ds(Sr);if(Kn)var uo=Kt||go;else Fr?uo=go&&(Kt||Lr):rr?uo=go&&Lr&&(Kt||!eo):sr?uo=go&&Lr&&!eo&&(Kt||!Fo):eo||Fo?uo=!1:uo=Kt?Sr<=et:Sr<et;uo?Fn=vr+1:Rn=vr}return qn(Rn,Gt)}function BC(j,et){for(var dt=-1,Kt=j.length,Fn=0,Rn=[];++dt<Kt;){var Kn=j[dt],rr=et?et(Kn):Kn;if(!dt||!Fs(rr,sr)){var sr=rr;Rn[Fn++]=Kn===0?0:Kn}}return Rn}function AC(j){return typeof j=="number"?j:ds(j)?Bt:+j}function us(j){if(typeof j=="string")return j;if(Ao(j))return Yo(j,us)+"";if(ds(j))return Wl?Wl.call(j):"";var et=j+"";return et=="0"&&1/j==-An?"-0":et}function du(j,et,dt){var Kt=-1,Fn=Ws,Rn=j.length,Kn=!0,rr=[],sr=rr;if(dt)Kn=!1,Fn=ws;else if(Rn>=ut){var Fr=et?null:vm(j);if(Fr)return ku(Fr);Kn=!1,Fn=mu,sr=new _s}else sr=et?[]:rr;e:for(;++Kt<Rn;){var vr=j[Kt],Sr=et?et(vr):vr;if(vr=dt||vr!==0?vr:0,Kn&&Sr===Sr){for(var Lr=sr.length;Lr--;)if(sr[Lr]===Sr)continue e;et&&sr.push(Sr),rr.push(vr)}else Fn(sr,Sr,dt)||(sr!==rr&&sr.push(Sr),rr.push(vr))}return rr}function FI(j,et){return et=Iu(et,j),j=_C(j,et),j==null||delete j[Os(Bs(et))]}function yC(j,et,dt,Kt){return g0(j,et,dt(Qu(j,et)),Kt)}function D0(j,et,dt,Kt){for(var Fn=j.length,Rn=Kt?Fn:-1;(Kt?Rn--:++Rn<Fn)&&et(j[Rn],Rn,j););return dt?fs(j,Kt?0:Rn,Kt?Rn+1:Fn):fs(j,Kt?Rn+1:0,Kt?Fn:Rn)}function xC(j,et){var dt=j;return dt instanceof Wr&&(dt=dt.value()),wu(et,function(Kt,Fn){return Fn.func.apply(Fn.thisArg,xs([Kt],Fn.args))},dt)}function vI(j,et,dt){var Kt=j.length;if(Kt<2)return Kt?du(j[0]):[];for(var Fn=-1,Rn=_n(Kt);++Fn<Kt;)for(var Kn=j[Fn],rr=-1;++rr<Kt;)rr!=Fn&&(Rn[Fn]=l0(Rn[Fn]||Kn,j[rr],et,dt));return du(Ml(Rn,1),et,dt)}function QC(j,et,dt){for(var Kt=-1,Fn=j.length,Rn=et.length,Kn={};++Kt<Fn;){var rr=Kt<Rn?et[Kt]:$;dt(Kn,j[Kt],rr)}return Kn}function UI(j){return wl(j)?j:[]}function GI(j){return typeof j=="function"?j:as}function Iu(j,et){return Ao(j)?j:DI(j,et)?[j]:$C(Mo(j))}var Cm=vo;function bu(j,et,dt){var Kt=j.length;return dt=dt===$?Kt:dt,!et&&dt>=Kt?j:fs(j,et,dt)}var FC=nt||function(j){return yo.clearTimeout(j)};function vC(j,et){if(et)return j.slice();var dt=j.length,Kt=Au?Au(dt):new j.constructor(dt);return j.copy(Kt),Kt}function wI(j){var et=new j.constructor(j.byteLength);return new Zs(et).set(new Zs(j)),et}function pm(j,et){var dt=et?wI(j.buffer):j.buffer;return new j.constructor(dt,j.byteOffset,j.byteLength)}function mm(j){var et=new j.constructor(j.source,Ar.exec(j));return et.lastIndex=j.lastIndex,et}function fm(j){return Vo?Do(Vo.call(j)):{}}function UC(j,et){var dt=et?wI(j.buffer):j.buffer;return new j.constructor(dt,j.byteOffset,j.length)}function GC(j,et){if(j!==et){var dt=j!==$,Kt=j===null,Fn=j===j,Rn=ds(j),Kn=et!==$,rr=et===null,sr=et===et,Fr=ds(et);if(!rr&&!Fr&&!Rn&&j>et||Rn&&Kn&&sr&&!rr&&!Fr||Kt&&Kn&&sr||!dt&&sr||!Fn)return 1;if(!Kt&&!Rn&&!Fr&&j<et||Fr&&dt&&Fn&&!Kt&&!Rn||rr&&dt&&Fn||!Kn&&Fn||!sr)return-1}return 0}function Bm(j,et,dt){for(var Kt=-1,Fn=j.criteria,Rn=et.criteria,Kn=Fn.length,rr=dt.length;++Kt<Kn;){var sr=GC(Fn[Kt],Rn[Kt]);if(sr){if(Kt>=rr)return sr;var Fr=dt[Kt];return sr*(Fr=="desc"?-1:1)}}return j.index-et.index}function wC(j,et,dt,Kt){for(var Fn=-1,Rn=j.length,Kn=dt.length,rr=-1,sr=et.length,Fr=Yn(Rn-Kn,0),vr=_n(sr+Fr),Sr=!Kt;++rr<sr;)vr[rr]=et[rr];for(;++Fn<Kn;)(Sr||Fn<Rn)&&(vr[dt[Fn]]=j[Fn]);for(;Fr--;)vr[rr++]=j[Fn++];return vr}function EC(j,et,dt,Kt){for(var Fn=-1,Rn=j.length,Kn=-1,rr=dt.length,sr=-1,Fr=et.length,vr=Yn(Rn-rr,0),Sr=_n(vr+Fr),Lr=!Kt;++Fn<vr;)Sr[Fn]=j[Fn];for(var eo=Fn;++sr<Fr;)Sr[eo+sr]=et[sr];for(;++Kn<rr;)(Lr||Fn<Rn)&&(Sr[eo+dt[Kn]]=j[Fn++]);return Sr}function ns(j,et){var dt=-1,Kt=j.length;for(et||(et=_n(Kt));++dt<Kt;)et[dt]=j[dt];return et}function Ds(j,et,dt,Kt){var Fn=!dt;dt||(dt={});for(var Rn=-1,Kn=et.length;++Rn<Kn;){var rr=et[Rn],sr=Kt?Kt(dt[rr],j[rr],rr,dt,j):$;sr===$&&(sr=j[rr]),Fn?Ps(dt,rr,sr):o0(dt,rr,sr)}return dt}function Am(j,et){return Ds(j,TI(j),et)}function ym(j,et){return Ds(j,YC(j),et)}function O0(j,et){return function(dt,Kt){var Fn=Ao(dt)?ru:Lp,Rn=et?et():{};return Fn(dt,j,co(Kt,2),Rn)}}function Vu(j){return vo(function(et,dt){var Kt=-1,Fn=dt.length,Rn=Fn>1?dt[Fn-1]:$,Kn=Fn>2?dt[2]:$;for(Rn=j.length>3&&typeof Rn=="function"?(Fn--,Rn):$,Kn&&Kl(dt[0],dt[1],Kn)&&(Rn=Fn<3?$:Rn,Fn=1),et=Do(et);++Kt<Fn;){var rr=dt[Kt];rr&&j(et,rr,Kt,Rn)}return et})}function SC(j,et){return function(dt,Kt){if(dt==null)return dt;if(!rs(dt))return j(dt,Kt);for(var Fn=dt.length,Rn=et?Fn:-1,Kn=Do(dt);(et?Rn--:++Rn<Fn)&&Kt(Kn[Rn],Rn,Kn)!==!1;);return dt}}function XC(j){return function(et,dt,Kt){for(var Fn=-1,Rn=Do(et),Kn=Kt(et),rr=Kn.length;rr--;){var sr=Kn[j?rr:++Fn];if(dt(Rn[sr],sr,Rn)===!1)break}return et}}function xm(j,et,dt){var Kt=et&ht,Fn=u0(j);function Rn(){var Kn=this&&this!==yo&&this instanceof Rn?Fn:j;return Kn.apply(Kt?dt:this,arguments)}return Rn}function ZC(j){return function(et){et=Mo(et);var dt=ls(et)?ts(et):$,Kt=dt?dt[0]:et.charAt(0),Fn=dt?bu(dt,1).join(""):et.slice(1);return Kt[j]()+Fn}}function Wu(j){return function(et){return wu(Sp(Ep(et).replace(br,"")),j,"")}}function u0(j){return function(){var et=arguments;switch(et.length){case 0:return new j;case 1:return new j(et[0]);case 2:return new j(et[0],et[1]);case 3:return new j(et[0],et[1],et[2]);case 4:return new j(et[0],et[1],et[2],et[3]);case 5:return new j(et[0],et[1],et[2],et[3],et[4]);case 6:return new j(et[0],et[1],et[2],et[3],et[4],et[5]);case 7:return new j(et[0],et[1],et[2],et[3],et[4],et[5],et[6])}var dt=zo(j.prototype),Kt=j.apply(dt,et);return Cl(Kt)?Kt:dt}}function Qm(j,et,dt){var Kt=u0(j);function Fn(){for(var Rn=arguments.length,Kn=_n(Rn),rr=Rn,sr=Ru(Fn);rr--;)Kn[rr]=arguments[rr];var Fr=Rn<3&&Kn[0]!==sr&&Kn[Rn-1]!==sr?[]:cs(Kn,sr);if(Rn-=Fr.length,Rn<dt)return OC(j,et,M0,Fn.placeholder,$,Kn,Fr,$,$,dt-Rn);var vr=this&&this!==yo&&this instanceof Fn?Kt:j;return Nl(vr,this,Kn)}return Fn}function NC(j){return function(et,dt,Kt){var Fn=Do(et);if(!rs(et)){var Rn=co(dt,3);et=Tl(et),dt=function(rr){return Rn(Fn[rr],rr,Fn)}}var Kn=j(et,dt,Kt);return Kn>-1?Fn[Rn?et[Kn]:Kn]:$}}function kC(j){return qs(function(et){var dt=et.length,Kt=dt,Fn=Wo.prototype.thru;for(j&&et.reverse();Kt--;){var Rn=et[Kt];if(typeof Rn!="function")throw new Sl(nn);if(Fn&&!Kn&&Y0(Rn)=="wrapper")var Kn=new Wo([],!0)}for(Kt=Kn?Kt:dt;++Kt<dt;){Rn=et[Kt];var rr=Y0(Rn),sr=rr=="wrapper"?NI(Rn):$;sr&&OI(sr[0])&&sr[1]==(kt|gt|vt|Ot)&&!sr[4].length&&sr[9]==1?Kn=Kn[Y0(sr[0])].apply(Kn,sr[3]):Kn=Rn.length==1&&OI(Rn)?Kn[rr]():Kn.thru(Rn)}return function(){var Fr=arguments,vr=Fr[0];if(Kn&&Fr.length==1&&Ao(vr))return Kn.plant(vr).value();for(var Sr=0,Lr=dt?et[Sr].apply(this,Fr):vr;++Sr<dt;)Lr=et[Sr].call(this,Lr);return Lr}})}function M0(j,et,dt,Kt,Fn,Rn,Kn,rr,sr,Fr){var vr=et&kt,Sr=et&ht,Lr=et&ot,eo=et&(gt|xt),go=et&an,Fo=Lr?$:u0(j);function uo(){for(var Go=arguments.length,Xo=_n(Go),Is=Go;Is--;)Xo[Is]=arguments[Is];if(eo)var $l=Ru(uo),bs=nI(Xo,$l);if(Kt&&(Xo=wC(Xo,Kt,Fn,eo)),Rn&&(Xo=EC(Xo,Rn,Kn,eo)),Go-=bs,eo&&Go<Fr){var El=cs(Xo,$l);return OC(j,et,M0,uo.placeholder,dt,Xo,El,rr,sr,Fr-Go)}var vs=Sr?dt:this,tu=Lr?vs[j]:j;return Go=Xo.length,rr?Xo=Lm(Xo,rr):go&&Go>1&&Xo.reverse(),vr&&sr<Go&&(Xo.length=sr),this&&this!==yo&&this instanceof uo&&(tu=Fo||u0(tu)),tu.apply(vs,Xo)}return uo}function TC(j,et){return function(dt,Kt){return qp(dt,j,et(Kt),{})}}function V0(j,et){return function(dt,Kt){var Fn;if(dt===$&&Kt===$)return et;if(dt!==$&&(Fn=dt),Kt!==$){if(Fn===$)return Kt;typeof dt=="string"||typeof Kt=="string"?(dt=us(dt),Kt=us(Kt)):(dt=AC(dt),Kt=AC(Kt)),Fn=j(dt,Kt)}return Fn}}function EI(j){return qs(function(et){return et=Yo(et,_l(co())),vo(function(dt){var Kt=this;return j(et,function(Fn){return Nl(Fn,Kt,dt)})})})}function W0(j,et){et=et===$?" ":us(et);var dt=et.length;if(dt<2)return dt?xI(et,j):et;var Kt=xI(et,cn(j/ou(et)));return ls(et)?bu(ts(Kt),0,j).join(""):Kt.slice(0,j)}function Fm(j,et,dt,Kt){var Fn=et&ht,Rn=u0(j);function Kn(){for(var rr=-1,sr=arguments.length,Fr=-1,vr=Kt.length,Sr=_n(vr+sr),Lr=this&&this!==yo&&this instanceof Kn?Rn:j;++Fr<vr;)Sr[Fr]=Kt[Fr];for(;sr--;)Sr[Fr++]=arguments[++rr];return Nl(Lr,Fn?dt:this,Sr)}return Kn}function DC(j){return function(et,dt,Kt){return Kt&&typeof Kt!="number"&&Kl(et,dt,Kt)&&(dt=Kt=$),et=eu(et),dt===$?(dt=et,et=0):dt=eu(dt),Kt=Kt===$?et<dt?1:-1:eu(Kt),gm(et,dt,Kt,j)}}function R0(j){return function(et,dt){return typeof et=="string"&&typeof dt=="string"||(et=As(et),dt=As(dt)),j(et,dt)}}function OC(j,et,dt,Kt,Fn,Rn,Kn,rr,sr,Fr){var vr=et&gt,Sr=vr?Kn:$,Lr=vr?$:Kn,eo=vr?Rn:$,go=vr?$:Rn;et|=vr?vt:it,et&=~(vr?it:vt),et&at||(et&=~(ht|ot));var Fo=[j,et,Fn,eo,Sr,go,Lr,rr,sr,Fr],uo=dt.apply($,Fo);return OI(j)&&PC(uo,Fo),uo.placeholder=Kt,KC(uo,j,et)}function SI(j){var et=qo[j];return function(dt,Kt){if(dt=As(dt),Kt=Kt==null?0:qn(xo(Kt),292),Kt&&En(dt)){var Fn=(Mo(dt)+"e").split("e"),Rn=et(Fn[0]+"e"+(+Fn[1]+Kt));return Fn=(Mo(Rn)+"e").split("e"),+(Fn[0]+"e"+(+Fn[1]-Kt))}return et(dt)}}var vm=Qr&&1/ku(new Qr([,-0]))[1]==An?function(j){return new Qr(j)}:$I;function MC(j){return function(et){var dt=Yl(et);return dt==$t?Nu(et):dt==Vt?oI(et):Jl(et,j(et))}}function Ks(j,et,dt,Kt,Fn,Rn,Kn,rr){var sr=et&ot;if(!sr&&typeof j!="function")throw new Sl(nn);var Fr=Kt?Kt.length:0;if(Fr||(et&=~(vt|it),Kt=Fn=$),Kn=Kn===$?Kn:Yn(xo(Kn),0),rr=rr===$?rr:xo(rr),Fr-=Fn?Fn.length:0,et&it){var vr=Kt,Sr=Fn;Kt=Fn=$}var Lr=sr?$:NI(j),eo=[j,et,dt,Kt,Fn,vr,Sr,Rn,Kn,rr];if(Lr&&Wm(eo,Lr),j=eo[0],et=eo[1],dt=eo[2],Kt=eo[3],Fn=eo[4],rr=eo[9]=eo[9]===$?sr?0:j.length:Yn(eo[9]-Fr,0),!rr&&et&(gt|xt)&&(et&=~(gt|xt)),!et||et==ht)var go=xm(j,et,dt);else et==gt||et==xt?go=Qm(j,et,rr):(et==vt||et==(ht|vt))&&!Fn.length?go=Fm(j,et,dt,Kt):go=M0.apply($,eo);var Fo=Lr?fC:PC;return KC(Fo(go,eo),j,et)}function VC(j,et,dt,Kt){return j===$||Fs(j,Ls[dt])&&!Eo.call(Kt,dt)?et:j}function WC(j,et,dt,Kt,Fn,Rn){return Cl(j)&&Cl(et)&&(Rn.set(et,j),k0(j,et,$,WC,Rn),Rn.delete(et)),j}function Um(j){return b0(j)?$:j}function RC(j,et,dt,Kt,Fn,Rn){var Kn=dt&_,rr=j.length,sr=et.length;if(rr!=sr&&!(Kn&&sr>rr))return!1;var Fr=Rn.get(j),vr=Rn.get(et);if(Fr&&vr)return Fr==et&&vr==j;var Sr=-1,Lr=!0,eo=dt&pt?new _s:$;for(Rn.set(j,et),Rn.set(et,j);++Sr<rr;){var go=j[Sr],Fo=et[Sr];if(Kt)var uo=Kn?Kt(Fo,go,Sr,et,j,Rn):Kt(go,Fo,Sr,j,et,Rn);if(uo!==$){if(uo)continue;Lr=!1;break}if(eo){if(!Hu(et,function(Go,Xo){if(!mu(eo,Xo)&&(go===Go||Fn(go,Go,dt,Kt,Rn)))return eo.push(Xo)})){Lr=!1;break}}else if(!(go===Fo||Fn(go,Fo,dt,Kt,Rn))){Lr=!1;break}}return Rn.delete(j),Rn.delete(et),Lr}function Gm(j,et,dt,Kt,Fn,Rn,Kn){switch(dt){case At:if(j.byteLength!=et.byteLength||j.byteOffset!=et.byteOffset)return!1;j=j.buffer,et=et.buffer;case zt:return!(j.byteLength!=et.byteLength||!Rn(new Zs(j),new Zs(et)));case lt:case st:case Wt:return Fs(+j,+et);case Tt:return j.name==et.name&&j.message==et.message;case Et:case Pt:return j==et+"";case $t:var rr=Nu;case Vt:var sr=Kt&_;if(rr||(rr=ku),j.size!=et.size&&!sr)return!1;var Fr=Kn.get(j);if(Fr)return Fr==et;Kt|=pt,Kn.set(j,et);var vr=RC(rr(j),rr(et),Kt,Fn,Rn,Kn);return Kn.delete(j),vr;case qt:if(Vo)return Vo.call(j)==Vo.call(et)}return!1}function wm(j,et,dt,Kt,Fn,Rn){var Kn=dt&_,rr=XI(j),sr=rr.length,Fr=XI(et),vr=Fr.length;if(sr!=vr&&!Kn)return!1;for(var Sr=sr;Sr--;){var Lr=rr[Sr];if(!(Kn?Lr in et:Eo.call(et,Lr)))return!1}var eo=Rn.get(j),go=Rn.get(et);if(eo&&go)return eo==et&&go==j;var Fo=!0;Rn.set(j,et),Rn.set(et,j);for(var uo=Kn;++Sr<sr;){Lr=rr[Sr];var Go=j[Lr],Xo=et[Lr];if(Kt)var Is=Kn?Kt(Xo,Go,Lr,et,j,Rn):Kt(Go,Xo,Lr,j,et,Rn);if(!(Is===$?Go===Xo||Fn(Go,Xo,dt,Kt,Rn):Is)){Fo=!1;break}uo||(uo=Lr=="constructor")}if(Fo&&!uo){var $l=j.constructor,bs=et.constructor;$l!=bs&&"constructor"in j&&"constructor"in et&&!(typeof $l=="function"&&$l instanceof $l&&typeof bs=="function"&&bs instanceof bs)&&(Fo=!1)}return Rn.delete(j),Rn.delete(et),Fo}function qs(j){return VI(JC(j,$,rp),j+"")}function XI(j){return cC(j,Tl,TI)}function ZI(j){return cC(j,is,YC)}var NI=Yr?function(j){return Yr.get(j)}:$I;function Y0(j){for(var et=j.name+"",dt=_a[et],Kt=Eo.call(_a,et)?dt.length:0;Kt--;){var Fn=dt[Kt],Rn=Fn.func;if(Rn==null||Rn==j)return Fn.name}return et}function Ru(j){var et=Eo.call(Sn,"placeholder")?Sn:j;return et.placeholder}function co(){var j=Sn.iteratee||KI;return j=j===KI?uC:j,arguments.length?j(arguments[0],arguments[1]):j}function L0(j,et){var dt=j.__data__;return Dm(et)?dt[typeof et=="string"?"string":"hash"]:dt.map}function kI(j){for(var et=Tl(j),dt=et.length;dt--;){var Kt=et[dt],Fn=j[Kt];et[dt]=[Kt,Fn,zC(Fn)]}return et}function Fu(j,et){var dt=Zu(j,et);return gC(dt)?dt:$}function Em(j){var et=Eo.call(j,js),dt=j[js];try{j[js]=$;var Kt=!0}catch{}var Fn=Cs.call(j);return Kt&&(et?j[js]=dt:delete j[js]),Fn}var TI=sn?function(j){return j==null?[]:(j=Do(j),Gs(sn(j),function(et){return r0.call(j,et)}))}:_b,YC=sn?function(j){for(var et=[];j;)xs(et,TI(j)),j=gu(j);return et}:_b,Yl=Pl;(kr&&Yl(new kr(new ArrayBuffer(1)))!=At||Gr&&Yl(new Gr)!=$t||Pr&&Yl(Pr.resolve())!=rn||Qr&&Yl(new Qr)!=Vt||_i&&Yl(new _i)!=Yt)&&(Yl=function(j){var et=Pl(j),dt=et==In?j.constructor:$,Kt=dt?vu(dt):"";if(Kt)switch(Kt){case $a:return At;case ao:return $t;case Bo:return rn;case $o:return Vt;case Ul:return Yt}return et});function Sm(j,et,dt){for(var Kt=-1,Fn=dt.length;++Kt<Fn;){var Rn=dt[Kt],Kn=Rn.size;switch(Rn.type){case"drop":j+=Kn;break;case"dropRight":et-=Kn;break;case"take":et=qn(et,j+Kn);break;case"takeRight":j=Yn(j,et-Kn);break}}return{start:j,end:et}}function Xm(j){var et=j.match(cr);return et?et[1].split(or):[]}function LC(j,et,dt){et=Iu(et,j);for(var Kt=-1,Fn=et.length,Rn=!1;++Kt<Fn;){var Kn=Os(et[Kt]);if(!(Rn=j!=null&&dt(j,Kn)))break;j=j[Kn]}return Rn||++Kt!=Fn?Rn:(Fn=j==null?0:j.length,!!Fn&&K0(Fn)&&$s(Kn,Fn)&&(Ao(j)||Uu(j)))}function Zm(j){var et=j.length,dt=new j.constructor(et);return et&&typeof j[0]=="string"&&Eo.call(j,"index")&&(dt.index=j.index,dt.input=j.input),dt}function HC(j){return typeof j.constructor=="function"&&!d0(j)?zo(gu(j)):{}}function Nm(j,et,dt){var Kt=j.constructor;switch(et){case zt:return wI(j);case lt:case st:return new Kt(+j);case At:return pm(j,dt);case Ut:case wt:case Jt:case Mt:case un:case hn:case jt:case vn:case xn:return UC(j,dt);case $t:return new Kt;case Wt:case Pt:return new Kt(j);case Et:return mm(j);case Vt:return new Kt;case qt:return fm(j)}}function km(j,et){var dt=et.length;if(!dt)return j;var Kt=dt-1;return et[Kt]=(dt>1?"& ":"")+et[Kt],et=et.join(dt>2?", ":" "),j.replace(er,`{
/* [wrapped with `+et+`] */
`)}function Tm(j){return Ao(j)||Uu(j)||!!(So&&j&&j[So])}function $s(j,et){var dt=typeof j;return et=et??ft,!!et&&(dt=="number"||dt!="symbol"&&ho.test(j))&&j>-1&&j%1==0&&j<et}function Kl(j,et,dt){if(!Cl(dt))return!1;var Kt=typeof et;return(Kt=="number"?rs(dt)&&$s(et,dt.length):Kt=="string"&&et in dt)?Fs(dt[et],j):!1}function DI(j,et){if(Ao(j))return!1;var dt=typeof j;return dt=="number"||dt=="symbol"||dt=="boolean"||j==null||ds(j)?!0:ln.test(j)||!Wn.test(j)||et!=null&&j in Do(et)}function Dm(j){var et=typeof j;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?j!=="__proto__":j===null}function OI(j){var et=Y0(j),dt=Sn[et];if(typeof dt!="function"||!(et in Wr.prototype))return!1;if(j===dt)return!0;var Kt=NI(dt);return!!Kt&&j===Kt[0]}function Om(j){return!!Xs&&Xs in j}var Mm=cu?_g:_h;function d0(j){var et=j&&j.constructor,dt=typeof et=="function"&&et.prototype||Ls;return j===dt}function zC(j){return j===j&&!Cl(j)}function jC(j,et){return function(dt){return dt==null?!1:dt[j]===et&&(et!==$||j in Do(dt))}}function Vm(j){var et=_0(j,function(Kt){return dt.size===jn&&dt.clear(),Kt}),dt=et.cache;return et}function Wm(j,et){var dt=j[1],Kt=et[1],Fn=dt|Kt,Rn=Fn<(ht|ot|kt),Kn=Kt==kt&&dt==gt||Kt==kt&&dt==Ot&&j[7].length<=et[8]||Kt==(kt|Ot)&&et[7].length<=et[8]&&dt==gt;if(!(Rn||Kn))return j;Kt&ht&&(j[2]=et[2],Fn|=dt&ht?0:at);var rr=et[3];if(rr){var sr=j[3];j[3]=sr?wC(sr,rr,et[4]):rr,j[4]=sr?cs(j[3],Vn):et[4]}return rr=et[5],rr&&(sr=j[5],j[5]=sr?EC(sr,rr,et[6]):rr,j[6]=sr?cs(j[5],Vn):et[6]),rr=et[7],rr&&(j[7]=rr),Kt&kt&&(j[8]=j[8]==null?et[8]:qn(j[8],et[8])),j[9]==null&&(j[9]=et[9]),j[0]=et[0],j[1]=Fn,j}function Rm(j){var et=[];if(j!=null)for(var dt in Do(j))et.push(dt);return et}function Ym(j){return Cs.call(j)}function JC(j,et,dt){return et=Yn(et===$?j.length-1:et,0),function(){for(var Kt=arguments,Fn=-1,Rn=Yn(Kt.length-et,0),Kn=_n(Rn);++Fn<Rn;)Kn[Fn]=Kt[et+Fn];Fn=-1;for(var rr=_n(et+1);++Fn<et;)rr[Fn]=Kt[Fn];return rr[et]=dt(Kn),Nl(j,this,rr)}}function _C(j,et){return et.length<2?j:Qu(j,fs(et,0,-1))}function Lm(j,et){for(var dt=j.length,Kt=qn(et.length,dt),Fn=ns(j);Kt--;){var Rn=et[Kt];j[Kt]=$s(Rn,dt)?Fn[Rn]:$}return j}function MI(j,et){if(!(et==="constructor"&&typeof j[et]=="function")&&et!="__proto__")return j[et]}var PC=qC(fC),I0=en||function(j,et){return yo.setTimeout(j,et)},VI=qC(Im);function KC(j,et,dt){var Kt=et+"";return VI(j,km(Kt,Hm(Xm(Kt),dt)))}function qC(j){var et=0,dt=0;return function(){var Kt=nr(),Fn=fn-(Kt-dt);if(dt=Kt,Fn>0){if(++et>=bn)return arguments[0]}else et=0;return j.apply($,arguments)}}function H0(j,et){var dt=-1,Kt=j.length,Fn=Kt-1;for(et=et===$?Kt:et;++dt<et;){var Rn=yI(dt,Fn),Kn=j[Rn];j[Rn]=j[dt],j[dt]=Kn}return j.length=et,j}var $C=Vm(function(j){var et=[];return j.charCodeAt(0)===46&&et.push(""),j.replace(Un,function(dt,Kt,Fn,Rn){et.push(Fn?Rn.replace(Zr,"$1"):Kt||dt)}),et});function Os(j){if(typeof j=="string"||ds(j))return j;var et=j+"";return et=="0"&&1/j==-An?"-0":et}function vu(j){if(j!=null){try{return Tu.call(j)}catch{}try{return j+""}catch{}}return""}function Hm(j,et){return es(Ct,function(dt){var Kt="_."+dt[0];et&dt[1]&&!Ws(j,Kt)&&j.push(Kt)}),j.sort()}function ep(j){if(j instanceof Wr)return j.clone();var et=new Wo(j.__wrapped__,j.__chain__);return et.__actions__=ns(j.__actions__),et.__index__=j.__index__,et.__values__=j.__values__,et}function zm(j,et,dt){(dt?Kl(j,et,dt):et===$)?et=1:et=Yn(xo(et),0);var Kt=j==null?0:j.length;if(!Kt||et<1)return[];for(var Fn=0,Rn=0,Kn=_n(cn(Kt/et));Fn<Kt;)Kn[Rn++]=fs(j,Fn,Fn+=et);return Kn}function jm(j){for(var et=-1,dt=j==null?0:j.length,Kt=0,Fn=[];++et<dt;){var Rn=j[et];Rn&&(Fn[Kt++]=Rn)}return Fn}function Jm(){var j=arguments.length;if(!j)return[];for(var et=_n(j-1),dt=arguments[0],Kt=j;Kt--;)et[Kt-1]=arguments[Kt];return xs(Ao(dt)?ns(dt):[dt],Ml(et,1))}var _m=vo(function(j,et){return wl(j)?l0(j,Ml(et,1,wl,!0)):[]}),Pm=vo(function(j,et){var dt=Bs(et);return wl(dt)&&(dt=$),wl(j)?l0(j,Ml(et,1,wl,!0),co(dt,2)):[]}),Km=vo(function(j,et){var dt=Bs(et);return wl(dt)&&(dt=$),wl(j)?l0(j,Ml(et,1,wl,!0),$,dt):[]});function qm(j,et,dt){var Kt=j==null?0:j.length;return Kt?(et=dt||et===$?1:xo(et),fs(j,et<0?0:et,Kt)):[]}function $m(j,et,dt){var Kt=j==null?0:j.length;return Kt?(et=dt||et===$?1:xo(et),et=Kt-et,fs(j,0,et<0?0:et)):[]}function _f(j,et){return j&&j.length?D0(j,co(et,3),!0,!0):[]}function eB(j,et){return j&&j.length?D0(j,co(et,3),!0):[]}function tB(j,et,dt,Kt){var Fn=j==null?0:j.length;return Fn?(dt&&typeof dt!="number"&&Kl(j,et,dt)&&(dt=0,Kt=Fn),Jp(j,et,dt,Kt)):[]}function tp(j,et,dt){var Kt=j==null?0:j.length;if(!Kt)return-1;var Fn=dt==null?0:xo(dt);return Fn<0&&(Fn=Yn(Kt+Fn,0)),Cu(j,co(et,3),Fn)}function np(j,et,dt){var Kt=j==null?0:j.length;if(!Kt)return-1;var Fn=Kt-1;return dt!==$&&(Fn=xo(dt),Fn=dt<0?Yn(Kt+Fn,0):qn(Fn,Kt-1)),Cu(j,co(et,3),Fn,!0)}function rp(j){var et=j==null?0:j.length;return et?Ml(j,1):[]}function nB(j){var et=j==null?0:j.length;return et?Ml(j,An):[]}function rB(j,et){var dt=j==null?0:j.length;return dt?(et=et===$?1:xo(et),Ml(j,et)):[]}function iB(j){for(var et=-1,dt=j==null?0:j.length,Kt={};++et<dt;){var Fn=j[et];Kt[Fn[0]]=Fn[1]}return Kt}function ip(j){return j&&j.length?j[0]:$}function aB(j,et,dt){var Kt=j==null?0:j.length;if(!Kt)return-1;var Fn=dt==null?0:xo(dt);return Fn<0&&(Fn=Yn(Kt+Fn,0)),iu(j,et,Fn)}function oB(j){var et=j==null?0:j.length;return et?fs(j,0,-1):[]}var lB=vo(function(j){var et=Yo(j,UI);return et.length&&et[0]===j[0]?pI(et):[]}),cB=vo(function(j){var et=Bs(j),dt=Yo(j,UI);return et===Bs(dt)?et=$:dt.pop(),dt.length&&dt[0]===j[0]?pI(dt,co(et,2)):[]}),sB=vo(function(j){var et=Bs(j),dt=Yo(j,UI);return et=typeof et=="function"?et:$,et&&dt.pop(),dt.length&&dt[0]===j[0]?pI(dt,$,et):[]});function gB(j,et){return j==null?"":Nn.call(j,et)}function Bs(j){var et=j==null?0:j.length;return et?j[et-1]:$}function uB(j,et,dt){var Kt=j==null?0:j.length;if(!Kt)return-1;var Fn=Kt;return dt!==$&&(Fn=xo(dt),Fn=Fn<0?Yn(Kt+Fn,0):qn(Fn,Kt-1)),et===et?Ss(j,et,Fn):Cu(j,pu,Fn,!0)}function dB(j,et){return j&&j.length?hC(j,xo(et)):$}var IB=vo(ap);function ap(j,et){return j&&j.length&&et&&et.length?AI(j,et):j}function bB(j,et,dt){return j&&j.length&&et&&et.length?AI(j,et,co(dt,2)):j}function hB(j,et,dt){return j&&j.length&&et&&et.length?AI(j,et,$,dt):j}var CB=qs(function(j,et){var dt=j==null?0:j.length,Kt=II(j,et);return mC(j,Yo(et,function(Fn){return $s(Fn,dt)?+Fn:Fn}).sort(GC)),Kt});function pB(j,et){var dt=[];if(!(j&&j.length))return dt;var Kt=-1,Fn=[],Rn=j.length;for(et=co(et,3);++Kt<Rn;){var Kn=j[Kt];et(Kn,Kt,j)&&(dt.push(Kn),Fn.push(Kt))}return mC(j,Fn),dt}function WI(j){return j==null?j:dr.call(j)}function mB(j,et,dt){var Kt=j==null?0:j.length;return Kt?(dt&&typeof dt!="number"&&Kl(j,et,dt)?(et=0,dt=Kt):(et=et==null?0:xo(et),dt=dt===$?Kt:xo(dt)),fs(j,et,dt)):[]}function fB(j,et){return T0(j,et)}function BB(j,et,dt){return QI(j,et,co(dt,2))}function AB(j,et){var dt=j==null?0:j.length;if(dt){var Kt=T0(j,et);if(Kt<dt&&Fs(j[Kt],et))return Kt}return-1}function yB(j,et){return T0(j,et,!0)}function xB(j,et,dt){return QI(j,et,co(dt,2),!0)}function QB(j,et){var dt=j==null?0:j.length;if(dt){var Kt=T0(j,et,!0)-1;if(Fs(j[Kt],et))return Kt}return-1}function FB(j){return j&&j.length?BC(j):[]}function vB(j,et){return j&&j.length?BC(j,co(et,2)):[]}function UB(j){var et=j==null?0:j.length;return et?fs(j,1,et):[]}function GB(j,et,dt){return j&&j.length?(et=dt||et===$?1:xo(et),fs(j,0,et<0?0:et)):[]}function wB(j,et,dt){var Kt=j==null?0:j.length;return Kt?(et=dt||et===$?1:xo(et),et=Kt-et,fs(j,et<0?0:et,Kt)):[]}function EB(j,et){return j&&j.length?D0(j,co(et,3),!1,!0):[]}function SB(j,et){return j&&j.length?D0(j,co(et,3)):[]}var XB=vo(function(j){return du(Ml(j,1,wl,!0))}),ZB=vo(function(j){var et=Bs(j);return wl(et)&&(et=$),du(Ml(j,1,wl,!0),co(et,2))}),NB=vo(function(j){var et=Bs(j);return et=typeof et=="function"?et:$,du(Ml(j,1,wl,!0),$,et)});function kB(j){return j&&j.length?du(j):[]}function TB(j,et){return j&&j.length?du(j,co(et,2)):[]}function DB(j,et){return et=typeof et=="function"?et:$,j&&j.length?du(j,$,et):[]}function RI(j){if(!(j&&j.length))return[];var et=0;return j=Gs(j,function(dt){if(wl(dt))return et=Yn(dt.length,et),!0}),ju(et,function(dt){return Yo(j,au(dt))})}function op(j,et){if(!(j&&j.length))return[];var dt=RI(j);return et==null?dt:Yo(dt,function(Kt){return Nl(et,$,Kt)})}var OB=vo(function(j,et){return wl(j)?l0(j,et):[]}),MB=vo(function(j){return vI(Gs(j,wl))}),VB=vo(function(j){var et=Bs(j);return wl(et)&&(et=$),vI(Gs(j,wl),co(et,2))}),WB=vo(function(j){var et=Bs(j);return et=typeof et=="function"?et:$,vI(Gs(j,wl),$,et)}),RB=vo(RI);function YB(j,et){return QC(j||[],et||[],o0)}function LB(j,et){return QC(j||[],et||[],g0)}var HB=vo(function(j){var et=j.length,dt=et>1?j[et-1]:$;return dt=typeof dt=="function"?(j.pop(),dt):$,op(j,dt)});function lp(j){var et=Sn(j);return et.__chain__=!0,et}function zB(j,et){return et(j),j}function z0(j,et){return et(j)}var jB=qs(function(j){var et=j.length,dt=et?j[0]:0,Kt=this.__wrapped__,Fn=function(Rn){return II(Rn,j)};return et>1||this.__actions__.length||!(Kt instanceof Wr)||!$s(dt)?this.thru(Fn):(Kt=Kt.slice(dt,+dt+(et?1:0)),Kt.__actions__.push({func:z0,args:[Fn],thisArg:$}),new Wo(Kt,this.__chain__).thru(function(Rn){return et&&!Rn.length&&Rn.push($),Rn}))});function JB(){return lp(this)}function _B(){return new Wo(this.value(),this.__chain__)}function PB(){this.__values__===$&&(this.__values__=Ap(this.value()));var j=this.__index__>=this.__values__.length,et=j?$:this.__values__[this.__index__++];return{done:j,value:et}}function KB(){return this}function qB(j){for(var et,dt=this;dt instanceof jo;){var Kt=ep(dt);Kt.__index__=0,Kt.__values__=$,et?Fn.__wrapped__=Kt:et=Kt;var Fn=Kt;dt=dt.__wrapped__}return Fn.__wrapped__=j,et}function $B(){var j=this.__wrapped__;if(j instanceof Wr){var et=j;return this.__actions__.length&&(et=new Wr(this)),et=et.reverse(),et.__actions__.push({func:z0,args:[WI],thisArg:$}),new Wo(et,this.__chain__)}return this.thru(WI)}function e1(){return xC(this.__wrapped__,this.__actions__)}var t1=O0(function(j,et,dt){Eo.call(j,dt)?++j[dt]:Ps(j,dt,1)});function n1(j,et,dt){var Kt=Ao(j)?Vs:jp;return dt&&Kl(j,et,dt)&&(et=$),Kt(j,co(et,3))}function r1(j,et){var dt=Ao(j)?Gs:oC;return dt(j,co(et,3))}var i1=NC(tp),a1=NC(np);function o1(j,et){return Ml(j0(j,et),1)}function l1(j,et){return Ml(j0(j,et),An)}function c1(j,et,dt){return dt=dt===$?1:xo(dt),Ml(j0(j,et),dt)}function cp(j,et){var dt=Ao(j)?es:uu;return dt(j,co(et,3))}function sp(j,et){var dt=Ao(j)?Gu:aC;return dt(j,co(et,3))}var s1=O0(function(j,et,dt){Eo.call(j,dt)?j[dt].push(et):Ps(j,dt,[et])});function g1(j,et,dt,Kt){j=rs(j)?j:Lu(j),dt=dt&&!Kt?xo(dt):0;var Fn=j.length;return dt<0&&(dt=Yn(Fn+dt,0)),q0(j)?dt<=Fn&&j.indexOf(et,dt)>-1:!!Fn&&iu(j,et,dt)>-1}var u1=vo(function(j,et,dt){var Kt=-1,Fn=typeof et=="function",Rn=rs(j)?_n(j.length):[];return uu(j,function(Kn){Rn[++Kt]=Fn?Nl(et,Kn,dt):c0(Kn,et,dt)}),Rn}),d1=O0(function(j,et,dt){Ps(j,dt,et)});function j0(j,et){var dt=Ao(j)?Yo:dC;return dt(j,co(et,3))}function I1(j,et,dt,Kt){return j==null?[]:(Ao(et)||(et=et==null?[]:[et]),dt=Kt?$:dt,Ao(dt)||(dt=dt==null?[]:[dt]),CC(j,et,dt))}var b1=O0(function(j,et,dt){j[dt?0:1].push(et)},function(){return[[],[]]});function h1(j,et,dt){var Kt=Ao(j)?wu:B0,Fn=arguments.length<3;return Kt(j,co(et,4),dt,Fn,uu)}function C1(j,et,dt){var Kt=Ao(j)?m0:B0,Fn=arguments.length<3;return Kt(j,co(et,4),dt,Fn,aC)}function p1(j,et){var dt=Ao(j)?Gs:oC;return dt(j,P0(co(et,3)))}function m1(j){var et=Ao(j)?tC:um;return et(j)}function f1(j,et,dt){(dt?Kl(j,et,dt):et===$)?et=1:et=xo(et);var Kt=Ao(j)?Rp:dm;return Kt(j,et)}function B1(j){var et=Ao(j)?Yp:bm;return et(j)}function A1(j){if(j==null)return 0;if(rs(j))return q0(j)?ou(j):j.length;var et=Yl(j);return et==$t||et==Vt?j.size:fI(j).length}function y1(j,et,dt){var Kt=Ao(j)?Hu:hm;return dt&&Kl(j,et,dt)&&(et=$),Kt(j,co(et,3))}var x1=vo(function(j,et){if(j==null)return[];var dt=et.length;return dt>1&&Kl(j,et[0],et[1])?et=[]:dt>2&&Kl(et[0],et[1],et[2])&&(et=[et[0]]),CC(j,Ml(et,1),[])}),J0=Ft||function(){return yo.Date.now()};function Q1(j,et){if(typeof et!="function")throw new Sl(nn);return j=xo(j),function(){if(--j<1)return et.apply(this,arguments)}}function gp(j,et,dt){return et=dt?$:et,et=j&&et==null?j.length:et,Ks(j,kt,$,$,$,$,et)}function up(j,et){var dt;if(typeof et!="function")throw new Sl(nn);return j=xo(j),function(){return--j>0&&(dt=et.apply(this,arguments)),j<=1&&(et=$),dt}}var YI=vo(function(j,et,dt){var Kt=ht;if(dt.length){var Fn=cs(dt,Ru(YI));Kt|=vt}return Ks(j,Kt,et,dt,Fn)}),dp=vo(function(j,et,dt){var Kt=ht|ot;if(dt.length){var Fn=cs(dt,Ru(dp));Kt|=vt}return Ks(et,Kt,j,dt,Fn)});function Ip(j,et,dt){et=dt?$:et;var Kt=Ks(j,gt,$,$,$,$,$,et);return Kt.placeholder=Ip.placeholder,Kt}function bp(j,et,dt){et=dt?$:et;var Kt=Ks(j,xt,$,$,$,$,$,et);return Kt.placeholder=bp.placeholder,Kt}function hp(j,et,dt){var Kt,Fn,Rn,Kn,rr,sr,Fr=0,vr=!1,Sr=!1,Lr=!0;if(typeof j!="function")throw new Sl(nn);et=As(et)||0,Cl(dt)&&(vr=!!dt.leading,Sr="maxWait"in dt,Rn=Sr?Yn(As(dt.maxWait)||0,et):Rn,Lr="trailing"in dt?!!dt.trailing:Lr);function eo(El){var vs=Kt,tu=Fn;return Kt=Fn=$,Fr=El,Kn=j.apply(tu,vs),Kn}function go(El){return Fr=El,rr=I0(Go,et),vr?eo(El):Kn}function Fo(El){var vs=El-sr,tu=El-Fr,Np=et-vs;return Sr?qn(Np,Rn-tu):Np}function uo(El){var vs=El-sr,tu=El-Fr;return sr===$||vs>=et||vs<0||Sr&&tu>=Rn}function Go(){var El=J0();if(uo(El))return Xo(El);rr=I0(Go,Fo(El))}function Xo(El){return rr=$,Lr&&Kt?eo(El):(Kt=Fn=$,Kn)}function Is(){rr!==$&&FC(rr),Fr=0,Kt=sr=Fn=rr=$}function $l(){return rr===$?Kn:Xo(J0())}function bs(){var El=J0(),vs=uo(El);if(Kt=arguments,Fn=this,sr=El,vs){if(rr===$)return go(sr);if(Sr)return FC(rr),rr=I0(Go,et),eo(sr)}return rr===$&&(rr=I0(Go,et)),Kn}return bs.cancel=Is,bs.flush=$l,bs}var F1=vo(function(j,et){return iC(j,1,et)}),v1=vo(function(j,et,dt){return iC(j,As(et)||0,dt)});function U1(j){return Ks(j,an)}function _0(j,et){if(typeof j!="function"||et!=null&&typeof et!="function")throw new Sl(nn);var dt=function(){var Kt=arguments,Fn=et?et.apply(this,Kt):Kt[0],Rn=dt.cache;if(Rn.has(Fn))return Rn.get(Fn);var Kn=j.apply(this,Kt);return dt.cache=Rn.set(Fn,Kn)||Rn,Kn};return dt.cache=new(_0.Cache||gs),dt}_0.Cache=gs;function P0(j){if(typeof j!="function")throw new Sl(nn);return function(){var et=arguments;switch(et.length){case 0:return!j.call(this);case 1:return!j.call(this,et[0]);case 2:return!j.call(this,et[0],et[1]);case 3:return!j.call(this,et[0],et[1],et[2])}return!j.apply(this,et)}}function G1(j){return up(2,j)}var w1=Cm(function(j,et){et=et.length==1&&Ao(et[0])?Yo(et[0],_l(co())):Yo(Ml(et,1),_l(co()));var dt=et.length;return vo(function(Kt){for(var Fn=-1,Rn=qn(Kt.length,dt);++Fn<Rn;)Kt[Fn]=et[Fn].call(this,Kt[Fn]);return Nl(j,this,Kt)})}),LI=vo(function(j,et){var dt=cs(et,Ru(LI));return Ks(j,vt,$,et,dt)}),Cp=vo(function(j,et){var dt=cs(et,Ru(Cp));return Ks(j,it,$,et,dt)}),E1=qs(function(j,et){return Ks(j,Ot,$,$,$,et)});function S1(j,et){if(typeof j!="function")throw new Sl(nn);return et=et===$?et:xo(et),vo(j,et)}function X1(j,et){if(typeof j!="function")throw new Sl(nn);return et=et==null?0:Yn(xo(et),0),vo(function(dt){var Kt=dt[et],Fn=bu(dt,0,et);return Kt&&xs(Fn,Kt),Nl(j,this,Fn)})}function Z1(j,et,dt){var Kt=!0,Fn=!0;if(typeof j!="function")throw new Sl(nn);return Cl(dt)&&(Kt="leading"in dt?!!dt.leading:Kt,Fn="trailing"in dt?!!dt.trailing:Fn),hp(j,et,{leading:Kt,maxWait:et,trailing:Fn})}function N1(j){return gp(j,1)}function k1(j,et){return LI(GI(et),j)}function T1(){if(!arguments.length)return[];var j=arguments[0];return Ao(j)?j:[j]}function D1(j){return ms(j,St)}function O1(j,et){return et=typeof et=="function"?et:$,ms(j,St,et)}function M1(j){return ms(j,$n|St)}function V1(j,et){return et=typeof et=="function"?et:$,ms(j,$n|St,et)}function W1(j,et){return et==null||rC(j,et,Tl(et))}function Fs(j,et){return j===et||j!==j&&et!==et}var R1=R0(CI),Y1=R0(function(j,et){return j>=et}),Uu=sC(function(){return arguments}())?sC:function(j){return Ql(j)&&Eo.call(j,"callee")&&!r0.call(j,"callee")},Ao=_n.isArray,L1=zl?_l(zl):$p;function rs(j){return j!=null&&K0(j.length)&&!_g(j)}function wl(j){return Ql(j)&&rs(j)}function H1(j){return j===!0||j===!1||Ql(j)&&Pl(j)==lt}var hu=Lt||_h,z1=yl?_l(yl):em;function j1(j){return Ql(j)&&j.nodeType===1&&!b0(j)}function J1(j){if(j==null)return!0;if(rs(j)&&(Ao(j)||typeof j=="string"||typeof j.splice=="function"||hu(j)||Yu(j)||Uu(j)))return!j.length;var et=Yl(j);if(et==$t||et==Vt)return!j.size;if(d0(j))return!fI(j).length;for(var dt in j)if(Eo.call(j,dt))return!1;return!0}function _1(j,et){return s0(j,et)}function P1(j,et,dt){dt=typeof dt=="function"?dt:$;var Kt=dt?dt(j,et):$;return Kt===$?s0(j,et,$,dt):!!Kt}function HI(j){if(!Ql(j))return!1;var et=Pl(j);return et==Tt||et==It||typeof j.message=="string"&&typeof j.name=="string"&&!b0(j)}function K1(j){return typeof j=="number"&&En(j)}function _g(j){if(!Cl(j))return!1;var et=Pl(j);return et==tn||et==Nt||et==_e||et==_t}function pp(j){return typeof j=="number"&&j==xo(j)}function K0(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=ft}function Cl(j){var et=typeof j;return j!=null&&(et=="object"||et=="function")}function Ql(j){return j!=null&&typeof j=="object"}var mp=hs?_l(hs):nm;function q1(j,et){return j===et||mI(j,et,kI(et))}function $1(j,et,dt){return dt=typeof dt=="function"?dt:$,mI(j,et,kI(et),dt)}function eA(j){return fp(j)&&j!=+j}function tA(j){if(Mm(j))throw new bo(mt);return gC(j)}function nA(j){return j===null}function rA(j){return j==null}function fp(j){return typeof j=="number"||Ql(j)&&Pl(j)==Wt}function b0(j){if(!Ql(j)||Pl(j)!=In)return!1;var et=gu(j);if(et===null)return!0;var dt=Eo.call(et,"constructor")&&et.constructor;return typeof dt=="function"&&dt instanceof dt&&Tu.call(dt)==Hs}var zI=h0?_l(h0):rm;function iA(j){return pp(j)&&j>=-ft&&j<=ft}var Bp=C0?_l(C0):im;function q0(j){return typeof j=="string"||!Ao(j)&&Ql(j)&&Pl(j)==Pt}function ds(j){return typeof j=="symbol"||Ql(j)&&Pl(j)==qt}var Yu=p0?_l(p0):am;function aA(j){return j===$}function oA(j){return Ql(j)&&Yl(j)==Yt}function lA(j){return Ql(j)&&Pl(j)==Xt}var cA=R0(BI),sA=R0(function(j,et){return j<=et});function Ap(j){if(!j)return[];if(rs(j))return q0(j)?ts(j):ns(j);if(zs&&j[zs])return x0(j[zs]());var et=Yl(j),dt=et==$t?Nu:et==Vt?ku:Lu;return dt(j)}function eu(j){if(!j)return j===0?j:0;if(j=As(j),j===An||j===-An){var et=j<0?-1:1;return et*Rt}return j===j?j:0}function xo(j){var et=eu(j),dt=et%1;return et===et?dt?et-dt:et:0}function yp(j){return j?xu(xo(j),0,bt):0}function As(j){if(typeof j=="number")return j;if(ds(j))return Bt;if(Cl(j)){var et=typeof j.valueOf=="function"?j.valueOf():j;j=Cl(et)?et+"":et}if(typeof j!="string")return j===0?j:+j;j=Ju(j);var dt=Nr.test(j);return dt||ba.test(j)?Oo(j.slice(2),dt?2:8):pr.test(j)?Bt:+j}function xp(j){return Ds(j,is(j))}function gA(j){return j?xu(xo(j),-ft,ft):j===0?j:0}function Mo(j){return j==null?"":us(j)}var uA=Vu(function(j,et){if(d0(et)||rs(et)){Ds(et,Tl(et),j);return}for(var dt in et)Eo.call(et,dt)&&o0(j,dt,et[dt])}),Qp=Vu(function(j,et){Ds(et,is(et),j)}),$0=Vu(function(j,et,dt,Kt){Ds(et,is(et),j,Kt)}),dA=Vu(function(j,et,dt,Kt){Ds(et,Tl(et),j,Kt)}),IA=qs(II);function bA(j,et){var dt=zo(j);return et==null?dt:nC(dt,et)}var hA=vo(function(j,et){j=Do(j);var dt=-1,Kt=et.length,Fn=Kt>2?et[2]:$;for(Fn&&Kl(et[0],et[1],Fn)&&(Kt=1);++dt<Kt;)for(var Rn=et[dt],Kn=is(Rn),rr=-1,sr=Kn.length;++rr<sr;){var Fr=Kn[rr],vr=j[Fr];(vr===$||Fs(vr,Ls[Fr])&&!Eo.call(j,Fr))&&(j[Fr]=Rn[Fr])}return j}),CA=vo(function(j){return j.push($,WC),Nl(Fp,$,j)});function pA(j,et){return f0(j,co(et,3),Ts)}function mA(j,et){return f0(j,co(et,3),hI)}function fA(j,et){return j==null?j:bI(j,co(et,3),is)}function BA(j,et){return j==null?j:lC(j,co(et,3),is)}function AA(j,et){return j&&Ts(j,co(et,3))}function yA(j,et){return j&&hI(j,co(et,3))}function xA(j){return j==null?[]:N0(j,Tl(j))}function QA(j){return j==null?[]:N0(j,is(j))}function jI(j,et,dt){var Kt=j==null?$:Qu(j,et);return Kt===$?dt:Kt}function FA(j,et){return j!=null&&LC(j,et,_p)}function JI(j,et){return j!=null&&LC(j,et,Pp)}var vA=TC(function(j,et,dt){et!=null&&typeof et.toString!="function"&&(et=Cs.call(et)),j[et]=dt},PI(as)),UA=TC(function(j,et,dt){et!=null&&typeof et.toString!="function"&&(et=Cs.call(et)),Eo.call(j,et)?j[et].push(dt):j[et]=[dt]},co),GA=vo(c0);function Tl(j){return rs(j)?eC(j):fI(j)}function is(j){return rs(j)?eC(j,!0):om(j)}function wA(j,et){var dt={};return et=co(et,3),Ts(j,function(Kt,Fn,Rn){Ps(dt,et(Kt,Fn,Rn),Kt)}),dt}function EA(j,et){var dt={};return et=co(et,3),Ts(j,function(Kt,Fn,Rn){Ps(dt,Fn,et(Kt,Fn,Rn))}),dt}var SA=Vu(function(j,et,dt){k0(j,et,dt)}),Fp=Vu(function(j,et,dt,Kt){k0(j,et,dt,Kt)}),XA=qs(function(j,et){var dt={};if(j==null)return dt;var Kt=!1;et=Yo(et,function(Rn){return Rn=Iu(Rn,j),Kt||(Kt=Rn.length>1),Rn}),Ds(j,ZI(j),dt),Kt&&(dt=ms(dt,$n|Ht|St,Um));for(var Fn=et.length;Fn--;)FI(dt,et[Fn]);return dt});function ZA(j,et){return vp(j,P0(co(et)))}var NA=qs(function(j,et){return j==null?{}:cm(j,et)});function vp(j,et){if(j==null)return{};var dt=Yo(ZI(j),function(Kt){return[Kt]});return et=co(et),pC(j,dt,function(Kt,Fn){return et(Kt,Fn[0])})}function kA(j,et,dt){et=Iu(et,j);var Kt=-1,Fn=et.length;for(Fn||(Fn=1,j=$);++Kt<Fn;){var Rn=j==null?$:j[Os(et[Kt])];Rn===$&&(Kt=Fn,Rn=dt),j=_g(Rn)?Rn.call(j):Rn}return j}function TA(j,et,dt){return j==null?j:g0(j,et,dt)}function DA(j,et,dt,Kt){return Kt=typeof Kt=="function"?Kt:$,j==null?j:g0(j,et,dt,Kt)}var Up=MC(Tl),Gp=MC(is);function OA(j,et,dt){var Kt=Ao(j),Fn=Kt||hu(j)||Yu(j);if(et=co(et,4),dt==null){var Rn=j&&j.constructor;Fn?dt=Kt?new Rn:[]:Cl(j)?dt=_g(Rn)?zo(gu(j)):{}:dt={}}return(Fn?es:Ts)(j,function(Kn,rr,sr){return et(dt,Kn,rr,sr)}),dt}function MA(j,et){return j==null?!0:FI(j,et)}function VA(j,et,dt){return j==null?j:yC(j,et,GI(dt))}function WA(j,et,dt,Kt){return Kt=typeof Kt=="function"?Kt:$,j==null?j:yC(j,et,GI(dt),Kt)}function Lu(j){return j==null?[]:_u(j,Tl(j))}function RA(j){return j==null?[]:_u(j,is(j))}function YA(j,et,dt){return dt===$&&(dt=et,et=$),dt!==$&&(dt=As(dt),dt=dt===dt?dt:0),et!==$&&(et=As(et),et=et===et?et:0),xu(As(j),et,dt)}function LA(j,et,dt){return et=eu(et),dt===$?(dt=et,et=0):dt=eu(dt),j=As(j),Kp(j,et,dt)}function HA(j,et,dt){if(dt&&typeof dt!="boolean"&&Kl(j,et,dt)&&(et=dt=$),dt===$&&(typeof et=="boolean"?(dt=et,et=$):typeof j=="boolean"&&(dt=j,j=$)),j===$&&et===$?(j=0,et=1):(j=eu(j),et===$?(et=j,j=0):et=eu(et)),j>et){var Kt=j;j=et,et=Kt}if(dt||j%1||et%1){var Fn=mr();return qn(j+Fn*(et-j+Ho("1e-"+((Fn+"").length-1))),et)}return yI(j,et)}var zA=Wu(function(j,et,dt){return et=et.toLowerCase(),j+(dt?wp(et):et)});function wp(j){return _I(Mo(j).toLowerCase())}function Ep(j){return j=Mo(j),j&&j.replace(oo,y0).replace(xr,"")}function jA(j,et,dt){j=Mo(j),et=us(et);var Kt=j.length;dt=dt===$?Kt:xu(xo(dt),0,Kt);var Fn=dt;return dt-=et.length,dt>=0&&j.slice(dt,Fn)==et}function JA(j){return j=Mo(j),j&&Pn.test(j)?j.replace(Qn,rI):j}function _A(j){return j=Mo(j),j&&Mn.test(j)?j.replace(wn,"\\$&"):j}var PA=Wu(function(j,et,dt){return j+(dt?"-":"")+et.toLowerCase()}),KA=Wu(function(j,et,dt){return j+(dt?" ":"")+et.toLowerCase()}),qA=ZC("toLowerCase");function $A(j,et,dt){j=Mo(j),et=xo(et);var Kt=et?ou(j):0;if(!et||Kt>=et)return j;var Fn=(et-Kt)/2;return W0(kn(Fn),dt)+j+W0(cn(Fn),dt)}function ey(j,et,dt){j=Mo(j),et=xo(et);var Kt=et?ou(j):0;return et&&Kt<et?j+W0(et-Kt,dt):j}function ty(j,et,dt){j=Mo(j),et=xo(et);var Kt=et?ou(j):0;return et&&Kt<et?W0(et-Kt,dt)+j:j}function ny(j,et,dt){return dt||et==null?et=0:et&&(et=+et),hr(Mo(j).replace(zn,""),et||0)}function ry(j,et,dt){return(dt?Kl(j,et,dt):et===$)?et=1:et=xo(et),xI(Mo(j),et)}function iy(){var j=arguments,et=Mo(j[0]);return j.length<3?et:et.replace(j[1],j[2])}var ay=Wu(function(j,et,dt){return j+(dt?"_":"")+et.toLowerCase()});function oy(j,et,dt){return dt&&typeof dt!="number"&&Kl(j,et,dt)&&(et=dt=$),dt=dt===$?bt:dt>>>0,dt?(j=Mo(j),j&&(typeof et=="string"||et!=null&&!zI(et))&&(et=us(et),!et&&ls(j))?bu(ts(j),0,dt):j.split(et,dt)):[]}var ly=Wu(function(j,et,dt){return j+(dt?" ":"")+_I(et)});function cy(j,et,dt){return j=Mo(j),dt=dt==null?0:xu(xo(dt),0,j.length),et=us(et),j.slice(dt,dt+et.length)==et}function sy(j,et,dt){var Kt=Sn.templateSettings;dt&&Kl(j,et,dt)&&(et=$),j=Mo(j),et=$0({},et,Kt,VC);var Fn=$0({},et.imports,Kt.imports,VC),Rn=Tl(Fn),Kn=_u(Fn,Rn),rr,sr,Fr=0,vr=et.interpolate||lo,Sr="__p += '",Lr=fu((et.escape||lo).source+"|"+vr.source+"|"+(vr===gr?yr:lo).source+"|"+(et.evaluate||lo).source+"|$","g"),eo="//# sourceURL="+(Eo.call(et,"sourceURL")?(et.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xa+"]")+`
`;j.replace(Lr,function(uo,Go,Xo,Is,$l,bs){return Xo||(Xo=Is),Sr+=j.slice(Fr,bs).replace($r,iI),Go&&(rr=!0,Sr+=`' +
__e(`+Go+`) +
'`),$l&&(sr=!0,Sr+=`';
`+$l+`;
__p += '`),Xo&&(Sr+=`' +
((__t = (`+Xo+`)) == null ? '' : __t) +
'`),Fr=bs+uo.length,uo}),Sr+=`';
`;var go=Eo.call(et,"variable")&&et.variable;if(!go)Sr=`with (obj) {
`+Sr+`
}
`;else if(Ur.test(go))throw new bo(yn);Sr=(sr?Sr.replace(Gn,""):Sr).replace(Zt,"$1").replace(Xn,"$1;"),Sr="function("+(go||"obj")+`) {
`+(go?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rr?", __e = _.escape":"")+(sr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Sr+`return __p
}`;var Fo=Xp(function(){return wo(Rn,eo+"return "+Sr).apply($,Kn)});if(Fo.source=Sr,HI(Fo))throw Fo;return Fo}function gy(j){return Mo(j).toLowerCase()}function uy(j){return Mo(j).toUpperCase()}function dy(j,et,dt){if(j=Mo(j),j&&(dt||et===$))return Ju(j);if(!j||!(et=us(et)))return j;var Kt=ts(j),Fn=ts(et),Rn=Pu(Kt,Fn),Kn=A0(Kt,Fn)+1;return bu(Kt,Rn,Kn).join("")}function Iy(j,et,dt){if(j=Mo(j),j&&(dt||et===$))return j.slice(0,qu(j)+1);if(!j||!(et=us(et)))return j;var Kt=ts(j),Fn=A0(Kt,ts(et))+1;return bu(Kt,0,Fn).join("")}function by(j,et,dt){if(j=Mo(j),j&&(dt||et===$))return j.replace(zn,"");if(!j||!(et=us(et)))return j;var Kt=ts(j),Fn=Pu(Kt,ts(et));return bu(Kt,Fn).join("")}function hy(j,et){var dt=gn,Kt=Qt;if(Cl(et)){var Fn="separator"in et?et.separator:Fn;dt="length"in et?xo(et.length):dt,Kt="omission"in et?us(et.omission):Kt}j=Mo(j);var Rn=j.length;if(ls(j)){var Kn=ts(j);Rn=Kn.length}if(dt>=Rn)return j;var rr=dt-ou(Kt);if(rr<1)return Kt;var sr=Kn?bu(Kn,0,rr).join(""):j.slice(0,rr);if(Fn===$)return sr+Kt;if(Kn&&(rr+=sr.length-rr),zI(Fn)){if(j.slice(rr).search(Fn)){var Fr,vr=sr;for(Fn.global||(Fn=fu(Fn.source,Mo(Ar.exec(Fn))+"g")),Fn.lastIndex=0;Fr=Fn.exec(vr);)var Sr=Fr.index;sr=sr.slice(0,Sr===$?rr:Sr)}}else if(j.indexOf(us(Fn),rr)!=rr){var Lr=sr.lastIndexOf(Fn);Lr>-1&&(sr=sr.slice(0,Lr))}return sr+Kt}function Cy(j){return j=Mo(j),j&&Tn.test(j)?j.replace(Cn,F0):j}var py=Wu(function(j,et,dt){return j+(dt?" ":"")+et.toUpperCase()}),_I=ZC("toUpperCase");function Sp(j,et,dt){return j=Mo(j),et=dt?$:et,et===$?aI(j)?cI(j):zu(j):j.match(et)||[]}var Xp=vo(function(j,et){try{return Nl(j,$,et)}catch(dt){return HI(dt)?dt:new bo(dt)}}),my=qs(function(j,et){return es(et,function(dt){dt=Os(dt),Ps(j,dt,YI(j[dt],j))}),j});function fy(j){var et=j==null?0:j.length,dt=co();return j=et?Yo(j,function(Kt){if(typeof Kt[1]!="function")throw new Sl(nn);return[dt(Kt[0]),Kt[1]]}):[],vo(function(Kt){for(var Fn=-1;++Fn<et;){var Rn=j[Fn];if(Nl(Rn[0],this,Kt))return Nl(Rn[1],this,Kt)}})}function By(j){return zp(ms(j,$n))}function PI(j){return function(){return j}}function Ay(j,et){return j==null||j!==j?et:j}var yy=kC(),xy=kC(!0);function as(j){return j}function KI(j){return uC(typeof j=="function"?j:ms(j,$n))}function Qy(j){return IC(ms(j,$n))}function Fy(j,et){return bC(j,ms(et,$n))}var vy=vo(function(j,et){return function(dt){return c0(dt,j,et)}}),Uy=vo(function(j,et){return function(dt){return c0(j,dt,et)}});function qI(j,et,dt){var Kt=Tl(et),Fn=N0(et,Kt);dt==null&&!(Cl(et)&&(Fn.length||!Kt.length))&&(dt=et,et=j,j=this,Fn=N0(et,Tl(et)));var Rn=!(Cl(dt)&&"chain"in dt)||!!dt.chain,Kn=_g(j);return es(Fn,function(rr){var sr=et[rr];j[rr]=sr,Kn&&(j.prototype[rr]=function(){var Fr=this.__chain__;if(Rn||Fr){var vr=j(this.__wrapped__),Sr=vr.__actions__=ns(this.__actions__);return Sr.push({func:sr,args:arguments,thisArg:j}),vr.__chain__=Fr,vr}return sr.apply(j,xs([this.value()],arguments))})}),j}function Gy(){return yo._===this&&(yo._=Bu),this}function $I(){}function wy(j){return j=xo(j),vo(function(et){return hC(et,j)})}var Ey=EI(Yo),Sy=EI(Vs),Xy=EI(Hu);function Zp(j){return DI(j)?au(Os(j)):sm(j)}function Zy(j){return function(et){return j==null?$:Qu(j,et)}}var Ny=DC(),ky=DC(!0);function _b(){return[]}function _h(){return!1}function Ty(){return{}}function Dy(){return""}function Oy(){return!0}function My(j,et){if(j=xo(j),j<1||j>ft)return[];var dt=bt,Kt=qn(j,bt);et=co(et),j-=bt;for(var Fn=ju(Kt,et);++dt<j;)et(dt);return Fn}function Vy(j){return Ao(j)?Yo(j,Os):ds(j)?[j]:ns($C(Mo(j)))}function Wy(j){var et=++e0;return Mo(j)+et}var Ry=V0(function(j,et){return j+et},0),Yy=SI("ceil"),Ly=V0(function(j,et){return j/et},1),Hy=SI("floor");function zy(j){return j&&j.length?Z0(j,as,CI):$}function jy(j,et){return j&&j.length?Z0(j,co(et,2),CI):$}function Jy(j){return Rs(j,as)}function _y(j,et){return Rs(j,co(et,2))}function Py(j){return j&&j.length?Z0(j,as,BI):$}function Ky(j,et){return j&&j.length?Z0(j,co(et,2),BI):$}var qy=V0(function(j,et){return j*et},1),$y=SI("round"),ex=V0(function(j,et){return j-et},0);function tx(j){return j&&j.length?Xu(j,as):0}function nx(j,et){return j&&j.length?Xu(j,co(et,2)):0}return Sn.after=Q1,Sn.ary=gp,Sn.assign=uA,Sn.assignIn=Qp,Sn.assignInWith=$0,Sn.assignWith=dA,Sn.at=IA,Sn.before=up,Sn.bind=YI,Sn.bindAll=my,Sn.bindKey=dp,Sn.castArray=T1,Sn.chain=lp,Sn.chunk=zm,Sn.compact=jm,Sn.concat=Jm,Sn.cond=fy,Sn.conforms=By,Sn.constant=PI,Sn.countBy=t1,Sn.create=bA,Sn.curry=Ip,Sn.curryRight=bp,Sn.debounce=hp,Sn.defaults=hA,Sn.defaultsDeep=CA,Sn.defer=F1,Sn.delay=v1,Sn.difference=_m,Sn.differenceBy=Pm,Sn.differenceWith=Km,Sn.drop=qm,Sn.dropRight=$m,Sn.dropRightWhile=_f,Sn.dropWhile=eB,Sn.fill=tB,Sn.filter=r1,Sn.flatMap=o1,Sn.flatMapDeep=l1,Sn.flatMapDepth=c1,Sn.flatten=rp,Sn.flattenDeep=nB,Sn.flattenDepth=rB,Sn.flip=U1,Sn.flow=yy,Sn.flowRight=xy,Sn.fromPairs=iB,Sn.functions=xA,Sn.functionsIn=QA,Sn.groupBy=s1,Sn.initial=oB,Sn.intersection=lB,Sn.intersectionBy=cB,Sn.intersectionWith=sB,Sn.invert=vA,Sn.invertBy=UA,Sn.invokeMap=u1,Sn.iteratee=KI,Sn.keyBy=d1,Sn.keys=Tl,Sn.keysIn=is,Sn.map=j0,Sn.mapKeys=wA,Sn.mapValues=EA,Sn.matches=Qy,Sn.matchesProperty=Fy,Sn.memoize=_0,Sn.merge=SA,Sn.mergeWith=Fp,Sn.method=vy,Sn.methodOf=Uy,Sn.mixin=qI,Sn.negate=P0,Sn.nthArg=wy,Sn.omit=XA,Sn.omitBy=ZA,Sn.once=G1,Sn.orderBy=I1,Sn.over=Ey,Sn.overArgs=w1,Sn.overEvery=Sy,Sn.overSome=Xy,Sn.partial=LI,Sn.partialRight=Cp,Sn.partition=b1,Sn.pick=NA,Sn.pickBy=vp,Sn.property=Zp,Sn.propertyOf=Zy,Sn.pull=IB,Sn.pullAll=ap,Sn.pullAllBy=bB,Sn.pullAllWith=hB,Sn.pullAt=CB,Sn.range=Ny,Sn.rangeRight=ky,Sn.rearg=E1,Sn.reject=p1,Sn.remove=pB,Sn.rest=S1,Sn.reverse=WI,Sn.sampleSize=f1,Sn.set=TA,Sn.setWith=DA,Sn.shuffle=B1,Sn.slice=mB,Sn.sortBy=x1,Sn.sortedUniq=FB,Sn.sortedUniqBy=vB,Sn.split=oy,Sn.spread=X1,Sn.tail=UB,Sn.take=GB,Sn.takeRight=wB,Sn.takeRightWhile=EB,Sn.takeWhile=SB,Sn.tap=zB,Sn.throttle=Z1,Sn.thru=z0,Sn.toArray=Ap,Sn.toPairs=Up,Sn.toPairsIn=Gp,Sn.toPath=Vy,Sn.toPlainObject=xp,Sn.transform=OA,Sn.unary=N1,Sn.union=XB,Sn.unionBy=ZB,Sn.unionWith=NB,Sn.uniq=kB,Sn.uniqBy=TB,Sn.uniqWith=DB,Sn.unset=MA,Sn.unzip=RI,Sn.unzipWith=op,Sn.update=VA,Sn.updateWith=WA,Sn.values=Lu,Sn.valuesIn=RA,Sn.without=OB,Sn.words=Sp,Sn.wrap=k1,Sn.xor=MB,Sn.xorBy=VB,Sn.xorWith=WB,Sn.zip=RB,Sn.zipObject=YB,Sn.zipObjectDeep=LB,Sn.zipWith=HB,Sn.entries=Up,Sn.entriesIn=Gp,Sn.extend=Qp,Sn.extendWith=$0,qI(Sn,Sn),Sn.add=Ry,Sn.attempt=Xp,Sn.camelCase=zA,Sn.capitalize=wp,Sn.ceil=Yy,Sn.clamp=YA,Sn.clone=D1,Sn.cloneDeep=M1,Sn.cloneDeepWith=V1,Sn.cloneWith=O1,Sn.conformsTo=W1,Sn.deburr=Ep,Sn.defaultTo=Ay,Sn.divide=Ly,Sn.endsWith=jA,Sn.eq=Fs,Sn.escape=JA,Sn.escapeRegExp=_A,Sn.every=n1,Sn.find=i1,Sn.findIndex=tp,Sn.findKey=pA,Sn.findLast=a1,Sn.findLastIndex=np,Sn.findLastKey=mA,Sn.floor=Hy,Sn.forEach=cp,Sn.forEachRight=sp,Sn.forIn=fA,Sn.forInRight=BA,Sn.forOwn=AA,Sn.forOwnRight=yA,Sn.get=jI,Sn.gt=R1,Sn.gte=Y1,Sn.has=FA,Sn.hasIn=JI,Sn.head=ip,Sn.identity=as,Sn.includes=g1,Sn.indexOf=aB,Sn.inRange=LA,Sn.invoke=GA,Sn.isArguments=Uu,Sn.isArray=Ao,Sn.isArrayBuffer=L1,Sn.isArrayLike=rs,Sn.isArrayLikeObject=wl,Sn.isBoolean=H1,Sn.isBuffer=hu,Sn.isDate=z1,Sn.isElement=j1,Sn.isEmpty=J1,Sn.isEqual=_1,Sn.isEqualWith=P1,Sn.isError=HI,Sn.isFinite=K1,Sn.isFunction=_g,Sn.isInteger=pp,Sn.isLength=K0,Sn.isMap=mp,Sn.isMatch=q1,Sn.isMatchWith=$1,Sn.isNaN=eA,Sn.isNative=tA,Sn.isNil=rA,Sn.isNull=nA,Sn.isNumber=fp,Sn.isObject=Cl,Sn.isObjectLike=Ql,Sn.isPlainObject=b0,Sn.isRegExp=zI,Sn.isSafeInteger=iA,Sn.isSet=Bp,Sn.isString=q0,Sn.isSymbol=ds,Sn.isTypedArray=Yu,Sn.isUndefined=aA,Sn.isWeakMap=oA,Sn.isWeakSet=lA,Sn.join=gB,Sn.kebabCase=PA,Sn.last=Bs,Sn.lastIndexOf=uB,Sn.lowerCase=KA,Sn.lowerFirst=qA,Sn.lt=cA,Sn.lte=sA,Sn.max=zy,Sn.maxBy=jy,Sn.mean=Jy,Sn.meanBy=_y,Sn.min=Py,Sn.minBy=Ky,Sn.stubArray=_b,Sn.stubFalse=_h,Sn.stubObject=Ty,Sn.stubString=Dy,Sn.stubTrue=Oy,Sn.multiply=qy,Sn.nth=dB,Sn.noConflict=Gy,Sn.noop=$I,Sn.now=J0,Sn.pad=$A,Sn.padEnd=ey,Sn.padStart=ty,Sn.parseInt=ny,Sn.random=HA,Sn.reduce=h1,Sn.reduceRight=C1,Sn.repeat=ry,Sn.replace=iy,Sn.result=kA,Sn.round=$y,Sn.runInContext=ar,Sn.sample=m1,Sn.size=A1,Sn.snakeCase=ay,Sn.some=y1,Sn.sortedIndex=fB,Sn.sortedIndexBy=BB,Sn.sortedIndexOf=AB,Sn.sortedLastIndex=yB,Sn.sortedLastIndexBy=xB,Sn.sortedLastIndexOf=QB,Sn.startCase=ly,Sn.startsWith=cy,Sn.subtract=ex,Sn.sum=tx,Sn.sumBy=nx,Sn.template=sy,Sn.times=My,Sn.toFinite=eu,Sn.toInteger=xo,Sn.toLength=yp,Sn.toLower=gy,Sn.toNumber=As,Sn.toSafeInteger=gA,Sn.toString=Mo,Sn.toUpper=uy,Sn.trim=dy,Sn.trimEnd=Iy,Sn.trimStart=by,Sn.truncate=hy,Sn.unescape=Cy,Sn.uniqueId=Wy,Sn.upperCase=py,Sn.upperFirst=_I,Sn.each=cp,Sn.eachRight=sp,Sn.first=ip,qI(Sn,function(){var j={};return Ts(Sn,function(et,dt){Eo.call(Sn.prototype,dt)||(j[dt]=et)}),j}(),{chain:!1}),Sn.VERSION=tt,es(["bind","bindKey","curry","curryRight","partial","partialRight"],function(j){Sn[j].placeholder=Sn}),es(["drop","take"],function(j,et){Wr.prototype[j]=function(dt){dt=dt===$?1:Yn(xo(dt),0);var Kt=this.__filtered__&&!et?new Wr(this):this.clone();return Kt.__filtered__?Kt.__takeCount__=qn(dt,Kt.__takeCount__):Kt.__views__.push({size:qn(dt,bt),type:j+(Kt.__dir__<0?"Right":"")}),Kt},Wr.prototype[j+"Right"]=function(dt){return this.reverse()[j](dt).reverse()}}),es(["filter","map","takeWhile"],function(j,et){var dt=et+1,Kt=dt==Zn||dt==pn;Wr.prototype[j]=function(Fn){var Rn=this.clone();return Rn.__iteratees__.push({iteratee:co(Fn,3),type:dt}),Rn.__filtered__=Rn.__filtered__||Kt,Rn}}),es(["head","last"],function(j,et){var dt="take"+(et?"Right":"");Wr.prototype[j]=function(){return this[dt](1).value()[0]}}),es(["initial","tail"],function(j,et){var dt="drop"+(et?"":"Right");Wr.prototype[j]=function(){return this.__filtered__?new Wr(this):this[dt](1)}}),Wr.prototype.compact=function(){return this.filter(as)},Wr.prototype.find=function(j){return this.filter(j).head()},Wr.prototype.findLast=function(j){return this.reverse().find(j)},Wr.prototype.invokeMap=vo(function(j,et){return typeof j=="function"?new Wr(this):this.map(function(dt){return c0(dt,j,et)})}),Wr.prototype.reject=function(j){return this.filter(P0(co(j)))},Wr.prototype.slice=function(j,et){j=xo(j);var dt=this;return dt.__filtered__&&(j>0||et<0)?new Wr(dt):(j<0?dt=dt.takeRight(-j):j&&(dt=dt.drop(j)),et!==$&&(et=xo(et),dt=et<0?dt.dropRight(-et):dt.take(et-j)),dt)},Wr.prototype.takeRightWhile=function(j){return this.reverse().takeWhile(j).reverse()},Wr.prototype.toArray=function(){return this.take(bt)},Ts(Wr.prototype,function(j,et){var dt=/^(?:filter|find|map|reject)|While$/.test(et),Kt=/^(?:head|last)$/.test(et),Fn=Sn[Kt?"take"+(et=="last"?"Right":""):et],Rn=Kt||/^find/.test(et);Fn&&(Sn.prototype[et]=function(){var Kn=this.__wrapped__,rr=Kt?[1]:arguments,sr=Kn instanceof Wr,Fr=rr[0],vr=sr||Ao(Kn),Sr=function(Go){var Xo=Fn.apply(Sn,xs([Go],rr));return Kt&&Lr?Xo[0]:Xo};vr&&dt&&typeof Fr=="function"&&Fr.length!=1&&(sr=vr=!1);var Lr=this.__chain__,eo=!!this.__actions__.length,go=Rn&&!Lr,Fo=sr&&!eo;if(!Rn&&vr){Kn=Fo?Kn:new Wr(this);var uo=j.apply(Kn,rr);return uo.__actions__.push({func:z0,args:[Sr],thisArg:$}),new Wo(uo,Lr)}return go&&Fo?j.apply(this,rr):(uo=this.thru(Sr),go?Kt?uo.value()[0]:uo.value():uo)})}),es(["pop","push","shift","sort","splice","unshift"],function(j){var et=lu[j],dt=/^(?:push|sort|unshift)$/.test(j)?"tap":"thru",Kt=/^(?:pop|shift)$/.test(j);Sn.prototype[j]=function(){var Fn=arguments;if(Kt&&!this.__chain__){var Rn=this.value();return et.apply(Ao(Rn)?Rn:[],Fn)}return this[dt](function(Kn){return et.apply(Ao(Kn)?Kn:[],Fn)})}}),Ts(Wr.prototype,function(j,et){var dt=Sn[et];if(dt){var Kt=dt.name+"";Eo.call(_a,Kt)||(_a[Kt]=[]),_a[Kt].push({name:et,func:dt})}}),_a[M0($,ot).name]=[{name:"wrapper",func:$}],Wr.prototype.clone=Uo,Wr.prototype.reverse=Gl,Wr.prototype.value=Ns,Sn.prototype.at=jB,Sn.prototype.chain=JB,Sn.prototype.commit=_B,Sn.prototype.next=PB,Sn.prototype.plant=qB,Sn.prototype.reverse=$B,Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=e1,Sn.prototype.first=Sn.prototype.head,zs&&(Sn.prototype[zs]=KB),Sn},Ys=U0();To?((To.exports=Ys)._=Ys,Dr._=Ys):yo._=Ys}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const Claymate$1="",e=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})();e?Promise.resolve().then(function(){return l}):Promise.resolve().then(function(){return v});e?Promise.resolve().then(function(){return y}):Promise.resolve().then(function(){return b});const a=e?Promise.resolve().then(function(){return m}):Promise.resolve().then(function(){return k});async function o(...i){return(await a).default(...i)}const s=async i=>{const g=await i.getFile();return g.handle=i,g};var c=async(i=[{}])=>{Array.isArray(i)||(i=[i]);const g=[];i.forEach((ut,mt)=>{g[mt]={description:ut.description||"Files",accept:{}},ut.mimeTypes?ut.mimeTypes.map(nn=>{g[mt].accept[nn]=ut.extensions||[]}):g[mt].accept["*/*"]=ut.extensions||[]});const $=await window.showOpenFilePicker({id:i[0].id,startIn:i[0].startIn,types:g,multiple:i[0].multiple||!1,excludeAcceptAllOption:i[0].excludeAcceptAllOption||!1}),tt=await Promise.all($.map(s));return i[0].multiple?tt:tt[0]},l={__proto__:null,default:c};function u(i){function g($){if(Object($)!==$)return Promise.reject(new TypeError($+" is not an object."));var tt=$.done;return Promise.resolve($.value).then(function(ut){return{value:ut,done:tt}})}return u=function($){this.s=$,this.n=$.next},u.prototype={s:null,n:null,next:function(){return g(this.n.apply(this.s,arguments))},return:function($){var tt=this.s.return;return tt===void 0?Promise.resolve({value:$,done:!0}):g(tt.apply(this.s,arguments))},throw:function($){var tt=this.s.return;return tt===void 0?Promise.reject($):g(tt.apply(this.s,arguments))}},new u(i)}const p=async(i,g,$=i.name,tt)=>{const ut=[],mt=[];var nn,yn=!1,Dn=!1;try{for(var jn,Vn=function($n){var Ht,St,_,pt=2;for(typeof Symbol<"u"&&(St=Symbol.asyncIterator,_=Symbol.iterator);pt--;){if(St&&(Ht=$n[St])!=null)return Ht.call($n);if(_&&(Ht=$n[_])!=null)return new u(Ht.call($n));St="@@asyncIterator",_="@@iterator"}throw new TypeError("Object is not async iterable")}(i.values());yn=!(jn=await Vn.next()).done;yn=!1){const $n=jn.value,Ht=`${$}/${$n.name}`;$n.kind==="file"?mt.push($n.getFile().then(St=>(St.directoryHandle=i,St.handle=$n,Object.defineProperty(St,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>Ht})))):$n.kind!=="directory"||!g||tt&&tt($n)||ut.push(p($n,g,Ht,tt))}}catch($n){Dn=!0,nn=$n}finally{try{yn&&Vn.return!=null&&await Vn.return()}finally{if(Dn)throw nn}}return[...(await Promise.all(ut)).flat(),...await Promise.all(mt)]};var d=async(i={})=>{i.recursive=i.recursive||!1,i.mode=i.mode||"read";const g=await window.showDirectoryPicker({id:i.id,startIn:i.startIn,mode:i.mode});return(await(await g.values()).next()).done?[g]:p(g,i.recursive,void 0,i.skipDirectory)},y={__proto__:null,default:d},f=async(i,g=[{}],$=null,tt=!1,ut=null)=>{Array.isArray(g)||(g=[g]),g[0].fileName=g[0].fileName||"Untitled";const mt=[];let nn=null;if(i instanceof Blob&&i.type?nn=i.type:i.headers&&i.headers.get("content-type")&&(nn=i.headers.get("content-type")),g.forEach((jn,Vn)=>{mt[Vn]={description:jn.description||"Files",accept:{}},jn.mimeTypes?(Vn===0&&nn&&jn.mimeTypes.push(nn),jn.mimeTypes.map($n=>{mt[Vn].accept[$n]=jn.extensions||[]})):nn?mt[Vn].accept[nn]=jn.extensions||[]:mt[Vn].accept["*/*"]=jn.extensions||[]}),$)try{await $.getFile()}catch(jn){if($=null,tt)throw jn}const yn=$||await window.showSaveFilePicker({suggestedName:g[0].fileName,id:g[0].id,startIn:g[0].startIn,types:mt,excludeAcceptAllOption:g[0].excludeAcceptAllOption||!1});!$&&ut&&ut(yn);const Dn=await yn.createWritable();return"stream"in i?(await i.stream().pipeTo(Dn),yn):"body"in i?(await i.body.pipeTo(Dn),yn):(await Dn.write(await i),await Dn.close(),yn)},m={__proto__:null,default:f},w=async(i=[{}])=>(Array.isArray(i)||(i=[i]),new Promise((g,$)=>{const tt=document.createElement("input");tt.type="file";const ut=[...i.map(Dn=>Dn.mimeTypes||[]),...i.map(Dn=>Dn.extensions||[])].join();tt.multiple=i[0].multiple||!1,tt.accept=ut||"",tt.style.display="none",document.body.append(tt);const mt=Dn=>{typeof nn=="function"&&nn(),g(Dn)},nn=i[0].legacySetup&&i[0].legacySetup(mt,()=>nn($),tt),yn=()=>{window.removeEventListener("focus",yn),tt.remove()};tt.addEventListener("click",()=>{window.addEventListener("focus",yn)}),tt.addEventListener("change",()=>{window.removeEventListener("focus",yn),tt.remove(),mt(tt.multiple?Array.from(tt.files):tt.files[0])}),"showPicker"in HTMLInputElement.prototype?tt.showPicker():tt.click()})),v={__proto__:null,default:w},h=async(i=[{}])=>(Array.isArray(i)||(i=[i]),i[0].recursive=i[0].recursive||!1,new Promise((g,$)=>{const tt=document.createElement("input");tt.type="file",tt.webkitdirectory=!0;const ut=nn=>{typeof mt=="function"&&mt(),g(nn)},mt=i[0].legacySetup&&i[0].legacySetup(ut,()=>mt($),tt);tt.addEventListener("change",()=>{let nn=Array.from(tt.files);i[0].recursive?i[0].recursive&&i[0].skipDirectory&&(nn=nn.filter(yn=>yn.webkitRelativePath.split("/").every(Dn=>!i[0].skipDirectory({name:Dn,kind:"directory"})))):nn=nn.filter(yn=>yn.webkitRelativePath.split("/").length===2),ut(nn)}),"showPicker"in HTMLInputElement.prototype?tt.showPicker():tt.click()})),b={__proto__:null,default:h},P=async(i,g={})=>{Array.isArray(g)&&(g=g[0]);const $=document.createElement("a");let tt=i;"body"in i&&(tt=await async function(nn,yn){const Dn=nn.getReader(),jn=new ReadableStream({start:Ht=>async function St(){return Dn.read().then(({done:_,value:pt})=>{if(!_)return Ht.enqueue(pt),St();Ht.close()})}()}),Vn=new Response(jn),$n=await Vn.blob();return Dn.releaseLock(),new Blob([$n],{type:yn})}(i.body,i.headers.get("content-type"))),$.download=g.fileName||"Untitled",$.href=URL.createObjectURL(await tt);const ut=()=>{typeof mt=="function"&&mt()},mt=g.legacySetup&&g.legacySetup(ut,()=>mt(),$);return $.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL($.href),3e4),ut()}),$.click(),null},k={__proto__:null,default:P};function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gif={exports:{}};(function(i,g){(function($){i.exports=$()})(function(){return function $(tt,ut,mt){function nn(jn,Vn){if(!ut[jn]){if(!tt[jn]){var $n=typeof commonjsRequire=="function"&&commonjsRequire;if(!Vn&&$n)return $n(jn,!0);if(yn)return yn(jn,!0);var Ht=new Error("Cannot find module '"+jn+"'");throw Ht.code="MODULE_NOT_FOUND",Ht}var St=ut[jn]={exports:{}};tt[jn][0].call(St.exports,function(_){var pt=tt[jn][1][_];return nn(pt||_)},St,St.exports,$,tt,ut,mt)}return ut[jn].exports}for(var yn=typeof commonjsRequire=="function"&&commonjsRequire,Dn=0;Dn<mt.length;Dn++)nn(mt[Dn]);return nn}({1:[function($,tt,ut){function mt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}tt.exports=mt,mt.EventEmitter=mt,mt.prototype._events=void 0,mt.prototype._maxListeners=void 0,mt.defaultMaxListeners=10,mt.prototype.setMaxListeners=function(Vn){if(!yn(Vn)||Vn<0||isNaN(Vn))throw TypeError("n must be a positive number");return this._maxListeners=Vn,this},mt.prototype.emit=function(Vn){var $n,Ht,St,_,pt,ht;if(this._events||(this._events={}),Vn==="error"&&(!this._events.error||Dn(this._events.error)&&!this._events.error.length)){if($n=arguments[1],$n instanceof Error)throw $n;var ot=new Error('Uncaught, unspecified "error" event. ('+$n+")");throw ot.context=$n,ot}if(Ht=this._events[Vn],jn(Ht))return!1;if(nn(Ht))switch(arguments.length){case 1:Ht.call(this);break;case 2:Ht.call(this,arguments[1]);break;case 3:Ht.call(this,arguments[1],arguments[2]);break;default:_=Array.prototype.slice.call(arguments,1),Ht.apply(this,_)}else if(Dn(Ht))for(_=Array.prototype.slice.call(arguments,1),ht=Ht.slice(),St=ht.length,pt=0;pt<St;pt++)ht[pt].apply(this,_);return!0},mt.prototype.addListener=function(Vn,$n){var Ht;if(!nn($n))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",Vn,nn($n.listener)?$n.listener:$n),this._events[Vn]?Dn(this._events[Vn])?this._events[Vn].push($n):this._events[Vn]=[this._events[Vn],$n]:this._events[Vn]=$n,Dn(this._events[Vn])&&!this._events[Vn].warned&&(jn(this._maxListeners)?Ht=mt.defaultMaxListeners:Ht=this._maxListeners,Ht&&Ht>0&&this._events[Vn].length>Ht&&(this._events[Vn].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[Vn].length),typeof console.trace=="function"&&console.trace())),this},mt.prototype.on=mt.prototype.addListener,mt.prototype.once=function(Vn,$n){if(!nn($n))throw TypeError("listener must be a function");var Ht=!1;function St(){this.removeListener(Vn,St),Ht||(Ht=!0,$n.apply(this,arguments))}return St.listener=$n,this.on(Vn,St),this},mt.prototype.removeListener=function(Vn,$n){var Ht,St,_,pt;if(!nn($n))throw TypeError("listener must be a function");if(!this._events||!this._events[Vn])return this;if(Ht=this._events[Vn],_=Ht.length,St=-1,Ht===$n||nn(Ht.listener)&&Ht.listener===$n)delete this._events[Vn],this._events.removeListener&&this.emit("removeListener",Vn,$n);else if(Dn(Ht)){for(pt=_;pt-- >0;)if(Ht[pt]===$n||Ht[pt].listener&&Ht[pt].listener===$n){St=pt;break}if(St<0)return this;Ht.length===1?(Ht.length=0,delete this._events[Vn]):Ht.splice(St,1),this._events.removeListener&&this.emit("removeListener",Vn,$n)}return this},mt.prototype.removeAllListeners=function(Vn){var $n,Ht;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[Vn]&&delete this._events[Vn],this;if(arguments.length===0){for($n in this._events)$n!=="removeListener"&&this.removeAllListeners($n);return this.removeAllListeners("removeListener"),this._events={},this}if(Ht=this._events[Vn],nn(Ht))this.removeListener(Vn,Ht);else if(Ht)for(;Ht.length;)this.removeListener(Vn,Ht[Ht.length-1]);return delete this._events[Vn],this},mt.prototype.listeners=function(Vn){var $n;return!this._events||!this._events[Vn]?$n=[]:nn(this._events[Vn])?$n=[this._events[Vn]]:$n=this._events[Vn].slice(),$n},mt.prototype.listenerCount=function(Vn){if(this._events){var $n=this._events[Vn];if(nn($n))return 1;if($n)return $n.length}return 0},mt.listenerCount=function(Vn,$n){return Vn.listenerCount($n)};function nn(Vn){return typeof Vn=="function"}function yn(Vn){return typeof Vn=="number"}function Dn(Vn){return typeof Vn=="object"&&Vn!==null}function jn(Vn){return Vn===void 0}},{}],2:[function($,tt,ut){var mt,nn,yn,Dn,jn;jn=navigator.userAgent.toLowerCase(),Dn=navigator.platform.toLowerCase(),mt=jn.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],yn=mt[1]==="ie"&&document.documentMode,nn={name:mt[1]==="version"?mt[3]:mt[1],version:yn||parseFloat(mt[1]==="opera"&&mt[4]?mt[4]:mt[2]),platform:{name:jn.match(/ip(?:ad|od|hone)/)?"ios":(jn.match(/(?:webos|android)/)||Dn.match(/mac|win|linux/)||["other"])[0]}},nn[nn.name]=!0,nn[nn.name+parseInt(nn.version,10)]=!0,nn.platform[nn.platform.name]=!0,tt.exports=nn},{}],3:[function($,tt,ut){var mt,nn,yn,Dn=function(Ht,St){for(var _ in St)jn.call(St,_)&&(Ht[_]=St[_]);function pt(){this.constructor=Ht}return pt.prototype=St.prototype,Ht.prototype=new pt,Ht.__super__=St.prototype,Ht},jn={}.hasOwnProperty,Vn=[].indexOf||function(Ht){for(var St=0,_=this.length;St<_;St++)if(St in this&&this[St]===Ht)return St;return-1},$n=[].slice;mt=$("events").EventEmitter,yn=$("./browser.coffee"),nn=function(Ht){var St,_;Dn(pt,Ht),St={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},_={delay:500,copy:!1};function pt(ht){var ot,at,gt;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(ht);for(at in St)gt=St[at],(ot=this.options)[at]==null&&(ot[at]=gt)}return pt.prototype.setOption=function(ht,ot){if(this.options[ht]=ot,this._canvas!=null&&(ht==="width"||ht==="height"))return this._canvas[ht]=ot},pt.prototype.setOptions=function(ht){var ot,at,gt;at=[];for(ot in ht)jn.call(ht,ot)&&(gt=ht[ot],at.push(this.setOption(ot,gt)));return at},pt.prototype.addFrame=function(ht,ot){var at,gt;ot==null&&(ot={}),at={},at.transparent=this.options.transparent;for(gt in _)at[gt]=ot[gt]||_[gt];if(this.options.width==null&&this.setOption("width",ht.width),this.options.height==null&&this.setOption("height",ht.height),typeof ImageData<"u"&&ImageData!==null&&ht instanceof ImageData)at.data=ht.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&ht instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&ht instanceof WebGLRenderingContext)ot.copy?at.data=this.getContextData(ht):at.context=ht;else if(ht.childNodes!=null)ot.copy?at.data=this.getImageData(ht):at.image=ht;else throw new Error("Invalid image");return this.frames.push(at)},pt.prototype.render=function(){var ht,ot,at;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var gt,xt,vt;for(vt=[],gt=0,xt=this.frames.length;0<=xt?gt<xt:gt>xt;0<=xt?++gt:--gt)vt.push(null);return vt}).call(this),ot=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(ht=0,at=ot;0<=at?ht<at:ht>at;0<=at?++ht:--ht)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},pt.prototype.abort=function(){for(var ht;ht=this.activeWorkers.shift(),ht!=null;)this.log("killing active worker"),ht.terminate();return this.running=!1,this.emit("abort")},pt.prototype.spawnWorkers=function(){var ht,ot,at;return ht=Math.min(this.options.workers,this.frames.length),(function(){at=[];for(var gt=ot=this.freeWorkers.length;ot<=ht?gt<ht:gt>ht;ot<=ht?gt++:gt--)at.push(gt);return at}).apply(this).forEach(function(gt){return function(xt){var vt;return gt.log("spawning worker "+xt),vt=new Worker(gt.options.workerScript),vt.onmessage=function(it){return gt.activeWorkers.splice(gt.activeWorkers.indexOf(vt),1),gt.freeWorkers.push(vt),gt.frameFinished(it.data)},gt.freeWorkers.push(vt)}}(this)),ht},pt.prototype.frameFinished=function(ht){var ot,at;if(this.log("frame "+ht.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[ht.index]=ht,this.options.globalPalette===!0&&(this.options.globalPalette=ht.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(ot=1,at=this.freeWorkers.length;1<=at?ot<at:ot>at;1<=at?++ot:--ot)this.renderNextFrame();return Vn.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},pt.prototype.finishRendering=function(){var ht,ot,at,gt,xt,vt,it,kt,Ot,an,gn,Qt,bn,fn,Zn,mn;for(kt=0,fn=this.imageParts,xt=0,Ot=fn.length;xt<Ot;xt++)ot=fn[xt],kt+=(ot.data.length-1)*ot.pageSize+ot.cursor;for(kt+=ot.pageSize-ot.cursor,this.log("rendering finished - filesize "+Math.round(kt/1e3)+"kb"),ht=new Uint8Array(kt),Qt=0,Zn=this.imageParts,vt=0,an=Zn.length;vt<an;vt++)for(ot=Zn[vt],mn=ot.data,at=it=0,gn=mn.length;it<gn;at=++it)bn=mn[at],ht.set(bn,Qt),at===ot.data.length-1?Qt+=ot.cursor:Qt+=ot.pageSize;return gt=new Blob([ht],{type:"image/gif"}),this.emit("finished",gt,ht)},pt.prototype.renderNextFrame=function(){var ht,ot,at;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return ht=this.frames[this.nextFrame++],at=this.freeWorkers.shift(),ot=this.getTask(ht),this.log("starting frame "+(ot.index+1)+" of "+this.frames.length),this.activeWorkers.push(at),at.postMessage(ot)},pt.prototype.getContextData=function(ht){return ht.getImageData(0,0,this.options.width,this.options.height).data},pt.prototype.getImageData=function(ht){var ot;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),ot=this._canvas.getContext("2d"),ot.setFill=this.options.background,ot.fillRect(0,0,this.options.width,this.options.height),ot.drawImage(ht,0,0),this.getContextData(ot)},pt.prototype.getTask=function(ht){var ot,at;if(ot=this.frames.indexOf(ht),at={index:ot,last:ot===this.frames.length-1,delay:ht.delay,transparent:ht.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:yn.name==="chrome"},ht.data!=null)at.data=ht.data;else if(ht.context!=null)at.data=this.getContextData(ht.context);else if(ht.image!=null)at.data=this.getImageData(ht.image);else throw new Error("Invalid frame");return at},pt.prototype.log=function(){var ht;if(ht=1<=arguments.length?$n.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,ht)},pt}(mt),tt.exports=nn},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(gif);var gifExports=gif.exports;const GIF=getDefaultExportFromCjs(gifExports),exportToGif=i=>new Promise(g=>{const $=new GIF;i.forEach((tt,ut)=>{const mt=ut+1===i.length;$.addFrame(tt.imageData,{delay:mt?2e3:500})}),$.on("finished",tt=>{o(tt,{fileName:"excalidraw-claymate.gif"}).then(()=>g())}),$.render()}),SVG_NS="http://www.w3.org/2000/svg",findNode=(i,g)=>{const $=i.childNodes;for(let tt=0;tt<$.length;++tt)if($[tt].tagName===g)return $[tt];return null},hideBeforeAnimation=(i,g,$,tt,ut)=>{g.setAttribute("opacity","0");const mt=i.ownerDocument.createElementNS(SVG_NS,"animate");mt.setAttribute("attributeName","opacity"),mt.setAttribute("from","1"),mt.setAttribute("to","1"),mt.setAttribute("begin",`${$}ms`),mt.setAttribute("dur",`${tt}ms`),ut&&mt.setAttribute("fill","freeze"),g.appendChild(mt)},pickOnePathItem=i=>{const g=i.match(/(M[^C]*C[^M]*)/g);if(!g)return i;if(g.length<=2)return g[g.length-1];const[$]=g.reduce((tt,ut,mt)=>{const[,nn,yn,Dn,jn]=ut.match(/M([\d.-]+) ([\d.-]+) C([\d.-]+) ([\d.-]+)/)||[],Vn=Math.hypot(Number(Dn)-Number(nn),Number(jn)-Number(yn));return Vn>tt[1]?[mt,Vn]:tt},[0,0]);return g[$]},animatePointer=(i,g,$,tt,ut,mt)=>{var nn;if(!mt.pointerImg)return;const yn=i.ownerDocument.createElementNS(SVG_NS,"image");yn.setAttribute("href",mt.pointerImg),mt.pointerWidth&&yn.setAttribute("width",mt.pointerWidth),mt.pointerHeight&&yn.setAttribute("height",mt.pointerHeight),hideBeforeAnimation(i,yn,tt,ut);const Dn=i.ownerDocument.createElementNS(SVG_NS,"animateMotion");Dn.setAttribute("path",pickOnePathItem($)),Dn.setAttribute("begin",`${tt}ms`),Dn.setAttribute("dur",`${ut}ms`),yn.appendChild(Dn),(nn=g.parentNode)===null||nn===void 0||nn.appendChild(yn)},animatePath=(i,g,$,tt,ut)=>{var mt,nn;const yn=g.getAttribute("d")||"",Dn=((mt=yn.match(/M/g))===null||mt===void 0?void 0:mt.length)||0,Vn=(((nn=yn.match(/C/g))===null||nn===void 0?void 0:nn.length)||0)/Dn;let $n=yn;for(let Ht=Vn-1;Ht>=0;Ht-=1){const St=yn.replace(new RegExp(["M(\\S+) (\\S+)","((?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){",`${Ht}`,"})","(?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){1,}"].join(""),"g"),(...pt)=>{const[ht,ot]=pt[3]?pt[3].match(/.* (\S+) (\S+)$/).slice(1,3):[pt[1],pt[2]];return`M${pt[1]} ${pt[2]}${pt[3]}`+` C${ht} ${ot}, ${ht} ${ot}, ${ht} ${ot}`.repeat(Vn-Ht)});Ht===0&&g.setAttribute("d",St);const _=i.ownerDocument.createElementNS(SVG_NS,"animate");_.setAttribute("attributeName","d"),_.setAttribute("from",St),_.setAttribute("to",$n),_.setAttribute("begin",`${$+Ht*(tt/Vn)}ms`),_.setAttribute("dur",`${tt/Vn}ms`),_.setAttribute("fill","freeze"),g.appendChild(_),$n=St}animatePointer(i,g,yn,$,tt,ut),hideBeforeAnimation(i,g,$,tt,!0)},animateFillPath=(i,g,$,tt,ut)=>{const mt=g.getAttribute("d")||"";if(mt.includes("C")){animatePath(i,g,$,tt,ut);return}const nn=mt.replace(new RegExp(["M(\\S+) (\\S+)","((?: L\\S+ \\S+){1,})"].join("")),(...Dn)=>`M${Dn[1]} ${Dn[2]}`+Dn[3].replace(/L\S+ \S+/g,`L${Dn[1]} ${Dn[2]}`));g.setAttribute("d",nn);const yn=i.ownerDocument.createElementNS(SVG_NS,"animate");yn.setAttribute("attributeName","d"),yn.setAttribute("from",nn),yn.setAttribute("to",mt),yn.setAttribute("begin",`${$}ms`),yn.setAttribute("dur",`${tt}ms`),yn.setAttribute("fill","freeze"),g.appendChild(yn)},animatePolygon=(i,g,$,tt,ut)=>{var mt,nn,yn,Dn;let jn=g.getAttribute("d")||"",Vn=((mt=jn.match(/M/g))===null||mt===void 0?void 0:mt.length)||0,$n=((nn=jn.match(/C/g))===null||nn===void 0?void 0:nn.length)||0;if(Vn===$n+1&&(jn=jn.replace(/^M\S+ \S+ M/,"M"),Vn=((yn=jn.match(/M/g))===null||yn===void 0?void 0:yn.length)||0,$n=((Dn=jn.match(/C/g))===null||Dn===void 0?void 0:Dn.length)||0),Vn!==$n)throw new Error("unexpected m/c counts");const Ht=g.getAttribute("stroke-dasharray")?1:Math.min(2,Vn),St=Vn/Ht;let _=jn;for(let pt=St-1;pt>=0;pt-=1){const ht=jn.replace(new RegExp(["((?:","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Ht),"){",`${pt}`,"})","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Ht),".*"].join("")),(...at)=>`${at[1]}`+[...Array(Ht).keys()].map(gt=>{const[xt,vt]=at.slice(2+Ht*2+gt*2);return`M${xt} ${vt} C${xt} ${vt}, ${xt} ${vt}, ${xt} ${vt} `}).join("").repeat(St-pt));pt===0&&g.setAttribute("d",ht);const ot=i.ownerDocument.createElementNS(SVG_NS,"animate");ot.setAttribute("attributeName","d"),ot.setAttribute("from",ht),ot.setAttribute("to",_),ot.setAttribute("begin",`${$+pt*(tt/St)}ms`),ot.setAttribute("dur",`${tt/St}ms`),ot.setAttribute("fill","freeze"),g.appendChild(ot),_=ht,animatePointer(i,g,jn.replace(new RegExp(["(?:","M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Ht),"){",`${pt}`,"}","(M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+) ?".repeat(Ht),".*"].join("")),"$1"),$+pt*(tt/St),tt/St,ut)}hideBeforeAnimation(i,g,$,tt,!0)};let pathForTextIndex=0;const animateText=(i,g,$,tt,ut,mt)=>{var nn;if(($.getAttribute("text-anchor")||"start")!=="start"){const St=$.getAttribute("opacity")||"1.0",_=i.ownerDocument.createElementNS(SVG_NS,"animate");_.setAttribute("attributeName","opacity"),_.setAttribute("from","0.0"),_.setAttribute("to",St),_.setAttribute("begin",`${tt}ms`),_.setAttribute("dur",`${ut}ms`),_.setAttribute("fill","freeze"),$.appendChild(_),$.setAttribute("opacity","0.0");return}const Dn=Number($.getAttribute("x")||0),jn=Number($.getAttribute("y")||0);pathForTextIndex+=1;const Vn=i.ownerDocument.createElementNS(SVG_NS,"path");Vn.setAttribute("id","pathForText"+pathForTextIndex);const $n=i.ownerDocument.createElementNS(SVG_NS,"animate");$n.setAttribute("attributeName","d"),$n.setAttribute("from",`m${Dn} ${jn} h0`),$n.setAttribute("to",`m${Dn} ${jn} h${g}`),$n.setAttribute("begin",`${tt}ms`),$n.setAttribute("dur",`${ut}ms`),$n.setAttribute("fill","freeze"),Vn.appendChild($n);const Ht=i.ownerDocument.createElementNS(SVG_NS,"textPath");Ht.setAttribute("href","#pathForText"+pathForTextIndex),Ht.textContent=$.textContent,$.textContent=" ",(nn=findNode(i,"defs"))===null||nn===void 0||nn.appendChild(Vn),$.appendChild(Ht),animatePointer(i,$,`m${Dn} ${jn} h${g}`,tt,ut,mt)},animateFromToPath=(i,g,$,tt,ut,mt)=>{const nn=i.ownerDocument.createElementNS(SVG_NS,"path"),yn=i.ownerDocument.createElementNS(SVG_NS,"animate");yn.setAttribute("attributeName","d"),yn.setAttribute("from",$),yn.setAttribute("to",tt),yn.setAttribute("begin",`${ut}ms`),yn.setAttribute("dur",`${mt}ms`),nn.appendChild(yn),g.appendChild(nn)},patchSvgLine=(i,g,$,tt,ut,mt)=>{const nn=$?animatePath:animatePolygon,yn=g.childNodes;yn[0].getAttribute("fill-rule")?(nn(i,yn[0].childNodes[1],tt,ut*.75,mt),tt+=ut*.75,animateFillPath(i,yn[0].childNodes[0],tt,ut*.25,mt)):nn(i,yn[0].childNodes[0],tt,ut,mt)},patchSvgArrow=(i,g,$,tt,ut,mt)=>{const nn=$?animatePath:animatePolygon,yn=g.childNodes.length;nn(i,g.childNodes[0].childNodes[0],tt,ut/(yn+2)*3,mt),tt+=ut/(yn+2)*3;for(let Dn=1;Dn<yn;Dn+=1){const jn=g.childNodes[Dn].childNodes.length;for(let Vn=0;Vn<jn;Vn+=1)animatePath(i,g.childNodes[Dn].childNodes[Vn],tt,ut/(yn+2)/jn,mt),tt+=ut/(yn+2)/jn}},patchSvgRectangle=(i,g,$,tt,ut)=>{g.childNodes[1]?(animatePolygon(i,g.childNodes[1],$,tt*.75,ut),$+=tt*.75,animateFillPath(i,g.childNodes[0],$,tt*.25,ut)):animatePolygon(i,g.childNodes[0],$,tt,ut)},patchSvgEllipse=(i,g,$,tt,ut)=>{g.childNodes[1]?(animatePath(i,g.childNodes[1],$,tt*.75,ut),$+=tt*.75,animateFillPath(i,g.childNodes[0],$,tt*.25,ut)):animatePath(i,g.childNodes[0],$,tt,ut)},patchSvgText=(i,g,$,tt,ut,mt)=>{const nn=g.childNodes,yn=nn.length;nn.forEach(Dn=>{animateText(i,$,Dn,tt,ut/yn,mt),tt+=ut/yn})},patchSvgFreedraw=(i,g,$,tt,ut,mt)=>{const nn=g.childNodes[0];nn.setAttribute("opacity","0");const yn=i.ownerDocument.createElementNS(SVG_NS,"animate");yn.setAttribute("attributeName","opacity"),yn.setAttribute("from","0"),yn.setAttribute("to","1"),yn.setAttribute("calcMode","discrete"),yn.setAttribute("begin",`${tt+ut-1}ms`),yn.setAttribute("dur","1ms"),yn.setAttribute("fill","freeze"),nn.appendChild(yn),animatePointer(i,nn,$.points.reduce((Vn,[$n,Ht])=>Vn?Vn+` T ${$n} ${Ht}`:`M ${$n} ${Ht}`,""),tt,ut,mt);const Dn=$.points.length;let jn=nn.getAttribute("d");for(let Vn=Dn-1;Vn>=0;Vn-=1){const $n=Vn>0?mainExports.getFreeDrawSvgPath(Object.assign(Object.assign({},$),{points:$.points.slice(0,Vn)})):"M 0 0";animateFromToPath(i,g,$n,jn,tt+Vn*(ut/Dn),ut/Dn),jn=$n}},patchSvgImage=(i,g,$,tt)=>{const ut=g.getAttribute("opacity")||"1.0",mt=i.ownerDocument.createElementNS(SVG_NS,"animate");mt.setAttribute("attributeName","opacity"),mt.setAttribute("from","0.0"),mt.setAttribute("to",ut),mt.setAttribute("begin",`${$}ms`),mt.setAttribute("dur",`${tt}ms`),mt.setAttribute("fill","freeze"),g.appendChild(mt),g.setAttribute("opacity","0.0")},patchSvgEle=(i,g,$,tt,ut,mt)=>{const{type:nn,roundness:yn,width:Dn}=$;nn==="line"?patchSvgLine(i,g,!!yn,tt,ut,mt):nn==="arrow"?patchSvgArrow(i,g,!!yn,tt,ut,mt):nn==="rectangle"||nn==="diamond"?patchSvgRectangle(i,g,tt,ut,mt):nn==="ellipse"?patchSvgEllipse(i,g,tt,ut,mt):nn==="text"?patchSvgText(i,g,Dn,tt,ut,mt):$.type==="freedraw"?patchSvgFreedraw(i,g,$,tt,ut,mt):nn==="image"?patchSvgImage(i,g,tt,ut):console.error("unknown excalidraw element type",$.type)},createGroups=(i,g)=>{const $={};let tt=0;return i.childNodes.forEach(mt=>{if(mt.tagName==="g"){const{groupIds:nn}=g[tt];if(nn.length>=1){const yn=nn[0];$[yn]=$[yn]||[],$[yn].push([mt,tt])}tt+=1}}),$},filterGroupNodes=i=>[...i].filter(g=>g.tagName==="g"||g.tagName==="use"),extractNumberFromElement=(i,g)=>{const $=i.id.match(new RegExp(`${g}:(-?\\d+)`));return $&&Number($[1])||0},sortSvgNodes=(i,g)=>[...i].sort(($,tt)=>{const ut=i.indexOf($),mt=i.indexOf(tt),nn=extractNumberFromElement(g[ut],"animateOrder"),yn=extractNumberFromElement(g[mt],"animateOrder");return nn-yn}),animateSvg=(i,g,$={})=>{var tt;let ut;const mt=createGroups(i,g),nn=new Map;let yn=(tt=$.startMs)!==null&&tt!==void 0?tt:1e3;const Dn=5e3,jn=500,Vn=filterGroupNodes(i.childNodes);if(Vn.length!==g.length)throw new Error("element length mismatch");const $n=new Map(Vn.map((Ht,St)=>[Ht,g[St]]));return sortSvgNodes(Vn,g).forEach(Ht=>{const St=$n.get(Ht),{groupIds:_}=St;if(!nn.has(Ht))if(_.length>=1){const pt=_[0],ht=mt[pt],ot=extractNumberFromElement(St,"animateDuration")||Dn/(ht.length+1);patchSvgEle(i,Ht,St,yn,ot,$),yn+=ot,nn.set(Ht,!0),ht.forEach(([at,gt])=>{const xt=extractNumberFromElement(g[gt],"animateDuration")||Dn/(ht.length+1);nn.has(at)||(patchSvgEle(i,at,g[gt],yn,xt,$),yn+=xt,nn.set(at,!0))}),delete mt[pt]}else{const pt=extractNumberFromElement(St,"animateDuration")||jn;patchSvgEle(i,Ht,St,yn,pt,$),yn+=pt,nn.set(Ht,!0)}}),ut=yn+1e3,{finishedMs:ut}},getBeginTimeList=i=>{const g=[],$=[],tt=ut=>{if(ut.tagName==="animate"){const mt=/([0-9.]+)ms/.exec(ut.getAttribute("begin")||"");mt&&$.push(Number(mt[1]))}ut.childNodes.forEach(mt=>{tt(mt)})};return i.childNodes.forEach(ut=>{ut.tagName==="g"?(tt(ut),$.length&&(g.push(Math.min(...$)),$.splice(0))):ut.tagName==="defs"&&ut.childNodes.forEach(mt=>{tt(mt),$.length&&(g.push(Math.min(...$)),$.splice(0))})}),g};globalThis&&globalThis.__awaiter;const DARK_FILTER$1="invert(93%) hue-rotate(180deg)",getNonDeletedElements=i=>i.filter(g=>!g.isDeleted),getAnimateFunctions=i=>i?`
      function togglePausedAnimations() {
        const svg = document.getElementById('scene' + index);
        if (svg.animationsPaused()) {
          for (const svg of document.getElementsByTagName('svg')) {
            svg.unpauseAnimations();
          }
        } else {
          for (const svg of document.getElementsByTagName('svg')) {
            svg.pauseAnimations();
          }
        }
      }
      const beginTimeLists = [];
      let animateTimer;
      function stepForwardAnimations() {
        const svg = document.getElementById('scene' + index);
        const beginTimeList = beginTimeLists[index];
        const currentTime = svg.getCurrentTime() * 1000;
        let nextTime = beginTimeList.find((t) => t > currentTime + 50);
        console.log(currentTime, beginTimeList, nextTime);
        if (nextTime) {
          nextTime -= 1;
        } else {
          nextTime = currentTime + 500;
        }
        clearTimeout(animateTimer);
        svg.unpauseAnimations();
        animateTimer = setTimeout(() => {
          svg.pauseAnimations();
          svg.setCurrentTime(nextTime / 1000);
        }, nextTime - currentTime);
      }
      function resetAnimations() {
        const svg = document.getElementById('scene' + index);
        svg.setCurrentTime(0);
      }
`:`
      function togglePausedAnimations() {}
      function stepForwardAnimations() {}
      function resetAnimations() {}
`,recordingFunction=`
  function startRecording() {
    import('https://unpkg.com/browser-fs-access').then(({ fileSave }) => {
      navigator.mediaDevices.getDisplayMedia({
        video: { displaySurface: 'browser' },
      }).then(function(stream) {
        navigator.mediaDevices.getUserMedia({
          audio: true,
        }).catch(() => null).then(function(audioStream) {
          if (audioStream) {
            const audioTrack = audioStream.getAudioTracks()[0];
            stream.getVideoTracks()[0].onended = () => {
              audioTrack.stop();
            };
            stream.addTrack(audioTrack);
          }
          const recorder = new MediaRecorder(stream);
          recorder.ondataavailable = (e) => {
            const blob = new Blob([e.data], { type: "video/webm" });
            const opts = { fileName: "video.webm", extensions: [".webm"] };
            fileSave(blob, opts).catch(() => {
              document.getElementById('startrecordingbutton').onclick = () => {
                fileSave(blob, opts);
              };
              window.alert('Click the recording button again to save file');
            });
          };
          recorder.start();
        });
      });
    });
  }
`,exportToHtml=async(i,g)=>{let $=`<!DOCTYPE html>
    <html lang="en">
      <style>
        svg { width: 100%; height: 100%; }
        body { margin: 0px; font-size: 24px; ${g.darkMode?`filter: ${DARK_FILTER$1}; `:""}}
        button { background: transparent; border: none; cursor: pointer; padding: 3px; margin: 0px 10px; font-size: inherit;}
        #container { display: flex; flex-direction: column; height: 100%; background: white; }
        #navigation { display: flex; justify-content: center; align-items: center; padding: 5px; border-top: 1px solid lightgray; background: white; }
        #leftbuttons { position: absolute; left: 10px; display: flex; }
        #rightbuttons { position: absolute; right: 10px; display: flex; }
        #slides { height: calc(100vh - 50px); }
      </style>
      <script>
        let index = 0;
        let totalScenes = ${i.length}
        function updateTitle() {
          document.getElementById('title').innerText = '' + (index + 1) + ' of ' + totalScenes;
        }
        function moveLeft() {
          if (index > 0) {
            document.getElementById('scene' + index).style.display = 'none';
            index -= 1;
            document.getElementById('scene' + index).style.display = 'block';
            updateTitle();
            document.getElementById('scene' + index).setCurrentTime(0);
          }
        }
        function moveRight() {
          if (index < totalScenes - 1) {
            document.getElementById('scene' + index).style.display = 'none';
            index += 1;
            document.getElementById('scene' + index).style.display = 'block';
            updateTitle();
            document.getElementById('scene' + index).setCurrentTime(0);
          }
        }
        function closeNavigation() {
          document.getElementById('navigation').style.display = 'none';
          document.getElementById('slides').style.height = '100vh'
        }
        function toggleMaximise() {
          if (document.fullscreenElement === document.body) {
            document.exitFullscreen();
          } else {
            document.body.requestFullscreen();
          }
        }
        ${getAnimateFunctions(!!g.animate)}
        ${recordingFunction}
        document.addEventListener('DOMContentLoaded', () => {
          document.getElementById('scene' + index).style.display = 'block';
          document.getElementById('scene' + index).setCurrentTime(0);
        });
        document.addEventListener('keydown', (event) => {
          if (event.key === 'ArrowRight') {
            moveRight();
          }
          if (event.key === 'ArrowLeft') {
            moveLeft();
          }
          if (event.key.toLowerCase() === 'f') {
            toggleMaximise();
          }
          if (event.key.toLowerCase() === 'p') {
            togglePausedAnimations();
          }
          if (event.key.toLowerCase() === 's') {
            stepForwardAnimations();
          }
          if (event.key.toLowerCase() === 'r') {
            resetAnimations();
          }
        });
      <\/script>
      <body>
      <div id="container">
      <div id="slides">
  `;for(let ut=0;ut<i.length;++ut){const mt=i[ut],nn=await mainExports.exportToSvg({...mt.drawing,appState:{...mt.drawing.appState,exportWithDarkMode:!1}});if(g.animate&&animateSvg(nn,getNonDeletedElements(mt.drawing.elements),g.animateOptions),nn.id=`scene${ut}`,nn.style.display="none",$+=nn.outerHTML,g.animate){const yn=getBeginTimeList(nn);yn.sort((Dn,jn)=>Dn-jn),$+=`
        <script>
          beginTimeLists.push(${JSON.stringify(yn)});
        <\/script>
      `}}const tt=g.animate?`
    <div id="leftbuttons">
     <button type="button" onclick="togglePausedAnimations()" title="Play or pause animations">P</button>
     <button type="button" onclick="stepForwardAnimations()" title="Step forward animations">S</button>
     <button type="button" onclick="resetAnimations()" title="Reset animations">R</button>
    </div>
`:"";$+=`
    </div>
    <div id="navigation">
      ${tt}
      <button class="navbutton" type="button" onclick="moveLeft()" title="Previous slide">&#9664;</button>
      <div id="title">1 of ${i.length}</div>
      <button class="navbutton" type="button" onclick="moveRight()" title="Next slide">&#9654;</button>
      <div id="rightbuttons">
        <button type="button" onclick="startRecording()" title="Start recording" id="startrecordingbutton">&#x1F3A5;</button>
        <button type="button" onclick="toggleMaximise()" title="Toggle full-screen">&#x26F6;</button>
        <button type="button" onclick="closeNavigation()" title="Close this panel">&#x2716;</button>
      </div>
    </div>
  </div></body></html>
`,await o(new Blob([$],{type:"text/html"}),{fileName:"excalidraw-claymate.html"})},previewHtml=async(i,g,$)=>{const tt=await mainExports.exportToSvg(i.drawing);g.animate&&animateSvg(tt,getNonDeletedElements(i.drawing.elements),g.animateOptions);const ut=tt.outerHTML;if($){const mt=document.getElementById($);mt&&(mt.innerHTML=ut)}else{const mt=window.open("","_blank");mt&&(mt.document.body.innerHTML=ut)}},AnimateConfig$1="",extractNumberFromId=(i,g)=>{const $=i.match(new RegExp(`${g}:(-?\\d+)`));return $===null?void 0:Number($[1])||0},applyNumberInId=(i,g,$,tt)=>{const ut={...i.appState.selectedElementIds};return{elements:i.elements.map(nn=>{const{id:yn}=nn;if(!g.includes(yn))return nn;let Dn;return yn.match(new RegExp(`${$}:(-?\\d+)`))?Dn=yn.replace(new RegExp(`${$}:(-?\\d+)`),`${$}:${tt}`):Dn=yn+`-${$}:${tt}`,yn===Dn?nn:(ut[Dn]=ut[yn],delete ut[yn],{...nn,id:Dn})}),appState:{...i.appState,selectedElementIds:ut},files:i.files}},AnimateConfig=({animateEnabled:i,setAnimateEnabled:g,scene:$,updateDrawing:tt,animateOptions:ut,setAnimateOptions:mt,previewCurrentScene:nn})=>{const yn=($==null?void 0:$.drawing.elements)??[],Dn=$?Object.keys($.drawing.appState.selectedElementIds??{}).filter(at=>$.drawing.appState.selectedElementIds[at]&&yn.some(gt=>gt.id===at)):[],jn=new Set;Dn.forEach(at=>{jn.add(extractNumberFromId(at,"animateOrder"))});const Vn=at=>{const gt=Math.floor(Number(at.target.value));$&&Number.isFinite(gt)&&tt(applyNumberInId($.drawing,Dn,"animateOrder",gt))},$n=!i||!jn.size,Ht=new Set;Dn.forEach(at=>{Ht.add(extractNumberFromId(at,"animateDuration"))});const St=at=>{const gt=Math.floor(Number(at.target.value));$&&Number.isFinite(gt)&&tt(applyNumberInId($.drawing,Dn,"animateDuration",gt))},_=!i||!Ht.size,pt=at=>{mt(gt=>({...gt,pointerImg:at.target.value}))},ht=at=>{const gt=at.target.files&&at.target.files[0];if(!gt)return;const xt=new FileReader;xt.onload=()=>{if(typeof xt.result=="string"){const vt=xt.result;mt(it=>({...it,pointerImg:vt}))}},xt.readAsDataURL(gt)},ot=at=>{mt(gt=>({...gt,pointerWidth:at.target.value}))};return jsxRuntimeExports.jsxs("div",{className:"AnimateConfig",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i,onChange:()=>g(at=>!at)}),"Enable animate"]})," ",jsxRuntimeExports.jsx("button",{disabled:!i,onClick:nn,children:"Preview"})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:$n?.3:1},children:["Animate order:"," ",jn.size>1?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"(mixed)"}):jsxRuntimeExports.jsx("input",{disabled:$n,value:jn.size===1&&jn.values().next().value||0,onChange:Vn,type:"number",style:{width:40}})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:_?.3:1},children:["Animate duration (ms):"," ",Ht.size>1?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"(mixed)"}):jsxRuntimeExports.jsx("input",{disabled:_,value:Ht.size===1&&Ht.values().next().value||"",onChange:St,placeholder:"Default",style:{width:50}})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:i?1:.3},children:["Animate pointer:"," ",jsxRuntimeExports.jsx("input",{disabled:!i,value:ut.pointerImg||"",onChange:pt,placeholder:"URL...",style:{width:50}})," ",jsxRuntimeExports.jsxs("label",{className:`AnimateConfig-button-like ${i?"AnimateConfig-button-like-enabled":"AnimateConfig-button-like-disabled"}`,children:[jsxRuntimeExports.jsx("input",{disabled:!i,type:"file",accept:"image/*",onChange:ht,style:{width:0}}),"File"]})]}),jsxRuntimeExports.jsxs("div",{style:{opacity:i?1:.3},children:["(Pointer width:"," ",jsxRuntimeExports.jsx("input",{disabled:!i,value:ut.pointerWidth||"",onChange:ot,placeholder:"Num...",style:{width:50}}),")"]})]})};var bundle={exports:{}};(function(module,exports){(function(i,g){module.exports=g()})(self,function(){return(()=>{var __webpack_modules__={773:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval(`// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ src)
});

// NAMESPACE OBJECT: ./src/parser.ts
var src_parser_namespaceObject = {};
__webpack_require__.r(src_parser_namespaceObject);
__webpack_require__.d(src_parser_namespaceObject, {
  "convert": () => (convert)
});

;// CONCATENATED MODULE: ./src/elements/ExcalidrawScene.ts
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ExcalidrawScene = /*#__PURE__*/function () {
  function ExcalidrawScene() {
    var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

    _classCallCheck(this, ExcalidrawScene);

    _defineProperty(this, "type", "excalidraw");

    _defineProperty(this, "version", 2);

    _defineProperty(this, "source", "https://excalidraw.com");

    _defineProperty(this, "elements", []);

    this.elements = elements;
  }

  _createClass(ExcalidrawScene, [{
    key: "toExJSON",
    value: function toExJSON() {
      return _objectSpread(_objectSpread({}, this), {}, {
        elements: this.elements.map(function (el) {
          return _objectSpread({}, el);
        })
      });
    }
  }]);

  return ExcalidrawScene;
}();

/* harmony default export */ const elements_ExcalidrawScene = (ExcalidrawScene);
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/common.js
/**\r
 * Common utilities\r
 * @module glMatrix\r
 */
// Configuration Constants
var EPSILON = 0.000001;
var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;
var RANDOM = Math.random;
/**\r
 * Sets the type of array used when creating new vectors and matrices\r
 *\r
 * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r
 */

function setMatrixArrayType(type) {
  ARRAY_TYPE = type;
}
var degree = Math.PI / 180;
/**\r
 * Convert Degree To Radian\r
 *\r
 * @param {Number} a Angle in Degrees\r
 */

function toRadian(a) {
  return a * degree;
}
/**\r
 * Tests whether or not the arguments have approximately the same value, within an absolute\r
 * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r
 * than or equal to 1.0, and a relative tolerance is used for larger values)\r
 *\r
 * @param {Number} a The first number to test.\r
 * @param {Number} b The second number to test.\r
 * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r
 */

function equals(a, b) {
  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));
}
if (!Math.hypot) Math.hypot = function () {
  var y = 0,
      i = arguments.length;

  while (i--) {
    y += arguments[i] * arguments[i];
  }

  return Math.sqrt(y);
};
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/mat4.js

/**\r
 * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r
 * @module mat4\r
 */

/**\r
 * Creates a new identity mat4\r
 *\r
 * @returns {mat4} a new 4x4 matrix\r
 */

function create() {
  var out = new ARRAY_TYPE(16);

  if (ARRAY_TYPE != Float32Array) {
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
  }

  out[0] = 1;
  out[5] = 1;
  out[10] = 1;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a new mat4 initialized with values from an existing matrix\r
 *\r
 * @param {ReadonlyMat4} a matrix to clone\r
 * @returns {mat4} a new 4x4 matrix\r
 */

function clone(a) {
  var out = new ARRAY_TYPE(16);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Copy the values from one mat4 to another\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Create a new mat4 with the given values\r
 *\r
 * @param {Number} m00 Component in column 0, row 0 position (index 0)\r
 * @param {Number} m01 Component in column 0, row 1 position (index 1)\r
 * @param {Number} m02 Component in column 0, row 2 position (index 2)\r
 * @param {Number} m03 Component in column 0, row 3 position (index 3)\r
 * @param {Number} m10 Component in column 1, row 0 position (index 4)\r
 * @param {Number} m11 Component in column 1, row 1 position (index 5)\r
 * @param {Number} m12 Component in column 1, row 2 position (index 6)\r
 * @param {Number} m13 Component in column 1, row 3 position (index 7)\r
 * @param {Number} m20 Component in column 2, row 0 position (index 8)\r
 * @param {Number} m21 Component in column 2, row 1 position (index 9)\r
 * @param {Number} m22 Component in column 2, row 2 position (index 10)\r
 * @param {Number} m23 Component in column 2, row 3 position (index 11)\r
 * @param {Number} m30 Component in column 3, row 0 position (index 12)\r
 * @param {Number} m31 Component in column 3, row 1 position (index 13)\r
 * @param {Number} m32 Component in column 3, row 2 position (index 14)\r
 * @param {Number} m33 Component in column 3, row 3 position (index 15)\r
 * @returns {mat4} A new mat4\r
 */

function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  var out = new ARRAY_TYPE(16);
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
/**\r
 * Set the components of a mat4 to the given values\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {Number} m00 Component in column 0, row 0 position (index 0)\r
 * @param {Number} m01 Component in column 0, row 1 position (index 1)\r
 * @param {Number} m02 Component in column 0, row 2 position (index 2)\r
 * @param {Number} m03 Component in column 0, row 3 position (index 3)\r
 * @param {Number} m10 Component in column 1, row 0 position (index 4)\r
 * @param {Number} m11 Component in column 1, row 1 position (index 5)\r
 * @param {Number} m12 Component in column 1, row 2 position (index 6)\r
 * @param {Number} m13 Component in column 1, row 3 position (index 7)\r
 * @param {Number} m20 Component in column 2, row 0 position (index 8)\r
 * @param {Number} m21 Component in column 2, row 1 position (index 9)\r
 * @param {Number} m22 Component in column 2, row 2 position (index 10)\r
 * @param {Number} m23 Component in column 2, row 3 position (index 11)\r
 * @param {Number} m30 Component in column 3, row 0 position (index 12)\r
 * @param {Number} m31 Component in column 3, row 1 position (index 13)\r
 * @param {Number} m32 Component in column 3, row 2 position (index 14)\r
 * @param {Number} m33 Component in column 3, row 3 position (index 15)\r
 * @returns {mat4} out\r
 */

function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
/**\r
 * Set a mat4 to the identity matrix\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @returns {mat4} out\r
 */

function identity(out) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Transpose the values of a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function transpose(out, a) {
  // If we are transposing ourselves we can skip a few steps but have to cache some values
  if (out === a) {
    var a01 = a[1],
        a02 = a[2],
        a03 = a[3];
    var a12 = a[6],
        a13 = a[7];
    var a23 = a[11];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a01;
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a02;
    out[9] = a12;
    out[11] = a[14];
    out[12] = a03;
    out[13] = a13;
    out[14] = a23;
  } else {
    out[0] = a[0];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a[1];
    out[5] = a[5];
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a[2];
    out[9] = a[6];
    out[10] = a[10];
    out[11] = a[14];
    out[12] = a[3];
    out[13] = a[7];
    out[14] = a[11];
    out[15] = a[15];
  }

  return out;
}
/**\r
 * Inverts a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function invert(out, a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant

  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;

  if (!det) {
    return null;
  }

  det = 1.0 / det;
  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
  return out;
}
/**\r
 * Calculates the adjugate of a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function adjoint(out, a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
  return out;
}
/**\r
 * Calculates the determinant of a mat4\r
 *\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {Number} determinant of a\r
 */

function determinant(a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant

  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
}
/**\r
 * Multiplies two mat4s\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function multiply(out, a, b) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15]; // Cache only the current line of the second matrix

  var b0 = b[0],
      b1 = b[1],
      b2 = b[2],
      b3 = b[3];
  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[4];
  b1 = b[5];
  b2 = b[6];
  b3 = b[7];
  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[8];
  b1 = b[9];
  b2 = b[10];
  b3 = b[11];
  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[12];
  b1 = b[13];
  b2 = b[14];
  b3 = b[15];
  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  return out;
}
/**\r
 * Translate a mat4 by the given vector\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to translate\r
 * @param {ReadonlyVec3} v vector to translate by\r
 * @returns {mat4} out\r
 */

function translate(out, a, v) {
  var x = v[0],
      y = v[1],
      z = v[2];
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;

  if (a === out) {
    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
  } else {
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    out[0] = a00;
    out[1] = a01;
    out[2] = a02;
    out[3] = a03;
    out[4] = a10;
    out[5] = a11;
    out[6] = a12;
    out[7] = a13;
    out[8] = a20;
    out[9] = a21;
    out[10] = a22;
    out[11] = a23;
    out[12] = a00 * x + a10 * y + a20 * z + a[12];
    out[13] = a01 * x + a11 * y + a21 * z + a[13];
    out[14] = a02 * x + a12 * y + a22 * z + a[14];
    out[15] = a03 * x + a13 * y + a23 * z + a[15];
  }

  return out;
}
/**\r
 * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to scale\r
 * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r
 * @returns {mat4} out\r
 **/

function scale(out, a, v) {
  var x = v[0],
      y = v[1],
      z = v[2];
  out[0] = a[0] * x;
  out[1] = a[1] * x;
  out[2] = a[2] * x;
  out[3] = a[3] * x;
  out[4] = a[4] * y;
  out[5] = a[5] * y;
  out[6] = a[6] * y;
  out[7] = a[7] * y;
  out[8] = a[8] * z;
  out[9] = a[9] * z;
  out[10] = a[10] * z;
  out[11] = a[11] * z;
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Rotates a mat4 by the given angle around the given axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @param {ReadonlyVec3} axis the axis to rotate around\r
 * @returns {mat4} out\r
 */

function rotate(out, a, rad, axis) {
  var x = axis[0],
      y = axis[1],
      z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  var b00, b01, b02;
  var b10, b11, b12;
  var b20, b21, b22;

  if (len < glMatrix.EPSILON) {
    return null;
  }

  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;
  a00 = a[0];
  a01 = a[1];
  a02 = a[2];
  a03 = a[3];
  a10 = a[4];
  a11 = a[5];
  a12 = a[6];
  a13 = a[7];
  a20 = a[8];
  a21 = a[9];
  a22 = a[10];
  a23 = a[11]; // Construct the elements of the rotation matrix

  b00 = x * x * t + c;
  b01 = y * x * t + z * s;
  b02 = z * x * t - y * s;
  b10 = x * y * t - z * s;
  b11 = y * y * t + c;
  b12 = z * y * t + x * s;
  b20 = x * z * t + y * s;
  b21 = y * z * t - x * s;
  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication

  out[0] = a00 * b00 + a10 * b01 + a20 * b02;
  out[1] = a01 * b00 + a11 * b01 + a21 * b02;
  out[2] = a02 * b00 + a12 * b01 + a22 * b02;
  out[3] = a03 * b00 + a13 * b01 + a23 * b02;
  out[4] = a00 * b10 + a10 * b11 + a20 * b12;
  out[5] = a01 * b10 + a11 * b11 + a21 * b12;
  out[6] = a02 * b10 + a12 * b11 + a22 * b12;
  out[7] = a03 * b10 + a13 * b11 + a23 * b12;
  out[8] = a00 * b20 + a10 * b21 + a20 * b22;
  out[9] = a01 * b20 + a11 * b21 + a21 * b22;
  out[10] = a02 * b20 + a12 * b21 + a22 * b22;
  out[11] = a03 * b20 + a13 * b21 + a23 * b22;

  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }

  return out;
}
/**\r
 * Rotates a matrix by the given angle around the X axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateX(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[4] = a10 * c + a20 * s;
  out[5] = a11 * c + a21 * s;
  out[6] = a12 * c + a22 * s;
  out[7] = a13 * c + a23 * s;
  out[8] = a20 * c - a10 * s;
  out[9] = a21 * c - a11 * s;
  out[10] = a22 * c - a12 * s;
  out[11] = a23 * c - a13 * s;
  return out;
}
/**\r
 * Rotates a matrix by the given angle around the Y axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateY(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[0] = a00 * c - a20 * s;
  out[1] = a01 * c - a21 * s;
  out[2] = a02 * c - a22 * s;
  out[3] = a03 * c - a23 * s;
  out[8] = a00 * s + a20 * c;
  out[9] = a01 * s + a21 * c;
  out[10] = a02 * s + a22 * c;
  out[11] = a03 * s + a23 * c;
  return out;
}
/**\r
 * Rotates a matrix by the given angle around the Z axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateZ(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[0] = a00 * c + a10 * s;
  out[1] = a01 * c + a11 * s;
  out[2] = a02 * c + a12 * s;
  out[3] = a03 * c + a13 * s;
  out[4] = a10 * c - a00 * s;
  out[5] = a11 * c - a01 * s;
  out[6] = a12 * c - a02 * s;
  out[7] = a13 * c - a03 * s;
  return out;
}
/**\r
 * Creates a matrix from a vector translation\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, dest, vec);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @returns {mat4} out\r
 */

function fromTranslation(out, v) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a vector scaling\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.scale(dest, dest, vec);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyVec3} v Scaling vector\r
 * @returns {mat4} out\r
 */

function fromScaling(out, v) {
  out[0] = v[0];
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = v[1];
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = v[2];
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a given angle around a given axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotate(dest, dest, rad, axis);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @param {ReadonlyVec3} axis the axis to rotate around\r
 * @returns {mat4} out\r
 */

function fromRotation(out, rad, axis) {
  var x = axis[0],
      y = axis[1],
      z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;

  if (len < glMatrix.EPSILON) {
    return null;
  }

  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c; // Perform rotation-specific matrix multiplication

  out[0] = x * x * t + c;
  out[1] = y * x * t + z * s;
  out[2] = z * x * t - y * s;
  out[3] = 0;
  out[4] = x * y * t - z * s;
  out[5] = y * y * t + c;
  out[6] = z * y * t + x * s;
  out[7] = 0;
  out[8] = x * z * t + y * s;
  out[9] = y * z * t - x * s;
  out[10] = z * z * t + c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the X axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateX(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromXRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = c;
  out[6] = s;
  out[7] = 0;
  out[8] = 0;
  out[9] = -s;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the Y axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateY(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromYRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = c;
  out[1] = 0;
  out[2] = -s;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = s;
  out[9] = 0;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the Z axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateZ(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromZRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = c;
  out[1] = s;
  out[2] = 0;
  out[3] = 0;
  out[4] = -s;
  out[5] = c;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation and vector translation\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @returns {mat4} out\r
 */

function fromRotationTranslation(out, q, v) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - (yy + zz);
  out[1] = xy + wz;
  out[2] = xz - wy;
  out[3] = 0;
  out[4] = xy - wz;
  out[5] = 1 - (xx + zz);
  out[6] = yz + wx;
  out[7] = 0;
  out[8] = xz + wy;
  out[9] = yz - wx;
  out[10] = 1 - (xx + yy);
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a new mat4 from a dual quat.\r
 *\r
 * @param {mat4} out Matrix\r
 * @param {ReadonlyQuat2} a Dual Quaternion\r
 * @returns {mat4} mat4 receiving operation result\r
 */

function fromQuat2(out, a) {
  var translation = new glMatrix.ARRAY_TYPE(3);
  var bx = -a[0],
      by = -a[1],
      bz = -a[2],
      bw = a[3],
      ax = a[4],
      ay = a[5],
      az = a[6],
      aw = a[7];
  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense

  if (magnitude > 0) {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
  } else {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
  }

  fromRotationTranslation(out, a, translation);
  return out;
}
/**\r
 * Returns the translation vector component of a transformation\r
 *  matrix. If a matrix is built with fromRotationTranslation,\r
 *  the returned vector will be the same as the translation vector\r
 *  originally supplied.\r
 * @param  {vec3} out Vector to receive translation component\r
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {vec3} out\r
 */

function getTranslation(out, mat) {
  out[0] = mat[12];
  out[1] = mat[13];
  out[2] = mat[14];
  return out;
}
/**\r
 * Returns the scaling factor component of a transformation\r
 *  matrix. If a matrix is built with fromRotationTranslationScale\r
 *  with a normalized Quaternion paramter, the returned vector will be\r
 *  the same as the scaling vector\r
 *  originally supplied.\r
 * @param  {vec3} out Vector to receive scaling factor component\r
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {vec3} out\r
 */

function getScaling(out, mat) {
  var m11 = mat[0];
  var m12 = mat[1];
  var m13 = mat[2];
  var m21 = mat[4];
  var m22 = mat[5];
  var m23 = mat[6];
  var m31 = mat[8];
  var m32 = mat[9];
  var m33 = mat[10];
  out[0] = Math.hypot(m11, m12, m13);
  out[1] = Math.hypot(m21, m22, m23);
  out[2] = Math.hypot(m31, m32, m33);
  return out;
}
/**\r
 * Returns a quaternion representing the rotational component\r
 *  of a transformation matrix. If a matrix is built with\r
 *  fromRotationTranslation, the returned quaternion will be the\r
 *  same as the quaternion originally supplied.\r
 * @param {quat} out Quaternion to receive the rotation component\r
 * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {quat} out\r
 */

function getRotation(out, mat) {
  var scaling = new glMatrix.ARRAY_TYPE(3);
  getScaling(scaling, mat);
  var is1 = 1 / scaling[0];
  var is2 = 1 / scaling[1];
  var is3 = 1 / scaling[2];
  var sm11 = mat[0] * is1;
  var sm12 = mat[1] * is2;
  var sm13 = mat[2] * is3;
  var sm21 = mat[4] * is1;
  var sm22 = mat[5] * is2;
  var sm23 = mat[6] * is3;
  var sm31 = mat[8] * is1;
  var sm32 = mat[9] * is2;
  var sm33 = mat[10] * is3;
  var trace = sm11 + sm22 + sm33;
  var S = 0;

  if (trace > 0) {
    S = Math.sqrt(trace + 1.0) * 2;
    out[3] = 0.25 * S;
    out[0] = (sm23 - sm32) / S;
    out[1] = (sm31 - sm13) / S;
    out[2] = (sm12 - sm21) / S;
  } else if (sm11 > sm22 && sm11 > sm33) {
    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;
    out[3] = (sm23 - sm32) / S;
    out[0] = 0.25 * S;
    out[1] = (sm12 + sm21) / S;
    out[2] = (sm31 + sm13) / S;
  } else if (sm22 > sm33) {
    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;
    out[3] = (sm31 - sm13) / S;
    out[0] = (sm12 + sm21) / S;
    out[1] = 0.25 * S;
    out[2] = (sm23 + sm32) / S;
  } else {
    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;
    out[3] = (sm12 - sm21) / S;
    out[0] = (sm31 + sm13) / S;
    out[1] = (sm23 + sm32) / S;
    out[2] = 0.25 * S;
  }

  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation, vector translation and vector scale\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *     mat4.scale(dest, scale)\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @param {ReadonlyVec3} s Scaling vector\r
 * @returns {mat4} out\r
 */

function fromRotationTranslationScale(out, q, v, s) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  out[0] = (1 - (yy + zz)) * sx;
  out[1] = (xy + wz) * sx;
  out[2] = (xz - wy) * sx;
  out[3] = 0;
  out[4] = (xy - wz) * sy;
  out[5] = (1 - (xx + zz)) * sy;
  out[6] = (yz + wx) * sy;
  out[7] = 0;
  out[8] = (xz + wy) * sz;
  out[9] = (yz - wx) * sz;
  out[10] = (1 - (xx + yy)) * sz;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     mat4.translate(dest, origin);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *     mat4.scale(dest, scale)\r
 *     mat4.translate(dest, negativeOrigin);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @param {ReadonlyVec3} s Scaling vector\r
 * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r
 * @returns {mat4} out\r
 */

function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  var ox = o[0];
  var oy = o[1];
  var oz = o[2];
  var out0 = (1 - (yy + zz)) * sx;
  var out1 = (xy + wz) * sx;
  var out2 = (xz - wy) * sx;
  var out4 = (xy - wz) * sy;
  var out5 = (1 - (xx + zz)) * sy;
  var out6 = (yz + wx) * sy;
  var out8 = (xz + wy) * sz;
  var out9 = (yz - wx) * sz;
  var out10 = (1 - (xx + yy)) * sz;
  out[0] = out0;
  out[1] = out1;
  out[2] = out2;
  out[3] = 0;
  out[4] = out4;
  out[5] = out5;
  out[6] = out6;
  out[7] = 0;
  out[8] = out8;
  out[9] = out9;
  out[10] = out10;
  out[11] = 0;
  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
  out[15] = 1;
  return out;
}
/**\r
 * Calculates a 4x4 matrix from the given quaternion\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyQuat} q Quaternion to create matrix from\r
 *\r
 * @returns {mat4} out\r
 */

function fromQuat(out, q) {
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var yx = y * x2;
  var yy = y * y2;
  var zx = z * x2;
  var zy = z * y2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - yy - zz;
  out[1] = yx + wz;
  out[2] = zx - wy;
  out[3] = 0;
  out[4] = yx - wz;
  out[5] = 1 - xx - zz;
  out[6] = zy + wx;
  out[7] = 0;
  out[8] = zx + wy;
  out[9] = zy - wx;
  out[10] = 1 - xx - yy;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Generates a frustum matrix with the given bounds\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {Number} left Left bound of the frustum\r
 * @param {Number} right Right bound of the frustum\r
 * @param {Number} bottom Bottom bound of the frustum\r
 * @param {Number} top Top bound of the frustum\r
 * @param {Number} near Near bound of the frustum\r
 * @param {Number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function frustum(out, left, right, bottom, top, near, far) {
  var rl = 1 / (right - left);
  var tb = 1 / (top - bottom);
  var nf = 1 / (near - far);
  out[0] = near * 2 * rl;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = near * 2 * tb;
  out[6] = 0;
  out[7] = 0;
  out[8] = (right + left) * rl;
  out[9] = (top + bottom) * tb;
  out[10] = (far + near) * nf;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[14] = far * near * 2 * nf;
  out[15] = 0;
  return out;
}
/**\r
 * Generates a perspective projection matrix with the given bounds.\r
 * Passing null/undefined/no value for far will generate infinite projection matrix.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {number} fovy Vertical field of view in radians\r
 * @param {number} aspect Aspect ratio. typically viewport width/height\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum, can be null or Infinity\r
 * @returns {mat4} out\r
 */

function perspective(out, fovy, aspect, near, far) {
  var f = 1.0 / Math.tan(fovy / 2),
      nf;
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;

  if (far != null && far !== Infinity) {
    nf = 1 / (near - far);
    out[10] = (far + near) * nf;
    out[14] = 2 * far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -2 * near;
  }

  return out;
}
/**\r
 * Generates a perspective projection matrix with the given field of view.\r
 * This is primarily useful for generating projection matrices to be used\r
 * with the still experiemental WebVR API.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function perspectiveFromFieldOfView(out, fov, near, far) {
  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);
  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);
  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);
  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);
  var xScale = 2.0 / (leftTan + rightTan);
  var yScale = 2.0 / (upTan + downTan);
  out[0] = xScale;
  out[1] = 0.0;
  out[2] = 0.0;
  out[3] = 0.0;
  out[4] = 0.0;
  out[5] = yScale;
  out[6] = 0.0;
  out[7] = 0.0;
  out[8] = -((leftTan - rightTan) * xScale * 0.5);
  out[9] = (upTan - downTan) * yScale * 0.5;
  out[10] = far / (near - far);
  out[11] = -1.0;
  out[12] = 0.0;
  out[13] = 0.0;
  out[14] = far * near / (near - far);
  out[15] = 0.0;
  return out;
}
/**\r
 * Generates a orthogonal projection matrix with the given bounds\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {number} left Left bound of the frustum\r
 * @param {number} right Right bound of the frustum\r
 * @param {number} bottom Bottom bound of the frustum\r
 * @param {number} top Top bound of the frustum\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function ortho(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 2 * nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = (far + near) * nf;
  out[15] = 1;
  return out;
}
/**\r
 * Generates a look-at matrix with the given eye position, focal point, and up axis.\r
 * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {ReadonlyVec3} eye Position of the viewer\r
 * @param {ReadonlyVec3} center Point the viewer is looking at\r
 * @param {ReadonlyVec3} up vec3 pointing up\r
 * @returns {mat4} out\r
 */

function lookAt(out, eye, center, up) {
  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;
  var eyex = eye[0];
  var eyey = eye[1];
  var eyez = eye[2];
  var upx = up[0];
  var upy = up[1];
  var upz = up[2];
  var centerx = center[0];
  var centery = center[1];
  var centerz = center[2];

  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {
    return identity(out);
  }

  z0 = eyex - centerx;
  z1 = eyey - centery;
  z2 = eyez - centerz;
  len = 1 / Math.hypot(z0, z1, z2);
  z0 *= len;
  z1 *= len;
  z2 *= len;
  x0 = upy * z2 - upz * z1;
  x1 = upz * z0 - upx * z2;
  x2 = upx * z1 - upy * z0;
  len = Math.hypot(x0, x1, x2);

  if (!len) {
    x0 = 0;
    x1 = 0;
    x2 = 0;
  } else {
    len = 1 / len;
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }

  y0 = z1 * x2 - z2 * x1;
  y1 = z2 * x0 - z0 * x2;
  y2 = z0 * x1 - z1 * x0;
  len = Math.hypot(y0, y1, y2);

  if (!len) {
    y0 = 0;
    y1 = 0;
    y2 = 0;
  } else {
    len = 1 / len;
    y0 *= len;
    y1 *= len;
    y2 *= len;
  }

  out[0] = x0;
  out[1] = y0;
  out[2] = z0;
  out[3] = 0;
  out[4] = x1;
  out[5] = y1;
  out[6] = z1;
  out[7] = 0;
  out[8] = x2;
  out[9] = y2;
  out[10] = z2;
  out[11] = 0;
  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
  out[15] = 1;
  return out;
}
/**\r
 * Generates a matrix that makes something look at something else.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {ReadonlyVec3} eye Position of the viewer\r
 * @param {ReadonlyVec3} center Point the viewer is looking at\r
 * @param {ReadonlyVec3} up vec3 pointing up\r
 * @returns {mat4} out\r
 */

function targetTo(out, eye, target, up) {
  var eyex = eye[0],
      eyey = eye[1],
      eyez = eye[2],
      upx = up[0],
      upy = up[1],
      upz = up[2];
  var z0 = eyex - target[0],
      z1 = eyey - target[1],
      z2 = eyez - target[2];
  var len = z0 * z0 + z1 * z1 + z2 * z2;

  if (len > 0) {
    len = 1 / Math.sqrt(len);
    z0 *= len;
    z1 *= len;
    z2 *= len;
  }

  var x0 = upy * z2 - upz * z1,
      x1 = upz * z0 - upx * z2,
      x2 = upx * z1 - upy * z0;
  len = x0 * x0 + x1 * x1 + x2 * x2;

  if (len > 0) {
    len = 1 / Math.sqrt(len);
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }

  out[0] = x0;
  out[1] = x1;
  out[2] = x2;
  out[3] = 0;
  out[4] = z1 * x2 - z2 * x1;
  out[5] = z2 * x0 - z0 * x2;
  out[6] = z0 * x1 - z1 * x0;
  out[7] = 0;
  out[8] = z0;
  out[9] = z1;
  out[10] = z2;
  out[11] = 0;
  out[12] = eyex;
  out[13] = eyey;
  out[14] = eyez;
  out[15] = 1;
  return out;
}
/**\r
 * Returns a string representation of a mat4\r
 *\r
 * @param {ReadonlyMat4} a matrix to represent as a string\r
 * @returns {String} string representation of the matrix\r
 */

function str(a) {
  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
}
/**\r
 * Returns Frobenius norm of a mat4\r
 *\r
 * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r
 * @returns {Number} Frobenius norm\r
 */

function frob(a) {
  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
}
/**\r
 * Adds two mat4's\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  out[4] = a[4] + b[4];
  out[5] = a[5] + b[5];
  out[6] = a[6] + b[6];
  out[7] = a[7] + b[7];
  out[8] = a[8] + b[8];
  out[9] = a[9] + b[9];
  out[10] = a[10] + b[10];
  out[11] = a[11] + b[11];
  out[12] = a[12] + b[12];
  out[13] = a[13] + b[13];
  out[14] = a[14] + b[14];
  out[15] = a[15] + b[15];
  return out;
}
/**\r
 * Subtracts matrix b from matrix a\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  out[4] = a[4] - b[4];
  out[5] = a[5] - b[5];
  out[6] = a[6] - b[6];
  out[7] = a[7] - b[7];
  out[8] = a[8] - b[8];
  out[9] = a[9] - b[9];
  out[10] = a[10] - b[10];
  out[11] = a[11] - b[11];
  out[12] = a[12] - b[12];
  out[13] = a[13] - b[13];
  out[14] = a[14] - b[14];
  out[15] = a[15] - b[15];
  return out;
}
/**\r
 * Multiply each element of the matrix by a scalar.\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to scale\r
 * @param {Number} b amount to scale the matrix's elements by\r
 * @returns {mat4} out\r
 */

function multiplyScalar(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  out[4] = a[4] * b;
  out[5] = a[5] * b;
  out[6] = a[6] * b;
  out[7] = a[7] * b;
  out[8] = a[8] * b;
  out[9] = a[9] * b;
  out[10] = a[10] * b;
  out[11] = a[11] * b;
  out[12] = a[12] * b;
  out[13] = a[13] * b;
  out[14] = a[14] * b;
  out[15] = a[15] * b;
  return out;
}
/**\r
 * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r
 *\r
 * @param {mat4} out the receiving vector\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @param {Number} scale the amount to scale b's elements by before adding\r
 * @returns {mat4} out\r
 */

function multiplyScalarAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  out[3] = a[3] + b[3] * scale;
  out[4] = a[4] + b[4] * scale;
  out[5] = a[5] + b[5] * scale;
  out[6] = a[6] + b[6] * scale;
  out[7] = a[7] + b[7] * scale;
  out[8] = a[8] + b[8] * scale;
  out[9] = a[9] + b[9] * scale;
  out[10] = a[10] + b[10] * scale;
  out[11] = a[11] + b[11] * scale;
  out[12] = a[12] + b[12] * scale;
  out[13] = a[13] + b[13] * scale;
  out[14] = a[14] + b[14] * scale;
  out[15] = a[15] + b[15] * scale;
  return out;
}
/**\r
 * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r
 *\r
 * @param {ReadonlyMat4} a The first matrix.\r
 * @param {ReadonlyMat4} b The second matrix.\r
 * @returns {Boolean} True if the matrices are equal, false otherwise.\r
 */

function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
}
/**\r
 * Returns whether or not the matrices have approximately the same elements in the same position.\r
 *\r
 * @param {ReadonlyMat4} a The first matrix.\r
 * @param {ReadonlyMat4} b The second matrix.\r
 * @returns {Boolean} True if the matrices are equal, false otherwise.\r
 */

function mat4_equals(a, b) {
  var a0 = a[0],
      a1 = a[1],
      a2 = a[2],
      a3 = a[3];
  var a4 = a[4],
      a5 = a[5],
      a6 = a[6],
      a7 = a[7];
  var a8 = a[8],
      a9 = a[9],
      a10 = a[10],
      a11 = a[11];
  var a12 = a[12],
      a13 = a[13],
      a14 = a[14],
      a15 = a[15];
  var b0 = b[0],
      b1 = b[1],
      b2 = b[2],
      b3 = b[3];
  var b4 = b[4],
      b5 = b[5],
      b6 = b[6],
      b7 = b[7];
  var b8 = b[8],
      b9 = b[9],
      b10 = b[10],
      b11 = b[11];
  var b12 = b[12],
      b13 = b[13],
      b14 = b[14],
      b15 = b[15];
  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));
}
/**\r
 * Alias for {@link mat4.multiply}\r
 * @function\r
 */

var mul = (/* unused pure expression or super */ null && (multiply));
/**\r
 * Alias for {@link mat4.subtract}\r
 * @function\r
 */

var sub = (/* unused pure expression or super */ null && (subtract));
;// CONCATENATED MODULE: ./node_modules/roughjs/bin/math.js
function randomSeed() {
    return Math.floor(Math.random() * 2 ** 31);
}
class Random {
    constructor(seed) {
        this.seed = seed;
    }
    next() {
        if (this.seed) {
            return ((2 ** 31 - 1) & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31;
        }
        else {
            return Math.random();
        }
    }
}

;// CONCATENATED MODULE: ./node_modules/nanoid/index.prod.js
// This file replaces \`index.js\` in bundlers like webpack or Rollup,
// according to \`browser\` config in \`package.json\`.



if (false) {}

let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))

let customRandom = (alphabet, size, getRandom) => {
  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes
  // values closer to the alphabet size. The bitmask calculates the closest
  // \`2^31 - 1\` number, which exceeds the alphabet size.
  // For example, the bitmask for the alphabet size 30 is 31 (00011111).
  // \`Math.clz32\` is not used, because it is not available in browsers.
  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1
  // Though, the bitmask solution is not perfect since the bytes exceeding
  // the alphabet size are refused. Therefore, to reliably generate the ID,
  // the random bytes redundancy has to be satisfied.

  // Note: every hardware random generator call is performance expensive,
  // because the system call for entropy collection takes a lot of time.
  // So, to avoid additional system calls, extra bytes are requested in advance.

  // Next, a step determines how many random bytes to generate.
  // The number of random bytes gets decided upon the ID size, mask,
  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance
  // according to benchmarks).

  // \`-~f => Math.ceil(f)\` if f is a float
  // \`-~i => i + 1\` if i is an integer
  let step = -~((1.6 * mask * size) / alphabet.length)

  return () => {
    let id = ''
    while (true) {
      let bytes = getRandom(step)
      // A compact alternative for \`for (var i = 0; i < step; i++)\`.
      let j = step
      while (j--) {
        // Adding \`|| ''\` refuses a random byte that exceeds the alphabet size.
        id += alphabet[bytes[j] & mask] || ''
        if (id.length === size) return id
      }
    }
  }
}

let customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)

let nanoid = (size = 21) => {
  let id = ''
  let bytes = crypto.getRandomValues(new Uint8Array(size))

  // A compact alternative for \`for (var i = 0; i < step; i++)\`.
  while (size--) {
    // It is incorrect to use bytes exceeding the alphabet size.
    // The following mask reduces the random byte in the 0-255 value
    // range to the 0-63 value range. Therefore, adding hacks, such
    // as empty string fallback or magic numbers, is unneccessary because
    // the bitmask trims bytes down to the alphabet size.
    let byte = bytes[size] & 63
    if (byte < 36) {
      // \`0-9a-z\`
      id += byte.toString(36)
    } else if (byte < 62) {
      // \`A-Z\`
      id += (byte - 26).toString(36).toUpperCase()
    } else if (byte < 63) {
      id += '_'
    } else {
      id += '-'
    }
  }
  return id
}



;// CONCATENATED MODULE: ./src/utils.ts
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var utils_random = new Random(Date.now());
var randomInteger = function randomInteger() {
  return Math.floor(utils_random.next() * Math.pow(2, 31));
};
var randomId = function randomId() {
  return nanoid();
};
var safeNumber = function safeNumber(number) {
  return Number(number.toFixed(2));
};
function dimensionsFromPoints(points) {
  var xCoords = points.map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 1),
        x = _ref2[0];

    return x;
  });
  var yCoords = points.map(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        y = _ref4[1];

    return y;
  });
  var minX = Math.min.apply(Math, _toConsumableArray(xCoords));
  var minY = Math.min.apply(Math, _toConsumableArray(yCoords));
  var maxX = Math.max.apply(Math, _toConsumableArray(xCoords));
  var maxY = Math.max.apply(Math, _toConsumableArray(yCoords));
  return [maxX - minX, maxY - minY];
} // winding order is clockwise values is positive, counter clockwise if negative.

function getWindingOrder(points) {
  var total = points.reduce(function (acc, _ref5, idx, arr) {
    var _ref6 = _slicedToArray(_ref5, 2),
        x1 = _ref6[0],
        y1 = _ref6[1];

    var p2 = arr[idx + 1];
    var x2 = p2 ? p2[0] : 0;
    var y2 = p2 ? p2[1] : 0;
    var e = (x2 - x1) * (y2 + y1);
    return e + acc;
  }, 0);
  return total > 0 ? "clockwise" : "counterclockwise";
}
// EXTERNAL MODULE: ./node_modules/chroma-js/chroma.js
var chroma = __webpack_require__(792);
var chroma_default = /*#__PURE__*/__webpack_require__.n(chroma);
;// CONCATENATED MODULE: ./src/attributes.ts
function attributes_toConsumableArray(arr) { return attributes_arrayWithoutHoles(arr) || attributes_iterableToArray(arr) || attributes_unsupportedIterableToArray(arr) || attributes_nonIterableSpread(); }

function attributes_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function attributes_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return attributes_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return attributes_arrayLikeToArray(o, minLen); }

function attributes_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function attributes_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return attributes_arrayLikeToArray(arr); }

function attributes_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


function hexWithAlpha(color, alpha) {
  return chroma_default()(color).alpha(alpha).css();
}
function has(el, attr) {
  return el.hasAttribute(attr);
}
function get(el, attr, backup) {
  return el.getAttribute(attr) || backup || "";
}
function getNum(el, attr, backup) {
  var numVal = Number(get(el, attr));
  return numVal === NaN ? backup || 0 : numVal;
}
var presAttrs = {
  stroke: "stroke",
  "stroke-opacity": "stroke-opacity",
  "stroke-width": "stroke-width",
  fill: "fill",
  "fill-opacity": "fill-opacity",
  opacity: "opacity"
};
var attrHandlers = {
  stroke: function stroke(_ref) {
    var el = _ref.el,
        exVals = _ref.exVals;
    var strokeColor = get(el, "stroke");
    exVals.strokeColor = has(el, "stroke-opacity") ? hexWithAlpha(strokeColor, getNum(el, "stroke-opacity")) : strokeColor;
  },
  "stroke-opacity": function strokeOpacity(_ref2) {
    var el = _ref2.el,
        exVals = _ref2.exVals;
    exVals.strokeColor = hexWithAlpha(get(el, "stroke", "#000000"), getNum(el, "stroke-opacity"));
  },
  "stroke-width": function strokeWidth(_ref3) {
    var el = _ref3.el,
        exVals = _ref3.exVals;
    exVals.strokeWidth = getNum(el, "stroke-width");
  },
  fill: function fill(_ref4) {
    var el = _ref4.el,
        exVals = _ref4.exVals;
    var fill = get(el, "fill");
    exVals.backgroundColor = fill === "none" ? "#00000000" : fill;
  },
  "fill-opacity": function fillOpacity(_ref5) {
    var el = _ref5.el,
        exVals = _ref5.exVals;
    exVals.backgroundColor = hexWithAlpha(get(el, "fill", "#000000"), getNum(el, "fill-opacity"));
  },
  opacity: function opacity(_ref6) {
    var el = _ref6.el,
        exVals = _ref6.exVals;
    exVals.opacity = getNum(el, "opacity", 100);
  }
}; // Presentation Attributes for SVG Elements:
// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation

function presAttrsToElementValues(el) {
  var exVals = attributes_toConsumableArray(el.attributes).reduce(function (exVals, attr) {
    var name = attr.name;

    if (Object.keys(attrHandlers).includes(name)) {
      attrHandlers[name]({
        el: el,
        exVals: exVals
      });
    }

    return exVals;
  }, {});

  return exVals;
}
function filterAttrsToElementValues(el) {
  var filterVals = {};

  if (has(el, "x")) {
    filterVals.x = getNum(el, "x");
  }

  if (has(el, "y")) {
    filterVals.y = getNum(el, "y");
  }

  if (has(el, "width")) {
    filterVals.width = getNum(el, "width");
  }

  if (has(el, "height")) {
    filterVals.height = getNum(el, "height");
  }

  return filterVals;
}
function pointsAttrToPoints(el) {
  var points = [];

  if (has(el, "points")) {
    points = get(el, "points").split(" ").map(function (p) {
      return p.split(",").map(parseFloat);
    });
  }

  return points;
}
;// CONCATENATED MODULE: ./src/elements/Group.ts
function Group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Group_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function Group_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Group_ownKeys(Object(source), true).forEach(function (key) { Group_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Group_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function Group_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



function getGroupAttrs(groups) {
  return groups.reduce(function (acc, _ref) {
    var element = _ref.element;
    var elVals = presAttrsToElementValues(element);
    return Group_objectSpread(Group_objectSpread({}, acc), elVals);
  }, {});
}

var Group = function Group(element) {
  Group_classCallCheck(this, Group);

  Group_defineProperty(this, "id", randomId());

  Group_defineProperty(this, "element", void 0);

  this.element = element;
};

/* harmony default export */ const elements_Group = (Group);
;// CONCATENATED MODULE: ./src/elements/ExcalidrawElement.ts
function ExcalidrawElement_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function ExcalidrawElement_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ExcalidrawElement_ownKeys(Object(source), true).forEach(function (key) { ExcalidrawElement_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ExcalidrawElement_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function ExcalidrawElement_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function createExElement() {
  return {
    id: randomId(),
    x: 0,
    y: 0,
    strokeColor: "#000000",
    backgroundColor: "#000000",
    fillStyle: "solid",
    strokeWidth: 1,
    strokeStyle: "solid",
    strokeSharpness: "sharp",
    roughness: 0,
    opacity: 100,
    width: 0,
    height: 0,
    angle: 0,
    seed: randomInteger(),
    version: 0,
    versionNonce: 0,
    isDeleted: false,
    groupIds: [],
    boundElementIds: null
  };
}
function createExRect() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "rectangle"
  });
}
function createExLine() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "line",
    points: []
  });
}
function createExEllipse() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "ellipse"
  });
}
function createExDraw() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "draw",
    points: []
  });
}
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/vec3.js

/**\r
 * 3 Dimensional Vector\r
 * @module vec3\r
 */

/**\r
 * Creates a new, empty vec3\r
 *\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_create() {
  var out = new ARRAY_TYPE(3);

  if (ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
  }

  return out;
}
/**\r
 * Creates a new vec3 initialized with values from an existing vector\r
 *\r
 * @param {ReadonlyVec3} a vector to clone\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_clone(a) {
  var out = new glMatrix.ARRAY_TYPE(3);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
/**\r
 * Calculates the length of a vec3\r
 *\r
 * @param {ReadonlyVec3} a vector to calculate length of\r
 * @returns {Number} length of a\r
 */

function vec3_length(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return Math.hypot(x, y, z);
}
/**\r
 * Creates a new vec3 initialized with the given values\r
 *\r
 * @param {Number} x X component\r
 * @param {Number} y Y component\r
 * @param {Number} z Z component\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_fromValues(x, y, z) {
  var out = new ARRAY_TYPE(3);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
/**\r
 * Copy the values from one vec3 to another\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the source vector\r
 * @returns {vec3} out\r
 */

function vec3_copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
/**\r
 * Set the components of a vec3 to the given values\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {Number} x X component\r
 * @param {Number} y Y component\r
 * @param {Number} z Z component\r
 * @returns {vec3} out\r
 */

function vec3_set(out, x, y, z) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
/**\r
 * Adds two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  return out;
}
/**\r
 * Subtracts vector b from vector a\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  return out;
}
/**\r
 * Multiplies two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_multiply(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  return out;
}
/**\r
 * Divides two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function divide(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  return out;
}
/**\r
 * Math.ceil the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to ceil\r
 * @returns {vec3} out\r
 */

function ceil(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  return out;
}
/**\r
 * Math.floor the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to floor\r
 * @returns {vec3} out\r
 */

function floor(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  return out;
}
/**\r
 * Returns the minimum of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function min(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  return out;
}
/**\r
 * Returns the maximum of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function max(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  return out;
}
/**\r
 * Math.round the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to round\r
 * @returns {vec3} out\r
 */

function round(out, a) {
  out[0] = Math.round(a[0]);
  out[1] = Math.round(a[1]);
  out[2] = Math.round(a[2]);
  return out;
}
/**\r
 * Scales a vec3 by a scalar number\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to scale\r
 * @param {Number} b amount to scale the vector by\r
 * @returns {vec3} out\r
 */

function vec3_scale(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  return out;
}
/**\r
 * Adds two vec3's after scaling the second operand by a scalar value\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {Number} scale the amount to scale b by before adding\r
 * @returns {vec3} out\r
 */

function scaleAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  return out;
}
/**\r
 * Calculates the euclidian distance between two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} distance between a and b\r
 */

function distance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return Math.hypot(x, y, z);
}
/**\r
 * Calculates the squared euclidian distance between two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} squared distance between a and b\r
 */

function squaredDistance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return x * x + y * y + z * z;
}
/**\r
 * Calculates the squared length of a vec3\r
 *\r
 * @param {ReadonlyVec3} a vector to calculate squared length of\r
 * @returns {Number} squared length of a\r
 */

function squaredLength(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return x * x + y * y + z * z;
}
/**\r
 * Negates the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to negate\r
 * @returns {vec3} out\r
 */

function negate(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  return out;
}
/**\r
 * Returns the inverse of the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to invert\r
 * @returns {vec3} out\r
 */

function inverse(out, a) {
  out[0] = 1.0 / a[0];
  out[1] = 1.0 / a[1];
  out[2] = 1.0 / a[2];
  return out;
}
/**\r
 * Normalize a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to normalize\r
 * @returns {vec3} out\r
 */

function normalize(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var len = x * x + y * y + z * z;

  if (len > 0) {
    //TODO: evaluate use of glm_invsqrt here?
    len = 1 / Math.sqrt(len);
  }

  out[0] = a[0] * len;
  out[1] = a[1] * len;
  out[2] = a[2] * len;
  return out;
}
/**\r
 * Calculates the dot product of two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} dot product of a and b\r
 */

function dot(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
}
/**\r
 * Computes the cross product of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function cross(out, a, b) {
  var ax = a[0],
      ay = a[1],
      az = a[2];
  var bx = b[0],
      by = b[1],
      bz = b[2];
  out[0] = ay * bz - az * by;
  out[1] = az * bx - ax * bz;
  out[2] = ax * by - ay * bx;
  return out;
}
/**\r
 * Performs a linear interpolation between two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function lerp(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  return out;
}
/**\r
 * Performs a hermite interpolation with two control points\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {ReadonlyVec3} c the third operand\r
 * @param {ReadonlyVec3} d the fourth operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function hermite(out, a, b, c, d, t) {
  var factorTimes2 = t * t;
  var factor1 = factorTimes2 * (2 * t - 3) + 1;
  var factor2 = factorTimes2 * (t - 2) + t;
  var factor3 = factorTimes2 * (t - 1);
  var factor4 = factorTimes2 * (3 - 2 * t);
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
/**\r
 * Performs a bezier interpolation with two control points\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {ReadonlyVec3} c the third operand\r
 * @param {ReadonlyVec3} d the fourth operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function bezier(out, a, b, c, d, t) {
  var inverseFactor = 1 - t;
  var inverseFactorTimesTwo = inverseFactor * inverseFactor;
  var factorTimes2 = t * t;
  var factor1 = inverseFactorTimesTwo * inverseFactor;
  var factor2 = 3 * t * inverseFactorTimesTwo;
  var factor3 = 3 * factorTimes2 * inverseFactor;
  var factor4 = factorTimes2 * t;
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
/**\r
 * Generates a random vector with the given scale\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r
 * @returns {vec3} out\r
 */

function vec3_random(out, scale) {
  scale = scale || 1.0;
  var r = glMatrix.RANDOM() * 2.0 * Math.PI;
  var z = glMatrix.RANDOM() * 2.0 - 1.0;
  var zScale = Math.sqrt(1.0 - z * z) * scale;
  out[0] = Math.cos(r) * zScale;
  out[1] = Math.sin(r) * zScale;
  out[2] = z * scale;
  return out;
}
/**\r
 * Transforms the vec3 with a mat4.\r
 * 4th vector component is implicitly '1'\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyMat4} m matrix to transform with\r
 * @returns {vec3} out\r
 */

function transformMat4(out, a, m) {
  var x = a[0],
      y = a[1],
      z = a[2];
  var w = m[3] * x + m[7] * y + m[11] * z + m[15];
  w = w || 1.0;
  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
  return out;
}
/**\r
 * Transforms the vec3 with a mat3.\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r
 * @returns {vec3} out\r
 */

function transformMat3(out, a, m) {
  var x = a[0],
      y = a[1],
      z = a[2];
  out[0] = x * m[0] + y * m[3] + z * m[6];
  out[1] = x * m[1] + y * m[4] + z * m[7];
  out[2] = x * m[2] + y * m[5] + z * m[8];
  return out;
}
/**\r
 * Transforms the vec3 with a quat\r
 * Can also be used for dual quaternions. (Multiply it with the real part)\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyQuat} q quaternion to transform with\r
 * @returns {vec3} out\r
 */

function transformQuat(out, a, q) {
  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed
  var qx = q[0],
      qy = q[1],
      qz = q[2],
      qw = q[3];
  var x = a[0],
      y = a[1],
      z = a[2]; // var qvec = [qx, qy, qz];
  // var uv = vec3.cross([], qvec, a);

  var uvx = qy * z - qz * y,
      uvy = qz * x - qx * z,
      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);

  var uuvx = qy * uvz - qz * uvy,
      uuvy = qz * uvx - qx * uvz,
      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);

  var w2 = qw * 2;
  uvx *= w2;
  uvy *= w2;
  uvz *= w2; // vec3.scale(uuv, uuv, 2);

  uuvx *= 2;
  uuvy *= 2;
  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));

  out[0] = x + uvx + uuvx;
  out[1] = y + uvy + uuvy;
  out[2] = z + uvz + uuvz;
  return out;
}
/**\r
 * Rotate a 3D vector around the x-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateX(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[0];
  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Rotate a 3D vector around the y-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateY(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
  r[1] = p[1];
  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Rotate a 3D vector around the z-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateZ(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
  r[2] = p[2]; //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Get the angle between two 3D vectors\r
 * @param {ReadonlyVec3} a The first operand\r
 * @param {ReadonlyVec3} b The second operand\r
 * @returns {Number} The angle in radians\r
 */

function angle(a, b) {
  var ax = a[0],
      ay = a[1],
      az = a[2],
      bx = b[0],
      by = b[1],
      bz = b[2],
      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),
      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),
      mag = mag1 * mag2,
      cosine = mag && dot(a, b) / mag;
  return Math.acos(Math.min(Math.max(cosine, -1), 1));
}
/**\r
 * Set the components of a vec3 to zero\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @returns {vec3} out\r
 */

function zero(out) {
  out[0] = 0.0;
  out[1] = 0.0;
  out[2] = 0.0;
  return out;
}
/**\r
 * Returns a string representation of a vector\r
 *\r
 * @param {ReadonlyVec3} a vector to represent as a string\r
 * @returns {String} string representation of the vector\r
 */

function vec3_str(a) {
  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
}
/**\r
 * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r
 *\r
 * @param {ReadonlyVec3} a The first vector.\r
 * @param {ReadonlyVec3} b The second vector.\r
 * @returns {Boolean} True if the vectors are equal, false otherwise.\r
 */

function vec3_exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
}
/**\r
 * Returns whether or not the vectors have approximately the same elements in the same position.\r
 *\r
 * @param {ReadonlyVec3} a The first vector.\r
 * @param {ReadonlyVec3} b The second vector.\r
 * @returns {Boolean} True if the vectors are equal, false otherwise.\r
 */

function vec3_equals(a, b) {
  var a0 = a[0],
      a1 = a[1],
      a2 = a[2];
  var b0 = b[0],
      b1 = b[1],
      b2 = b[2];
  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));
}
/**\r
 * Alias for {@link vec3.subtract}\r
 * @function\r
 */

var vec3_sub = (/* unused pure expression or super */ null && (vec3_subtract));
/**\r
 * Alias for {@link vec3.multiply}\r
 * @function\r
 */

var vec3_mul = (/* unused pure expression or super */ null && (vec3_multiply));
/**\r
 * Alias for {@link vec3.divide}\r
 * @function\r
 */

var div = (/* unused pure expression or super */ null && (divide));
/**\r
 * Alias for {@link vec3.distance}\r
 * @function\r
 */

var dist = (/* unused pure expression or super */ null && (distance));
/**\r
 * Alias for {@link vec3.squaredDistance}\r
 * @function\r
 */

var sqrDist = (/* unused pure expression or super */ null && (squaredDistance));
/**\r
 * Alias for {@link vec3.length}\r
 * @function\r
 */

var len = (/* unused pure expression or super */ null && (vec3_length));
/**\r
 * Alias for {@link vec3.squaredLength}\r
 * @function\r
 */

var sqrLen = (/* unused pure expression or super */ null && (squaredLength));
/**\r
 * Perform some operation over an array of vec3s.\r
 *\r
 * @param {Array} a the array of vectors to iterate over\r
 * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r
 * @param {Number} offset Number of elements to skip at the beginning of the array\r
 * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r
 * @param {Function} fn Function to call for each vector in the array\r
 * @param {Object} [arg] additional argument to pass to fn\r
 * @returns {Array} a\r
 * @function\r
 */

var forEach = function () {
  var vec = vec3_create();
  return function (a, stride, offset, count, fn, arg) {
    var i, l;

    if (!stride) {
      stride = 3;
    }

    if (!offset) {
      offset = 0;
    }

    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }

    for (i = offset; i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
    }

    return a;
  };
}();
;// CONCATENATED MODULE: ./src/transform.ts
function transform_slicedToArray(arr, i) { return transform_arrayWithHoles(arr) || transform_iterableToArrayLimit(arr, i) || transform_unsupportedIterableToArray(arr, i) || transform_nonIterableRest(); }

function transform_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function transform_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return transform_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return transform_arrayLikeToArray(o, minLen); }

function transform_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function transform_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function transform_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


/*
SVG transform attr is a bit strange in that it can accept traditional
css transform string (at least per spec) as well as a it's own "unitless"
version of transform functions.

https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform
*/

var transformFunctions = {
  matrix: "matrix",
  matrix3d: "matrix3d",
  perspective: "perspective",
  rotate: "rotate",
  rotate3d: "rotate3d",
  rotateX: "rotateX",
  rotateY: "rotateY",
  rotateZ: "rotateZ",
  scale: "scale",
  scale3d: "scale3d",
  scaleX: "scaleX",
  scaleY: "scaleY",
  scaleZ: "scaleZ",
  skew: "skew",
  skewX: "skewX",
  skewY: "skewY",
  translate: "translate",
  translate3d: "translate3d",
  translateX: "translateX",
  translateY: "translateY",
  translateZ: "translateZ"
};
var transformFunctionsArr = Object.keys(transformFunctions); // type Transform

var defaultUnits = {
  matrix: "",
  matrix3d: "",
  perspective: "perspective",
  rotate: "deg",
  rotate3d: "deg",
  rotateX: "deg",
  rotateY: "deg",
  rotateZ: "deg",
  scale: "",
  scale3d: "",
  scaleX: "",
  scaleY: "",
  scaleZ: "",
  skew: "skew",
  skewX: "deg",
  skewY: "deg",
  translate: "px",
  translate3d: "px",
  translateX: "px",
  translateY: "px",
  translateZ: "px"
}; // Convert between possible svg transform attribute values to css transform attribute values.

var svgTransformToCSSTransform = function svgTransformToCSSTransform(svgTransformStr) {
  // Create transform function string "chunks", e.g "rotate(90deg)"
  var tFuncs = svgTransformStr.match(/(\\w+)\\(([^)]*)\\)/g);

  if (!tFuncs) {
    return "";
  }

  var tFuncValues = tFuncs.map(function (tFuncStr) {
    var _values;

    var type = tFuncStr.split("(")[0];

    if (!type) {
      throw new Error("Unable to find transform name");
    }

    if (!transformFunctionsArr.includes(type)) {
      throw new Error("transform function name \\"".concat(type, "\\" is not valid"));
    } // get the arg/props of the transform function, e.g "90deg".


    var tFuncParts = tFuncStr.match(/([-+]?[0-9]*\\.?[0-9]+)([a-z])*/g);

    if (!tFuncParts) {
      return {
        type: type,
        values: []
      };
    }

    var values = tFuncParts.map(function (a) {
      // Separate the arg value and unit. e.g ["90", "deg"]
      var _a$matchAll = a.matchAll(/([-+]?[0-9]*\\.?[0-9]+)|([a-z])*/g),
          _a$matchAll2 = transform_slicedToArray(_a$matchAll, 2),
          value = _a$matchAll2[0],
          unit = _a$matchAll2[1];

      return {
        unit: unit[0] || defaultUnits[type],
        value: value[0]
      };
    }); // Not supporting x, y args of svg rotate transform yet...

    if (values && type === "rotate" && ((_values = values) === null || _values === void 0 ? void 0 : _values.length) > 1) {
      values = [values[0]];
    }

    return {
      type: type,
      values: values
    };
  }); // Generate a string of transform functions that can be set as a CSS Transform.

  var csstransformStr = tFuncValues.map(function (_ref) {
    var type = _ref.type,
        values = _ref.values;
    var valStr = values.map(function (_ref2) {
      var unit = _ref2.unit,
          value = _ref2.value;
      return "".concat(value).concat(unit);
    }).join(", ");
    return "".concat(type, "(").concat(valStr, ")");
  }).join(" ");
  return csstransformStr;
};

var createDOMMatrixFromSVGStr = function createDOMMatrixFromSVGStr(svgTransformStr) {
  var cssTransformStr = svgTransformToCSSTransform(svgTransformStr);
  return new DOMMatrix(cssTransformStr);
};
function getElementMatrix(el) {
  if (el.hasAttribute("transform")) {
    var elMat = new DOMMatrix(svgTransformToCSSTransform(el.getAttribute("transform") || ""));
    return multiply(create(), create(), elMat.toFloat32Array());
  }

  return create();
}
function getTransformMatrix(el, groups) {
  var accumMat = groups.map(function (_ref3) {
    var element = _ref3.element;
    return getElementMatrix(element);
  }).concat([getElementMatrix(el)]).reduce(function (acc, mat) {
    return multiply(acc, acc, mat);
  }, create());
  return accumMat;
}
function transformPoints(points, transform) {
  return points.map(function (_ref4) {
    var _ref5 = transform_slicedToArray(_ref4, 2),
        x = _ref5[0],
        y = _ref5[1];

    var _vec3$transformMat = transformMat4(vec3_create(), vec3_fromValues(x, y, 1), transform),
        _vec3$transformMat2 = transform_slicedToArray(_vec3$transformMat, 2),
        newX = _vec3$transformMat2[0],
        newY = _vec3$transformMat2[1];

    return [newX, newY];
  });
}
;// CONCATENATED MODULE: ./node_modules/points-on-curve/lib/index.js
// distance between 2 points
function lib_distance(p1, p2) {
    return Math.sqrt(distanceSq(p1, p2));
}
// distance between 2 points squared
function distanceSq(p1, p2) {
    return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);
}
// Sistance squared from a point p to the line segment vw
function distanceToSegmentSq(p, v, w) {
    const l2 = distanceSq(v, w);
    if (l2 === 0) {
        return distanceSq(p, v);
    }
    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;
    t = Math.max(0, Math.min(1, t));
    return distanceSq(p, lib_lerp(v, w, t));
}
function lib_lerp(a, b, t) {
    return [
        a[0] + (b[0] - a[0]) * t,
        a[1] + (b[1] - a[1]) * t,
    ];
}
// Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/
function flatness(points, offset) {
    const p1 = points[offset + 0];
    const p2 = points[offset + 1];
    const p3 = points[offset + 2];
    const p4 = points[offset + 3];
    let ux = 3 * p2[0] - 2 * p1[0] - p4[0];
    ux *= ux;
    let uy = 3 * p2[1] - 2 * p1[1] - p4[1];
    uy *= uy;
    let vx = 3 * p3[0] - 2 * p4[0] - p1[0];
    vx *= vx;
    let vy = 3 * p3[1] - 2 * p4[1] - p1[1];
    vy *= vy;
    if (ux < vx) {
        ux = vx;
    }
    if (uy < vy) {
        uy = vy;
    }
    return ux + uy;
}
function getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {
    const outPoints = newPoints || [];
    if (flatness(points, offset) < tolerance) {
        const p0 = points[offset + 0];
        if (outPoints.length) {
            const d = lib_distance(outPoints[outPoints.length - 1], p0);
            if (d > 1) {
                outPoints.push(p0);
            }
        }
        else {
            outPoints.push(p0);
        }
        outPoints.push(points[offset + 3]);
    }
    else {
        // subdivide
        const t = .5;
        const p1 = points[offset + 0];
        const p2 = points[offset + 1];
        const p3 = points[offset + 2];
        const p4 = points[offset + 3];
        const q1 = lib_lerp(p1, p2, t);
        const q2 = lib_lerp(p2, p3, t);
        const q3 = lib_lerp(p3, p4, t);
        const r1 = lib_lerp(q1, q2, t);
        const r2 = lib_lerp(q2, q3, t);
        const red = lib_lerp(r1, r2, t);
        getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);
        getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);
    }
    return outPoints;
}
function simplify(points, distance) {
    return simplifyPoints(points, 0, points.length, distance);
}
// RamerDouglasPeucker algorithm
// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm
function simplifyPoints(points, start, end, epsilon, newPoints) {
    const outPoints = newPoints || [];
    // find the most distance point from the endpoints
    const s = points[start];
    const e = points[end - 1];
    let maxDistSq = 0;
    let maxNdx = 1;
    for (let i = start + 1; i < end - 1; ++i) {
        const distSq = distanceToSegmentSq(points[i], s, e);
        if (distSq > maxDistSq) {
            maxDistSq = distSq;
            maxNdx = i;
        }
    }
    // if that point is too far, split
    if (Math.sqrt(maxDistSq) > epsilon) {
        simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);
        simplifyPoints(points, maxNdx, end, epsilon, outPoints);
    }
    else {
        if (!outPoints.length) {
            outPoints.push(s);
        }
        outPoints.push(e);
    }
    return outPoints;
}
function pointsOnBezierCurves(points, tolerance = 0.15, distance) {
    const newPoints = [];
    const numSegments = (points.length - 1) / 3;
    for (let i = 0; i < numSegments; i++) {
        const offset = i * 3;
        getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);
    }
    if (distance && distance > 0) {
        return simplifyPoints(newPoints, 0, newPoints.length, distance);
    }
    return newPoints;
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/parser.js
const COMMAND = 0;
const NUMBER = 1;
const EOD = 2;
const PARAMS = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };
function tokenize(d) {
    const tokens = new Array();
    while (d !== '') {
        if (d.match(/^([ \\t\\r\\n,]+)/)) {
            d = d.substr(RegExp.$1.length);
        }
        else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {
            tokens[tokens.length] = { type: COMMAND, text: RegExp.$1 };
            d = d.substr(RegExp.$1.length);
        }
        else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {
            tokens[tokens.length] = { type: NUMBER, text: \`\${parseFloat(RegExp.$1)}\` };
            d = d.substr(RegExp.$1.length);
        }
        else {
            return [];
        }
    }
    tokens[tokens.length] = { type: EOD, text: '' };
    return tokens;
}
function isType(token, type) {
    return token.type === type;
}
function parsePath(d) {
    const segments = [];
    const tokens = tokenize(d);
    let mode = 'BOD';
    let index = 0;
    let token = tokens[index];
    while (!isType(token, EOD)) {
        let paramsCount = 0;
        const params = [];
        if (mode === 'BOD') {
            if (token.text === 'M' || token.text === 'm') {
                index++;
                paramsCount = PARAMS[token.text];
                mode = token.text;
            }
            else {
                return parsePath('M0,0' + d);
            }
        }
        else if (isType(token, NUMBER)) {
            paramsCount = PARAMS[mode];
        }
        else {
            index++;
            paramsCount = PARAMS[token.text];
            mode = token.text;
        }
        if ((index + paramsCount) < tokens.length) {
            for (let i = index; i < index + paramsCount; i++) {
                const numbeToken = tokens[i];
                if (isType(numbeToken, NUMBER)) {
                    params[params.length] = +numbeToken.text;
                }
                else {
                    throw new Error('Param not a number: ' + mode + ',' + numbeToken.text);
                }
            }
            if (typeof PARAMS[mode] === 'number') {
                const segment = { key: mode, data: params };
                segments.push(segment);
                index += paramsCount;
                token = tokens[index];
                if (mode === 'M')
                    mode = 'L';
                if (mode === 'm')
                    mode = 'l';
            }
            else {
                throw new Error('Bad segment: ' + mode);
            }
        }
        else {
            throw new Error('Path data ended short');
        }
    }
    return segments;
}
function serialize(segments) {
    const tokens = [];
    for (const { key, data } of segments) {
        tokens.push(key);
        switch (key) {
            case 'C':
            case 'c':
                tokens.push(data[0], \`\${data[1]},\`, data[2], \`\${data[3]},\`, data[4], data[5]);
                break;
            case 'S':
            case 's':
            case 'Q':
            case 'q':
                tokens.push(data[0], \`\${data[1]},\`, data[2], data[3]);
                break;
            default:
                tokens.push(...data);
                break;
        }
    }
    return tokens.join(' ');
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/absolutize.js
// Translate relative commands to absolute commands
function absolutize(segments) {
    let cx = 0, cy = 0;
    let subx = 0, suby = 0;
    const out = [];
    for (const { key, data } of segments) {
        switch (key) {
            case 'M':
                out.push({ key: 'M', data: [...data] });
                [cx, cy] = data;
                [subx, suby] = data;
                break;
            case 'm':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'M', data: [cx, cy] });
                subx = cx;
                suby = cy;
                break;
            case 'L':
                out.push({ key: 'L', data: [...data] });
                [cx, cy] = data;
                break;
            case 'l':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'C':
                out.push({ key: 'C', data: [...data] });
                cx = data[4];
                cy = data[5];
                break;
            case 'c': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'C', data: newdata });
                cx = newdata[4];
                cy = newdata[5];
                break;
            }
            case 'Q':
                out.push({ key: 'Q', data: [...data] });
                cx = data[2];
                cy = data[3];
                break;
            case 'q': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'Q', data: newdata });
                cx = newdata[2];
                cy = newdata[3];
                break;
            }
            case 'A':
                out.push({ key: 'A', data: [...data] });
                cx = data[5];
                cy = data[6];
                break;
            case 'a':
                cx += data[5];
                cy += data[6];
                out.push({ key: 'A', data: [data[0], data[1], data[2], data[3], data[4], cx, cy] });
                break;
            case 'H':
                out.push({ key: 'H', data: [...data] });
                cx = data[0];
                break;
            case 'h':
                cx += data[0];
                out.push({ key: 'H', data: [cx] });
                break;
            case 'V':
                out.push({ key: 'V', data: [...data] });
                cy = data[0];
                break;
            case 'v':
                cy += data[0];
                out.push({ key: 'V', data: [cy] });
                break;
            case 'S':
                out.push({ key: 'S', data: [...data] });
                cx = data[2];
                cy = data[3];
                break;
            case 's': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'S', data: newdata });
                cx = newdata[2];
                cy = newdata[3];
                break;
            }
            case 'T':
                out.push({ key: 'T', data: [...data] });
                cx = data[0];
                cy = data[1];
                break;
            case 't':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'T', data: [cx, cy] });
                break;
            case 'Z':
            case 'z':
                out.push({ key: 'Z', data: [] });
                cx = subx;
                cy = suby;
                break;
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/normalize.js
// Normalize path to include only M, L, C, and Z commands
function normalize_normalize(segments) {
    const out = [];
    let lastType = '';
    let cx = 0, cy = 0;
    let subx = 0, suby = 0;
    let lcx = 0, lcy = 0;
    for (const { key, data } of segments) {
        switch (key) {
            case 'M':
                out.push({ key: 'M', data: [...data] });
                [cx, cy] = data;
                [subx, suby] = data;
                break;
            case 'C':
                out.push({ key: 'C', data: [...data] });
                cx = data[4];
                cy = data[5];
                lcx = data[2];
                lcy = data[3];
                break;
            case 'L':
                out.push({ key: 'L', data: [...data] });
                [cx, cy] = data;
                break;
            case 'H':
                cx = data[0];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'V':
                cy = data[0];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'S': {
                let cx1 = 0, cy1 = 0;
                if (lastType === 'C' || lastType === 'S') {
                    cx1 = cx + (cx - lcx);
                    cy1 = cy + (cy - lcy);
                }
                else {
                    cx1 = cx;
                    cy1 = cy;
                }
                out.push({ key: 'C', data: [cx1, cy1, ...data] });
                lcx = data[0];
                lcy = data[1];
                cx = data[2];
                cy = data[3];
                break;
            }
            case 'T': {
                const [x, y] = data;
                let x1 = 0, y1 = 0;
                if (lastType === 'Q' || lastType === 'T') {
                    x1 = cx + (cx - lcx);
                    y1 = cy + (cy - lcy);
                }
                else {
                    x1 = cx;
                    y1 = cy;
                }
                const cx1 = cx + 2 * (x1 - cx) / 3;
                const cy1 = cy + 2 * (y1 - cy) / 3;
                const cx2 = x + 2 * (x1 - x) / 3;
                const cy2 = y + 2 * (y1 - y) / 3;
                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });
                lcx = x1;
                lcy = y1;
                cx = x;
                cy = y;
                break;
            }
            case 'Q': {
                const [x1, y1, x, y] = data;
                const cx1 = cx + 2 * (x1 - cx) / 3;
                const cy1 = cy + 2 * (y1 - cy) / 3;
                const cx2 = x + 2 * (x1 - x) / 3;
                const cy2 = y + 2 * (y1 - y) / 3;
                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });
                lcx = x1;
                lcy = y1;
                cx = x;
                cy = y;
                break;
            }
            case 'A': {
                const r1 = Math.abs(data[0]);
                const r2 = Math.abs(data[1]);
                const angle = data[2];
                const largeArcFlag = data[3];
                const sweepFlag = data[4];
                const x = data[5];
                const y = data[6];
                if (r1 === 0 || r2 === 0) {
                    out.push({ key: 'C', data: [cx, cy, x, y, x, y] });
                    cx = x;
                    cy = y;
                }
                else {
                    if (cx !== x || cy !== y) {
                        const curves = arcToCubicCurves(cx, cy, x, y, r1, r2, angle, largeArcFlag, sweepFlag);
                        curves.forEach(function (curve) {
                            out.push({ key: 'C', data: curve });
                        });
                        cx = x;
                        cy = y;
                    }
                }
                break;
            }
            case 'Z':
                out.push({ key: 'Z', data: [] });
                cx = subx;
                cy = suby;
                break;
        }
        lastType = key;
    }
    return out;
}
function degToRad(degrees) {
    return (Math.PI * degrees) / 180;
}
function normalize_rotate(x, y, angleRad) {
    const X = x * Math.cos(angleRad) - y * Math.sin(angleRad);
    const Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);
    return [X, Y];
}
function arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {
    const angleRad = degToRad(angle);
    let params = [];
    let f1 = 0, f2 = 0, cx = 0, cy = 0;
    if (recursive) {
        [f1, f2, cx, cy] = recursive;
    }
    else {
        [x1, y1] = normalize_rotate(x1, y1, -angleRad);
        [x2, y2] = normalize_rotate(x2, y2, -angleRad);
        const x = (x1 - x2) / 2;
        const y = (y1 - y2) / 2;
        let h = (x * x) / (r1 * r1) + (y * y) / (r2 * r2);
        if (h > 1) {
            h = Math.sqrt(h);
            r1 = h * r1;
            r2 = h * r2;
        }
        const sign = (largeArcFlag === sweepFlag) ? -1 : 1;
        const r1Pow = r1 * r1;
        const r2Pow = r2 * r2;
        const left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;
        const right = r1Pow * y * y + r2Pow * x * x;
        const k = sign * Math.sqrt(Math.abs(left / right));
        cx = k * r1 * y / r2 + (x1 + x2) / 2;
        cy = k * -r2 * x / r1 + (y1 + y2) / 2;
        f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));
        f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));
        if (x1 < cx) {
            f1 = Math.PI - f1;
        }
        if (x2 < cx) {
            f2 = Math.PI - f2;
        }
        if (f1 < 0) {
            f1 = Math.PI * 2 + f1;
        }
        if (f2 < 0) {
            f2 = Math.PI * 2 + f2;
        }
        if (sweepFlag && f1 > f2) {
            f1 = f1 - Math.PI * 2;
        }
        if (!sweepFlag && f2 > f1) {
            f2 = f2 - Math.PI * 2;
        }
    }
    let df = f2 - f1;
    if (Math.abs(df) > (Math.PI * 120 / 180)) {
        const f2old = f2;
        const x2old = x2;
        const y2old = y2;
        if (sweepFlag && f2 > f1) {
            f2 = f1 + (Math.PI * 120 / 180) * (1);
        }
        else {
            f2 = f1 + (Math.PI * 120 / 180) * (-1);
        }
        x2 = cx + r1 * Math.cos(f2);
        y2 = cy + r2 * Math.sin(f2);
        params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);
    }
    df = f2 - f1;
    const c1 = Math.cos(f1);
    const s1 = Math.sin(f1);
    const c2 = Math.cos(f2);
    const s2 = Math.sin(f2);
    const t = Math.tan(df / 4);
    const hx = 4 / 3 * r1 * t;
    const hy = 4 / 3 * r2 * t;
    const m1 = [x1, y1];
    const m2 = [x1 + hx * s1, y1 - hy * c1];
    const m3 = [x2 + hx * s2, y2 - hy * c2];
    const m4 = [x2, y2];
    m2[0] = 2 * m1[0] - m2[0];
    m2[1] = 2 * m1[1] - m2[1];
    if (recursive) {
        return [m2, m3, m4].concat(params);
    }
    else {
        params = [m2, m3, m4].concat(params);
        const curves = [];
        for (let i = 0; i < params.length; i += 3) {
            const r1 = normalize_rotate(params[i][0], params[i][1], angleRad);
            const r2 = normalize_rotate(params[i + 1][0], params[i + 1][1], angleRad);
            const r3 = normalize_rotate(params[i + 2][0], params[i + 2][1], angleRad);
            curves.push([r1[0], r1[1], r2[0], r2[1], r3[0], r3[1]]);
        }
        return curves;
    }
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/index.js




;// CONCATENATED MODULE: ./node_modules/points-on-path/lib/index.js


function pointsOnPath(path, tolerance, distance) {
    const segments = parsePath(path);
    const normalized = normalize_normalize(absolutize(segments));
    const sets = [];
    let currentPoints = [];
    let start = [0, 0];
    let pendingCurve = [];
    const appendPendingCurve = () => {
        if (pendingCurve.length >= 4) {
            currentPoints.push(...pointsOnBezierCurves(pendingCurve, tolerance));
        }
        pendingCurve = [];
    };
    const appendPendingPoints = () => {
        appendPendingCurve();
        if (currentPoints.length) {
            sets.push(currentPoints);
            currentPoints = [];
        }
    };
    for (const { key, data } of normalized) {
        switch (key) {
            case 'M':
                appendPendingPoints();
                start = [data[0], data[1]];
                currentPoints.push(start);
                break;
            case 'L':
                appendPendingCurve();
                currentPoints.push([data[0], data[1]]);
                break;
            case 'C':
                if (!pendingCurve.length) {
                    const lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;
                    pendingCurve.push([lastPoint[0], lastPoint[1]]);
                }
                pendingCurve.push([data[0], data[1]]);
                pendingCurve.push([data[2], data[3]]);
                pendingCurve.push([data[4], data[5]]);
                break;
            case 'Z':
                appendPendingCurve();
                currentPoints.push([start[0], start[1]]);
                break;
        }
    }
    appendPendingPoints();
    if (!distance) {
        return sets;
    }
    const out = [];
    for (const set of sets) {
        const simplifiedSet = simplify(set, distance);
        if (simplifiedSet.length) {
            out.push(simplifiedSet);
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./src/walker.ts
function walker_slicedToArray(arr, i) { return walker_arrayWithHoles(arr) || walker_iterableToArrayLimit(arr, i) || walker_unsupportedIterableToArray(arr, i) || walker_nonIterableRest(); }

function walker_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function walker_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function walker_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function walker_toConsumableArray(arr) { return walker_arrayWithoutHoles(arr) || walker_iterableToArray(arr) || walker_unsupportedIterableToArray(arr) || walker_nonIterableSpread(); }

function walker_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function walker_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return walker_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return walker_arrayLikeToArray(o, minLen); }

function walker_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function walker_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return walker_arrayLikeToArray(arr); }

function walker_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function walker_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function walker_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { walker_ownKeys(Object(source), true).forEach(function (key) { walker_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { walker_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function walker_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var SUPPORTED_TAGS = ["svg", "path", "g", "use", "circle", "ellipse", "rect", "polyline", "polygon"];

var nodeValidator = function nodeValidator(node) {
  if (SUPPORTED_TAGS.includes(node.tagName)) {
    return NodeFilter.FILTER_ACCEPT;
  }

  return NodeFilter.FILTER_REJECT;
};

function createTreeWalker(dom) {
  return document.createTreeWalker(dom, NodeFilter.SHOW_ALL, {
    acceptNode: nodeValidator
  });
}

var walker_presAttrs = function presAttrs(el, groups) {
  return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, getGroupAttrs(groups)), presAttrsToElementValues(el)), filterAttrsToElementValues(el));
};

var skippedUseAttrs = ["id"];
var allwaysPassedUseAttrs = ["x", "y", "width", "height", "href", "xlink:href"];
/*
  "Most attributes on use do not override those already on the element
  referenced by use. (This differs from how CSS style attributes override
  those set 'earlier' in the cascade). Only the attributes x, y, width,
  height and href on the use element will override those set on the
  referenced element. However, any other attributes not set on the referenced
  element will be applied to the use element."

  Situation 1: Attr is set on defEl, NOT on useEl
    - result: use defEl attr
  Situation 2: Attr is on useEl, NOT on defEl
    - result: use the useEl attr
  Situation 3: Attr is on both useEl and defEl
    - result: use the defEl attr (Unless x, y, width, height, href, xlink:href)
*/

var getDefElWithCorrectAttrs = function getDefElWithCorrectAttrs(defEl, useEl) {
  var finalEl = walker_toConsumableArray(useEl.attributes).reduce(function (el, attr) {
    if (skippedUseAttrs.includes(attr.value)) {
      return el;
    } // Does defEl have the attr? If so, use it, else use the useEl attr


    if (!defEl.hasAttribute(attr.name) || allwaysPassedUseAttrs.includes(attr.name)) {
      el.setAttribute(attr.name, useEl.getAttribute(attr.name) || "");
    }

    return el;
  }, defEl.cloneNode());

  return finalEl;
};

var walkers = {
  svg: function svg(args) {
    walk(args, args.tw.nextNode());
  },
  g: function g(args) {
    var nextArgs = walker_objectSpread(walker_objectSpread({}, args), {}, {
      tw: createTreeWalker(args.tw.currentNode),
      groups: [].concat(walker_toConsumableArray(args.groups), [new elements_Group(args.tw.currentNode)])
    });

    walk(nextArgs, nextArgs.tw.nextNode());
    walk(args, args.tw.nextSibling());
  },
  use: function use(args) {
    var root = args.root,
        tw = args.tw,
        scene = args.scene;
    var useEl = tw.currentNode;
    var id = useEl.getAttribute("href") || useEl.getAttribute("xlink:href");

    if (!id) {
      throw new Error("unable to get id of use element");
    }

    var defEl = root.querySelector(id);

    if (!defEl) {
      throw new Error("unable to find def element with id: ".concat(id));
    }

    var tempScene = new elements_ExcalidrawScene();
    var finalEl = getDefElWithCorrectAttrs(defEl, useEl);
    walk(walker_objectSpread(walker_objectSpread({}, args), {}, {
      scene: tempScene,
      tw: createTreeWalker(finalEl)
    }), finalEl);
    var exEl = tempScene.elements.pop();

    if (!exEl) {
      throw new Error("Unable to create ex element");
    }

    scene.elements.push(exEl);
    walk(args, args.tw.nextNode());
  },
  circle: function circle(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var r = getNum(el, "r", 0);
    var d = r * 2;
    var x = getNum(el, "x", 0) + getNum(el, "cx", 0) - r;
    var y = getNum(el, "y", 0) + getNum(el, "cy", 0) - r;
    var mat = getTransformMatrix(el, groups); // @ts-ignore

    var m = fromValues(d, 0, 0, 0, 0, d, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);

    var circle = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      groupIds: groups.map(function (g) {
        return g.id;
      })
    });

    scene.elements.push(circle);
    walk(args, tw.nextNode());
  },
  ellipse: function ellipse(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var rx = getNum(el, "rx", 0);
    var ry = getNum(el, "ry", 0);
    var cx = getNum(el, "cx", 0);
    var cy = getNum(el, "cy", 0);
    var x = getNum(el, "x", 0) + cx - rx;
    var y = getNum(el, "y", 0) + cy - ry;
    var w = rx * 2;
    var h = ry * 2;
    var mat = getTransformMatrix(el, groups);
    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);

    var ellipse = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      groupIds: groups.map(function (g) {
        return g.id;
      })
    });

    scene.elements.push(ellipse);
    walk(args, tw.nextNode());
  },
  line: function line(args) {
    // unimplemented
    walk(args, args.tw.nextNode());
  },
  polygon: function polygon(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var points = pointsAttrToPoints(el);
    var mat = getTransformMatrix(el, groups);
    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points
    // are relative to the first point.

    var x = transformedPoints[0][0];
    var y = transformedPoints[0][1];
    var relativePoints = transformedPoints.map(function (_ref) {
      var _ref2 = walker_slicedToArray(_ref, 2),
          _x = _ref2[0],
          _y = _ref2[1];

      return [_x - x, _y - y];
    });

    var _dimensionsFromPoints = dimensionsFromPoints(relativePoints),
        _dimensionsFromPoints2 = walker_slicedToArray(_dimensionsFromPoints, 2),
        width = _dimensionsFromPoints2[0],
        height = _dimensionsFromPoints2[1];

    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {
      points: relativePoints.concat([[0, 0]]),
      x: x,
      y: y,
      width: width,
      height: height
    });

    scene.elements.push(line);
    walk(args, args.tw.nextNode());
  },
  polyline: function polyline(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var mat = getTransformMatrix(el, groups);
    var points = pointsAttrToPoints(el);
    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points
    // are relative to the first point.

    var x = transformedPoints[0][0];
    var y = transformedPoints[0][1];
    var relativePoints = transformedPoints.map(function (_ref3) {
      var _ref4 = walker_slicedToArray(_ref3, 2),
          _x = _ref4[0],
          _y = _ref4[1];

      return [_x - x, _y - y];
    });

    var _dimensionsFromPoints3 = dimensionsFromPoints(relativePoints),
        _dimensionsFromPoints4 = walker_slicedToArray(_dimensionsFromPoints3, 2),
        width = _dimensionsFromPoints4[0],
        height = _dimensionsFromPoints4[1];

    var hasFill = has(el, "fill");
    var fill = get(el, "fill");
    var shouldFill = !hasFill || hasFill && fill !== "none";

    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {
      points: relativePoints.concat(shouldFill ? [[0, 0]] : []),
      x: x,
      y: y,
      width: width,
      height: height
    });

    scene.elements.push(line);
    walk(args, args.tw.nextNode());
  },
  rect: function rect(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var x = getNum(el, "x", 0);
    var y = getNum(el, "y", 0);
    var w = getNum(el, "width", 0);
    var h = getNum(el, "height", 0);
    var mat = getTransformMatrix(el, groups); // @ts-ignore

    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);
    /*
    NOTE: Currently there doesn't seem to be a way to specify the border
          radius of a rect within Excalidraw. This means that attributes
          rx and ry can't be used.
    */

    var isRound = el.hasAttribute("rx") || el.hasAttribute("ry");

    var rect = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExRect()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      strokeSharpness: isRound ? "round" : "sharp"
    });

    scene.elements.push(rect);
    walk(args, args.tw.nextNode());
  },
  path: function path(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var mat = getTransformMatrix(el, groups);
    var points = pointsOnPath(get(el, "d"));
    var fillColor = get(el, "fill", "black");
    var fillRule = get(el, "fill-rule", "nonzero");
    var elements = [];
    var localGroup = randomId();

    switch (fillRule) {
      case "nonzero":
        var initialWindingOrder = "clockwise";
        elements = points.map(function (pointArr, idx) {
          var tPoints = transformPoints(pointArr, clone(mat));
          var x = tPoints[0][0];
          var y = tPoints[0][1];

          var _dimensionsFromPoints5 = dimensionsFromPoints(tPoints),
              _dimensionsFromPoints6 = walker_slicedToArray(_dimensionsFromPoints5, 2),
              width = _dimensionsFromPoints6[0],
              height = _dimensionsFromPoints6[1];

          var relativePoints = tPoints.map(function (_ref5) {
            var _ref6 = walker_slicedToArray(_ref5, 2),
                _x = _ref6[0],
                _y = _ref6[1];

            return [_x - x, _y - y];
          });
          var windingOrder = getWindingOrder(relativePoints);

          if (idx === 0) {
            initialWindingOrder = windingOrder;
            localGroup = randomId();
          }

          var backgroundColor = fillColor;

          if (initialWindingOrder !== windingOrder) {
            backgroundColor = "#FFFFFF";
          }

          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), {}, {
            strokeWidth: 0,
            strokeColor: "#00000000"
          }, walker_presAttrs(el, groups)), {}, {
            points: relativePoints,
            backgroundColor: backgroundColor,
            width: width,
            height: height,
            x: x + getNum(el, "x", 0),
            y: y + getNum(el, "y", 0),
            groupIds: [localGroup]
          });
        });
        break;

      case "evenodd":
        elements = points.map(function (pointArr, idx) {
          var tPoints = transformPoints(pointArr, clone(mat));
          var x = tPoints[0][0];
          var y = tPoints[0][1];

          var _dimensionsFromPoints7 = dimensionsFromPoints(tPoints),
              _dimensionsFromPoints8 = walker_slicedToArray(_dimensionsFromPoints7, 2),
              width = _dimensionsFromPoints8[0],
              height = _dimensionsFromPoints8[1];

          var relativePoints = tPoints.map(function (_ref7) {
            var _ref8 = walker_slicedToArray(_ref7, 2),
                _x = _ref8[0],
                _y = _ref8[1];

            return [_x - x, _y - y];
          });

          if (idx === 0) {
            localGroup = randomId();
          }

          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), walker_presAttrs(el, groups)), {}, {
            points: relativePoints,
            width: width,
            height: height,
            x: x + getNum(el, "x", 0),
            y: y + getNum(el, "y", 0)
          });
        });
        break;

      default:
    }

    scene.elements = scene.elements.concat(elements);
    walk(args, tw.nextNode());
  }
};
function walk(args, nextNode) {
  if (!nextNode) {
    return;
  }

  var nodeName = nextNode.nodeName;

  if (walkers[nodeName]) {
    walkers[nodeName](args);
  }
}
;// CONCATENATED MODULE: ./src/parser.ts
function parser_toConsumableArray(arr) { return parser_arrayWithoutHoles(arr) || parser_iterableToArray(arr) || parser_unsupportedIterableToArray(arr) || parser_nonIterableSpread(); }

function parser_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function parser_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return parser_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return parser_arrayLikeToArray(o, minLen); }

function parser_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function parser_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return parser_arrayLikeToArray(arr); }

function parser_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



var convert = function convert(svgString) {
  var parser = new DOMParser();
  var svgDOM = parser.parseFromString(svgString, "image/svg+xml"); // was there a parsing error?

  var errorsElements = svgDOM.querySelectorAll("parsererror");
  var hasErrors = errorsElements.length > 0;
  var content = null;

  if (hasErrors) {
    console.error("There were errors while parsing the given SVG: ", parser_toConsumableArray(errorsElements).map(function (el) {
      return el.innerHTML;
    }));
  } else {
    var tw = createTreeWalker(svgDOM);
    var scene = new elements_ExcalidrawScene();
    var groups = [];
    walk({
      tw: tw,
      scene: scene,
      groups: groups,
      root: svgDOM
    }, tw.nextNode());
    content = scene.toExJSON();
  }

  return {
    hasErrors: hasErrors,
    errors: hasErrors ? errorsElements : null,
    content: content
  };
};
;// CONCATENATED MODULE: ./src/index.ts

/* harmony default export */ const src = (src_parser_namespaceObject);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQXdCLFVBQUNDLEVBQUQ7QUFBQSxhQUFRQSxFQUFFLENBQUNvUCxTQUFYO0FBQUEsS0FBeEIsQ0FGRjtBQUlELEdBTEQsTUFLTztBQUNMLFFBQU0zRCxFQUFFLEdBQUdqQixnQkFBZ0IsQ0FBQ29FLE1BQUQsQ0FBM0I7QUFDQSxRQUFNM0MsS0FBSyxHQUFHLElBQUlwTSx3QkFBSixFQUFkO0FBQ0EsUUFBTWdGLE1BQWUsR0FBRyxFQUF4QjtBQUVBMkcsSUFBQUEsSUFBSSxDQUFDO0FBQUVDLE1BQUFBLEVBQUUsRUFBRkEsRUFBRjtBQUFNUSxNQUFBQSxLQUFLLEVBQUxBLEtBQU47QUFBYXBILE1BQUFBLE1BQU0sRUFBTkEsTUFBYjtBQUFxQm1ILE1BQUFBLElBQUksRUFBRTRDO0FBQTNCLEtBQUQsRUFBc0NuRCxFQUFFLENBQUNDLFFBQUgsRUFBdEMsQ0FBSjtBQUVBdUQsSUFBQUEsT0FBTyxHQUFHaEQsS0FBSyxDQUFDb0QsUUFBTixFQUFWO0FBQ0Q7O0FBRUQsU0FBTztBQUNMTCxJQUFBQSxTQUFTLEVBQVRBLFNBREs7QUFFTE0sSUFBQUEsTUFBTSxFQUFFTixTQUFTLEdBQUdGLGNBQUgsR0FBb0IsSUFGaEM7QUFHTEcsSUFBQUEsT0FBTyxFQUFQQTtBQUhLLEdBQVA7QUFLRCxDQTdCTSxDOztBQ1ZQO0FBRUEsMENBQWVQLDBCQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lLnRzPzFjNDQiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanM/Yzk0ZCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanM/NjVhMSIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9yb3VnaGpzL2Jpbi9tYXRoLmpzPzIxMmIiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvbmFub2lkL2luZGV4LnByb2QuanM/NmQ3NyIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy91dGlscy50cz83ZGRhIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2F0dHJpYnV0ZXMudHM/M2Q5NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy9lbGVtZW50cy9Hcm91cC50cz9hNzI3Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50LnRzP2QzNWEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzPzlmZTciLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvdHJhbnNmb3JtLnRzPzVjZmEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcG9pbnRzLW9uLWN1cnZlL2xpYi9pbmRleC5qcz9mNDQ4Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL3BhcnNlci5qcz8xOWQ5Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL2Fic29sdXRpemUuanM/YzMwNiIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9ub3JtYWxpemUuanM/MzA4NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9pbmRleC5qcz85ZDg2Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BvaW50cy1vbi1wYXRoL2xpYi9pbmRleC5qcz9mMTkxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3dhbGtlci50cz8wMWRjIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3BhcnNlci50cz9iOTcxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhjYWxpZHJhd0dlbmVyaWNFbGVtZW50IH0gZnJvbSBcIi4vRXhjYWxpZHJhd0VsZW1lbnRcIjtcblxuY2xhc3MgRXhjYWxpZHJhd1NjZW5lIHtcbiAgdHlwZSA9IFwiZXhjYWxpZHJhd1wiO1xuICB2ZXJzaW9uID0gMjtcbiAgc291cmNlID0gXCJodHRwczovL2V4Y2FsaWRyYXcuY29tXCI7XG4gIGVsZW1lbnRzOiBFeGNhbGlkcmF3R2VuZXJpY0VsZW1lbnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gW10pIHtcbiAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gIH1cblxuICB0b0V4SlNPTigpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLFxuICAgICAgZWxlbWVudHM6IHRoaXMuZWxlbWVudHMubWFwKChlbCkgPT4gKHsgLi4uZWwgfSkpLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhjYWxpZHJhd1NjZW5lO1xuIiwiLyoqXHJcbiAqIENvbW1vbiB1dGlsaXRpZXNcclxuICogQG1vZHVsZSBnbE1hdHJpeFxyXG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXHJcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcclxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXHJcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcclxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xyXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxyXG4gKiBAbW9kdWxlIG1hdDRcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcclxuICpcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEludmVydHMgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG5cbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls0XTtcbiAgYjEgPSBiWzVdO1xuICBiMiA9IGJbNl07XG4gIGIzID0gYls3XTtcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls4XTtcbiAgYjEgPSBiWzldO1xuICBiMiA9IGJbMTBdO1xuICBiMyA9IGJbMTFdO1xuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbMTJdO1xuICBiMSA9IGJbMTNdO1xuICBiMiA9IGJbMTRdO1xuICBiMyA9IGJbMTVdO1xuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gLXM7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcclxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcbiAgb3V0WzBdID0gbWF0WzEyXTtcbiAgb3V0WzFdID0gbWF0WzEzXTtcbiAgb3V0WzJdID0gbWF0WzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxyXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcclxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxyXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XHJcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxyXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXHJcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cclxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxyXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXHJcbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgICAgZXlleSA9IGV5ZVsxXSxcbiAgICAgIGV5ZXogPSBleWVbMl0sXG4gICAgICB1cHggPSB1cFswXSxcbiAgICAgIHVweSA9IHVwWzFdLFxuICAgICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cblxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geDE7XG4gIG91dFsyXSA9IHgyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6MDtcbiAgb3V0WzldID0gejE7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSBleWV4O1xuICBvdXRbMTNdID0gZXlleTtcbiAgb3V0WzE0XSA9IGV5ZXo7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGE4ID0gYVs4XSxcbiAgICAgIGE5ID0gYVs5XSxcbiAgICAgIGExMCA9IGFbMTBdLFxuICAgICAgYTExID0gYVsxMV07XG4gIHZhciBhMTIgPSBhWzEyXSxcbiAgICAgIGExMyA9IGFbMTNdLFxuICAgICAgYTE0ID0gYVsxNF0sXG4gICAgICBhMTUgPSBhWzE1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgdmFyIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgdmFyIGI4ID0gYls4XSxcbiAgICAgIGI5ID0gYls5XSxcbiAgICAgIGIxMCA9IGJbMTBdLFxuICAgICAgYjExID0gYlsxMV07XG4gIHZhciBiMTIgPSBiWzEyXSxcbiAgICAgIGIxMyA9IGJbMTNdLFxuICAgICAgYjE0ID0gYlsxNF0sXG4gICAgICBiMTUgPSBiWzE1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcbn1cbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tU2VlZCgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMiAqKiAzMSk7XG59XG5leHBvcnQgY2xhc3MgUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKDIgKiogMzEgLSAxKSAmICh0aGlzLnNlZWQgPSBNYXRoLmltdWwoNDgyNzEsIHRoaXMuc2VlZCkpKSAvIDIgKiogMzE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIFRoaXMgZmlsZSByZXBsYWNlcyBgaW5kZXguanNgIGluIGJ1bmRsZXJzIGxpa2Ugd2VicGFjayBvciBSb2xsdXAsXG4vLyBhY2NvcmRpbmcgdG8gYGJyb3dzZXJgIGNvbmZpZyBpbiBgcGFja2FnZS5qc29uYC5cblxuaW1wb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcblxuaWYgKGZhbHNlKSB7XG4gIC8vIEFsbCBidW5kbGVycyB3aWxsIHJlbW92ZSB0aGlzIGJsb2NrIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cbiAgaWYgKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgJiZcbiAgICB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnUmVhY3QgTmF0aXZlIGRvZXMgbm90IGhhdmUgYSBidWlsdC1pbiBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzIHVzZSBgbmFub2lkL25vbi1zZWN1cmVgLiAnICtcbiAgICAgICAgJ0ZvciBzZWN1cmUgSURzLCBpbXBvcnQgYHJlYWN0LW5hdGl2ZS1nZXQtcmFuZG9tLXZhbHVlc2AgJyArXG4gICAgICAgICdiZWZvcmUgTmFubyBJRC4nXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0ltcG9ydCBmaWxlIHdpdGggYGlmICghd2luZG93LmNyeXB0bykgd2luZG93LmNyeXB0byA9IHdpbmRvdy5tc0NyeXB0b2AnICtcbiAgICAgICAgJyBiZWZvcmUgaW1wb3J0aW5nIE5hbm8gSUQgdG8gZml4IElFIDExIHN1cHBvcnQnXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzLCB5b3UgY2FuIHVzZSBuYW5vaWQvbm9uLXNlY3VyZS4nXG4gICAgKVxuICB9XG59XG5cbmxldCByYW5kb20gPSBieXRlcyA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzKSlcblxubGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgc2l6ZSwgZ2V0UmFuZG9tKSA9PiB7XG4gIC8vIEZpcnN0LCBhIGJpdG1hc2sgaXMgbmVjZXNzYXJ5IHRvIGdlbmVyYXRlIHRoZSBJRC4gVGhlIGJpdG1hc2sgbWFrZXMgYnl0ZXNcbiAgLy8gdmFsdWVzIGNsb3NlciB0byB0aGUgYWxwaGFiZXQgc2l6ZS4gVGhlIGJpdG1hc2sgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdFxuICAvLyBgMl4zMSAtIDFgIG51bWJlciwgd2hpY2ggZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgLy8gRm9yIGV4YW1wbGUsIHRoZSBiaXRtYXNrIGZvciB0aGUgYWxwaGFiZXQgc2l6ZSAzMCBpcyAzMSAoMDAwMTExMTEpLlxuICAvLyBgTWF0aC5jbHozMmAgaXMgbm90IHVzZWQsIGJlY2F1c2UgaXQgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2Vycy5cbiAgbGV0IG1hc2sgPSAoMiA8PCAoTWF0aC5sb2coYWxwaGFiZXQubGVuZ3RoIC0gMSkgLyBNYXRoLkxOMikpIC0gMVxuICAvLyBUaG91Z2gsIHRoZSBiaXRtYXNrIHNvbHV0aW9uIGlzIG5vdCBwZXJmZWN0IHNpbmNlIHRoZSBieXRlcyBleGNlZWRpbmdcbiAgLy8gdGhlIGFscGhhYmV0IHNpemUgYXJlIHJlZnVzZWQuIFRoZXJlZm9yZSwgdG8gcmVsaWFibHkgZ2VuZXJhdGUgdGhlIElELFxuICAvLyB0aGUgcmFuZG9tIGJ5dGVzIHJlZHVuZGFuY3kgaGFzIHRvIGJlIHNhdGlzZmllZC5cblxuICAvLyBOb3RlOiBldmVyeSBoYXJkd2FyZSByYW5kb20gZ2VuZXJhdG9yIGNhbGwgaXMgcGVyZm9ybWFuY2UgZXhwZW5zaXZlLFxuICAvLyBiZWNhdXNlIHRoZSBzeXN0ZW0gY2FsbCBmb3IgZW50cm9weSBjb2xsZWN0aW9uIHRha2VzIGEgbG90IG9mIHRpbWUuXG4gIC8vIFNvLCB0byBhdm9pZCBhZGRpdGlvbmFsIHN5c3RlbSBjYWxscywgZXh0cmEgYnl0ZXMgYXJlIHJlcXVlc3RlZCBpbiBhZHZhbmNlLlxuXG4gIC8vIE5leHQsIGEgc3RlcCBkZXRlcm1pbmVzIGhvdyBtYW55IHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cbiAgLy8gVGhlIG51bWJlciBvZiByYW5kb20gYnl0ZXMgZ2V0cyBkZWNpZGVkIHVwb24gdGhlIElEIHNpemUsIG1hc2ssXG4gIC8vIGFscGhhYmV0IHNpemUsIGFuZCBtYWdpYyBudW1iZXIgMS42ICh1c2luZyAxLjYgcGVha3MgYXQgcGVyZm9ybWFuY2VcbiAgLy8gYWNjb3JkaW5nIHRvIGJlbmNobWFya3MpLlxuXG4gIC8vIGAtfmYgPT4gTWF0aC5jZWlsKGYpYCBpZiBmIGlzIGEgZmxvYXRcbiAgLy8gYC1+aSA9PiBpICsgMWAgaWYgaSBpcyBhbiBpbnRlZ2VyXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBzaXplKSAvIGFscGhhYmV0Lmxlbmd0aClcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBpZCA9ICcnXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBieXRlcyA9IGdldFJhbmRvbShzdGVwKVxuICAgICAgLy8gQSBjb21wYWN0IGFsdGVybmF0aXZlIGZvciBgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwOyBpKyspYC5cbiAgICAgIGxldCBqID0gc3RlcFxuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAvLyBBZGRpbmcgYHx8ICcnYCByZWZ1c2VzIGEgcmFuZG9tIGJ5dGUgdGhhdCBleGNlZWRzIHRoZSBhbHBoYWJldCBzaXplLlxuICAgICAgICBpZCArPSBhbHBoYWJldFtieXRlc1tqXSAmIG1hc2tdIHx8ICcnXG4gICAgICAgIGlmIChpZC5sZW5ndGggPT09IHNpemUpIHJldHVybiBpZFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5sZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUpID0+IGN1c3RvbVJhbmRvbShhbHBoYWJldCwgc2l6ZSwgcmFuZG9tKVxuXG5sZXQgbmFub2lkID0gKHNpemUgPSAyMSkgPT4ge1xuICBsZXQgaWQgPSAnJ1xuICBsZXQgYnl0ZXMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKVxuXG4gIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG4gIHdoaWxlIChzaXplLS0pIHtcbiAgICAvLyBJdCBpcyBpbmNvcnJlY3QgdG8gdXNlIGJ5dGVzIGV4Y2VlZGluZyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICAvLyBUaGUgZm9sbG93aW5nIG1hc2sgcmVkdWNlcyB0aGUgcmFuZG9tIGJ5dGUgaW4gdGhlIDAtMjU1IHZhbHVlXG4gICAgLy8gcmFuZ2UgdG8gdGhlIDAtNjMgdmFsdWUgcmFuZ2UuIFRoZXJlZm9yZSwgYWRkaW5nIGhhY2tzLCBzdWNoXG4gICAgLy8gYXMgZW1wdHkgc3RyaW5nIGZhbGxiYWNrIG9yIG1hZ2ljIG51bWJlcnMsIGlzIHVubmVjY2Vzc2FyeSBiZWNhdXNlXG4gICAgLy8gdGhlIGJpdG1hc2sgdHJpbXMgYnl0ZXMgZG93biB0byB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICBsZXQgYnl0ZSA9IGJ5dGVzW3NpemVdICYgNjNcbiAgICBpZiAoYnl0ZSA8IDM2KSB7XG4gICAgICAvLyBgMC05YS16YFxuICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNilcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgLy8gYEEtWmBcbiAgICAgIGlkICs9IChieXRlIC0gMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpXG4gICAgfSBlbHNlIGlmIChieXRlIDwgNjMpIHtcbiAgICAgIGlkICs9ICdfJ1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCArPSAnLSdcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkXG59XG5cbmV4cG9ydCB7IG5hbm9pZCwgY3VzdG9tQWxwaGFiZXQsIGN1c3RvbVJhbmRvbSwgdXJsQWxwaGFiZXQsIHJhbmRvbSB9XG4iLCJpbXBvcnQgeyBSYW5kb20gfSBmcm9tIFwicm91Z2hqcy9iaW4vbWF0aFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5jb25zdCByYW5kb20gPSBuZXcgUmFuZG9tKERhdGUubm93KCkpO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tSW50ZWdlciA9ICgpOiBudW1iZXIgPT4gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogMiAqKiAzMSk7XG5cbmV4cG9ydCBjb25zdCByYW5kb21JZCA9ICgpOiBzdHJpbmcgPT4gbmFub2lkKCk7XG5cbmV4cG9ydCBjb25zdCBzYWZlTnVtYmVyID0gKG51bWJlcjogbnVtYmVyKTogbnVtYmVyID0+IE51bWJlcihudW1iZXIudG9GaXhlZCgyKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkaW1lbnNpb25zRnJvbVBvaW50cyhwb2ludHM6IG51bWJlcltdW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHhDb29yZHMgPSBwb2ludHMubWFwKChbeF0pID0+IHgpO1xuICBjb25zdCB5Q29vcmRzID0gcG9pbnRzLm1hcCgoWywgeV0pID0+IHkpO1xuXG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbiguLi54Q29vcmRzKTtcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLnlDb29yZHMpO1xuICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueENvb3Jkcyk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heCguLi55Q29vcmRzKTtcblxuICByZXR1cm4gW21heFggLSBtaW5YLCBtYXhZIC0gbWluWV07XG59XG5cbi8vIHdpbmRpbmcgb3JkZXIgaXMgY2xvY2t3aXNlIHZhbHVlcyBpcyBwb3NpdGl2ZSwgY291bnRlciBjbG9ja3dpc2UgaWYgbmVnYXRpdmUuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZGluZ09yZGVyKFxuICBwb2ludHM6IFBvaW50W10sXG4pOiBcImNsb2Nrd2lzZVwiIHwgXCJjb3VudGVyY2xvY2t3aXNlXCIge1xuICBjb25zdCB0b3RhbCA9IHBvaW50cy5yZWR1Y2UoKGFjYywgW3gxLCB5MV0sIGlkeCwgYXJyKSA9PiB7XG4gICAgY29uc3QgcDIgPSBhcnJbaWR4ICsgMV07XG4gICAgY29uc3QgeDIgPSBwMiA/IHAyWzBdIDogMDtcbiAgICBjb25zdCB5MiA9IHAyID8gcDJbMV0gOiAwO1xuXG4gICAgY29uc3QgZSA9ICh4MiAtIHgxKSAqICh5MiArIHkxKTtcblxuICAgIHJldHVybiBlICsgYWNjO1xuICB9LCAwKTtcblxuICByZXR1cm4gdG90YWwgPiAwID8gXCJjbG9ja3dpc2VcIiA6IFwiY291bnRlcmNsb2Nrd2lzZVwiO1xufVxuIiwiaW1wb3J0IGNocm9tYSBmcm9tIFwiY2hyb21hLWpzXCI7XG5pbXBvcnQgeyBFeGNhbGlkcmF3RWxlbWVudEJhc2UgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGV4V2l0aEFscGhhKGNvbG9yOiBzdHJpbmcsIGFscGhhOiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gY2hyb21hKGNvbG9yKS5hbHBoYShhbHBoYSkuY3NzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXMoZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKGF0dHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGVsOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcsIGJhY2t1cD86IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgYmFja3VwIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROdW0oZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZywgYmFja3VwPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgbnVtVmFsID0gTnVtYmVyKGdldChlbCwgYXR0cikpO1xuICByZXR1cm4gbnVtVmFsID09PSBOYU4gPyBiYWNrdXAgfHwgMCA6IG51bVZhbDtcbn1cblxuY29uc3QgcHJlc0F0dHJzID0ge1xuICBzdHJva2U6IFwic3Ryb2tlXCIsXG4gIFwic3Ryb2tlLW9wYWNpdHlcIjogXCJzdHJva2Utb3BhY2l0eVwiLFxuICBcInN0cm9rZS13aWR0aFwiOiBcInN0cm9rZS13aWR0aFwiLFxuICBmaWxsOiBcImZpbGxcIixcbiAgXCJmaWxsLW9wYWNpdHlcIjogXCJmaWxsLW9wYWNpdHlcIixcbiAgb3BhY2l0eTogXCJvcGFjaXR5XCIsXG59IGFzIGNvbnN0O1xuXG50eXBlIEV4UGFydGlhbEVsZW1lbnQgPSBQYXJ0aWFsPEV4Y2FsaWRyYXdFbGVtZW50QmFzZT47XG5cbnR5cGUgQXR0ckhhbmRsZXJBcmdzID0ge1xuICBlbDogRWxlbWVudDtcbiAgZXhWYWxzOiBFeFBhcnRpYWxFbGVtZW50O1xufTtcblxudHlwZSBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBba2V5IGluIGtleW9mIHR5cGVvZiBwcmVzQXR0cnNdOiAoYXJnczogQXR0ckhhbmRsZXJBcmdzKSA9PiB2b2lkO1xufTtcblxuY29uc3QgYXR0ckhhbmRsZXJzOiBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBzdHJva2U6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gZ2V0KGVsLCBcInN0cm9rZVwiKTtcblxuICAgIGV4VmFscy5zdHJva2VDb2xvciA9IGhhcyhlbCwgXCJzdHJva2Utb3BhY2l0eVwiKVxuICAgICAgPyBoZXhXaXRoQWxwaGEoc3Ryb2tlQ29sb3IsIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSlcbiAgICAgIDogc3Ryb2tlQ29sb3I7XG4gIH0sXG5cbiAgXCJzdHJva2Utb3BhY2l0eVwiOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBleFZhbHMuc3Ryb2tlQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwic3Ryb2tlXCIsIFwiIzAwMDAwMFwiKSxcbiAgICAgIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSxcbiAgICApO1xuICB9LFxuXG4gIFwic3Ryb2tlLXdpZHRoXCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5zdHJva2VXaWR0aCA9IGdldE51bShlbCwgXCJzdHJva2Utd2lkdGhcIik7XG4gIH0sXG5cbiAgZmlsbDogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgYGZpbGxgKTtcblxuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBmaWxsID09PSBcIm5vbmVcIiA/IFwiIzAwMDAwMDAwXCIgOiBmaWxsO1xuICB9LFxuXG4gIFwiZmlsbC1vcGFjaXR5XCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwiZmlsbFwiLCBcIiMwMDAwMDBcIiksXG4gICAgICBnZXROdW0oZWwsIFwiZmlsbC1vcGFjaXR5XCIpLFxuICAgICk7XG4gIH0sXG5cbiAgb3BhY2l0eTogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgZXhWYWxzLm9wYWNpdHkgPSBnZXROdW0oZWwsIFwib3BhY2l0eVwiLCAxMDApO1xuICB9LFxufTtcblxuLy8gUHJlc2VudGF0aW9uIEF0dHJpYnV0ZXMgZm9yIFNWRyBFbGVtZW50czpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvUHJlc2VudGF0aW9uXG5leHBvcnQgZnVuY3Rpb24gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKFxuICBlbDogRWxlbWVudCxcbik6IFBhcnRpYWw8RXhjYWxpZHJhd0VsZW1lbnRCYXNlPiB7XG4gIGNvbnN0IGV4VmFscyA9IFsuLi5lbC5hdHRyaWJ1dGVzXS5yZWR1Y2UoKGV4VmFscywgYXR0cikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBhdHRyLm5hbWU7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoYXR0ckhhbmRsZXJzKS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgYXR0ckhhbmRsZXJzW25hbWUgYXMga2V5b2YgUHJlc0F0dHJIYW5kbGVyc10oeyBlbCwgZXhWYWxzIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBleFZhbHM7XG4gIH0sIHt9IGFzIEV4UGFydGlhbEVsZW1lbnQpO1xuXG4gIHJldHVybiBleFZhbHM7XG59XG5cbnR5cGUgRmlsdGVyQXR0cnMgPSBQYXJ0aWFsPFxuICBQaWNrPEV4Y2FsaWRyYXdFbGVtZW50QmFzZSwgXCJ4XCIgfCBcInlcIiB8IFwid2lkdGhcIiB8IFwiaGVpZ2h0XCI+XG4+O1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWw6IEVsZW1lbnQpOiBGaWx0ZXJBdHRycyB7XG4gIGNvbnN0IGZpbHRlclZhbHM6IEZpbHRlckF0dHJzID0ge307XG5cbiAgaWYgKGhhcyhlbCwgXCJ4XCIpKSB7XG4gICAgZmlsdGVyVmFscy54ID0gZ2V0TnVtKGVsLCBcInhcIik7XG4gIH1cblxuICBpZiAoaGFzKGVsLCBcInlcIikpIHtcbiAgICBmaWx0ZXJWYWxzLnkgPSBnZXROdW0oZWwsIFwieVwiKTtcbiAgfVxuXG4gIGlmIChoYXMoZWwsIFwid2lkdGhcIikpIHtcbiAgICBmaWx0ZXJWYWxzLndpZHRoID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIpO1xuICB9XG5cbiAgaWYgKGhhcyhlbCwgXCJoZWlnaHRcIikpIHtcbiAgICBmaWx0ZXJWYWxzLmhlaWdodCA9IGdldE51bShlbCwgXCJoZWlnaHRcIik7XG4gIH1cblxuICByZXR1cm4gZmlsdGVyVmFscztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0F0dHJUb1BvaW50cyhlbDogRWxlbWVudCk6IG51bWJlcltdW10ge1xuICBsZXQgcG9pbnRzOiBudW1iZXJbXVtdID0gW107XG5cbiAgaWYgKGhhcyhlbCwgXCJwb2ludHNcIikpIHtcbiAgICBwb2ludHMgPSBnZXQoZWwsIFwicG9pbnRzXCIpXG4gICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAubWFwKChwKSA9PiBwLnNwbGl0KFwiLFwiKS5tYXAocGFyc2VGbG9hdCkpO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50cztcbn1cbiIsImltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMgfSBmcm9tIFwiLi4vYXR0cmlidXRlc1wiO1xuaW1wb3J0IHsgRXhjYWxpZHJhd0VsZW1lbnRCYXNlIH0gZnJvbSBcIi4uL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cEF0dHJzKGdyb3VwczogR3JvdXBbXSk6IGFueSB7XG4gIHJldHVybiBncm91cHMucmVkdWNlKChhY2MsIHsgZWxlbWVudCB9KSA9PiB7XG4gICAgY29uc3QgZWxWYWxzID0gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHsgLi4uYWNjLCAuLi5lbFZhbHMgfTtcbiAgfSwge30gYXMgUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+KTtcbn1cblxuY2xhc3MgR3JvdXAge1xuICBpZCA9IHJhbmRvbUlkKCk7XG5cbiAgZWxlbWVudDogRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cDtcbiIsImltcG9ydCB7IHJhbmRvbUlkLCByYW5kb21JbnRlZ2VyIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7XG4gIEdyb3VwSWQsXG4gIEZpbGxTdHlsZSxcbiAgU3Ryb2tlU3R5bGUsXG4gIFN0cm9rZVNoYXJwbmVzcyxcbiAgRXhjYWxpZHJhd0xpbmVhckVsZW1lbnQsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGVtZW50QmFzZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHN0cm9rZUNvbG9yOiBzdHJpbmc7XG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICBmaWxsU3R5bGU6IEZpbGxTdHlsZTtcbiAgc3Ryb2tlV2lkdGg6IG51bWJlcjtcbiAgc3Ryb2tlU3R5bGU6IFN0cm9rZVN0eWxlO1xuICBzdHJva2VTaGFycG5lc3M6IFN0cm9rZVNoYXJwbmVzcztcbiAgcm91Z2huZXNzOiBudW1iZXI7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIGFuZ2xlOiBudW1iZXI7XG4gIC8qKiBSYW5kb20gaW50ZWdlciB1c2VkIHRvIHNlZWQgc2hhcGUgZ2VuZXJhdGlvbiBzbyB0aGF0IHRoZSByb3VnaGpzIHNoYXBlXG4gICAgICBkb2Vzbid0IGRpZmZlciBhY3Jvc3MgcmVuZGVycy4gKi9cbiAgc2VlZDogbnVtYmVyO1xuICAvKiogSW50ZWdlciB0aGF0IGlzIHNlcXVlbnRpYWxseSBpbmNyZW1lbnRlZCBvbiBlYWNoIGNoYW5nZS4gVXNlZCB0byByZWNvbmNpbGVcbiAgICAgIGVsZW1lbnRzIGR1cmluZyBjb2xsYWJvcmF0aW9uIG9yIHdoZW4gc2F2aW5nIHRvIHNlcnZlci4gKi9cbiAgdmVyc2lvbjogbnVtYmVyO1xuICAvKiogUmFuZG9tIGludGVnZXIgdGhhdCBpcyByZWdlbmVyYXRlZCBvbiBlYWNoIGNoYW5nZS5cbiAgICAgIFVzZWQgZm9yIGRldGVybWluaXN0aWMgcmVjb25jaWxpYXRpb24gb2YgdXBkYXRlcyBkdXJpbmcgY29sbGFib3JhdGlvbixcbiAgICAgIGluIGNhc2UgdGhlIHZlcnNpb25zIChzZWUgYWJvdmUpIGFyZSBpZGVudGljYWwuICovXG4gIHZlcnNpb25Ob25jZTogbnVtYmVyO1xuICBpc0RlbGV0ZWQ6IGJvb2xlYW47XG4gIC8qKiBMaXN0IG9mIGdyb3VwcyB0aGUgZWxlbWVudCBiZWxvbmdzIHRvLlxuICAgICAgT3JkZXJlZCBmcm9tIGRlZXBlc3QgdG8gc2hhbGxvd2VzdC4gKi9cbiAgZ3JvdXBJZHM6IEdyb3VwSWRbXTtcbiAgLyoqIElkcyBvZiAobGluZWFyKSBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCB0byB0aGlzIGVsZW1lbnQuICovXG4gIGJvdW5kRWxlbWVudElkczogRXhjYWxpZHJhd0xpbmVhckVsZW1lbnRbXCJpZFwiXVtdIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwicmVjdGFuZ2xlXCI7XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3TGluZSA9IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSAmIHtcbiAgdHlwZTogXCJsaW5lXCI7XG4gIHBvaW50czogcmVhZG9ubHkgUG9pbnRbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGxpcHNlID0gRXhjYWxpZHJhd0VsZW1lbnRCYXNlICYge1xuICB0eXBlOiBcImVsbGlwc2VcIjtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdHZW5lcmljRWxlbWVudCA9XG4gIHwgRXhjYWxpZHJhd1JlY3RhbmdsZVxuICB8IEV4Y2FsaWRyYXdFbGxpcHNlXG4gIHwgRXhjYWxpZHJhd0xpbmVcbiAgfCBFeGNhbGlkcmF3RHJhdztcblxuZXhwb3J0IHR5cGUgRXhjYWxpZHJhd0RyYXcgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwiZHJhd1wiO1xuICBwb2ludHM6IHJlYWRvbmx5IFBvaW50W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGVtZW50KCk6IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJhbmRvbUlkKCksXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHN0cm9rZUNvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxuICAgIGZpbGxTdHlsZTogXCJzb2xpZFwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIHN0cm9rZVN0eWxlOiBcInNvbGlkXCIsXG4gICAgc3Ryb2tlU2hhcnBuZXNzOiBcInNoYXJwXCIsXG4gICAgcm91Z2huZXNzOiAwLFxuICAgIG9wYWNpdHk6IDEwMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgYW5nbGU6IDAsXG4gICAgc2VlZDogcmFuZG9tSW50ZWdlcigpLFxuICAgIHZlcnNpb246IDAsXG4gICAgdmVyc2lvbk5vbmNlOiAwLFxuICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgZ3JvdXBJZHM6IFtdLFxuICAgIGJvdW5kRWxlbWVudElkczogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4UmVjdCgpOiBFeGNhbGlkcmF3UmVjdGFuZ2xlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcInJlY3RhbmdsZVwiLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhMaW5lKCk6IEV4Y2FsaWRyYXdMaW5lIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImxpbmVcIixcbiAgICBwb2ludHM6IFtdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGxpcHNlKCk6IEV4Y2FsaWRyYXdFbGxpcHNlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImVsbGlwc2VcIixcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4RHJhdygpOiBFeGNhbGlkcmF3RHJhdyB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJkcmF3XCIsXG4gICAgcG9pbnRzOiBbXSxcbiAgfTtcbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjM1xyXG4gKi9cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcclxuICpcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcclxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxyXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcclxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IEdyb3VwIGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuXG4vKlxuU1ZHIHRyYW5zZm9ybSBhdHRyIGlzIGEgYml0IHN0cmFuZ2UgaW4gdGhhdCBpdCBjYW4gYWNjZXB0IHRyYWRpdGlvbmFsXG5jc3MgdHJhbnNmb3JtIHN0cmluZyAoYXQgbGVhc3QgcGVyIHNwZWMpIGFzIHdlbGwgYXMgYSBpdCdzIG93biBcInVuaXRsZXNzXCJcbnZlcnNpb24gb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucy5cblxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS90cmFuc2Zvcm1cbiovXG5cbmNvbnN0IHRyYW5zZm9ybUZ1bmN0aW9ucyA9IHtcbiAgbWF0cml4OiBcIm1hdHJpeFwiLFxuICBtYXRyaXgzZDogXCJtYXRyaXgzZFwiLFxuICBwZXJzcGVjdGl2ZTogXCJwZXJzcGVjdGl2ZVwiLFxuICByb3RhdGU6IFwicm90YXRlXCIsXG4gIHJvdGF0ZTNkOiBcInJvdGF0ZTNkXCIsXG4gIHJvdGF0ZVg6IFwicm90YXRlWFwiLFxuICByb3RhdGVZOiBcInJvdGF0ZVlcIixcbiAgcm90YXRlWjogXCJyb3RhdGVaXCIsXG4gIHNjYWxlOiBcInNjYWxlXCIsXG4gIHNjYWxlM2Q6IFwic2NhbGUzZFwiLFxuICBzY2FsZVg6IFwic2NhbGVYXCIsXG4gIHNjYWxlWTogXCJzY2FsZVlcIixcbiAgc2NhbGVaOiBcInNjYWxlWlwiLFxuICBza2V3OiBcInNrZXdcIixcbiAgc2tld1g6IFwic2tld1hcIixcbiAgc2tld1k6IFwic2tld1lcIixcbiAgdHJhbnNsYXRlOiBcInRyYW5zbGF0ZVwiLFxuICB0cmFuc2xhdGUzZDogXCJ0cmFuc2xhdGUzZFwiLFxuICB0cmFuc2xhdGVYOiBcInRyYW5zbGF0ZVhcIixcbiAgdHJhbnNsYXRlWTogXCJ0cmFuc2xhdGVZXCIsXG4gIHRyYW5zbGF0ZVo6IFwidHJhbnNsYXRlWlwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgdHJhbnNmb3JtRnVuY3Rpb25zQXJyID0gT2JqZWN0LmtleXModHJhbnNmb3JtRnVuY3Rpb25zKTtcblxuLy8gdHlwZSBUcmFuc2Zvcm1cblxudHlwZSBUcmFuc2Zvcm1GdW5jVmFsdWUgPSB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIHVuaXQ6IHN0cmluZztcbn07XG5cbnR5cGUgVHJhbnNmb3JtRnVuYyA9IHtcbiAgdHlwZToga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgdmFsdWVzOiBUcmFuc2Zvcm1GdW5jVmFsdWVbXTtcbn07XG5cbmNvbnN0IGRlZmF1bHRVbml0cyA9IHtcbiAgbWF0cml4OiBcIlwiLFxuICBtYXRyaXgzZDogXCJcIixcbiAgcGVyc3BlY3RpdmU6IFwicGVyc3BlY3RpdmVcIixcbiAgcm90YXRlOiBcImRlZ1wiLFxuICByb3RhdGUzZDogXCJkZWdcIixcbiAgcm90YXRlWDogXCJkZWdcIixcbiAgcm90YXRlWTogXCJkZWdcIixcbiAgcm90YXRlWjogXCJkZWdcIixcbiAgc2NhbGU6IFwiXCIsXG4gIHNjYWxlM2Q6IFwiXCIsXG4gIHNjYWxlWDogXCJcIixcbiAgc2NhbGVZOiBcIlwiLFxuICBzY2FsZVo6IFwiXCIsXG4gIHNrZXc6IFwic2tld1wiLFxuICBza2V3WDogXCJkZWdcIixcbiAgc2tld1k6IFwiZGVnXCIsXG4gIHRyYW5zbGF0ZTogXCJweFwiLFxuICB0cmFuc2xhdGUzZDogXCJweFwiLFxuICB0cmFuc2xhdGVYOiBcInB4XCIsXG4gIHRyYW5zbGF0ZVk6IFwicHhcIixcbiAgdHJhbnNsYXRlWjogXCJweFwiLFxufTtcblxuLy8gQ29udmVydCBiZXR3ZWVuIHBvc3NpYmxlIHN2ZyB0cmFuc2Zvcm0gYXR0cmlidXRlIHZhbHVlcyB0byBjc3MgdHJhbnNmb3JtIGF0dHJpYnV0ZSB2YWx1ZXMuXG5jb25zdCBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybSA9IChzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIC8vIENyZWF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24gc3RyaW5nIFwiY2h1bmtzXCIsIGUuZyBcInJvdGF0ZSg5MGRlZylcIlxuICBjb25zdCB0RnVuY3MgPSBzdmdUcmFuc2Zvcm1TdHIubWF0Y2goLyhcXHcrKVxcKChbXildKilcXCkvZyk7XG4gIGlmICghdEZ1bmNzKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBjb25zdCB0RnVuY1ZhbHVlczogVHJhbnNmb3JtRnVuY1tdID0gdEZ1bmNzLm1hcChcbiAgICAodEZ1bmNTdHIpOiBUcmFuc2Zvcm1GdW5jID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0RnVuY1N0ci5zcGxpdChcIihcIilbMF0gYXMga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCB0cmFuc2Zvcm0gbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNmb3JtRnVuY3Rpb25zQXJyLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNmb3JtIGZ1bmN0aW9uIG5hbWUgXCIke3R5cGV9XCIgaXMgbm90IHZhbGlkYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGdldCB0aGUgYXJnL3Byb3BzIG9mIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24sIGUuZyBcIjkwZGVnXCIuXG4gICAgICBjb25zdCB0RnVuY1BhcnRzID0gdEZ1bmNTdHIubWF0Y2goLyhbLStdP1swLTldKlxcLj9bMC05XSspKFthLXpdKSovZyk7XG4gICAgICBpZiAoIXRGdW5jUGFydHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZSwgdmFsdWVzOiBbXSB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgdmFsdWVzID0gdEZ1bmNQYXJ0cy5tYXAoXG4gICAgICAgIChhKTogVHJhbnNmb3JtRnVuY1ZhbHVlID0+IHtcbiAgICAgICAgICAvLyBTZXBhcmF0ZSB0aGUgYXJnIHZhbHVlIGFuZCB1bml0LiBlLmcgW1wiOTBcIiwgXCJkZWdcIl1cbiAgICAgICAgICBjb25zdCBbdmFsdWUsIHVuaXRdID0gYS5tYXRjaEFsbCgvKFstK10/WzAtOV0qXFwuP1swLTldKyl8KFthLXpdKSovZyk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5pdDogdW5pdFswXSB8fCBkZWZhdWx0VW5pdHNbdHlwZV0sXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVbMF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIC8vIE5vdCBzdXBwb3J0aW5nIHgsIHkgYXJncyBvZiBzdmcgcm90YXRlIHRyYW5zZm9ybSB5ZXQuLi5cbiAgICAgIGlmICh2YWx1ZXMgJiYgdHlwZSA9PT0gXCJyb3RhdGVcIiAmJiB2YWx1ZXM/Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFsdWVzID0gW3ZhbHVlc1swXV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHZhbHVlcyxcbiAgICAgIH07XG4gICAgfSxcbiAgKTtcblxuICAvLyBHZW5lcmF0ZSBhIHN0cmluZyBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHNldCBhcyBhIENTUyBUcmFuc2Zvcm0uXG4gIGNvbnN0IGNzc3RyYW5zZm9ybVN0ciA9IHRGdW5jVmFsdWVzXG4gICAgLm1hcCgoeyB0eXBlLCB2YWx1ZXMgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsU3RyID0gdmFsdWVzXG4gICAgICAgIC5tYXAoKHsgdW5pdCwgdmFsdWUgfSkgPT4gYCR7dmFsdWV9JHt1bml0fWApXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICByZXR1cm4gYCR7dHlwZX0oJHt2YWxTdHJ9KWA7XG4gICAgfSlcbiAgICAuam9pbihcIiBcIik7XG5cbiAgcmV0dXJuIGNzc3RyYW5zZm9ybVN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVET01NYXRyaXhGcm9tU1ZHU3RyID0gKFxuICBzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyxcbik6IERPTU1hdHJpeCA9PiB7XG4gIGNvbnN0IGNzc1RyYW5zZm9ybVN0ciA9IHN2Z1RyYW5zZm9ybVRvQ1NTVHJhbnNmb3JtKHN2Z1RyYW5zZm9ybVN0cik7XG5cbiAgcmV0dXJuIG5ldyBET01NYXRyaXgoY3NzVHJhbnNmb3JtU3RyKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TWF0cml4KGVsOiBFbGVtZW50KTogbWF0NCB7XG4gIGlmIChlbC5oYXNBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpIHtcbiAgICBjb25zdCBlbE1hdCA9IG5ldyBET01NYXRyaXgoXG4gICAgICBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybShlbC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikgfHwgXCJcIiksXG4gICAgKTtcblxuICAgIHJldHVybiBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdDQuY3JlYXRlKCksIGVsTWF0LnRvRmxvYXQzMkFycmF5KCkpO1xuICB9XG5cbiAgcmV0dXJuIG1hdDQuY3JlYXRlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1NYXRyaXgoZWw6IEVsZW1lbnQsIGdyb3VwczogR3JvdXBbXSk6IG1hdDQge1xuICBjb25zdCBhY2N1bU1hdCA9IGdyb3Vwc1xuICAgIC5tYXAoKHsgZWxlbWVudCB9KSA9PiBnZXRFbGVtZW50TWF0cml4KGVsZW1lbnQpKVxuICAgIC5jb25jYXQoW2dldEVsZW1lbnRNYXRyaXgoZWwpXSlcbiAgICAucmVkdWNlKChhY2MsIG1hdCkgPT4gbWF0NC5tdWx0aXBseShhY2MsIGFjYywgbWF0KSwgbWF0NC5jcmVhdGUoKSk7XG5cbiAgcmV0dXJuIGFjY3VtTWF0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnRzKFxuICBwb2ludHM6IG51bWJlcltdW10sXG4gIHRyYW5zZm9ybTogbWF0NCxcbik6IFtudW1iZXIsIG51bWJlcl1bXSB7XG4gIHJldHVybiBwb2ludHMubWFwKChbeCwgeV0pID0+IHtcbiAgICBjb25zdCBbbmV3WCwgbmV3WV0gPSB2ZWMzLnRyYW5zZm9ybU1hdDQoXG4gICAgICB2ZWMzLmNyZWF0ZSgpLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKHgsIHksIDEpLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICk7XG5cbiAgICByZXR1cm4gW25ld1gsIG5ld1ldO1xuICB9KTtcbn1cbiIsIi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbmZ1bmN0aW9uIGRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcShwMSwgcDIpKTtcbn1cbi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHMgc3F1YXJlZFxuZnVuY3Rpb24gZGlzdGFuY2VTcShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDFbMF0gLSBwMlswXSwgMikgKyBNYXRoLnBvdyhwMVsxXSAtIHAyWzFdLCAyKTtcbn1cbi8vIFNpc3RhbmNlIHNxdWFyZWQgZnJvbSBhIHBvaW50IHAgdG8gdGhlIGxpbmUgc2VnbWVudCB2d1xuZnVuY3Rpb24gZGlzdGFuY2VUb1NlZ21lbnRTcShwLCB2LCB3KSB7XG4gICAgY29uc3QgbDIgPSBkaXN0YW5jZVNxKHYsIHcpO1xuICAgIGlmIChsMiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGlzdGFuY2VTcShwLCB2KTtcbiAgICB9XG4gICAgbGV0IHQgPSAoKHBbMF0gLSB2WzBdKSAqICh3WzBdIC0gdlswXSkgKyAocFsxXSAtIHZbMV0pICogKHdbMV0gLSB2WzFdKSkgLyBsMjtcbiAgICB0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdCkpO1xuICAgIHJldHVybiBkaXN0YW5jZVNxKHAsIGxlcnAodiwgdywgdCkpO1xufVxuZnVuY3Rpb24gbGVycChhLCBiLCB0KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYVswXSArIChiWzBdIC0gYVswXSkgKiB0LFxuICAgICAgICBhWzFdICsgKGJbMV0gLSBhWzFdKSAqIHQsXG4gICAgXTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3NlYW50MjMud29yZHByZXNzLmNvbS8yMDEwLzExLzEyL29mZnNldC1iZXppZXItY3VydmVzL1xuZnVuY3Rpb24gZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIHtcbiAgICBjb25zdCBwMSA9IHBvaW50c1tvZmZzZXQgKyAwXTtcbiAgICBjb25zdCBwMiA9IHBvaW50c1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICBjb25zdCBwNCA9IHBvaW50c1tvZmZzZXQgKyAzXTtcbiAgICBsZXQgdXggPSAzICogcDJbMF0gLSAyICogcDFbMF0gLSBwNFswXTtcbiAgICB1eCAqPSB1eDtcbiAgICBsZXQgdXkgPSAzICogcDJbMV0gLSAyICogcDFbMV0gLSBwNFsxXTtcbiAgICB1eSAqPSB1eTtcbiAgICBsZXQgdnggPSAzICogcDNbMF0gLSAyICogcDRbMF0gLSBwMVswXTtcbiAgICB2eCAqPSB2eDtcbiAgICBsZXQgdnkgPSAzICogcDNbMV0gLSAyICogcDRbMV0gLSBwMVsxXTtcbiAgICB2eSAqPSB2eTtcbiAgICBpZiAodXggPCB2eCkge1xuICAgICAgICB1eCA9IHZ4O1xuICAgIH1cbiAgICBpZiAodXkgPCB2eSkge1xuICAgICAgICB1eSA9IHZ5O1xuICAgIH1cbiAgICByZXR1cm4gdXggKyB1eTtcbn1cbmZ1bmN0aW9uIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cykge1xuICAgIGNvbnN0IG91dFBvaW50cyA9IG5ld1BvaW50cyB8fCBbXTtcbiAgICBpZiAoZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIDwgdG9sZXJhbmNlKSB7XG4gICAgICAgIGNvbnN0IHAwID0gcG9pbnRzW29mZnNldCArIDBdO1xuICAgICAgICBpZiAob3V0UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGRpc3RhbmNlKG91dFBvaW50c1tvdXRQb2ludHMubGVuZ3RoIC0gMV0sIHAwKTtcbiAgICAgICAgICAgIGlmIChkID4gMSkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChwb2ludHNbb2Zmc2V0ICsgM10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3ViZGl2aWRlXG4gICAgICAgIGNvbnN0IHQgPSAuNTtcbiAgICAgICAgY29uc3QgcDEgPSBwb2ludHNbb2Zmc2V0ICsgMF07XG4gICAgICAgIGNvbnN0IHAyID0gcG9pbnRzW29mZnNldCArIDFdO1xuICAgICAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICAgICAgY29uc3QgcDQgPSBwb2ludHNbb2Zmc2V0ICsgM107XG4gICAgICAgIGNvbnN0IHExID0gbGVycChwMSwgcDIsIHQpO1xuICAgICAgICBjb25zdCBxMiA9IGxlcnAocDIsIHAzLCB0KTtcbiAgICAgICAgY29uc3QgcTMgPSBsZXJwKHAzLCBwNCwgdCk7XG4gICAgICAgIGNvbnN0IHIxID0gbGVycChxMSwgcTIsIHQpO1xuICAgICAgICBjb25zdCByMiA9IGxlcnAocTIsIHEzLCB0KTtcbiAgICAgICAgY29uc3QgcmVkID0gbGVycChyMSwgcjIsIHQpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcDEsIHExLCByMSwgcmVkXSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcmVkLCByMiwgcTMsIHA0XSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0UG9pbnRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50cywgZGlzdGFuY2UpIHtcbiAgICByZXR1cm4gc2ltcGxpZnlQb2ludHMocG9pbnRzLCAwLCBwb2ludHMubGVuZ3RoLCBkaXN0YW5jZSk7XG59XG4vLyBSYW1lcuKAk0RvdWdsYXPigJNQZXVja2VyIGFsZ29yaXRobVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXIlRTIlODAlOTNEb3VnbGFzJUUyJTgwJTkzUGV1Y2tlcl9hbGdvcml0aG1cbmZ1bmN0aW9uIHNpbXBsaWZ5UG9pbnRzKHBvaW50cywgc3RhcnQsIGVuZCwgZXBzaWxvbiwgbmV3UG9pbnRzKSB7XG4gICAgY29uc3Qgb3V0UG9pbnRzID0gbmV3UG9pbnRzIHx8IFtdO1xuICAgIC8vIGZpbmQgdGhlIG1vc3QgZGlzdGFuY2UgcG9pbnQgZnJvbSB0aGUgZW5kcG9pbnRzXG4gICAgY29uc3QgcyA9IHBvaW50c1tzdGFydF07XG4gICAgY29uc3QgZSA9IHBvaW50c1tlbmQgLSAxXTtcbiAgICBsZXQgbWF4RGlzdFNxID0gMDtcbiAgICBsZXQgbWF4TmR4ID0gMTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAxOyBpIDwgZW5kIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGRpc3RTcSA9IGRpc3RhbmNlVG9TZWdtZW50U3EocG9pbnRzW2ldLCBzLCBlKTtcbiAgICAgICAgaWYgKGRpc3RTcSA+IG1heERpc3RTcSkge1xuICAgICAgICAgICAgbWF4RGlzdFNxID0gZGlzdFNxO1xuICAgICAgICAgICAgbWF4TmR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiB0aGF0IHBvaW50IGlzIHRvbyBmYXIsIHNwbGl0XG4gICAgaWYgKE1hdGguc3FydChtYXhEaXN0U3EpID4gZXBzaWxvbikge1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIHN0YXJ0LCBtYXhOZHggKyAxLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIG1heE5keCwgZW5kLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFvdXRQb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXRQb2ludHMucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChlKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dFBvaW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkJlemllckN1cnZlcyhwb2ludHMsIHRvbGVyYW5jZSA9IDAuMTUsIGRpc3RhbmNlKSB7XG4gICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgY29uc3QgbnVtU2VnbWVudHMgPSAocG9pbnRzLmxlbmd0aCAtIDEpIC8gMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIDM7XG4gICAgICAgIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cyk7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZSAmJiBkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZ5UG9pbnRzKG5ld1BvaW50cywgMCwgbmV3UG9pbnRzLmxlbmd0aCwgZGlzdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3UG9pbnRzO1xufVxuIiwiY29uc3QgQ09NTUFORCA9IDA7XG5jb25zdCBOVU1CRVIgPSAxO1xuY29uc3QgRU9EID0gMjtcbmNvbnN0IFBBUkFNUyA9IHsgQTogNywgYTogNywgQzogNiwgYzogNiwgSDogMSwgaDogMSwgTDogMiwgbDogMiwgTTogMiwgbTogMiwgUTogNCwgcTogNCwgUzogNCwgczogNCwgVDogMiwgdDogMiwgVjogMSwgdjogMSwgWjogMCwgejogMCB9O1xuZnVuY3Rpb24gdG9rZW5pemUoZCkge1xuICAgIGNvbnN0IHRva2VucyA9IG5ldyBBcnJheSgpO1xuICAgIHdoaWxlIChkICE9PSAnJykge1xuICAgICAgICBpZiAoZC5tYXRjaCgvXihbIFxcdFxcclxcbixdKykvKSkge1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGQubWF0Y2goL14oW2FBY0NoSGxMbU1xUXNTdFR2VnpaXSkvKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0geyB0eXBlOiBDT01NQU5ELCB0ZXh0OiBSZWdFeHAuJDEgfTtcbiAgICAgICAgICAgIGQgPSBkLnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkLm1hdGNoKC9eKChbLStdP1swLTldKyhcXC5bMC05XSopP3xbLStdP1xcLlswLTldKykoW2VFXVstK10/WzAtOV0rKT8pLykpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogTlVNQkVSLCB0ZXh0OiBgJHtwYXJzZUZsb2F0KFJlZ0V4cC4kMSl9YCB9O1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogRU9ELCB0ZXh0OiAnJyB9O1xuICAgIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiBpc1R5cGUodG9rZW4sIHR5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gdHlwZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgoZCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoZCk7XG4gICAgbGV0IG1vZGUgPSAnQk9EJztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgd2hpbGUgKCFpc1R5cGUodG9rZW4sIEVPRCkpIHtcbiAgICAgICAgbGV0IHBhcmFtc0NvdW50ID0gMDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgIGlmIChtb2RlID09PSAnQk9EJykge1xuICAgICAgICAgICAgaWYgKHRva2VuLnRleHQgPT09ICdNJyB8fCB0b2tlbi50ZXh0ID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgICAgIG1vZGUgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGF0aCgnTTAsMCcgKyBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1R5cGUodG9rZW4sIE5VTUJFUikpIHtcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW21vZGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgbW9kZSA9IHRva2VuLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChpbmRleCArIHBhcmFtc0NvdW50KSA8IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGluZGV4ICsgcGFyYW1zQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlVG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzVHlwZShudW1iZVRva2VuLCBOVU1CRVIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twYXJhbXMubGVuZ3RoXSA9ICtudW1iZVRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtIG5vdCBhIG51bWJlcjogJyArIG1vZGUgKyAnLCcgKyBudW1iZVRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgUEFSQU1TW21vZGVdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB7IGtleTogbW9kZSwgZGF0YTogcGFyYW1zIH07XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSBwYXJhbXNDb3VudDtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdNJylcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9ICdMJztcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ20nKVxuICAgICAgICAgICAgICAgICAgICBtb2RlID0gJ2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudDogJyArIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIGRhdGEgZW5kZWQgc2hvcnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKHNlZ21lbnRzKSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgZm9yIChjb25zdCB7IGtleSwgZGF0YSB9IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKGtleSk7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGRhdGFbMF0sIGAke2RhdGFbMV19LGAsIGRhdGFbMl0sIGAke2RhdGFbM119LGAsIGRhdGFbNF0sIGRhdGFbNV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goZGF0YVswXSwgYCR7ZGF0YVsxXX0sYCwgZGF0YVsyXSwgZGF0YVszXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKC4uLmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnMuam9pbignICcpO1xufVxuIiwiLy8gVHJhbnNsYXRlIHJlbGF0aXZlIGNvbW1hbmRzIHRvIGFic29sdXRlIGNvbW1hbmRzXG5leHBvcnQgZnVuY3Rpb24gYWJzb2x1dGl6ZShzZWdtZW50cykge1xuICAgIGxldCBjeCA9IDAsIGN5ID0gMDtcbiAgICBsZXQgc3VieCA9IDAsIHN1YnkgPSAwO1xuICAgIGNvbnN0IG91dCA9IFtdO1xuICAgIGZvciAoY29uc3QgeyBrZXksIGRhdGEgfSBvZiBzZWdtZW50cykge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdNJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIFtjeCwgY3ldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBbc3VieCwgc3VieV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIHN1YnggPSBjeDtcbiAgICAgICAgICAgICAgICBzdWJ5ID0gY3k7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0wnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgW2N4LCBjeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVs0XTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzRdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVs1XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdkYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IChpICUgMikgPyAoZCArIGN5KSA6IChkICsgY3gpKTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1EnLCBkYXRhOiBuZXdkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gbmV3ZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5ld2RhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSwgZGF0YVs0XSwgY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICBjeCArPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFtjeF0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdTJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzJdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBOb3JtYWxpemUgcGF0aCB0byBpbmNsdWRlIG9ubHkgTSwgTCwgQywgYW5kIFogY29tbWFuZHNcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoc2VnbWVudHMpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBsZXQgbGFzdFR5cGUgPSAnJztcbiAgICBsZXQgY3ggPSAwLCBjeSA9IDA7XG4gICAgbGV0IHN1YnggPSAwLCBzdWJ5ID0gMDtcbiAgICBsZXQgbGN4ID0gMCwgbGN5ID0gMDtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgW3N1YngsIHN1YnldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGxjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgbGN5ID0gZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTJzoge1xuICAgICAgICAgICAgICAgIGxldCBjeDEgPSAwLCBjeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ0MnIHx8IGxhc3RUeXBlID09PSAnUycpIHtcbiAgICAgICAgICAgICAgICAgICAgY3gxID0gY3ggKyAoY3ggLSBsY3gpO1xuICAgICAgICAgICAgICAgICAgICBjeTEgPSBjeSArIChjeSAtIGxjeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgY3kxID0gY3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBsY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHgxID0gMCwgeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ1EnIHx8IGxhc3RUeXBlID09PSAnVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeCArIChjeCAtIGxjeCk7XG4gICAgICAgICAgICAgICAgICAgIHkxID0gY3kgKyAoY3kgLSBsY3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBjeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3gxID0gY3ggKyAyICogKHgxIC0gY3gpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeTEgPSBjeSArIDIgKiAoeTEgLSBjeSkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN4MiA9IHggKyAyICogKHgxIC0geCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MiA9IHkgKyAyICogKHkxIC0geSkgLyAzO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgY3gyLCBjeTIsIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgIGxjeCA9IHgxO1xuICAgICAgICAgICAgICAgIGxjeSA9IHkxO1xuICAgICAgICAgICAgICAgIGN4ID0geDtcbiAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdRJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4MSwgeTEsIHgsIHldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBjeDEgPSBjeCArIDIgKiAoeDEgLSBjeCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MSA9IGN5ICsgMiAqICh5MSAtIGN5KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3gyID0geCArIDIgKiAoeDEgLSB4KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3kyID0geSArIDIgKiAoeTEgLSB5KSAvIDM7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogW2N4MSwgY3kxLCBjeDIsIGN5MiwgeCwgeV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0geDE7XG4gICAgICAgICAgICAgICAgbGN5ID0geTE7XG4gICAgICAgICAgICAgICAgY3ggPSB4O1xuICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0EnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcjEgPSBNYXRoLmFicyhkYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBjb25zdCByMiA9IE1hdGguYWJzKGRhdGFbMV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN3ZWVwRmxhZyA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbNl07XG4gICAgICAgICAgICAgICAgaWYgKHIxID09PSAwIHx8IHIyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeCwgY3ksIHgsIHksIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCAhPT0geCB8fCBjeSAhPT0geSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VydmVzID0gYXJjVG9DdWJpY0N1cnZlcyhjeCwgY3ksIHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJ2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IGN1cnZlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUeXBlID0ga2V5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcykge1xuICAgIHJldHVybiAoTWF0aC5QSSAqIGRlZ3JlZXMpIC8gMTgwO1xufVxuZnVuY3Rpb24gcm90YXRlKHgsIHksIGFuZ2xlUmFkKSB7XG4gICAgY29uc3QgWCA9IHggKiBNYXRoLmNvcyhhbmdsZVJhZCkgLSB5ICogTWF0aC5zaW4oYW5nbGVSYWQpO1xuICAgIGNvbnN0IFkgPSB4ICogTWF0aC5zaW4oYW5nbGVSYWQpICsgeSAqIE1hdGguY29zKGFuZ2xlUmFkKTtcbiAgICByZXR1cm4gW1gsIFldO1xufVxuZnVuY3Rpb24gYXJjVG9DdWJpY0N1cnZlcyh4MSwgeTEsIHgyLCB5MiwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcsIHJlY3Vyc2l2ZSkge1xuICAgIGNvbnN0IGFuZ2xlUmFkID0gZGVnVG9SYWQoYW5nbGUpO1xuICAgIGxldCBwYXJhbXMgPSBbXTtcbiAgICBsZXQgZjEgPSAwLCBmMiA9IDAsIGN4ID0gMCwgY3kgPSAwO1xuICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgW2YxLCBmMiwgY3gsIGN5XSA9IHJlY3Vyc2l2ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFt4MSwgeTFdID0gcm90YXRlKHgxLCB5MSwgLWFuZ2xlUmFkKTtcbiAgICAgICAgW3gyLCB5Ml0gPSByb3RhdGUoeDIsIHkyLCAtYW5nbGVSYWQpO1xuICAgICAgICBjb25zdCB4ID0gKHgxIC0geDIpIC8gMjtcbiAgICAgICAgY29uc3QgeSA9ICh5MSAtIHkyKSAvIDI7XG4gICAgICAgIGxldCBoID0gKHggKiB4KSAvIChyMSAqIHIxKSArICh5ICogeSkgLyAocjIgKiByMik7XG4gICAgICAgIGlmIChoID4gMSkge1xuICAgICAgICAgICAgaCA9IE1hdGguc3FydChoKTtcbiAgICAgICAgICAgIHIxID0gaCAqIHIxO1xuICAgICAgICAgICAgcjIgPSBoICogcjI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbiA9IChsYXJnZUFyY0ZsYWcgPT09IHN3ZWVwRmxhZykgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHIxUG93ID0gcjEgKiByMTtcbiAgICAgICAgY29uc3QgcjJQb3cgPSByMiAqIHIyO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcjFQb3cgKiByMlBvdyAtIHIxUG93ICogeSAqIHkgLSByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCByaWdodCA9IHIxUG93ICogeSAqIHkgKyByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCBrID0gc2lnbiAqIE1hdGguc3FydChNYXRoLmFicyhsZWZ0IC8gcmlnaHQpKTtcbiAgICAgICAgY3ggPSBrICogcjEgKiB5IC8gcjIgKyAoeDEgKyB4MikgLyAyO1xuICAgICAgICBjeSA9IGsgKiAtcjIgKiB4IC8gcjEgKyAoeTEgKyB5MikgLyAyO1xuICAgICAgICBmMSA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTEgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBmMiA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTIgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBpZiAoeDEgPCBjeCkge1xuICAgICAgICAgICAgZjEgPSBNYXRoLlBJIC0gZjE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgyIDwgY3gpIHtcbiAgICAgICAgICAgIGYyID0gTWF0aC5QSSAtIGYyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmMSA8IDApIHtcbiAgICAgICAgICAgIGYxID0gTWF0aC5QSSAqIDIgKyBmMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZjIgPCAwKSB7XG4gICAgICAgICAgICBmMiA9IE1hdGguUEkgKiAyICsgZjI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3ZWVwRmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICAgICAgICBmMSA9IGYxIC0gTWF0aC5QSSAqIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzd2VlcEZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgICAgICAgZjIgPSBmMiAtIE1hdGguUEkgKiAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBkZiA9IGYyIC0gZjE7XG4gICAgaWYgKE1hdGguYWJzKGRmKSA+IChNYXRoLlBJICogMTIwIC8gMTgwKSkge1xuICAgICAgICBjb25zdCBmMm9sZCA9IGYyO1xuICAgICAgICBjb25zdCB4Mm9sZCA9IHgyO1xuICAgICAgICBjb25zdCB5Mm9sZCA9IHkyO1xuICAgICAgICBpZiAoc3dlZXBGbGFnICYmIGYyID4gZjEpIHtcbiAgICAgICAgICAgIGYyID0gZjEgKyAoTWF0aC5QSSAqIDEyMCAvIDE4MCkgKiAoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmMiA9IGYxICsgKE1hdGguUEkgKiAxMjAgLyAxODApICogKC0xKTtcbiAgICAgICAgfVxuICAgICAgICB4MiA9IGN4ICsgcjEgKiBNYXRoLmNvcyhmMik7XG4gICAgICAgIHkyID0gY3kgKyByMiAqIE1hdGguc2luKGYyKTtcbiAgICAgICAgcGFyYW1zID0gYXJjVG9DdWJpY0N1cnZlcyh4MiwgeTIsIHgyb2xkLCB5Mm9sZCwgcjEsIHIyLCBhbmdsZSwgMCwgc3dlZXBGbGFnLCBbZjIsIGYyb2xkLCBjeCwgY3ldKTtcbiAgICB9XG4gICAgZGYgPSBmMiAtIGYxO1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoZjEpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oZjEpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoZjIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oZjIpO1xuICAgIGNvbnN0IHQgPSBNYXRoLnRhbihkZiAvIDQpO1xuICAgIGNvbnN0IGh4ID0gNCAvIDMgKiByMSAqIHQ7XG4gICAgY29uc3QgaHkgPSA0IC8gMyAqIHIyICogdDtcbiAgICBjb25zdCBtMSA9IFt4MSwgeTFdO1xuICAgIGNvbnN0IG0yID0gW3gxICsgaHggKiBzMSwgeTEgLSBoeSAqIGMxXTtcbiAgICBjb25zdCBtMyA9IFt4MiArIGh4ICogczIsIHkyIC0gaHkgKiBjMl07XG4gICAgY29uc3QgbTQgPSBbeDIsIHkyXTtcbiAgICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICAgIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG4gICAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgICAgICByZXR1cm4gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyYW1zID0gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgICAgICBjb25zdCBjdXJ2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIxID0gcm90YXRlKHBhcmFtc1tpXVswXSwgcGFyYW1zW2ldWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMiA9IHJvdGF0ZShwYXJhbXNbaSArIDFdWzBdLCBwYXJhbXNbaSArIDFdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMyA9IHJvdGF0ZShwYXJhbXNbaSArIDJdWzBdLCBwYXJhbXNbaSArIDJdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjdXJ2ZXMucHVzaChbcjFbMF0sIHIxWzFdLCByMlswXSwgcjJbMV0sIHIzWzBdLCByM1sxXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJ2ZXM7XG4gICAgfVxufVxuIiwiZXhwb3J0IHsgcGFyc2VQYXRoLCBzZXJpYWxpemUgfSBmcm9tICcuL3BhcnNlci5qcyc7XG5leHBvcnQgeyBhYnNvbHV0aXplIH0gZnJvbSAnLi9hYnNvbHV0aXplLmpzJztcbmV4cG9ydCB7IG5vcm1hbGl6ZSB9IGZyb20gJy4vbm9ybWFsaXplLmpzJztcbiIsImltcG9ydCB7IHBvaW50c09uQmV6aWVyQ3VydmVzLCBzaW1wbGlmeSB9IGZyb20gJ3BvaW50cy1vbi1jdXJ2ZSc7XG5pbXBvcnQgeyBwYXJzZVBhdGgsIGFic29sdXRpemUsIG5vcm1hbGl6ZSB9IGZyb20gJ3BhdGgtZGF0YS1wYXJzZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c09uUGF0aChwYXRoLCB0b2xlcmFuY2UsIGRpc3RhbmNlKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZShhYnNvbHV0aXplKHNlZ21lbnRzKSk7XG4gICAgY29uc3Qgc2V0cyA9IFtdO1xuICAgIGxldCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgIGxldCBwZW5kaW5nQ3VydmUgPSBbXTtcbiAgICBjb25zdCBhcHBlbmRQZW5kaW5nQ3VydmUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwZW5kaW5nQ3VydmUubGVuZ3RoID49IDQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaCguLi5wb2ludHNPbkJlemllckN1cnZlcyhwZW5kaW5nQ3VydmUsIHRvbGVyYW5jZSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdDdXJ2ZSA9IFtdO1xuICAgIH07XG4gICAgY29uc3QgYXBwZW5kUGVuZGluZ1BvaW50cyA9ICgpID0+IHtcbiAgICAgICAgYXBwZW5kUGVuZGluZ0N1cnZlKCk7XG4gICAgICAgIGlmIChjdXJyZW50UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0cy5wdXNoKGN1cnJlbnRQb2ludHMpO1xuICAgICAgICAgICAgY3VycmVudFBvaW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygbm9ybWFsaXplZCkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgYXBwZW5kUGVuZGluZ1BvaW50cygpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gW2RhdGFbMF0sIGRhdGFbMV1dO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ0N1cnZlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UG9pbnQgPSBjdXJyZW50UG9pbnRzLmxlbmd0aCA/IGN1cnJlbnRQb2ludHNbY3VycmVudFBvaW50cy5sZW5ndGggLSAxXSA6IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbbGFzdFBvaW50WzBdLCBsYXN0UG9pbnRbMV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVuZGluZ0N1cnZlLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbZGF0YVsyXSwgZGF0YVszXV0pO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdDdXJ2ZS5wdXNoKFtkYXRhWzRdLCBkYXRhWzVdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW3N0YXJ0WzBdLCBzdGFydFsxXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZFBlbmRpbmdQb2ludHMoKTtcbiAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBzZXRzO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNldCBvZiBzZXRzKSB7XG4gICAgICAgIGNvbnN0IHNpbXBsaWZpZWRTZXQgPSBzaW1wbGlmeShzZXQsIGRpc3RhbmNlKTtcbiAgICAgICAgaWYgKHNpbXBsaWZpZWRTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXQucHVzaChzaW1wbGlmaWVkU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiaW1wb3J0IHsgbWF0NCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCB7IGRpbWVuc2lvbnNGcm9tUG9pbnRzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAsIHsgZ2V0R3JvdXBBdHRycyB9IGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQge1xuICBFeGNhbGlkcmF3RWxlbWVudEJhc2UsXG4gIEV4Y2FsaWRyYXdSZWN0YW5nbGUsXG4gIEV4Y2FsaWRyYXdFbGxpcHNlLFxuICBFeGNhbGlkcmF3TGluZSxcbiAgRXhjYWxpZHJhd0RyYXcsXG4gIGNyZWF0ZUV4UmVjdCxcbiAgY3JlYXRlRXhFbGxpcHNlLFxuICBjcmVhdGVFeExpbmUsXG4gIGNyZWF0ZUV4RHJhdyxcbiAgUG9pbnQsXG59IGZyb20gXCIuL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5pbXBvcnQge1xuICBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMsXG4gIGZpbHRlckF0dHJzVG9FbGVtZW50VmFsdWVzLFxuICBwb2ludHNBdHRyVG9Qb2ludHMsXG4gIGhhcyxcbiAgZ2V0LFxuICBnZXROdW0sXG59IGZyb20gXCIuL2F0dHJpYnV0ZXNcIjtcbmltcG9ydCB7IGdldFRyYW5zZm9ybU1hdHJpeCwgdHJhbnNmb3JtUG9pbnRzIH0gZnJvbSBcIi4vdHJhbnNmb3JtXCI7XG5pbXBvcnQgeyBwb2ludHNPblBhdGggfSBmcm9tIFwicG9pbnRzLW9uLXBhdGhcIjtcbmltcG9ydCB7IHJhbmRvbUlkLCBnZXRXaW5kaW5nT3JkZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jb25zdCBTVVBQT1JURURfVEFHUyA9IFtcbiAgXCJzdmdcIixcbiAgXCJwYXRoXCIsXG4gIFwiZ1wiLFxuICBcInVzZVwiLFxuICBcImNpcmNsZVwiLFxuICBcImVsbGlwc2VcIixcbiAgXCJyZWN0XCIsXG4gIFwicG9seWxpbmVcIixcbiAgXCJwb2x5Z29uXCIsXG5dO1xuXG5jb25zdCBub2RlVmFsaWRhdG9yID0gKG5vZGU6IEVsZW1lbnQpOiBudW1iZXIgPT4ge1xuICBpZiAoU1VQUE9SVEVEX1RBR1MuaW5jbHVkZXMobm9kZS50YWdOYW1lKSkge1xuICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gIH1cblxuICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyZWVXYWxrZXIoZG9tOiBOb2RlKTogVHJlZVdhbGtlciB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvbSwgTm9kZUZpbHRlci5TSE9XX0FMTCwge1xuICAgIGFjY2VwdE5vZGU6IG5vZGVWYWxpZGF0b3IsXG4gIH0pO1xufVxuXG50eXBlIFdhbGtlckFyZ3MgPSB7XG4gIHJvb3Q6IERvY3VtZW50O1xuICB0dzogVHJlZVdhbGtlcjtcbiAgc2NlbmU6IEV4Y2FsaWRyYXdTY2VuZTtcbiAgZ3JvdXBzOiBHcm91cFtdO1xufTtcblxuY29uc3QgcHJlc0F0dHJzID0gKFxuICBlbDogRWxlbWVudCxcbiAgZ3JvdXBzOiBHcm91cFtdLFxuKTogUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgLi4ucHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsKSxcbiAgICAuLi5maWx0ZXJBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gIH07XG59O1xuXG5jb25zdCBza2lwcGVkVXNlQXR0cnMgPSBbXCJpZFwiXTtcbmNvbnN0IGFsbHdheXNQYXNzZWRVc2VBdHRycyA9IFtcbiAgXCJ4XCIsXG4gIFwieVwiLFxuICBcIndpZHRoXCIsXG4gIFwiaGVpZ2h0XCIsXG4gIFwiaHJlZlwiLFxuICBcInhsaW5rOmhyZWZcIixcbl07XG5cbi8qXG4gIFwiTW9zdCBhdHRyaWJ1dGVzIG9uIHVzZSBkbyBub3Qgb3ZlcnJpZGUgdGhvc2UgYWxyZWFkeSBvbiB0aGUgZWxlbWVudFxuICByZWZlcmVuY2VkIGJ5IHVzZS4gKFRoaXMgZGlmZmVycyBmcm9tIGhvdyBDU1Mgc3R5bGUgYXR0cmlidXRlcyBvdmVycmlkZVxuICB0aG9zZSBzZXQgJ2VhcmxpZXInIGluIHRoZSBjYXNjYWRlKS4gT25seSB0aGUgYXR0cmlidXRlcyB4LCB5LCB3aWR0aCxcbiAgaGVpZ2h0IGFuZCBocmVmIG9uIHRoZSB1c2UgZWxlbWVudCB3aWxsIG92ZXJyaWRlIHRob3NlIHNldCBvbiB0aGVcbiAgcmVmZXJlbmNlZCBlbGVtZW50LiBIb3dldmVyLCBhbnkgb3RoZXIgYXR0cmlidXRlcyBub3Qgc2V0IG9uIHRoZSByZWZlcmVuY2VkXG4gIGVsZW1lbnQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSB1c2UgZWxlbWVudC5cIlxuXG4gIFNpdHVhdGlvbiAxOiBBdHRyIGlzIHNldCBvbiBkZWZFbCwgTk9UIG9uIHVzZUVsXG4gICAgLSByZXN1bHQ6IHVzZSBkZWZFbCBhdHRyXG4gIFNpdHVhdGlvbiAyOiBBdHRyIGlzIG9uIHVzZUVsLCBOT1Qgb24gZGVmRWxcbiAgICAtIHJlc3VsdDogdXNlIHRoZSB1c2VFbCBhdHRyXG4gIFNpdHVhdGlvbiAzOiBBdHRyIGlzIG9uIGJvdGggdXNlRWwgYW5kIGRlZkVsXG4gICAgLSByZXN1bHQ6IHVzZSB0aGUgZGVmRWwgYXR0ciAoVW5sZXNzIHgsIHksIHdpZHRoLCBoZWlnaHQsIGhyZWYsIHhsaW5rOmhyZWYpXG4qL1xuY29uc3QgZ2V0RGVmRWxXaXRoQ29ycmVjdEF0dHJzID0gKGRlZkVsOiBFbGVtZW50LCB1c2VFbDogRWxlbWVudCk6IEVsZW1lbnQgPT4ge1xuICBjb25zdCBmaW5hbEVsID0gWy4uLnVzZUVsLmF0dHJpYnV0ZXNdLnJlZHVjZSgoZWwsIGF0dHIpID0+IHtcbiAgICBpZiAoc2tpcHBlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gRG9lcyBkZWZFbCBoYXZlIHRoZSBhdHRyPyBJZiBzbywgdXNlIGl0LCBlbHNlIHVzZSB0aGUgdXNlRWwgYXR0clxuICAgIGlmIChcbiAgICAgICFkZWZFbC5oYXNBdHRyaWJ1dGUoYXR0ci5uYW1lKSB8fFxuICAgICAgYWxsd2F5c1Bhc3NlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIubmFtZSlcbiAgICApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIHVzZUVsLmdldEF0dHJpYnV0ZShhdHRyLm5hbWUpIHx8IFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sIGRlZkVsLmNsb25lTm9kZSgpIGFzIEVsZW1lbnQpO1xuXG4gIHJldHVybiBmaW5hbEVsO1xufTtcblxuY29uc3Qgd2Fsa2VycyA9IHtcbiAgc3ZnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IG5leHRBcmdzID0ge1xuICAgICAgLi4uYXJncyxcbiAgICAgIHR3OiBjcmVhdGVUcmVlV2Fsa2VyKGFyZ3MudHcuY3VycmVudE5vZGUpLFxuICAgICAgZ3JvdXBzOiBbLi4uYXJncy5ncm91cHMsIG5ldyBHcm91cChhcmdzLnR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQpXSxcbiAgICB9O1xuXG4gICAgd2FsayhuZXh0QXJncywgbmV4dEFyZ3MudHcubmV4dE5vZGUoKSk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dFNpYmxpbmcoKSk7XG4gIH0sXG5cbiAgdXNlOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgcm9vdCwgdHcsIHNjZW5lIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVzZUVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IGlkID0gdXNlRWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fCB1c2VFbC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5hYmxlIHRvIGdldCBpZCBvZiB1c2UgZWxlbWVudFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZFbCA9IHJvb3QucXVlcnlTZWxlY3RvcihpZCk7XG5cbiAgICBpZiAoIWRlZkVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuYWJsZSB0byBmaW5kIGRlZiBlbGVtZW50IHdpdGggaWQ6ICR7aWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcFNjZW5lID0gbmV3IEV4Y2FsaWRyYXdTY2VuZSgpO1xuXG4gICAgY29uc3QgZmluYWxFbCA9IGdldERlZkVsV2l0aENvcnJlY3RBdHRycyhkZWZFbCwgdXNlRWwpO1xuXG4gICAgd2FsayhcbiAgICAgIHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgc2NlbmU6IHRlbXBTY2VuZSxcbiAgICAgICAgdHc6IGNyZWF0ZVRyZWVXYWxrZXIoZmluYWxFbCksXG4gICAgICB9LFxuICAgICAgZmluYWxFbCxcbiAgICApO1xuXG4gICAgY29uc3QgZXhFbCA9IHRlbXBTY2VuZS5lbGVtZW50cy5wb3AoKTtcblxuICAgIGlmICghZXhFbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBleCBlbGVtZW50XCIpO1xuICAgIH1cblxuICAgIHNjZW5lLmVsZW1lbnRzLnB1c2goZXhFbCk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgY2lyY2xlOiAoYXJnczogV2Fsa2VyQXJncyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgciA9IGdldE51bShlbCwgXCJyXCIsIDApO1xuICAgIGNvbnN0IGQgPSByICogMjtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBnZXROdW0oZWwsIFwiY3hcIiwgMCkgLSByO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGdldE51bShlbCwgXCJjeVwiLCAwKSAtIHI7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyhkLCAwLCAwLCAwLCAwLCBkLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGNpcmNsZTogRXhjYWxpZHJhd0VsbGlwc2UgPSB7XG4gICAgICAuLi5jcmVhdGVFeEVsbGlwc2UoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgZ3JvdXBJZHM6IGdyb3Vwcy5tYXAoKGcpID0+IGcuaWQpLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGNpcmNsZSk7XG5cbiAgICB3YWxrKGFyZ3MsIHR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIGVsbGlwc2U6IChhcmdzOiBXYWxrZXJBcmdzKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCByeCA9IGdldE51bShlbCwgXCJyeFwiLCAwKTtcbiAgICBjb25zdCByeSA9IGdldE51bShlbCwgXCJyeVwiLCAwKTtcbiAgICBjb25zdCBjeCA9IGdldE51bShlbCwgXCJjeFwiLCAwKTtcbiAgICBjb25zdCBjeSA9IGdldE51bShlbCwgXCJjeVwiLCAwKTtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBjeCAtIHJ4O1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGN5IC0gcnk7XG4gICAgY29uc3QgdyA9IHJ4ICogMjtcbiAgICBjb25zdCBoID0gcnkgKiAyO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyh3LCAwLCAwLCAwLCAwLCBoLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGVsbGlwc2U6IEV4Y2FsaWRyYXdFbGxpcHNlID0ge1xuICAgICAgLi4uY3JlYXRlRXhFbGxpcHNlKCksXG4gICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICB4OiByZXN1bHRbMTJdLFxuICAgICAgeTogcmVzdWx0WzEzXSxcbiAgICAgIHdpZHRoOiByZXN1bHRbMF0sXG4gICAgICBoZWlnaHQ6IHJlc3VsdFs1XSxcbiAgICAgIGdyb3VwSWRzOiBncm91cHMubWFwKChnKSA9PiBnLmlkKSxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChlbGxpcHNlKTtcblxuICAgIHdhbGsoYXJncywgdHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgbGluZTogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICAvLyB1bmltcGxlbWVudGVkXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlnb246IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNBdHRyVG9Qb2ludHMoZWwpO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb2ludHMgPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRzLCBtYXQpO1xuXG4gICAgLy8gVGhlIGZpcnN0IHBvaW50IG5lZWRzIHRvIGJlIDAsIDAsIGFuZCBhbGwgZm9sbG93aW5nIHBvaW50c1xuICAgIC8vIGFyZSByZWxhdGl2ZSB0byB0aGUgZmlyc3QgcG9pbnQuXG4gICAgY29uc3QgeCA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzBdO1xuICAgIGNvbnN0IHkgPSB0cmFuc2Zvcm1lZFBvaW50c1swXVsxXTtcblxuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdHJhbnNmb3JtZWRQb2ludHMubWFwKChbX3gsIF95XSkgPT4gW1xuICAgICAgX3ggLSB4LFxuICAgICAgX3kgLSB5LFxuICAgIF0pO1xuXG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHMocmVsYXRpdmVQb2ludHMpO1xuXG4gICAgY29uc3QgbGluZTogRXhjYWxpZHJhd0xpbmUgPSB7XG4gICAgICAuLi5jcmVhdGVFeExpbmUoKSxcbiAgICAgIC4uLmdldEdyb3VwQXR0cnMoZ3JvdXBzKSxcbiAgICAgIC4uLnByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLmNvbmNhdChbWzAsIDBdXSksXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGxpbmUpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlsaW5lOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzQXR0clRvUG9pbnRzKGVsKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFBvaW50cyA9IHRyYW5zZm9ybVBvaW50cyhwb2ludHMsIG1hdCk7XG5cbiAgICAvLyBUaGUgZmlyc3QgcG9pbnQgbmVlZHMgdG8gYmUgMCwgMCwgYW5kIGFsbCBmb2xsb3dpbmcgcG9pbnRzXG4gICAgLy8gYXJlIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCBwb2ludC5cbiAgICBjb25zdCB4ID0gdHJhbnNmb3JtZWRQb2ludHNbMF1bMF07XG4gICAgY29uc3QgeSA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzFdO1xuXG4gICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0cmFuc2Zvcm1lZFBvaW50cy5tYXAoKFtfeCwgX3ldKSA9PiBbXG4gICAgICBfeCAtIHgsXG4gICAgICBfeSAtIHksXG4gICAgXSk7XG5cbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyhyZWxhdGl2ZVBvaW50cyk7XG5cbiAgICBjb25zdCBoYXNGaWxsID0gaGFzKGVsLCBcImZpbGxcIik7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgXCJmaWxsXCIpO1xuXG4gICAgY29uc3Qgc2hvdWxkRmlsbCA9ICFoYXNGaWxsIHx8IChoYXNGaWxsICYmIGZpbGwgIT09IFwibm9uZVwiKTtcblxuICAgIGNvbnN0IGxpbmU6IEV4Y2FsaWRyYXdMaW5lID0ge1xuICAgICAgLi4uY3JlYXRlRXhMaW5lKCksXG4gICAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgICAuLi5wcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWwpLFxuICAgICAgcG9pbnRzOiByZWxhdGl2ZVBvaW50cy5jb25jYXQoc2hvdWxkRmlsbCA/IFtbMCwgMF1dIDogW10pLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChsaW5lKTtcblxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICByZWN0OiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgeCA9IGdldE51bShlbCwgXCJ4XCIsIDApO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKTtcbiAgICBjb25zdCB3ID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIsIDApO1xuICAgIGNvbnN0IGggPSBnZXROdW0oZWwsIFwiaGVpZ2h0XCIsIDApO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG0gPSBtYXQ0LmZyb21WYWx1ZXModywgMCwgMCwgMCwgMCwgaCwgMCwgMCwgMCwgMCwgMSwgMCwgeCwgeSwgMCwgMSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdCwgbSk7XG5cbiAgICAvKlxuICAgIE5PVEU6IEN1cnJlbnRseSB0aGVyZSBkb2Vzbid0IHNlZW0gdG8gYmUgYSB3YXkgdG8gc3BlY2lmeSB0aGUgYm9yZGVyXG4gICAgICAgICAgcmFkaXVzIG9mIGEgcmVjdCB3aXRoaW4gRXhjYWxpZHJhdy4gVGhpcyBtZWFucyB0aGF0IGF0dHJpYnV0ZXNcbiAgICAgICAgICByeCBhbmQgcnkgY2FuJ3QgYmUgdXNlZC5cbiAgICAqL1xuICAgIGNvbnN0IGlzUm91bmQgPSBlbC5oYXNBdHRyaWJ1dGUoXCJyeFwiKSB8fCBlbC5oYXNBdHRyaWJ1dGUoXCJyeVwiKTtcblxuICAgIGNvbnN0IHJlY3Q6IEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSB7XG4gICAgICAuLi5jcmVhdGVFeFJlY3QoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgc3Ryb2tlU2hhcnBuZXNzOiBpc1JvdW5kID8gXCJyb3VuZFwiIDogXCJzaGFycFwiLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKHJlY3QpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBhdGg6IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNPblBhdGgoZ2V0KGVsLCBcImRcIikpO1xuXG4gICAgY29uc3QgZmlsbENvbG9yID0gZ2V0KGVsLCBcImZpbGxcIiwgXCJibGFja1wiKTtcbiAgICBjb25zdCBmaWxsUnVsZSA9IGdldChlbCwgXCJmaWxsLXJ1bGVcIiwgXCJub256ZXJvXCIpO1xuXG4gICAgbGV0IGVsZW1lbnRzOiBFeGNhbGlkcmF3RHJhd1tdID0gW107XG4gICAgbGV0IGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuXG4gICAgc3dpdGNoIChmaWxsUnVsZSkge1xuICAgICAgY2FzZSBcIm5vbnplcm9cIjpcbiAgICAgICAgbGV0IGluaXRpYWxXaW5kaW5nT3JkZXIgPSBcImNsb2Nrd2lzZVwiO1xuXG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpbmRpbmdPcmRlciA9IGdldFdpbmRpbmdPcmRlcihyZWxhdGl2ZVBvaW50cyk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxXaW5kaW5nT3JkZXIgPSB3aW5kaW5nT3JkZXI7XG4gICAgICAgICAgICAgIGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gZmlsbENvbG9yO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxXaW5kaW5nT3JkZXIgIT09IHdpbmRpbmdPcmRlcikge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNGRkZGRkZcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uY3JlYXRlRXhEcmF3KCksXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgICAgICAgICAgICBzdHJva2VDb2xvcjogXCIjMDAwMDAwMDBcIixcbiAgICAgICAgICAgICAgLi4ucHJlc0F0dHJzKGVsLCBncm91cHMpLFxuICAgICAgICAgICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgICBncm91cElkczogW2xvY2FsR3JvdXBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVub2RkXCI6XG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgbG9jYWxHcm91cCA9IHJhbmRvbUlkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNyZWF0ZUV4RHJhdygpLFxuICAgICAgICAgICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICAgICAgICAgIHBvaW50czogcmVsYXRpdmVQb2ludHMsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgc2NlbmUuZWxlbWVudHMgPSBzY2VuZS5lbGVtZW50cy5jb25jYXQoZWxlbWVudHMpO1xuXG4gICAgd2FsayhhcmdzLCB0dy5uZXh0Tm9kZSgpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWxrKGFyZ3M6IFdhbGtlckFyZ3MsIG5leHROb2RlOiBOb2RlIHwgbnVsbCk6IHZvaWQge1xuICBpZiAoIW5leHROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgbm9kZU5hbWUgPSBuZXh0Tm9kZS5ub2RlTmFtZSBhcyBrZXlvZiB0eXBlb2Ygd2Fsa2VycztcbiAgaWYgKHdhbGtlcnNbbm9kZU5hbWVdKSB7XG4gICAgd2Fsa2Vyc1tub2RlTmFtZV0oYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZWxlbWVudHMvR3JvdXBcIjtcbmltcG9ydCB7IGNyZWF0ZVRyZWVXYWxrZXIsIHdhbGsgfSBmcm9tIFwiLi93YWxrZXJcIjtcblxuZXhwb3J0IHR5cGUgQ29udmVyc2lvblJlc3VsdCA9IHtcbiAgaGFzRXJyb3JzOiBib29sZWFuO1xuICBlcnJvcnM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBudWxsO1xuICBjb250ZW50OiBhbnk7IC8vIFNlcmlhbGl6ZWQgRXhjYWxpZHJhdyBKU09OXG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydCA9IChzdmdTdHJpbmc6IHN0cmluZyk6IENvbnZlcnNpb25SZXN1bHQgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHN2Z0RPTSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnU3RyaW5nLCBcImltYWdlL3N2Zyt4bWxcIik7XG5cbiAgLy8gd2FzIHRoZXJlIGEgcGFyc2luZyBlcnJvcj9cbiAgY29uc3QgZXJyb3JzRWxlbWVudHMgPSBzdmdET00ucXVlcnlTZWxlY3RvckFsbChcInBhcnNlcmVycm9yXCIpO1xuICBjb25zdCBoYXNFcnJvcnMgPSBlcnJvcnNFbGVtZW50cy5sZW5ndGggPiAwO1xuICBsZXQgY29udGVudCA9IG51bGw7XG5cbiAgaWYgKGhhc0Vycm9ycykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlRoZXJlIHdlcmUgZXJyb3JzIHdoaWxlIHBhcnNpbmcgdGhlIGdpdmVuIFNWRzogXCIsXG4gICAgICBbLi4uZXJyb3JzRWxlbWVudHNdLm1hcCgoZWwpID0+IGVsLmlubmVySFRNTCksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0dyA9IGNyZWF0ZVRyZWVXYWxrZXIoc3ZnRE9NKTtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBFeGNhbGlkcmF3U2NlbmUoKTtcbiAgICBjb25zdCBncm91cHM6IEdyb3VwW10gPSBbXTtcblxuICAgIHdhbGsoeyB0dywgc2NlbmUsIGdyb3Vwcywgcm9vdDogc3ZnRE9NIH0sIHR3Lm5leHROb2RlKCkpO1xuXG4gICAgY29udGVudCA9IHNjZW5lLnRvRXhKU09OKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhhc0Vycm9ycyxcbiAgICBlcnJvcnM6IGhhc0Vycm9ycyA/IGVycm9yc0VsZW1lbnRzIDogbnVsbCxcbiAgICBjb250ZW50LFxuICB9O1xufTtcbiIsImltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwiLi9wYXJzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgcGFyc2VyO1xuIl0sIm5hbWVzIjpbIkV4Y2FsaWRyYXdTY2VuZSIsImVsZW1lbnRzIiwibWFwIiwiZWwiLCJSYW5kb20iLCJuYW5vaWQiLCJyYW5kb20iLCJEYXRlIiwibm93IiwicmFuZG9tSW50ZWdlciIsIk1hdGgiLCJmbG9vciIsIm5leHQiLCJyYW5kb21JZCIsInNhZmVOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiZGltZW5zaW9uc0Zyb21Qb2ludHMiLCJwb2ludHMiLCJ4Q29vcmRzIiwieCIsInlDb29yZHMiLCJ5IiwibWluWCIsIm1pbiIsIm1pblkiLCJtYXhYIiwibWF4IiwibWF4WSIsImdldFdpbmRpbmdPcmRlciIsInRvdGFsIiwicmVkdWNlIiwiYWNjIiwiaWR4IiwiYXJyIiwieDEiLCJ5MSIsInAyIiwieDIiLCJ5MiIsImUiLCJjaHJvbWEiLCJoZXhXaXRoQWxwaGEiLCJjb2xvciIsImFscGhhIiwiY3NzIiwiaGFzIiwiYXR0ciIsImhhc0F0dHJpYnV0ZSIsImdldCIsImJhY2t1cCIsImdldEF0dHJpYnV0ZSIsImdldE51bSIsIm51bVZhbCIsIk5hTiIsInByZXNBdHRycyIsInN0cm9rZSIsImZpbGwiLCJvcGFjaXR5IiwiYXR0ckhhbmRsZXJzIiwiZXhWYWxzIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsImJhY2tncm91bmRDb2xvciIsInByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyIsImF0dHJpYnV0ZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMiLCJmaWx0ZXJWYWxzIiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludHNBdHRyVG9Qb2ludHMiLCJzcGxpdCIsInAiLCJwYXJzZUZsb2F0IiwiZ2V0R3JvdXBBdHRycyIsImdyb3VwcyIsImVsZW1lbnQiLCJlbFZhbHMiLCJHcm91cCIsImNyZWF0ZUV4RWxlbWVudCIsImlkIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VTaGFycG5lc3MiLCJyb3VnaG5lc3MiLCJhbmdsZSIsInNlZWQiLCJ2ZXJzaW9uIiwidmVyc2lvbk5vbmNlIiwiaXNEZWxldGVkIiwiZ3JvdXBJZHMiLCJib3VuZEVsZW1lbnRJZHMiLCJjcmVhdGVFeFJlY3QiLCJ0eXBlIiwiY3JlYXRlRXhMaW5lIiwiY3JlYXRlRXhFbGxpcHNlIiwiY3JlYXRlRXhEcmF3IiwidmVjMyIsIm1hdDQiLCJ0cmFuc2Zvcm1GdW5jdGlvbnMiLCJtYXRyaXgiLCJtYXRyaXgzZCIsInBlcnNwZWN0aXZlIiwicm90YXRlIiwicm90YXRlM2QiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJzY2FsZSIsInNjYWxlM2QiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJza2V3Iiwic2tld1giLCJza2V3WSIsInRyYW5zbGF0ZSIsInRyYW5zbGF0ZTNkIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwidHJhbnNmb3JtRnVuY3Rpb25zQXJyIiwiZGVmYXVsdFVuaXRzIiwic3ZnVHJhbnNmb3JtVG9DU1NUcmFuc2Zvcm0iLCJzdmdUcmFuc2Zvcm1TdHIiLCJ0RnVuY3MiLCJtYXRjaCIsInRGdW5jVmFsdWVzIiwidEZ1bmNTdHIiLCJFcnJvciIsInRGdW5jUGFydHMiLCJ2YWx1ZXMiLCJhIiwibWF0Y2hBbGwiLCJ2YWx1ZSIsInVuaXQiLCJsZW5ndGgiLCJjc3N0cmFuc2Zvcm1TdHIiLCJ2YWxTdHIiLCJqb2luIiwiY3JlYXRlRE9NTWF0cml4RnJvbVNWR1N0ciIsImNzc1RyYW5zZm9ybVN0ciIsIkRPTU1hdHJpeCIsImdldEVsZW1lbnRNYXRyaXgiLCJlbE1hdCIsIm11bHRpcGx5IiwiY3JlYXRlIiwidG9GbG9hdDMyQXJyYXkiLCJnZXRUcmFuc2Zvcm1NYXRyaXgiLCJhY2N1bU1hdCIsImNvbmNhdCIsIm1hdCIsInRyYW5zZm9ybVBvaW50cyIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU1hdDQiLCJmcm9tVmFsdWVzIiwibmV3WCIsIm5ld1kiLCJwb2ludHNPblBhdGgiLCJTVVBQT1JURURfVEFHUyIsIm5vZGVWYWxpZGF0b3IiLCJub2RlIiwidGFnTmFtZSIsIk5vZGVGaWx0ZXIiLCJGSUxURVJfQUNDRVBUIiwiRklMVEVSX1JFSkVDVCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJkb20iLCJkb2N1bWVudCIsIlNIT1dfQUxMIiwiYWNjZXB0Tm9kZSIsInNraXBwZWRVc2VBdHRycyIsImFsbHdheXNQYXNzZWRVc2VBdHRycyIsImdldERlZkVsV2l0aENvcnJlY3RBdHRycyIsImRlZkVsIiwidXNlRWwiLCJmaW5hbEVsIiwic2V0QXR0cmlidXRlIiwiY2xvbmVOb2RlIiwid2Fsa2VycyIsInN2ZyIsImFyZ3MiLCJ3YWxrIiwidHciLCJuZXh0Tm9kZSIsImciLCJuZXh0QXJncyIsImN1cnJlbnROb2RlIiwibmV4dFNpYmxpbmciLCJ1c2UiLCJyb290Iiwic2NlbmUiLCJxdWVyeVNlbGVjdG9yIiwidGVtcFNjZW5lIiwiZXhFbCIsInBvcCIsInB1c2giLCJjaXJjbGUiLCJyIiwiZCIsIm0iLCJyZXN1bHQiLCJlbGxpcHNlIiwicngiLCJyeSIsImN4IiwiY3kiLCJ3IiwiaCIsImxpbmUiLCJwb2x5Z29uIiwidHJhbnNmb3JtZWRQb2ludHMiLCJyZWxhdGl2ZVBvaW50cyIsIl94IiwiX3kiLCJwb2x5bGluZSIsImhhc0ZpbGwiLCJzaG91bGRGaWxsIiwicmVjdCIsImlzUm91bmQiLCJwYXRoIiwiZmlsbENvbG9yIiwiZmlsbFJ1bGUiLCJsb2NhbEdyb3VwIiwiaW5pdGlhbFdpbmRpbmdPcmRlciIsInBvaW50QXJyIiwidFBvaW50cyIsImNsb25lIiwid2luZGluZ09yZGVyIiwibm9kZU5hbWUiLCJjb252ZXJ0Iiwic3ZnU3RyaW5nIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwic3ZnRE9NIiwicGFyc2VGcm9tU3RyaW5nIiwiZXJyb3JzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFzRXJyb3JzIiwiY29udGVudCIsImNvbnNvbGUiLCJlcnJvciIsImlubmVySFRNTCIsInRvRXhKU09OIiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///773
`)},792:function(module){eval(`/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */

(function (global, factory) {
     true ? module.exports = factory() :
    0;
}(this, (function () { 'use strict';

    var limit = function (x, min, max) {
        if ( min === void 0 ) min=0;
        if ( max === void 0 ) max=1;

        return x < min ? min : x > max ? max : x;
    };

    var clip_rgb = function (rgb) {
        rgb._clipped = false;
        rgb._unclipped = rgb.slice(0);
        for (var i=0; i<=3; i++) {
            if (i < 3) {
                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }
                rgb[i] = limit(rgb[i], 0, 255);
            } else if (i === 3) {
                rgb[i] = limit(rgb[i], 0, 1);
            }
        }
        return rgb;
    };

    // ported from jQuery's $.type
    var classToType = {};
    for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {
        var name = list[i];

        classToType[("[object " + name + "]")] = name.toLowerCase();
    }
    var type = function(obj) {
        return classToType[Object.prototype.toString.call(obj)] || "object";
    };

    var unpack = function (args, keyOrder) {
        if ( keyOrder === void 0 ) keyOrder=null;

    	// if called with more than 3 arguments, we return the arguments
        if (args.length >= 3) { return Array.prototype.slice.call(args); }
        // with less than 3 args we check if first arg is object
        // and use the keyOrder string to extract and sort properties
    	if (type(args[0]) == 'object' && keyOrder) {
    		return keyOrder.split('')
    			.filter(function (k) { return args[0][k] !== undefined; })
    			.map(function (k) { return args[0][k]; });
    	}
    	// otherwise we just return the first argument
    	// (which we suppose is an array of args)
        return args[0];
    };

    var last = function (args) {
        if (args.length < 2) { return null; }
        var l = args.length-1;
        if (type(args[l]) == 'string') { return args[l].toLowerCase(); }
        return null;
    };

    var PI = Math.PI;

    var utils = {
    	clip_rgb: clip_rgb,
    	limit: limit,
    	type: type,
    	unpack: unpack,
    	last: last,
    	PI: PI,
    	TWOPI: PI*2,
    	PITHIRD: PI/3,
    	DEG2RAD: PI / 180,
    	RAD2DEG: 180 / PI
    };

    var input = {
    	format: {},
    	autodetect: []
    };

    var last$1 = utils.last;
    var clip_rgb$1 = utils.clip_rgb;
    var type$1 = utils.type;


    var Color = function Color() {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var me = this;
        if (type$1(args[0]) === 'object' &&
            args[0].constructor &&
            args[0].constructor === this.constructor) {
            // the argument is already a Color instance
            return args[0];
        }

        // last argument could be the mode
        var mode = last$1(args);
        var autodetect = false;

        if (!mode) {
            autodetect = true;
            if (!input.sorted) {
                input.autodetect = input.autodetect.sort(function (a,b) { return b.p - a.p; });
                input.sorted = true;
            }
            // auto-detect format
            for (var i = 0, list = input.autodetect; i < list.length; i += 1) {
                var chk = list[i];

                mode = chk.test.apply(chk, args);
                if (mode) { break; }
            }
        }

        if (input.format[mode]) {
            var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));
            me._rgb = clip_rgb$1(rgb);
        } else {
            throw new Error('unknown format: '+args);
        }

        // add alpha channel
        if (me._rgb.length === 3) { me._rgb.push(1); }
    };

    Color.prototype.toString = function toString () {
        if (type$1(this.hex) == 'function') { return this.hex(); }
        return ("[" + (this._rgb.join(',')) + "]");
    };

    var Color_1 = Color;

    var chroma = function () {
    	var args = [], len = arguments.length;
    	while ( len-- ) args[ len ] = arguments[ len ];

    	return new (Function.prototype.bind.apply( chroma.Color, [ null ].concat( args) ));
    };

    chroma.Color = Color_1;
    chroma.version = '2.1.2';

    var chroma_1 = chroma;

    var unpack$1 = utils.unpack;
    var max = Math.max;

    var rgb2cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$1(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r = r / 255;
        g = g / 255;
        b = b / 255;
        var k = 1 - max(r,max(g,b));
        var f = k < 1 ? 1 / (1-k) : 0;
        var c = (1-r-k) * f;
        var m = (1-g-k) * f;
        var y = (1-b-k) * f;
        return [c,m,y,k];
    };

    var rgb2cmyk_1 = rgb2cmyk;

    var unpack$2 = utils.unpack;

    var cmyk2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$2(args, 'cmyk');
        var c = args[0];
        var m = args[1];
        var y = args[2];
        var k = args[3];
        var alpha = args.length > 4 ? args[4] : 1;
        if (k === 1) { return [0,0,0,alpha]; }
        return [
            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r
            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g
            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b
            alpha
        ];
    };

    var cmyk2rgb_1 = cmyk2rgb;

    var unpack$3 = utils.unpack;
    var type$2 = utils.type;



    Color_1.prototype.cmyk = function() {
        return rgb2cmyk_1(this._rgb);
    };

    chroma_1.cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['cmyk']) ));
    };

    input.format.cmyk = cmyk2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$3(args, 'cmyk');
            if (type$2(args) === 'array' && args.length === 4) {
                return 'cmyk';
            }
        }
    });

    var unpack$4 = utils.unpack;
    var last$2 = utils.last;
    var rnd = function (a) { return Math.round(a*100)/100; };

    /*
     * supported arguments:
     * - hsl2css(h,s,l)
     * - hsl2css(h,s,l,a)
     * - hsl2css([h,s,l], mode)
     * - hsl2css([h,s,l,a], mode)
     * - hsl2css({h,s,l,a}, mode)
     */
    var hsl2css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hsla = unpack$4(args, 'hsla');
        var mode = last$2(args) || 'lsa';
        hsla[0] = rnd(hsla[0] || 0);
        hsla[1] = rnd(hsla[1]*100) + '%';
        hsla[2] = rnd(hsla[2]*100) + '%';
        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {
            hsla[3] = hsla.length > 3 ? hsla[3] : 1;
            mode = 'hsla';
        } else {
            hsla.length = 3;
        }
        return (mode + "(" + (hsla.join(',')) + ")");
    };

    var hsl2css_1 = hsl2css;

    var unpack$5 = utils.unpack;

    /*
     * supported arguments:
     * - rgb2hsl(r,g,b)
     * - rgb2hsl(r,g,b,a)
     * - rgb2hsl([r,g,b])
     * - rgb2hsl([r,g,b,a])
     * - rgb2hsl({r,g,b,a})
     */
    var rgb2hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$5(args, 'rgba');
        var r = args[0];
        var g = args[1];
        var b = args[2];

        r /= 255;
        g /= 255;
        b /= 255;

        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);

        var l = (max + min) / 2;
        var s, h;

        if (max === min){
            s = 0;
            h = Number.NaN;
        } else {
            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
        }

        if (r == max) { h = (g - b) / (max - min); }
        else if (g == max) { h = 2 + (b - r) / (max - min); }
        else if (b == max) { h = 4 + (r - g) / (max - min); }

        h *= 60;
        if (h < 0) { h += 360; }
        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }
        return [h,s,l];
    };

    var rgb2hsl_1 = rgb2hsl;

    var unpack$6 = utils.unpack;
    var last$3 = utils.last;


    var round = Math.round;

    /*
     * supported arguments:
     * - rgb2css(r,g,b)
     * - rgb2css(r,g,b,a)
     * - rgb2css([r,g,b], mode)
     * - rgb2css([r,g,b,a], mode)
     * - rgb2css({r,g,b,a}, mode)
     */
    var rgb2css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$6(args, 'rgba');
        var mode = last$3(args) || 'rgb';
        if (mode.substr(0,3) == 'hsl') {
            return hsl2css_1(rgb2hsl_1(rgba), mode);
        }
        rgba[0] = round(rgba[0]);
        rgba[1] = round(rgba[1]);
        rgba[2] = round(rgba[2]);
        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {
            rgba[3] = rgba.length > 3 ? rgba[3] : 1;
            mode = 'rgba';
        }
        return (mode + "(" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + ")");
    };

    var rgb2css_1 = rgb2css;

    var unpack$7 = utils.unpack;
    var round$1 = Math.round;

    var hsl2rgb = function () {
        var assign;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$7(args, 'hsl');
        var h = args[0];
        var s = args[1];
        var l = args[2];
        var r,g,b;
        if (s === 0) {
            r = g = b = l*255;
        } else {
            var t3 = [0,0,0];
            var c = [0,0,0];
            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;
            var t1 = 2 * l - t2;
            var h_ = h / 360;
            t3[0] = h_ + 1/3;
            t3[1] = h_;
            t3[2] = h_ - 1/3;
            for (var i=0; i<3; i++) {
                if (t3[i] < 0) { t3[i] += 1; }
                if (t3[i] > 1) { t3[i] -= 1; }
                if (6 * t3[i] < 1)
                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }
                else if (2 * t3[i] < 1)
                    { c[i] = t2; }
                else if (3 * t3[i] < 2)
                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }
                else
                    { c[i] = t1; }
            }
            (assign = [round$1(c[0]*255),round$1(c[1]*255),round$1(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);
        }
        if (args.length > 3) {
            // keep alpha channel
            return [r,g,b,args[3]];
        }
        return [r,g,b,1];
    };

    var hsl2rgb_1 = hsl2rgb;

    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;
    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;
    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;
    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;
    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;
    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;

    var round$2 = Math.round;

    var css2rgb = function (css) {
        css = css.toLowerCase().trim();
        var m;

        if (input.format.named) {
            try {
                return input.format.named(css);
            } catch (e) {
                // eslint-disable-next-line
            }
        }

        // rgb(250,20,0)
        if ((m = css.match(RE_RGB))) {
            var rgb = m.slice(1,4);
            for (var i=0; i<3; i++) {
                rgb[i] = +rgb[i];
            }
            rgb[3] = 1;  // default alpha
            return rgb;
        }

        // rgba(250,20,0,0.4)
        if ((m = css.match(RE_RGBA))) {
            var rgb$1 = m.slice(1,5);
            for (var i$1=0; i$1<4; i$1++) {
                rgb$1[i$1] = +rgb$1[i$1];
            }
            return rgb$1;
        }

        // rgb(100%,0%,0%)
        if ((m = css.match(RE_RGB_PCT))) {
            var rgb$2 = m.slice(1,4);
            for (var i$2=0; i$2<3; i$2++) {
                rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);
            }
            rgb$2[3] = 1;  // default alpha
            return rgb$2;
        }

        // rgba(100%,0%,0%,0.4)
        if ((m = css.match(RE_RGBA_PCT))) {
            var rgb$3 = m.slice(1,5);
            for (var i$3=0; i$3<3; i$3++) {
                rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);
            }
            rgb$3[3] = +rgb$3[3];
            return rgb$3;
        }

        // hsl(0,100%,50%)
        if ((m = css.match(RE_HSL))) {
            var hsl = m.slice(1,4);
            hsl[1] *= 0.01;
            hsl[2] *= 0.01;
            var rgb$4 = hsl2rgb_1(hsl);
            rgb$4[3] = 1;
            return rgb$4;
        }

        // hsla(0,100%,50%,0.5)
        if ((m = css.match(RE_HSLA))) {
            var hsl$1 = m.slice(1,4);
            hsl$1[1] *= 0.01;
            hsl$1[2] *= 0.01;
            var rgb$5 = hsl2rgb_1(hsl$1);
            rgb$5[3] = +m[4];  // default alpha = 1
            return rgb$5;
        }
    };

    css2rgb.test = function (s) {
        return RE_RGB.test(s) ||
            RE_RGBA.test(s) ||
            RE_RGB_PCT.test(s) ||
            RE_RGBA_PCT.test(s) ||
            RE_HSL.test(s) ||
            RE_HSLA.test(s);
    };

    var css2rgb_1 = css2rgb;

    var type$3 = utils.type;




    Color_1.prototype.css = function(mode) {
        return rgb2css_1(this._rgb, mode);
    };

    chroma_1.css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['css']) ));
    };

    input.format.css = css2rgb_1;

    input.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {
                return 'css';
            }
        }
    });

    var unpack$8 = utils.unpack;

    input.format.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$8(args, 'rgba');
        rgb[0] *= 255;
        rgb[1] *= 255;
        rgb[2] *= 255;
        return rgb;
    };

    chroma_1.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['gl']) ));
    };

    Color_1.prototype.gl = function() {
        var rgb = this._rgb;
        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];
    };

    var unpack$9 = utils.unpack;

    var rgb2hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$9(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var c = delta * 100 / 255;
        var _g = min / (255 - delta) * 100;
        var h;
        if (delta === 0) {
            h = Number.NaN;
        } else {
            if (r === max) { h = (g - b) / delta; }
            if (g === max) { h = 2+(b - r) / delta; }
            if (b === max) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, c, _g];
    };

    var rgb2hcg_1 = rgb2hcg;

    var unpack$a = utils.unpack;
    var floor = Math.floor;

    /*
     * this is basically just HSV with some minor tweaks
     *
     * hue.. [0..360]
     * chroma .. [0..1]
     * grayness .. [0..1]
     */

    var hcg2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$a(args, 'hcg');
        var h = args[0];
        var c = args[1];
        var _g = args[2];
        var r,g,b;
        _g = _g * 255;
        var _c = c * 255;
        if (c === 0) {
            r = g = b = _g;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;
            var i = floor(h);
            var f = h - i;
            var p = _g * (1 - c);
            var q = p + _c * (1 - f);
            var t = p + _c * f;
            var v = p + _c;
            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var hcg2rgb_1 = hcg2rgb;

    var unpack$b = utils.unpack;
    var type$4 = utils.type;






    Color_1.prototype.hcg = function() {
        return rgb2hcg_1(this._rgb);
    };

    chroma_1.hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcg']) ));
    };

    input.format.hcg = hcg2rgb_1;

    input.autodetect.push({
        p: 1,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$b(args, 'hcg');
            if (type$4(args) === 'array' && args.length === 3) {
                return 'hcg';
            }
        }
    });

    var unpack$c = utils.unpack;
    var last$4 = utils.last;
    var round$3 = Math.round;

    var rgb2hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$c(args, 'rgba');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var a = ref[3];
        var mode = last$4(args) || 'auto';
        if (a === undefined) { a = 1; }
        if (mode === 'auto') {
            mode = a < 1 ? 'rgba' : 'rgb';
        }
        r = round$3(r);
        g = round$3(g);
        b = round$3(b);
        var u = r << 16 | g << 8 | b;
        var str = "000000" + u.toString(16); //#.toUpperCase();
        str = str.substr(str.length - 6);
        var hxa = '0' + round$3(a * 255).toString(16);
        hxa = hxa.substr(hxa.length - 2);
        switch (mode.toLowerCase()) {
            case 'rgba': return ("#" + str + hxa);
            case 'argb': return ("#" + hxa + str);
            default: return ("#" + str);
        }
    };

    var rgb2hex_1 = rgb2hex;

    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;
    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;

    var hex2rgb = function (hex) {
        if (hex.match(RE_HEX)) {
            // remove optional leading #
            if (hex.length === 4 || hex.length === 7) {
                hex = hex.substr(1);
            }
            // expand short-notation to full six-digit
            if (hex.length === 3) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
            }
            var u = parseInt(hex, 16);
            var r = u >> 16;
            var g = u >> 8 & 0xFF;
            var b = u & 0xFF;
            return [r,g,b,1];
        }

        // match rgba hex format, eg #FF000077
        if (hex.match(RE_HEXA)) {
            if (hex.length === 5 || hex.length === 9) {
                // remove optional leading #
                hex = hex.substr(1);
            }
            // expand short-notation to full eight-digit
            if (hex.length === 4) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];
            }
            var u$1 = parseInt(hex, 16);
            var r$1 = u$1 >> 24 & 0xFF;
            var g$1 = u$1 >> 16 & 0xFF;
            var b$1 = u$1 >> 8 & 0xFF;
            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;
            return [r$1,g$1,b$1,a];
        }

        // we used to check for css colors here
        // if _input.css? and rgb = _input.css hex
        //     return rgb

        throw new Error(("unknown hex color: " + hex));
    };

    var hex2rgb_1 = hex2rgb;

    var type$5 = utils.type;




    Color_1.prototype.hex = function(mode) {
        return rgb2hex_1(this._rgb, mode);
    };

    chroma_1.hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hex']) ));
    };

    input.format.hex = hex2rgb_1;
    input.autodetect.push({
        p: 4,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$5(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {
                return 'hex';
            }
        }
    });

    var unpack$d = utils.unpack;
    var TWOPI = utils.TWOPI;
    var min = Math.min;
    var sqrt = Math.sqrt;
    var acos = Math.acos;

    var rgb2hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp
        */
        var ref = unpack$d(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r /= 255;
        g /= 255;
        b /= 255;
        var h;
        var min_ = min(r,g,b);
        var i = (r+g+b) / 3;
        var s = i > 0 ? 1 - min_/i : 0;
        if (s === 0) {
            h = NaN;
        } else {
            h = ((r-g)+(r-b)) / 2;
            h /= sqrt((r-g)*(r-g) + (r-b)*(g-b));
            h = acos(h);
            if (b > g) {
                h = TWOPI - h;
            }
            h /= TWOPI;
        }
        return [h*360,s,i];
    };

    var rgb2hsi_1 = rgb2hsi;

    var unpack$e = utils.unpack;
    var limit$1 = utils.limit;
    var TWOPI$1 = utils.TWOPI;
    var PITHIRD = utils.PITHIRD;
    var cos = Math.cos;

    /*
     * hue [0..360]
     * saturation [0..1]
     * intensity [0..1]
     */
    var hsi2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp
        */
        args = unpack$e(args, 'hsi');
        var h = args[0];
        var s = args[1];
        var i = args[2];
        var r,g,b;

        if (isNaN(h)) { h = 0; }
        if (isNaN(s)) { s = 0; }
        // normalize hue
        if (h > 360) { h -= 360; }
        if (h < 0) { h += 360; }
        h /= 360;
        if (h < 1/3) {
            b = (1-s)/3;
            r = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            g = 1 - (b+r);
        } else if (h < 2/3) {
            h -= 1/3;
            r = (1-s)/3;
            g = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            b = 1 - (r+g);
        } else {
            h -= 2/3;
            g = (1-s)/3;
            b = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            r = 1 - (g+b);
        }
        r = limit$1(i*r*3);
        g = limit$1(i*g*3);
        b = limit$1(i*b*3);
        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];
    };

    var hsi2rgb_1 = hsi2rgb;

    var unpack$f = utils.unpack;
    var type$6 = utils.type;






    Color_1.prototype.hsi = function() {
        return rgb2hsi_1(this._rgb);
    };

    chroma_1.hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsi']) ));
    };

    input.format.hsi = hsi2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$f(args, 'hsi');
            if (type$6(args) === 'array' && args.length === 3) {
                return 'hsi';
            }
        }
    });

    var unpack$g = utils.unpack;
    var type$7 = utils.type;






    Color_1.prototype.hsl = function() {
        return rgb2hsl_1(this._rgb);
    };

    chroma_1.hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsl']) ));
    };

    input.format.hsl = hsl2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$g(args, 'hsl');
            if (type$7(args) === 'array' && args.length === 3) {
                return 'hsl';
            }
        }
    });

    var unpack$h = utils.unpack;
    var min$1 = Math.min;
    var max$1 = Math.max;

    /*
     * supported arguments:
     * - rgb2hsv(r,g,b)
     * - rgb2hsv([r,g,b])
     * - rgb2hsv({r,g,b})
     */
    var rgb2hsl$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$h(args, 'rgb');
        var r = args[0];
        var g = args[1];
        var b = args[2];
        var min_ = min$1(r, g, b);
        var max_ = max$1(r, g, b);
        var delta = max_ - min_;
        var h,s,v;
        v = max_ / 255.0;
        if (max_ === 0) {
            h = Number.NaN;
            s = 0;
        } else {
            s = delta / max_;
            if (r === max_) { h = (g - b) / delta; }
            if (g === max_) { h = 2+(b - r) / delta; }
            if (b === max_) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, s, v]
    };

    var rgb2hsv = rgb2hsl$1;

    var unpack$i = utils.unpack;
    var floor$1 = Math.floor;

    var hsv2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$i(args, 'hsv');
        var h = args[0];
        var s = args[1];
        var v = args[2];
        var r,g,b;
        v *= 255;
        if (s === 0) {
            r = g = b = v;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;

            var i = floor$1(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r,g,b,args.length > 3?args[3]:1];
    };

    var hsv2rgb_1 = hsv2rgb;

    var unpack$j = utils.unpack;
    var type$8 = utils.type;






    Color_1.prototype.hsv = function() {
        return rgb2hsv(this._rgb);
    };

    chroma_1.hsv = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsv']) ));
    };

    input.format.hsv = hsv2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$j(args, 'hsv');
            if (type$8(args) === 'array' && args.length === 3) {
                return 'hsv';
            }
        }
    });

    var labConstants = {
        // Corresponds roughly to RGB brighter/darker
        Kn: 18,

        // D65 standard referent
        Xn: 0.950470,
        Yn: 1,
        Zn: 1.088830,

        t0: 0.137931034,  // 4 / 29
        t1: 0.206896552,  // 6 / 29
        t2: 0.12841855,   // 3 * t1 * t1
        t3: 0.008856452,  // t1 * t1 * t1
    };

    var unpack$k = utils.unpack;
    var pow = Math.pow;

    var rgb2lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$k(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2xyz(r,g,b);
        var x = ref$1[0];
        var y = ref$1[1];
        var z = ref$1[2];
        var l = 116 * y - 16;
        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];
    };

    var rgb_xyz = function (r) {
        if ((r /= 255) <= 0.04045) { return r / 12.92; }
        return pow((r + 0.055) / 1.055, 2.4);
    };

    var xyz_lab = function (t) {
        if (t > labConstants.t3) { return pow(t, 1 / 3); }
        return t / labConstants.t2 + labConstants.t0;
    };

    var rgb2xyz = function (r,g,b) {
        r = rgb_xyz(r);
        g = rgb_xyz(g);
        b = rgb_xyz(b);
        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);
        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);
        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);
        return [x,y,z];
    };

    var rgb2lab_1 = rgb2lab;

    var unpack$l = utils.unpack;
    var pow$1 = Math.pow;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var lab2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$l(args, 'lab');
        var l = args[0];
        var a = args[1];
        var b = args[2];
        var x,y,z, r,g,b_;

        y = (l + 16) / 116;
        x = isNaN(a) ? y : y + a / 500;
        z = isNaN(b) ? y : y - b / 200;

        y = labConstants.Yn * lab_xyz(y);
        x = labConstants.Xn * lab_xyz(x);
        z = labConstants.Zn * lab_xyz(z);

        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB
        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);
        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);

        return [r,g,b_,args.length > 3 ? args[3] : 1];
    };

    var xyz_rgb = function (r) {
        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055)
    };

    var lab_xyz = function (t) {
        return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0)
    };

    var lab2rgb_1 = lab2rgb;

    var unpack$m = utils.unpack;
    var type$9 = utils.type;






    Color_1.prototype.lab = function() {
        return rgb2lab_1(this._rgb);
    };

    chroma_1.lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lab']) ));
    };

    input.format.lab = lab2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$m(args, 'lab');
            if (type$9(args) === 'array' && args.length === 3) {
                return 'lab';
            }
        }
    });

    var unpack$n = utils.unpack;
    var RAD2DEG = utils.RAD2DEG;
    var sqrt$1 = Math.sqrt;
    var atan2 = Math.atan2;
    var round$4 = Math.round;

    var lab2lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$n(args, 'lab');
        var l = ref[0];
        var a = ref[1];
        var b = ref[2];
        var c = sqrt$1(a * a + b * b);
        var h = (atan2(b, a) * RAD2DEG + 360) % 360;
        if (round$4(c*10000) === 0) { h = Number.NaN; }
        return [l, c, h];
    };

    var lab2lch_1 = lab2lch;

    var unpack$o = utils.unpack;



    var rgb2lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$o(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2lab_1(r,g,b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch_1(l,a,b_);
    };

    var rgb2lch_1 = rgb2lch;

    var unpack$p = utils.unpack;
    var DEG2RAD = utils.DEG2RAD;
    var sin = Math.sin;
    var cos$1 = Math.cos;

    var lch2lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.
        These formulas were invented by David Dalrymple to obtain maximum contrast without going
        out of gamut if the parameters are in the range 0-1.

        A saturation multiplier was added by Gregor Aisch
        */
        var ref = unpack$p(args, 'lch');
        var l = ref[0];
        var c = ref[1];
        var h = ref[2];
        if (isNaN(h)) { h = 0; }
        h = h * DEG2RAD;
        return [l, cos$1(h) * c, sin(h) * c]
    };

    var lch2lab_1 = lch2lab;

    var unpack$q = utils.unpack;



    var lch2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$q(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab_1 (l,c,h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = lab2rgb_1 (L,a,b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var lch2rgb_1 = lch2rgb;

    var unpack$r = utils.unpack;


    var hcl2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hcl = unpack$r(args, 'hcl').reverse();
        return lch2rgb_1.apply(void 0, hcl);
    };

    var hcl2rgb_1 = hcl2rgb;

    var unpack$s = utils.unpack;
    var type$a = utils.type;






    Color_1.prototype.lch = function() { return rgb2lch_1(this._rgb); };
    Color_1.prototype.hcl = function() { return rgb2lch_1(this._rgb).reverse(); };

    chroma_1.lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lch']) ));
    };
    chroma_1.hcl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcl']) ));
    };

    input.format.lch = lch2rgb_1;
    input.format.hcl = hcl2rgb_1;

    ['lch','hcl'].forEach(function (m) { return input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$s(args, m);
            if (type$a(args) === 'array' && args.length === 3) {
                return m;
            }
        }
    }); });

    /**
    	X11 color names

    	http://www.w3.org/TR/css3-color/#svg-color
    */

    var w3cx11 = {
        aliceblue: '#f0f8ff',
        antiquewhite: '#faebd7',
        aqua: '#00ffff',
        aquamarine: '#7fffd4',
        azure: '#f0ffff',
        beige: '#f5f5dc',
        bisque: '#ffe4c4',
        black: '#000000',
        blanchedalmond: '#ffebcd',
        blue: '#0000ff',
        blueviolet: '#8a2be2',
        brown: '#a52a2a',
        burlywood: '#deb887',
        cadetblue: '#5f9ea0',
        chartreuse: '#7fff00',
        chocolate: '#d2691e',
        coral: '#ff7f50',
        cornflower: '#6495ed',
        cornflowerblue: '#6495ed',
        cornsilk: '#fff8dc',
        crimson: '#dc143c',
        cyan: '#00ffff',
        darkblue: '#00008b',
        darkcyan: '#008b8b',
        darkgoldenrod: '#b8860b',
        darkgray: '#a9a9a9',
        darkgreen: '#006400',
        darkgrey: '#a9a9a9',
        darkkhaki: '#bdb76b',
        darkmagenta: '#8b008b',
        darkolivegreen: '#556b2f',
        darkorange: '#ff8c00',
        darkorchid: '#9932cc',
        darkred: '#8b0000',
        darksalmon: '#e9967a',
        darkseagreen: '#8fbc8f',
        darkslateblue: '#483d8b',
        darkslategray: '#2f4f4f',
        darkslategrey: '#2f4f4f',
        darkturquoise: '#00ced1',
        darkviolet: '#9400d3',
        deeppink: '#ff1493',
        deepskyblue: '#00bfff',
        dimgray: '#696969',
        dimgrey: '#696969',
        dodgerblue: '#1e90ff',
        firebrick: '#b22222',
        floralwhite: '#fffaf0',
        forestgreen: '#228b22',
        fuchsia: '#ff00ff',
        gainsboro: '#dcdcdc',
        ghostwhite: '#f8f8ff',
        gold: '#ffd700',
        goldenrod: '#daa520',
        gray: '#808080',
        green: '#008000',
        greenyellow: '#adff2f',
        grey: '#808080',
        honeydew: '#f0fff0',
        hotpink: '#ff69b4',
        indianred: '#cd5c5c',
        indigo: '#4b0082',
        ivory: '#fffff0',
        khaki: '#f0e68c',
        laserlemon: '#ffff54',
        lavender: '#e6e6fa',
        lavenderblush: '#fff0f5',
        lawngreen: '#7cfc00',
        lemonchiffon: '#fffacd',
        lightblue: '#add8e6',
        lightcoral: '#f08080',
        lightcyan: '#e0ffff',
        lightgoldenrod: '#fafad2',
        lightgoldenrodyellow: '#fafad2',
        lightgray: '#d3d3d3',
        lightgreen: '#90ee90',
        lightgrey: '#d3d3d3',
        lightpink: '#ffb6c1',
        lightsalmon: '#ffa07a',
        lightseagreen: '#20b2aa',
        lightskyblue: '#87cefa',
        lightslategray: '#778899',
        lightslategrey: '#778899',
        lightsteelblue: '#b0c4de',
        lightyellow: '#ffffe0',
        lime: '#00ff00',
        limegreen: '#32cd32',
        linen: '#faf0e6',
        magenta: '#ff00ff',
        maroon: '#800000',
        maroon2: '#7f0000',
        maroon3: '#b03060',
        mediumaquamarine: '#66cdaa',
        mediumblue: '#0000cd',
        mediumorchid: '#ba55d3',
        mediumpurple: '#9370db',
        mediumseagreen: '#3cb371',
        mediumslateblue: '#7b68ee',
        mediumspringgreen: '#00fa9a',
        mediumturquoise: '#48d1cc',
        mediumvioletred: '#c71585',
        midnightblue: '#191970',
        mintcream: '#f5fffa',
        mistyrose: '#ffe4e1',
        moccasin: '#ffe4b5',
        navajowhite: '#ffdead',
        navy: '#000080',
        oldlace: '#fdf5e6',
        olive: '#808000',
        olivedrab: '#6b8e23',
        orange: '#ffa500',
        orangered: '#ff4500',
        orchid: '#da70d6',
        palegoldenrod: '#eee8aa',
        palegreen: '#98fb98',
        paleturquoise: '#afeeee',
        palevioletred: '#db7093',
        papayawhip: '#ffefd5',
        peachpuff: '#ffdab9',
        peru: '#cd853f',
        pink: '#ffc0cb',
        plum: '#dda0dd',
        powderblue: '#b0e0e6',
        purple: '#800080',
        purple2: '#7f007f',
        purple3: '#a020f0',
        rebeccapurple: '#663399',
        red: '#ff0000',
        rosybrown: '#bc8f8f',
        royalblue: '#4169e1',
        saddlebrown: '#8b4513',
        salmon: '#fa8072',
        sandybrown: '#f4a460',
        seagreen: '#2e8b57',
        seashell: '#fff5ee',
        sienna: '#a0522d',
        silver: '#c0c0c0',
        skyblue: '#87ceeb',
        slateblue: '#6a5acd',
        slategray: '#708090',
        slategrey: '#708090',
        snow: '#fffafa',
        springgreen: '#00ff7f',
        steelblue: '#4682b4',
        tan: '#d2b48c',
        teal: '#008080',
        thistle: '#d8bfd8',
        tomato: '#ff6347',
        turquoise: '#40e0d0',
        violet: '#ee82ee',
        wheat: '#f5deb3',
        white: '#ffffff',
        whitesmoke: '#f5f5f5',
        yellow: '#ffff00',
        yellowgreen: '#9acd32'
    };

    var w3cx11_1 = w3cx11;

    var type$b = utils.type;





    Color_1.prototype.name = function() {
        var hex = rgb2hex_1(this._rgb, 'rgb');
        for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {
            var n = list[i];

            if (w3cx11_1[n] === hex) { return n.toLowerCase(); }
        }
        return hex;
    };

    input.format.named = function (name) {
        name = name.toLowerCase();
        if (w3cx11_1[name]) { return hex2rgb_1(w3cx11_1[name]); }
        throw new Error('unknown color name: '+name);
    };

    input.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {
                return 'named';
            }
        }
    });

    var unpack$t = utils.unpack;

    var rgb2num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$t(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        return (r << 16) + (g << 8) + b;
    };

    var rgb2num_1 = rgb2num;

    var type$c = utils.type;

    var num2rgb = function (num) {
        if (type$c(num) == "number" && num >= 0 && num <= 0xFFFFFF) {
            var r = num >> 16;
            var g = (num >> 8) & 0xFF;
            var b = num & 0xFF;
            return [r,g,b,1];
        }
        throw new Error("unknown num color: "+num);
    };

    var num2rgb_1 = num2rgb;

    var type$d = utils.type;



    Color_1.prototype.num = function() {
        return rgb2num_1(this._rgb);
    };

    chroma_1.num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['num']) ));
    };

    input.format.num = num2rgb_1;

    input.autodetect.push({
        p: 5,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {
                return 'num';
            }
        }
    });

    var unpack$u = utils.unpack;
    var type$e = utils.type;
    var round$5 = Math.round;

    Color_1.prototype.rgb = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        if (rnd === false) { return this._rgb.slice(0,3); }
        return this._rgb.slice(0,3).map(round$5);
    };

    Color_1.prototype.rgba = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        return this._rgb.slice(0,4).map(function (v,i) {
            return i<3 ? (rnd === false ? v : round$5(v)) : v;
        });
    };

    chroma_1.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['rgb']) ));
    };

    input.format.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$u(args, 'rgba');
        if (rgba[3] === undefined) { rgba[3] = 1; }
        return rgba;
    };

    input.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$u(args, 'rgba');
            if (type$e(args) === 'array' && (args.length === 3 ||
                args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {
                return 'rgb';
            }
        }
    });

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     */

    var log = Math.log;

    var temperature2rgb = function (kelvin) {
        var temp = kelvin / 100;
        var r,g,b;
        if (temp < 66) {
            r = 255;
            g = -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log(g);
            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log(b);
        } else {
            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log(r);
            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log(g);
            b = 255;
        }
        return [r,g,b,1];
    };

    var temperature2rgb_1 = temperature2rgb;

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     **/


    var unpack$v = utils.unpack;
    var round$6 = Math.round;

    var rgb2temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$v(args, 'rgb');
        var r = rgb[0], b = rgb[2];
        var minTemp = 1000;
        var maxTemp = 40000;
        var eps = 0.4;
        var temp;
        while (maxTemp - minTemp > eps) {
            temp = (maxTemp + minTemp) * 0.5;
            var rgb$1 = temperature2rgb_1(temp);
            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {
                maxTemp = temp;
            } else {
                minTemp = temp;
            }
        }
        return round$6(temp);
    };

    var rgb2temperature_1 = rgb2temperature;

    Color_1.prototype.temp =
    Color_1.prototype.kelvin =
    Color_1.prototype.temperature = function() {
        return rgb2temperature_1(this._rgb);
    };

    chroma_1.temp =
    chroma_1.kelvin =
    chroma_1.temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['temp']) ));
    };

    input.format.temp =
    input.format.kelvin =
    input.format.temperature = temperature2rgb_1;

    var type$f = utils.type;

    Color_1.prototype.alpha = function(a, mutate) {
        if ( mutate === void 0 ) mutate=false;

        if (a !== undefined && type$f(a) === 'number') {
            if (mutate) {
                this._rgb[3] = a;
                return this;
            }
            return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');
        }
        return this._rgb[3];
    };

    Color_1.prototype.clipped = function() {
        return this._rgb._clipped || false;
    };

    Color_1.prototype.darken = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lab = me.lab();
    	lab[0] -= labConstants.Kn * amount;
    	return new Color_1(lab, 'lab').alpha(me.alpha(), true);
    };

    Color_1.prototype.brighten = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.darken(-amount);
    };

    Color_1.prototype.darker = Color_1.prototype.darken;
    Color_1.prototype.brighter = Color_1.prototype.brighten;

    Color_1.prototype.get = function(mc) {
        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel);
            if (i > -1) { return src[i]; }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var type$g = utils.type;
    var pow$2 = Math.pow;

    var EPS = 1e-7;
    var MAX_ITER = 20;

    Color_1.prototype.luminance = function(lum) {
        if (lum !== undefined && type$g(lum) === 'number') {
            if (lum === 0) {
                // return pure black
                return new Color_1([0,0,0,this._rgb[3]], 'rgb');
            }
            if (lum === 1) {
                // return pure white
                return new Color_1([255,255,255,this._rgb[3]], 'rgb');
            }
            // compute new color using...
            var cur_lum = this.luminance();
            var mode = 'rgb';
            var max_iter = MAX_ITER;

            var test = function (low, high) {
                var mid = low.interpolate(high, 0.5, mode);
                var lm = mid.luminance();
                if (Math.abs(lum - lm) < EPS || !max_iter--) {
                    // close enough
                    return mid;
                }
                return lm > lum ? test(low, mid) : test(mid, high);
            };

            var rgb = (cur_lum > lum ? test(new Color_1([0,0,0]), this) : test(this, new Color_1([255,255,255]))).rgb();
            return new Color_1(rgb.concat( [this._rgb[3]]));
        }
        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));
    };


    var rgb2luminance = function (r,g,b) {
        // relative luminance
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        r = luminance_x(r);
        g = luminance_x(g);
        b = luminance_x(b);
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
    };

    var luminance_x = function (x) {
        x /= 255;
        return x <= 0.03928 ? x/12.92 : pow$2((x+0.055)/1.055, 2.4);
    };

    var interpolator = {};

    var type$h = utils.type;


    var mix = function (col1, col2, f) {
        if ( f === void 0 ) f=0.5;
        var rest = [], len = arguments.length - 3;
        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];

        var mode = rest[0] || 'lrgb';
        if (!interpolator[mode] && !rest.length) {
            // fall back to the first supported mode
            mode = Object.keys(interpolator)[0];
        }
        if (!interpolator[mode]) {
            throw new Error(("interpolation mode " + mode + " is not defined"));
        }
        if (type$h(col1) !== 'object') { col1 = new Color_1(col1); }
        if (type$h(col2) !== 'object') { col2 = new Color_1(col2); }
        return interpolator[mode](col1, col2, f)
            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));
    };

    Color_1.prototype.mix =
    Color_1.prototype.interpolate = function(col2, f) {
    	if ( f === void 0 ) f=0.5;
    	var rest = [], len = arguments.length - 2;
    	while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];

    	return mix.apply(void 0, [ this, col2, f ].concat( rest ));
    };

    Color_1.prototype.premultiply = function(mutate) {
    	if ( mutate === void 0 ) mutate=false;

    	var rgb = this._rgb;
    	var a = rgb[3];
    	if (mutate) {
    		this._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];
    		return this;
    	} else {
    		return new Color_1([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');
    	}
    };

    Color_1.prototype.saturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lch = me.lch();
    	lch[1] += labConstants.Kn * amount;
    	if (lch[1] < 0) { lch[1] = 0; }
    	return new Color_1(lch, 'lch').alpha(me.alpha(), true);
    };

    Color_1.prototype.desaturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.saturate(-amount);
    };

    var type$i = utils.type;

    Color_1.prototype.set = function(mc, value, mutate) {
        if ( mutate === void 0 ) mutate=false;

        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel);
            if (i > -1) {
                if (type$i(value) == 'string') {
                    switch(value.charAt(0)) {
                        case '+': src[i] += +value; break;
                        case '-': src[i] += +value; break;
                        case '*': src[i] *= +(value.substr(1)); break;
                        case '/': src[i] /= +(value.substr(1)); break;
                        default: src[i] = +value;
                    }
                } else if (type$i(value) === 'number') {
                    src[i] = value;
                } else {
                    throw new Error("unsupported value for Color.set");
                }
                var out = new Color_1(src, mode);
                if (mutate) {
                    this._rgb = out._rgb;
                    return this;
                }
                return out;
            }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var rgb$1 = function (col1, col2, f) {
        var xyz0 = col1._rgb;
        var xyz1 = col2._rgb;
        return new Color_1(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'rgb'
        )
    };

    // register interpolator
    interpolator.rgb = rgb$1;

    var sqrt$2 = Math.sqrt;
    var pow$3 = Math.pow;

    var lrgb = function (col1, col2, f) {
        var ref = col1._rgb;
        var x1 = ref[0];
        var y1 = ref[1];
        var z1 = ref[2];
        var ref$1 = col2._rgb;
        var x2 = ref$1[0];
        var y2 = ref$1[1];
        var z2 = ref$1[2];
        return new Color_1(
            sqrt$2(pow$3(x1,2) * (1-f) + pow$3(x2,2) * f),
            sqrt$2(pow$3(y1,2) * (1-f) + pow$3(y2,2) * f),
            sqrt$2(pow$3(z1,2) * (1-f) + pow$3(z2,2) * f),
            'rgb'
        )
    };

    // register interpolator
    interpolator.lrgb = lrgb;

    var lab$1 = function (col1, col2, f) {
        var xyz0 = col1.lab();
        var xyz1 = col2.lab();
        return new Color_1(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'lab'
        )
    };

    // register interpolator
    interpolator.lab = lab$1;

    var _hsx = function (col1, col2, f, m) {
        var assign, assign$1;

        var xyz0, xyz1;
        if (m === 'hsl') {
            xyz0 = col1.hsl();
            xyz1 = col2.hsl();
        } else if (m === 'hsv') {
            xyz0 = col1.hsv();
            xyz1 = col2.hsv();
        } else if (m === 'hcg') {
            xyz0 = col1.hcg();
            xyz1 = col2.hcg();
        } else if (m === 'hsi') {
            xyz0 = col1.hsi();
            xyz1 = col2.hsi();
        } else if (m === 'lch' || m === 'hcl') {
            m = 'hcl';
            xyz0 = col1.hcl();
            xyz1 = col2.hcl();
        }

        var hue0, hue1, sat0, sat1, lbv0, lbv1;
        if (m.substr(0, 1) === 'h') {
            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);
            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);
        }

        var sat, hue, lbv, dh;

        if (!isNaN(hue0) && !isNaN(hue1)) {
            // both colors have hue
            if (hue1 > hue0 && hue1 - hue0 > 180) {
                dh = hue1-(hue0+360);
            } else if (hue1 < hue0 && hue0 - hue1 > 180) {
                dh = hue1+360-hue0;
            } else{
                dh = hue1 - hue0;
            }
            hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
            hue = hue0;
            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }
        } else if (!isNaN(hue1)) {
            hue = hue1;
            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }
        } else {
            hue = Number.NaN;
        }

        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }
        lbv = lbv0 + f * (lbv1-lbv0);
        return new Color_1([hue, sat, lbv], m);
    };

    var lch$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'lch');
    };

    // register interpolator
    interpolator.lch = lch$1;
    interpolator.hcl = lch$1;

    var num$1 = function (col1, col2, f) {
        var c1 = col1.num();
        var c2 = col2.num();
        return new Color_1(c1 + f * (c2-c1), 'num')
    };

    // register interpolator
    interpolator.num = num$1;

    var hcg$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hcg');
    };

    // register interpolator
    interpolator.hcg = hcg$1;

    var hsi$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsi');
    };

    // register interpolator
    interpolator.hsi = hsi$1;

    var hsl$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsl');
    };

    // register interpolator
    interpolator.hsl = hsl$1;

    var hsv$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsv');
    };

    // register interpolator
    interpolator.hsv = hsv$1;

    var clip_rgb$2 = utils.clip_rgb;
    var pow$4 = Math.pow;
    var sqrt$3 = Math.sqrt;
    var PI$1 = Math.PI;
    var cos$2 = Math.cos;
    var sin$1 = Math.sin;
    var atan2$1 = Math.atan2;

    var average = function (colors, mode, weights) {
        if ( mode === void 0 ) mode='lrgb';
        if ( weights === void 0 ) weights=null;

        var l = colors.length;
        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }
        // normalize weights
        var k = l / weights.reduce(function(a, b) { return a + b; });
        weights.forEach(function (w,i) { weights[i] *= k; });
        // convert colors to Color objects
        colors = colors.map(function (c) { return new Color_1(c); });
        if (mode === 'lrgb') {
            return _average_lrgb(colors, weights)
        }
        var first = colors.shift();
        var xyz = first.get(mode);
        var cnt = [];
        var dx = 0;
        var dy = 0;
        // initial color
        for (var i=0; i<xyz.length; i++) {
            xyz[i] = (xyz[i] || 0) * weights[0];
            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);
            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {
                var A = xyz[i] / 180 * PI$1;
                dx += cos$2(A) * weights[0];
                dy += sin$1(A) * weights[0];
            }
        }

        var alpha = first.alpha() * weights[0];
        colors.forEach(function (c,ci) {
            var xyz2 = c.get(mode);
            alpha += c.alpha() * weights[ci+1];
            for (var i=0; i<xyz.length; i++) {
                if (!isNaN(xyz2[i])) {
                    cnt[i] += weights[ci+1];
                    if (mode.charAt(i) === 'h') {
                        var A = xyz2[i] / 180 * PI$1;
                        dx += cos$2(A) * weights[ci+1];
                        dy += sin$1(A) * weights[ci+1];
                    } else {
                        xyz[i] += xyz2[i] * weights[ci+1];
                    }
                }
            }
        });

        for (var i$1=0; i$1<xyz.length; i$1++) {
            if (mode.charAt(i$1) === 'h') {
                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;
                while (A$1 < 0) { A$1 += 360; }
                while (A$1 >= 360) { A$1 -= 360; }
                xyz[i$1] = A$1;
            } else {
                xyz[i$1] = xyz[i$1]/cnt[i$1];
            }
        }
        alpha /= l;
        return (new Color_1(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);
    };


    var _average_lrgb = function (colors, weights) {
        var l = colors.length;
        var xyz = [0,0,0,0];
        for (var i=0; i < colors.length; i++) {
            var col = colors[i];
            var f = weights[i] / l;
            var rgb = col._rgb;
            xyz[0] += pow$4(rgb[0],2) * f;
            xyz[1] += pow$4(rgb[1],2) * f;
            xyz[2] += pow$4(rgb[2],2) * f;
            xyz[3] += rgb[3] * f;
        }
        xyz[0] = sqrt$3(xyz[0]);
        xyz[1] = sqrt$3(xyz[1]);
        xyz[2] = sqrt$3(xyz[2]);
        if (xyz[3] > 0.9999999) { xyz[3] = 1; }
        return new Color_1(clip_rgb$2(xyz));
    };

    // minimal multi-purpose interface

    // @requires utils color analyze


    var type$j = utils.type;

    var pow$5 = Math.pow;

    var scale = function(colors) {

        // constructor
        var _mode = 'rgb';
        var _nacol = chroma_1('#ccc');
        var _spread = 0;
        // const _fixed = false;
        var _domain = [0, 1];
        var _pos = [];
        var _padding = [0,0];
        var _classes = false;
        var _colors = [];
        var _out = false;
        var _min = 0;
        var _max = 1;
        var _correctLightness = false;
        var _colorCache = {};
        var _useCache = true;
        var _gamma = 1;

        // private methods

        var setColors = function(colors) {
            colors = colors || ['#fff', '#000'];
            if (colors && type$j(colors) === 'string' && chroma_1.brewer &&
                chroma_1.brewer[colors.toLowerCase()]) {
                colors = chroma_1.brewer[colors.toLowerCase()];
            }
            if (type$j(colors) === 'array') {
                // handle single color
                if (colors.length === 1) {
                    colors = [colors[0], colors[0]];
                }
                // make a copy of the colors
                colors = colors.slice(0);
                // convert to chroma classes
                for (var c=0; c<colors.length; c++) {
                    colors[c] = chroma_1(colors[c]);
                }
                // auto-fill color position
                _pos.length = 0;
                for (var c$1=0; c$1<colors.length; c$1++) {
                    _pos.push(c$1/(colors.length-1));
                }
            }
            resetCache();
            return _colors = colors;
        };

        var getClass = function(value) {
            if (_classes != null) {
                var n = _classes.length-1;
                var i = 0;
                while (i < n && value >= _classes[i]) {
                    i++;
                }
                return i-1;
            }
            return 0;
        };

        var tMapLightness = function (t) { return t; };
        var tMapDomain = function (t) { return t; };

        // const classifyValue = function(value) {
        //     let val = value;
        //     if (_classes.length > 2) {
        //         const n = _classes.length-1;
        //         const i = getClass(value);
        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class
        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class
        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));
        //     }
        //     return val;
        // };

        var getColor = function(val, bypassMap) {
            var col, t;
            if (bypassMap == null) { bypassMap = false; }
            if (isNaN(val) || (val === null)) { return _nacol; }
            if (!bypassMap) {
                if (_classes && (_classes.length > 2)) {
                    // find the class
                    var c = getClass(val);
                    t = c / (_classes.length-2);
                } else if (_max !== _min) {
                    // just interpolate between min/max
                    t = (val - _min) / (_max - _min);
                } else {
                    t = 1;
                }
            } else {
                t = val;
            }

            // domain map
            t = tMapDomain(t);

            if (!bypassMap) {
                t = tMapLightness(t);  // lightness correction
            }

            if (_gamma !== 1) { t = pow$5(t, _gamma); }

            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));

            t = Math.min(1, Math.max(0, t));

            var k = Math.floor(t * 10000);

            if (_useCache && _colorCache[k]) {
                col = _colorCache[k];
            } else {
                if (type$j(_colors) === 'array') {
                    //for i in [0.._pos.length-1]
                    for (var i=0; i<_pos.length; i++) {
                        var p = _pos[i];
                        if (t <= p) {
                            col = _colors[i];
                            break;
                        }
                        if ((t >= p) && (i === (_pos.length-1))) {
                            col = _colors[i];
                            break;
                        }
                        if (t > p && t < _pos[i+1]) {
                            t = (t-p)/(_pos[i+1]-p);
                            col = chroma_1.interpolate(_colors[i], _colors[i+1], t, _mode);
                            break;
                        }
                    }
                } else if (type$j(_colors) === 'function') {
                    col = _colors(t);
                }
                if (_useCache) { _colorCache[k] = col; }
            }
            return col;
        };

        var resetCache = function () { return _colorCache = {}; };

        setColors(colors);

        // public interface

        var f = function(v) {
            var c = chroma_1(getColor(v));
            if (_out && c[_out]) { return c[_out](); } else { return c; }
        };

        f.classes = function(classes) {
            if (classes != null) {
                if (type$j(classes) === 'array') {
                    _classes = classes;
                    _domain = [classes[0], classes[classes.length-1]];
                } else {
                    var d = chroma_1.analyze(_domain);
                    if (classes === 0) {
                        _classes = [d.min, d.max];
                    } else {
                        _classes = chroma_1.limits(d, 'e', classes);
                    }
                }
                return f;
            }
            return _classes;
        };


        f.domain = function(domain) {
            if (!arguments.length) {
                return _domain;
            }
            _min = domain[0];
            _max = domain[domain.length-1];
            _pos = [];
            var k = _colors.length;
            if ((domain.length === k) && (_min !== _max)) {
                // update positions
                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {
                    var d = list[i];

                  _pos.push((d-_min) / (_max-_min));
                }
            } else {
                for (var c=0; c<k; c++) {
                    _pos.push(c/(k-1));
                }
                if (domain.length > 2) {
                    // set domain map
                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });
                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });
                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {
                        tMapDomain = function (t) {
                            if (t <= 0 || t >= 1) { return t; }
                            var i = 0;
                            while (t >= tBreaks[i+1]) { i++; }
                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);
                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);
                            return out;
                        };
                    }

                }
            }
            _domain = [_min, _max];
            return f;
        };

        f.mode = function(_m) {
            if (!arguments.length) {
                return _mode;
            }
            _mode = _m;
            resetCache();
            return f;
        };

        f.range = function(colors, _pos) {
            setColors(colors, _pos);
            return f;
        };

        f.out = function(_o) {
            _out = _o;
            return f;
        };

        f.spread = function(val) {
            if (!arguments.length) {
                return _spread;
            }
            _spread = val;
            return f;
        };

        f.correctLightness = function(v) {
            if (v == null) { v = true; }
            _correctLightness = v;
            resetCache();
            if (_correctLightness) {
                tMapLightness = function(t) {
                    var L0 = getColor(0, true).lab()[0];
                    var L1 = getColor(1, true).lab()[0];
                    var pol = L0 > L1;
                    var L_actual = getColor(t, true).lab()[0];
                    var L_ideal = L0 + ((L1 - L0) * t);
                    var L_diff = L_actual - L_ideal;
                    var t0 = 0;
                    var t1 = 1;
                    var max_iter = 20;
                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {
                        (function() {
                            if (pol) { L_diff *= -1; }
                            if (L_diff < 0) {
                                t0 = t;
                                t += (t1 - t) * 0.5;
                            } else {
                                t1 = t;
                                t += (t0 - t) * 0.5;
                            }
                            L_actual = getColor(t, true).lab()[0];
                            return L_diff = L_actual - L_ideal;
                        })();
                    }
                    return t;
                };
            } else {
                tMapLightness = function (t) { return t; };
            }
            return f;
        };

        f.padding = function(p) {
            if (p != null) {
                if (type$j(p) === 'number') {
                    p = [p,p];
                }
                _padding = p;
                return f;
            } else {
                return _padding;
            }
        };

        f.colors = function(numColors, out) {
            // If no arguments are given, return the original colors that were provided
            if (arguments.length < 2) { out = 'hex'; }
            var result = [];

            if (arguments.length === 0) {
                result = _colors.slice(0);

            } else if (numColors === 1) {
                result = [f(0.5)];

            } else if (numColors > 1) {
                var dm = _domain[0];
                var dd = _domain[1] - dm;
                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });

            } else { // returns all colors based on the defined classes
                colors = [];
                var samples = [];
                if (_classes && (_classes.length > 2)) {
                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {
                        samples.push((_classes[i-1]+_classes[i])*0.5);
                    }
                } else {
                    samples = _domain;
                }
                result = samples.map(function (v) { return f(v); });
            }

            if (chroma_1[out]) {
                result = result.map(function (c) { return c[out](); });
            }
            return result;
        };

        f.cache = function(c) {
            if (c != null) {
                _useCache = c;
                return f;
            } else {
                return _useCache;
            }
        };

        f.gamma = function(g) {
            if (g != null) {
                _gamma = g;
                return f;
            } else {
                return _gamma;
            }
        };

        f.nodata = function(d) {
            if (d != null) {
                _nacol = chroma_1(d);
                return f;
            } else {
                return _nacol;
            }
        };

        return f;
    };

    function __range__(left, right, inclusive) {
      var range = [];
      var ascending = left < right;
      var end = !inclusive ? right : ascending ? right + 1 : right - 1;
      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {
        range.push(i);
      }
      return range;
    }

    //
    // interpolates between a set of colors uzing a bezier spline
    //

    // @requires utils lab




    var bezier = function(colors) {
        var assign, assign$1, assign$2;

        var I, lab0, lab1, lab2;
        colors = colors.map(function (c) { return new Color_1(c); });
        if (colors.length === 2) {
            // linear interpolation
            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 3) {
            // quadratic bezier interpolation
            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 4) {
            // cubic bezier interpolation
            var lab3;
            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 5) {
            var I0 = bezier(colors.slice(0, 3));
            var I1 = bezier(colors.slice(2, 5));
            I = function(t) {
                if (t < 0.5) {
                    return I0(t*2);
                } else {
                    return I1((t-0.5)*2);
                }
            };
        }
        return I;
    };

    var bezier_1 = function (colors) {
        var f = bezier(colors);
        f.scale = function () { return scale(f); };
        return f;
    };

    /*
     * interpolates between a set of colors uzing a bezier spline
     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/
     */




    var blend = function (bottom, top, mode) {
        if (!blend[mode]) {
            throw new Error('unknown blend mode ' + mode);
        }
        return blend[mode](bottom, top);
    };

    var blend_f = function (f) { return function (bottom,top) {
            var c0 = chroma_1(top).rgb();
            var c1 = chroma_1(bottom).rgb();
            return chroma_1.rgb(f(c0, c1));
        }; };

    var each = function (f) { return function (c0, c1) {
            var out = [];
            out[0] = f(c0[0], c1[0]);
            out[1] = f(c0[1], c1[1]);
            out[2] = f(c0[2], c1[2]);
            return out;
        }; };

    var normal = function (a) { return a; };
    var multiply = function (a,b) { return a * b / 255; };
    var darken$1 = function (a,b) { return a > b ? b : a; };
    var lighten = function (a,b) { return a > b ? a : b; };
    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };
    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };
    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };
    var dodge = function (a,b) {
        if (a === 255) { return 255; }
        a = 255 * (b / 255) / (1 - a / 255);
        return a > 255 ? 255 : a
    };

    // # add = (a,b) ->
    // #     if (a + b > 255) then 255 else a + b

    blend.normal = blend_f(each(normal));
    blend.multiply = blend_f(each(multiply));
    blend.screen = blend_f(each(screen));
    blend.overlay = blend_f(each(overlay));
    blend.darken = blend_f(each(darken$1));
    blend.lighten = blend_f(each(lighten));
    blend.dodge = blend_f(each(dodge));
    blend.burn = blend_f(each(burn));
    // blend.add = blend_f(each(add));

    var blend_1 = blend;

    // cubehelix interpolation
    // based on D.A. Green "A colour scheme for the display of astronomical intensity images"
    // http://astron-soc.in/bulletin/11June/289392011.pdf

    var type$k = utils.type;
    var clip_rgb$3 = utils.clip_rgb;
    var TWOPI$2 = utils.TWOPI;
    var pow$6 = Math.pow;
    var sin$2 = Math.sin;
    var cos$3 = Math.cos;


    var cubehelix = function(start, rotations, hue, gamma, lightness) {
        if ( start === void 0 ) start=300;
        if ( rotations === void 0 ) rotations=-1.5;
        if ( hue === void 0 ) hue=1;
        if ( gamma === void 0 ) gamma=1;
        if ( lightness === void 0 ) lightness=[0,1];

        var dh = 0, dl;
        if (type$k(lightness) === 'array') {
            dl = lightness[1] - lightness[0];
        } else {
            dl = 0;
            lightness = [lightness, lightness];
        }

        var f = function(fract) {
            var a = TWOPI$2 * (((start+120)/360) + (rotations * fract));
            var l = pow$6(lightness[0] + (dl * fract), gamma);
            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;
            var amp = (h * l * (1-l)) / 2;
            var cos_a = cos$3(a);
            var sin_a = sin$2(a);
            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));
            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));
            var b = l + (amp * (+1.97294 * cos_a));
            return chroma_1(clip_rgb$3([r*255,g*255,b*255,1]));
        };

        f.start = function(s) {
            if ((s == null)) { return start; }
            start = s;
            return f;
        };

        f.rotations = function(r) {
            if ((r == null)) { return rotations; }
            rotations = r;
            return f;
        };

        f.gamma = function(g) {
            if ((g == null)) { return gamma; }
            gamma = g;
            return f;
        };

        f.hue = function(h) {
            if ((h == null)) { return hue; }
            hue = h;
            if (type$k(hue) === 'array') {
                dh = hue[1] - hue[0];
                if (dh === 0) { hue = hue[1]; }
            } else {
                dh = 0;
            }
            return f;
        };

        f.lightness = function(h) {
            if ((h == null)) { return lightness; }
            if (type$k(h) === 'array') {
                lightness = h;
                dl = h[1] - h[0];
            } else {
                lightness = [h,h];
                dl = 0;
            }
            return f;
        };

        f.scale = function () { return chroma_1.scale(f); };

        f.hue(hue);

        return f;
    };

    var digits = '0123456789abcdef';

    var floor$2 = Math.floor;
    var random = Math.random;

    var random_1 = function () {
        var code = '#';
        for (var i=0; i<6; i++) {
            code += digits.charAt(floor$2(random() * 16));
        }
        return new Color_1(code, 'hex');
    };

    var log$1 = Math.log;
    var pow$7 = Math.pow;
    var floor$3 = Math.floor;
    var abs = Math.abs;


    var analyze = function (data, key) {
        if ( key === void 0 ) key=null;

        var r = {
            min: Number.MAX_VALUE,
            max: Number.MAX_VALUE*-1,
            sum: 0,
            values: [],
            count: 0
        };
        if (type(data) === 'object') {
            data = Object.values(data);
        }
        data.forEach(function (val) {
            if (key && type(val) === 'object') { val = val[key]; }
            if (val !== undefined && val !== null && !isNaN(val)) {
                r.values.push(val);
                r.sum += val;
                if (val < r.min) { r.min = val; }
                if (val > r.max) { r.max = val; }
                r.count += 1;
            }
        });

        r.domain = [r.min, r.max];

        r.limits = function (mode, num) { return limits(r, mode, num); };

        return r;
    };


    var limits = function (data, mode, num) {
        if ( mode === void 0 ) mode='equal';
        if ( num === void 0 ) num=7;

        if (type(data) == 'array') {
            data = analyze(data);
        }
        var min = data.min;
        var max = data.max;
        var values = data.values.sort(function (a,b) { return a-b; });

        if (num === 1) { return [min,max]; }

        var limits = [];

        if (mode.substr(0,1) === 'c') { // continuous
            limits.push(min);
            limits.push(max);
        }

        if (mode.substr(0,1) === 'e') { // equal interval
            limits.push(min);
            for (var i=1; i<num; i++) {
                limits.push(min+((i/num)*(max-min)));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'l') { // log scale
            if (min <= 0) {
                throw new Error('Logarithmic scales are only possible for values > 0');
            }
            var min_log = Math.LOG10E * log$1(min);
            var max_log = Math.LOG10E * log$1(max);
            limits.push(min);
            for (var i$1=1; i$1<num; i$1++) {
                limits.push(pow$7(10, min_log + ((i$1/num) * (max_log - min_log))));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'q') { // quantile scale
            limits.push(min);
            for (var i$2=1; i$2<num; i$2++) {
                var p = ((values.length-1) * i$2)/num;
                var pb = floor$3(p);
                if (pb === p) {
                    limits.push(values[pb]);
                } else { // p > pb
                    var pr = p - pb;
                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));
                }
            }
            limits.push(max);

        }

        else if (mode.substr(0,1) === 'k') { // k-means clustering
            /*
            implementation based on
            http://code.google.com/p/figue/source/browse/trunk/figue.js#336
            simplified for 1-d input values
            */
            var cluster;
            var n = values.length;
            var assignments = new Array(n);
            var clusterSizes = new Array(num);
            var repeat = true;
            var nb_iters = 0;
            var centroids = null;

            // get seed values
            centroids = [];
            centroids.push(min);
            for (var i$3=1; i$3<num; i$3++) {
                centroids.push(min + ((i$3/num) * (max-min)));
            }
            centroids.push(max);

            while (repeat) {
                // assignment step
                for (var j=0; j<num; j++) {
                    clusterSizes[j] = 0;
                }
                for (var i$4=0; i$4<n; i$4++) {
                    var value = values[i$4];
                    var mindist = Number.MAX_VALUE;
                    var best = (void 0);
                    for (var j$1=0; j$1<num; j$1++) {
                        var dist = abs(centroids[j$1]-value);
                        if (dist < mindist) {
                            mindist = dist;
                            best = j$1;
                        }
                        clusterSizes[best]++;
                        assignments[i$4] = best;
                    }
                }

                // update centroids step
                var newCentroids = new Array(num);
                for (var j$2=0; j$2<num; j$2++) {
                    newCentroids[j$2] = null;
                }
                for (var i$5=0; i$5<n; i$5++) {
                    cluster = assignments[i$5];
                    if (newCentroids[cluster] === null) {
                        newCentroids[cluster] = values[i$5];
                    } else {
                        newCentroids[cluster] += values[i$5];
                    }
                }
                for (var j$3=0; j$3<num; j$3++) {
                    newCentroids[j$3] *= 1/clusterSizes[j$3];
                }

                // check convergence
                repeat = false;
                for (var j$4=0; j$4<num; j$4++) {
                    if (newCentroids[j$4] !== centroids[j$4]) {
                        repeat = true;
                        break;
                    }
                }

                centroids = newCentroids;
                nb_iters++;

                if (nb_iters > 200) {
                    repeat = false;
                }
            }

            // finished k-means clustering
            // the next part is borrowed from gabrielflor.it
            var kClusters = {};
            for (var j$5=0; j$5<num; j$5++) {
                kClusters[j$5] = [];
            }
            for (var i$6=0; i$6<n; i$6++) {
                cluster = assignments[i$6];
                kClusters[cluster].push(values[i$6]);
            }
            var tmpKMeansBreaks = [];
            for (var j$6=0; j$6<num; j$6++) {
                tmpKMeansBreaks.push(kClusters[j$6][0]);
                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);
            }
            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });
            limits.push(tmpKMeansBreaks[0]);
            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {
                var v = tmpKMeansBreaks[i$7];
                if (!isNaN(v) && (limits.indexOf(v) === -1)) {
                    limits.push(v);
                }
            }
        }
        return limits;
    };

    var analyze_1 = {analyze: analyze, limits: limits};

    var contrast = function (a, b) {
        // WCAG contrast ratio
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef
        a = new Color_1(a);
        b = new Color_1(b);
        var l1 = a.luminance();
        var l2 = b.luminance();
        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);
    };

    var sqrt$4 = Math.sqrt;
    var atan2$2 = Math.atan2;
    var abs$1 = Math.abs;
    var cos$4 = Math.cos;
    var PI$2 = Math.PI;

    var deltaE = function(a, b, L, C) {
        if ( L === void 0 ) L=1;
        if ( C === void 0 ) C=1;

        // Delta E (CMC)
        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html
        a = new Color_1(a);
        b = new Color_1(b);
        var ref = Array.from(a.lab());
        var L1 = ref[0];
        var a1 = ref[1];
        var b1 = ref[2];
        var ref$1 = Array.from(b.lab());
        var L2 = ref$1[0];
        var a2 = ref$1[1];
        var b2 = ref$1[2];
        var c1 = sqrt$4((a1 * a1) + (b1 * b1));
        var c2 = sqrt$4((a2 * a2) + (b2 * b2));
        var sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + (0.01765 * L1));
        var sc = ((0.0638 * c1) / (1.0 + (0.0131 * c1))) + 0.638;
        var h1 = c1 < 0.000001 ? 0.0 : (atan2$2(b1, a1) * 180.0) / PI$2;
        while (h1 < 0) { h1 += 360; }
        while (h1 >= 360) { h1 -= 360; }
        var t = (h1 >= 164.0) && (h1 <= 345.0) ? (0.56 + abs$1(0.2 * cos$4((PI$2 * (h1 + 168.0)) / 180.0))) : (0.36 + abs$1(0.4 * cos$4((PI$2 * (h1 + 35.0)) / 180.0)));
        var c4 = c1 * c1 * c1 * c1;
        var f = sqrt$4(c4 / (c4 + 1900.0));
        var sh = sc * (((f * t) + 1.0) - f);
        var delL = L1 - L2;
        var delC = c1 - c2;
        var delA = a1 - a2;
        var delB = b1 - b2;
        var dH2 = ((delA * delA) + (delB * delB)) - (delC * delC);
        var v1 = delL / (L * sl);
        var v2 = delC / (C * sc);
        var v3 = sh;
        return sqrt$4((v1 * v1) + (v2 * v2) + (dH2 / (v3 * v3)));
    };

    // simple Euclidean distance
    var distance = function(a, b, mode) {
        if ( mode === void 0 ) mode='lab';

        // Delta E (CIE 1976)
        // see http://www.brucelindbloom.com/index.html?Equations.html
        a = new Color_1(a);
        b = new Color_1(b);
        var l1 = a.get(mode);
        var l2 = b.get(mode);
        var sum_sq = 0;
        for (var i in l1) {
            var d = (l1[i] || 0) - (l2[i] || 0);
            sum_sq += d*d;
        }
        return Math.sqrt(sum_sq);
    };

    var valid = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        try {
            new (Function.prototype.bind.apply( Color_1, [ null ].concat( args) ));
            return true;
        } catch (e) {
            return false;
        }
    };

    // some pre-defined color scales:




    var scales = {
    	cool: function cool() { return scale([chroma_1.hsl(180,1,.9), chroma_1.hsl(250,.7,.4)]) },
    	hot: function hot() { return scale(['#000','#f00','#ff0','#fff'], [0,.25,.75,1]).mode('rgb') }
    };

    /**
        ColorBrewer colors for chroma.js

        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The
        Pennsylvania State University.

        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software distributed
        under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
        CONDITIONS OF ANY KIND, either express or implied. See the License for the
        specific language governing permissions and limitations under the License.
    */

    var colorbrewer = {
        // sequential
        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],
        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],
        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],
        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],
        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],
        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],
        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],
        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],
        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],
        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],
        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],
        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],
        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],
        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],
        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],
        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],
        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],
        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],
        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],

        // diverging

        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],
        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],
        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],
        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],
        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],
        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],
        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],
        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],

        // qualitative

        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],
        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],
        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],
        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],
        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],
        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],
        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],
        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],
    };

    // add lowercase aliases for case-insensitive matches
    for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {
        var key = list$1[i$1];

        colorbrewer[key.toLowerCase()] = colorbrewer[key];
    }

    var colorbrewer_1 = colorbrewer;

    // feel free to comment out anything to rollup
    // a smaller chroma.js built

    // io --> convert colors















    // operators --> modify existing Colors










    // interpolators










    // generators -- > create new colors
    chroma_1.average = average;
    chroma_1.bezier = bezier_1;
    chroma_1.blend = blend_1;
    chroma_1.cubehelix = cubehelix;
    chroma_1.mix = chroma_1.interpolate = mix;
    chroma_1.random = random_1;
    chroma_1.scale = scale;

    // other utility methods
    chroma_1.analyze = analyze_1.analyze;
    chroma_1.contrast = contrast;
    chroma_1.deltaE = deltaE;
    chroma_1.distance = distance;
    chroma_1.limits = analyze_1.limits;
    chroma_1.valid = valid;

    // scale
    chroma_1.scales = scales;

    // colors
    chroma_1.colors = w3cx11_1;
    chroma_1.brewer = colorbrewer_1;

    var chroma_js = chroma_1;

    return chroma_js;

})));
//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0NBQWtDLEVBQUUsYUFBYSxFQUFFO0FBQ25ELG1DQUFtQyxFQUFFLGFBQWEsRUFBRTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEI7QUFDQSx1QkFBdUI7QUFDdkIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsTUFBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZCQUE2QjtBQUM3QiwyQkFBMkI7QUFDM0IseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRyxtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUVBQXFFO0FBQ3JFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQSx5Q0FBeUM7QUFDekMseUNBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQ0Esc0RBQXNELGlCQUFpQjtBQUN2RTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2QkFBNkI7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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cUJBQXFCO0FBQzlFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7Ozs7Ozs7QUFXQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9jaHJvbWEtanMvY2hyb21hLmpzPzYxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbC5jaHJvbWEgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiAoeCwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKCBtaW4gPT09IHZvaWQgMCApIG1pbj0wO1xuICAgICAgICBpZiAoIG1heCA9PT0gdm9pZCAwICkgbWF4PTE7XG5cbiAgICAgICAgcmV0dXJuIHggPCBtaW4gPyBtaW4gOiB4ID4gbWF4ID8gbWF4IDogeDtcbiAgICB9O1xuXG4gICAgdmFyIGNsaXBfcmdiID0gZnVuY3Rpb24gKHJnYikge1xuICAgICAgICByZ2IuX2NsaXBwZWQgPSBmYWxzZTtcbiAgICAgICAgcmdiLl91bmNsaXBwZWQgPSByZ2Iuc2xpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw9MzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmdiW2ldIDwgMCB8fCByZ2JbaV0gPiAyNTUpIHsgcmdiLl9jbGlwcGVkID0gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLy8gcG9ydGVkIGZyb20galF1ZXJ5J3MgJC50eXBlXG4gICAgdmFyIGNsYXNzVG9UeXBlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3RbaV07XG5cbiAgICAgICAgY2xhc3NUb1R5cGVbKFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIildID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2sgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUoYXJnc1swXSkgPT0gJ29iamVjdCcgJiYga2V5T3JkZXIpIHtcbiAgICBcdFx0cmV0dXJuIGtleU9yZGVyLnNwbGl0KCcnKVxuICAgIFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba10gIT09IHVuZGVmaW5lZDsgfSlcbiAgICBcdFx0XHQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBhcmdzWzBdW2tdOyB9KTtcbiAgICBcdH1cbiAgICBcdC8vIG90aGVyd2lzZSB3ZSBqdXN0IHJldHVybiB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICBcdC8vICh3aGljaCB3ZSBzdXBwb3NlIGlzIGFuIGFycmF5IG9mIGFyZ3MpXG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBhcmdzLmxlbmd0aC0xO1xuICAgICAgICBpZiAodHlwZShhcmdzW2xdKSA9PSAnc3RyaW5nJykgeyByZXR1cm4gYXJnc1tsXS50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiLFxuICAgIFx0bGltaXQ6IGxpbWl0LFxuICAgIFx0dHlwZTogdHlwZSxcbiAgICBcdHVucGFjazogdW5wYWNrLFxuICAgIFx0bGFzdDogbGFzdCxcbiAgICBcdFBJOiBQSSxcbiAgICBcdFRXT1BJOiBQSSoyLFxuICAgIFx0UElUSElSRDogUEkvMyxcbiAgICBcdERFRzJSQUQ6IFBJIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUElcbiAgICB9O1xuXG4gICAgdmFyIGlucHV0ID0ge1xuICAgIFx0Zm9ybWF0OiB7fSxcbiAgICBcdGF1dG9kZXRlY3Q6IFtdXG4gICAgfTtcblxuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBjbGlwX3JnYiQxID0gdXRpbHMuY2xpcF9yZ2I7XG4gICAgdmFyIHR5cGUkMSA9IHV0aWxzLnR5cGU7XG5cblxuICAgIHZhciBDb2xvciA9IGZ1bmN0aW9uIENvbG9yKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlJDEoYXJnc1swXSkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAvLyB0aGUgYXJndW1lbnQgaXMgYWxyZWFkeSBhIENvbG9yIGluc3RhbmNlXG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhc3QgYXJndW1lbnQgY291bGQgYmUgdGhlIG1vZGVcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDEoYXJncyk7XG4gICAgICAgIHZhciBhdXRvZGV0ZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFtb2RlKSB7XG4gICAgICAgICAgICBhdXRvZGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaW5wdXQuc29ydGVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2RldGVjdCA9IGlucHV0LmF1dG9kZXRlY3Quc29ydChmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiLnAgLSBhLnA7IH0pO1xuICAgICAgICAgICAgICAgIGlucHV0LnNvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvLWRldGVjdCBmb3JtYXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQuZm9ybWF0W21vZGVdKSB7XG4gICAgICAgICAgICB2YXIgcmdiID0gaW5wdXQuZm9ybWF0W21vZGVdLmFwcGx5KG51bGwsIGF1dG9kZXRlY3QgPyBhcmdzIDogYXJncy5zbGljZSgwLC0xKSk7XG4gICAgICAgICAgICBtZS5fcmdiID0gY2xpcF9yZ2IkMShyZ2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGZvcm1hdDogJythcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBhbHBoYSBjaGFubmVsXG4gICAgICAgIGlmIChtZS5fcmdiLmxlbmd0aCA9PT0gMykgeyBtZS5fcmdiLnB1c2goMSk7IH1cbiAgICB9O1xuXG4gICAgQ29sb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICBpZiAodHlwZSQxKHRoaXMuaGV4KSA9PSAnZnVuY3Rpb24nKSB7IHJldHVybiB0aGlzLmhleCgpOyB9XG4gICAgICAgIHJldHVybiAoXCJbXCIgKyAodGhpcy5fcmdiLmpvaW4oJywnKSkgKyBcIl1cIik7XG4gICAgfTtcblxuICAgIHZhciBDb2xvcl8xID0gQ29sb3I7XG5cbiAgICB2YXIgY2hyb21hID0gZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBcdHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBcdHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBjaHJvbWEuQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgfTtcblxuICAgIGNocm9tYS5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hLnZlcnNpb24gPSAnMi4xLjInO1xuXG4gICAgdmFyIGNocm9tYV8xID0gY2hyb21hO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDEoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICByID0gciAvIDI1NTtcbiAgICAgICAgZyA9IGcgLyAyNTU7XG4gICAgICAgIGIgPSBiIC8gMjU1O1xuICAgICAgICB2YXIgayA9IDEgLSBtYXgocixtYXgoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIGNteWsycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skMihhcmdzLCAnY215aycpO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBtID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgayA9IGFyZ3NbM107XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbNF0gOiAxO1xuICAgICAgICBpZiAoayA9PT0gMSkgeyByZXR1cm4gWzAsMCwwLGFscGhhXTsgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYyA+PSAxID8gMCA6IDI1NSAqICgxLWMpICogKDEtayksIC8vIHJcbiAgICAgICAgICAgIG0gPj0gMSA/IDAgOiAyNTUgKiAoMS1tKSAqICgxLWspLCAvLyBnXG4gICAgICAgICAgICB5ID49IDEgPyAwIDogMjU1ICogKDEteSkgKiAoMS1rKSwgLy8gYlxuICAgICAgICAgICAgYWxwaGFcbiAgICAgICAgXTtcbiAgICB9O1xuXG4gICAgdmFyIGNteWsycmdiXzEgPSBjbXlrMnJnYjtcblxuICAgIHZhciB1bnBhY2skMyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQyID0gdXRpbHMudHlwZTtcblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5jbXlrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyY215a18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmNteWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjbXlrJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuY215ayA9IGNteWsycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQzKGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQyKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ0ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhzbGEgPSB1bnBhY2skNChhcmdzLCAnaHNsYScpO1xuICAgICAgICB2YXIgbW9kZSA9IGxhc3QkMihhcmdzKSB8fCAnbHNhJztcbiAgICAgICAgaHNsYVswXSA9IHJuZChoc2xhWzBdIHx8IDApO1xuICAgICAgICBoc2xhWzFdID0gcm5kKGhzbGFbMV0qMTAwKSArICclJztcbiAgICAgICAgaHNsYVsyXSA9IHJuZChoc2xhWzJdKjEwMCkgKyAnJSc7XG4gICAgICAgIGlmIChtb2RlID09PSAnaHNsYScgfHwgKGhzbGEubGVuZ3RoID4gMyAmJiBoc2xhWzNdPDEpKSB7XG4gICAgICAgICAgICBoc2xhWzNdID0gaHNsYS5sZW5ndGggPiAzID8gaHNsYVszXSA6IDE7XG4gICAgICAgICAgICBtb2RlID0gJ2hzbGEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHNsYS5sZW5ndGggPSAzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobW9kZSArIFwiKFwiICsgKGhzbGEuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJjc3NfMSA9IGhzbDJjc3M7XG5cbiAgICB2YXIgdW5wYWNrJDUgPSB1dGlscy51bnBhY2s7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHNsKHIsZyxiKVxuICAgICAqIC0gcmdiMmhzbChyLGcsYixhKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGIsYV0pXG4gICAgICogLSByZ2IyaHNsKHtyLGcsYixhfSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbDtcblxuICAgIHZhciB1bnBhY2skNiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcblxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIC8qXG4gICAgICogc3VwcG9ydGVkIGFyZ3VtZW50czpcbiAgICAgKiAtIHJnYjJjc3MocixnLGIpXG4gICAgICogLSByZ2IyY3NzKHIsZyxiLGEpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYl0sIG1vZGUpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYixhXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3Moe3IsZyxiLGF9LCBtb2RlKVxuICAgICAqL1xuICAgIHZhciByZ2IyY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDYoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDMoYXJncykgfHwgJ3JnYic7XG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDMpID09ICdoc2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gaHNsMmNzc18xKHJnYjJoc2xfMShyZ2JhKSwgbW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmdiYVswXSA9IHJvdW5kKHJnYmFbMF0pO1xuICAgICAgICByZ2JhWzFdID0gcm91bmQocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZChyZ2JhWzJdKTtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdyZ2JhJyB8fCAocmdiYS5sZW5ndGggPiAzICYmIHJnYmFbM108MSkpIHtcbiAgICAgICAgICAgIHJnYmFbM10gPSByZ2JhLmxlbmd0aCA+IDMgPyByZ2JhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAncmdiYSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAocmdiYS5zbGljZSgwLG1vZGU9PT0ncmdiJz8zOjQpLmpvaW4oJywnKSkgKyBcIilcIik7XG4gICAgfTtcblxuICAgIHZhciByZ2IyY3NzXzEgPSByZ2IyY3NzO1xuXG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBoc2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skNyhhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkMShjWzBdKjI1NSkscm91bmQkMShjWzFdKjI1NSkscm91bmQkMShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2I7XG5cbiAgICB2YXIgUkVfUkdCID0gL15yZ2JcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC87XG4gICAgdmFyIFJFX1JHQkEgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX1JHQl9QQ1QgPSAvXnJnYlxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQV9QQ1QgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX0hTTCA9IC9eaHNsXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqXFwpJC87XG4gICAgdmFyIFJFX0hTTEEgPSAvXmhzbGFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcblxuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBjc3MycmdiID0gZnVuY3Rpb24gKGNzcykge1xuICAgICAgICBjc3MgPSBjc3MudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIHZhciBtO1xuXG4gICAgICAgIGlmIChpbnB1dC5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmZvcm1hdC5uYW1lZChjc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiKDI1MCwyMCwwKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmdiW2ldID0gK3JnYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYlszXSA9IDE7ICAvLyBkZWZhdWx0IGFscGhhXG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgyNTAsMjAsMCwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMT0wOyBpJDE8NDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkMVtpJDFdID0gK3JnYiQxW2kkMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmdiJDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMTAwJSwwJSwwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQl9QQ1QpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQyID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQyPTA7IGkkMjwzOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHJnYiQyW2kkMl0gPSByb3VuZCQyKHJnYiQyW2kkMl0gKiAyLjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYiQyWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2IkMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYmEoMTAwJSwwJSwwJSwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDMgPSBtLnNsaWNlKDEsNSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDM9MDsgaSQzPDM7IGkkMysrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDNbaSQzXSA9IHJvdW5kJDIocmdiJDNbaSQzXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDNbM10gPSArcmdiJDNbM107XG4gICAgICAgICAgICByZXR1cm4gcmdiJDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoc2woMCwxMDAlLDUwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTCkpKSB7XG4gICAgICAgICAgICB2YXIgaHNsID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsWzFdICo9IDAuMDE7XG4gICAgICAgICAgICBoc2xbMl0gKj0gMC4wMTtcbiAgICAgICAgICAgIHZhciByZ2IkNCA9IGhzbDJyZ2JfMShoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiXzEoaHNsJDEpO1xuICAgICAgICAgICAgcmdiJDVbM10gPSArbVs0XTsgIC8vIGRlZmF1bHQgYWxwaGEgPSAxXG4gICAgICAgICAgICByZXR1cm4gcmdiJDU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY3NzMnJnYi50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2I7XG5cbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3NfMSh0aGlzLl9yZ2IsIG1vZGUpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5jc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjc3MnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5jc3MgPSBjc3MycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSQzKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiXzEudGVzdChoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ4ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQuZm9ybWF0LmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2IgPSB1bnBhY2skOChhcmdzLCAncmdiYScpO1xuICAgICAgICByZ2JbMF0gKj0gMjU1O1xuICAgICAgICByZ2JbMV0gKj0gMjU1O1xuICAgICAgICByZ2JbMl0gKj0gMjU1O1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5nbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2dsJ10pICkpO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmdiID0gdGhpcy5fcmdiO1xuICAgICAgICByZXR1cm4gW3JnYlswXS8yNTUsIHJnYlsxXS8yNTUsIHJnYlsyXS8yNTUsIHJnYlszXV07XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2skOSA9IHV0aWxzLnVucGFjaztcblxuICAgIHZhciByZ2IyaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgICAgIHZhciBjID0gZGVsdGEgKiAxMDAgLyAyNTU7XG4gICAgICAgIHZhciBfZyA9IG1pbiAvICgyNTUgLSBkZWx0YSkgKiAxMDA7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heCkgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4KSB7IGggPSAyKyhiIC0gcikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGIgPT09IG1heCkgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIGMsIF9nXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoY2dfMSA9IHJnYjJoY2c7XG5cbiAgICB2YXIgdW5wYWNrJGEgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuICAgIC8qXG4gICAgICogdGhpcyBpcyBiYXNpY2FsbHkganVzdCBIU1Ygd2l0aCBzb21lIG1pbm9yIHR3ZWFrc1xuICAgICAqXG4gICAgICogaHVlLi4gWzAuLjM2MF1cbiAgICAgKiBjaHJvbWEgLi4gWzAuLjFdXG4gICAgICogZ3JheW5lc3MgLi4gWzAuLjFdXG4gICAgICovXG5cbiAgICB2YXIgaGNnMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFzc2lnbiwgYXNzaWduJDEsIGFzc2lnbiQyLCBhc3NpZ24kMywgYXNzaWduJDQsIGFzc2lnbiQ1O1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYShhcmdzLCAnaGNnJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgX2cgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIF9nID0gX2cgKiAyNTU7XG4gICAgICAgIHZhciBfYyA9IGMgKiAyNTU7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSBfZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yKGgpO1xuICAgICAgICAgICAgdmFyIGYgPSBoIC0gaTtcbiAgICAgICAgICAgIHZhciBwID0gX2cgKiAoMSAtIGMpO1xuICAgICAgICAgICAgdmFyIHEgPSBwICsgX2MgKiAoMSAtIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSBwICsgX2MgKiBmO1xuICAgICAgICAgICAgdmFyIHYgPSBwICsgX2M7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IChhc3NpZ24gPSBbdiwgdCwgcF0sIHIgPSBhc3NpZ25bMF0sIGcgPSBhc3NpZ25bMV0sIGIgPSBhc3NpZ25bMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMTogKGFzc2lnbiQxID0gW3EsIHYsIHBdLCByID0gYXNzaWduJDFbMF0sIGcgPSBhc3NpZ24kMVsxXSwgYiA9IGFzc2lnbiQxWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDI6IChhc3NpZ24kMiA9IFtwLCB2LCB0XSwgciA9IGFzc2lnbiQyWzBdLCBnID0gYXNzaWduJDJbMV0sIGIgPSBhc3NpZ24kMlsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAoYXNzaWduJDMgPSBbcCwgcSwgdl0sIHIgPSBhc3NpZ24kM1swXSwgZyA9IGFzc2lnbiQzWzFdLCBiID0gYXNzaWduJDNbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNDogKGFzc2lnbiQ0ID0gW3QsIHAsIHZdLCByID0gYXNzaWduJDRbMF0sIGcgPSBhc3NpZ24kNFsxXSwgYiA9IGFzc2lnbiQ0WzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IChhc3NpZ24kNSA9IFt2LCBwLCBxXSwgciA9IGFzc2lnbiQ1WzBdLCBnID0gYXNzaWduJDVbMV0sIGIgPSBhc3NpZ24kNVsyXSk7IGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiLCBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciBoY2cycmdiXzEgPSBoY2cycmdiO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDQgPSB1dGlscy50eXBlO1xuXG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmhjZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhjZ18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmhjZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjZyddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmhjZyA9IGhjZzJyZ2JfMTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGIoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkNChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRjID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDQgPSB1dGlscy5sYXN0O1xuICAgIHZhciByb3VuZCQzID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IyaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skYyhhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDQoYXJncykgfHwgJ2F1dG8nO1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChtb2RlID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIG1vZGUgPSBhIDwgMSA/ICdyZ2JhJyA6ICdyZ2InO1xuICAgICAgICB9XG4gICAgICAgIHIgPSByb3VuZCQzKHIpO1xuICAgICAgICBnID0gcm91bmQkMyhnKTtcbiAgICAgICAgYiA9IHJvdW5kJDMoYik7XG4gICAgICAgIHZhciB1ID0gciA8PCAxNiB8IGcgPDwgOCB8IGI7XG4gICAgICAgIHZhciBzdHIgPSBcIjAwMDAwMFwiICsgdS50b1N0cmluZygxNik7IC8vIy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSA2KTtcbiAgICAgICAgdmFyIGh4YSA9ICcwJyArIHJvdW5kJDMoYSAqIDI1NSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBoeGEgPSBoeGEuc3Vic3RyKGh4YS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3dpdGNoIChtb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiByZXR1cm4gKFwiI1wiICsgc3RyICsgaHhhKTtcbiAgICAgICAgICAgIGNhc2UgJ2FyZ2InOiByZXR1cm4gKFwiI1wiICsgaHhhICsgc3RyKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAoXCIjXCIgKyBzdHIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGV4XzEgPSByZ2IyaGV4O1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9wdGlvbmFsIGxlYWRpbmcgI1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDQgfHwgaGV4Lmxlbmd0aCA9PT0gNykge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHBhbmQgc2hvcnQtbm90YXRpb24gdG8gZnVsbCBzaXgtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgICAgICB2YXIgciA9IHUgPj4gMTY7XG4gICAgICAgICAgICB2YXIgZyA9IHUgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiA9IHUgJiAweEZGO1xuICAgICAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hdGNoIHJnYmEgaGV4IGZvcm1hdCwgZWcgI0ZGMDAwMDc3XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYQSkpIHtcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA1IHx8IGhleC5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIGVpZ2h0LWRpZ2l0XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zcGxpdCgnJyk7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4WzBdK2hleFswXStoZXhbMV0raGV4WzFdK2hleFsyXStoZXhbMl0raGV4WzNdK2hleFszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1JDEgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByJDEgPSB1JDEgPj4gMjQgJiAweEZGO1xuICAgICAgICAgICAgdmFyIGckMSA9IHUkMSA+PiAxNiAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiQxID0gdSQxID4+IDggJiAweEZGO1xuICAgICAgICAgICAgdmFyIGEgPSBNYXRoLnJvdW5kKCh1JDEgJiAweEZGKSAvIDB4RkYgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgcmV0dXJuIFtyJDEsZyQxLGIkMSxhXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHVzZWQgdG8gY2hlY2sgZm9yIGNzcyBjb2xvcnMgaGVyZVxuICAgICAgICAvLyBpZiBfaW5wdXQuY3NzPyBhbmQgcmdiID0gX2lucHV0LmNzcyBoZXhcbiAgICAgICAgLy8gICAgIHJldHVybiByZ2JcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBoZXggY29sb3I6IFwiICsgaGV4KSk7XG4gICAgfTtcblxuICAgIHZhciBoZXgycmdiXzEgPSBoZXgycmdiO1xuXG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIHJldHVybiByZ2IyaGV4XzEodGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGV4J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDQsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJDUoaCkgPT09ICdzdHJpbmcnICYmIFszLDQsNSw2LDcsOCw5XS5pbmRleE9mKGgubGVuZ3RoKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoZXgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGQgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFRXT1BJID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgIHZhciBhY29zID0gTWF0aC5hY29zO1xuXG4gICAgdmFyIHJnYjJoc2kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvcmdiMmhzaS5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRkKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgciAvPSAyNTU7XG4gICAgICAgIGcgLz0gMjU1O1xuICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgdmFyIGg7XG4gICAgICAgIHZhciBtaW5fID0gbWluKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCgoci1nKSooci1nKSArIChyLWIpKihnLWIpKTtcbiAgICAgICAgICAgIGggPSBhY29zKGgpO1xuICAgICAgICAgICAgaWYgKGIgPiBnKSB7XG4gICAgICAgICAgICAgICAgaCA9IFRXT1BJIC0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggLz0gVFdPUEk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaTtcblxuICAgIHZhciB1bnBhY2skZSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGltaXQkMSA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcztcblxuICAgIC8qXG4gICAgICogaHVlIFswLi4zNjBdXG4gICAgICogc2F0dXJhdGlvbiBbMC4uMV1cbiAgICAgKiBpbnRlbnNpdHkgWzAuLjFdXG4gICAgICovXG4gICAgdmFyIGhzaTJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvaHNpMnJnYi5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgYXJncyA9IHVucGFjayRlKGFyZ3MsICdoc2knKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBpID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuXG4gICAgICAgIGlmIChpc05hTihoKSkgeyBoID0gMDsgfVxuICAgICAgICBpZiAoaXNOYU4ocykpIHsgcyA9IDA7IH1cbiAgICAgICAgLy8gbm9ybWFsaXplIGh1ZVxuICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgIGlmIChoIDwgMS8zKSB7XG4gICAgICAgICAgICBiID0gKDEtcykvMztcbiAgICAgICAgICAgIHIgPSAoMStzKmNvcyhUV09QSSQxKmgpL2NvcyhQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgYiA9IDEgLSAocitnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggLT0gMi8zO1xuICAgICAgICAgICAgZyA9ICgxLXMpLzM7XG4gICAgICAgICAgICBiID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgciA9IDEgLSAoZytiKTtcbiAgICAgICAgfVxuICAgICAgICByID0gbGltaXQkMShpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdCQxKGkqZyozKTtcbiAgICAgICAgYiA9IGxpbWl0JDEoaSpiKjMpO1xuICAgICAgICByZXR1cm4gW3IqMjU1LCBnKjI1NSwgYioyNTUsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzaTJyZ2JfMSA9IGhzaTJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNpXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNpID0gaHNpMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnaHNpJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ2KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2knO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGcgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNyA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNsID0gaHNsMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZyhhcmdzLCAnaHNsJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIG1pbiQxID0gTWF0aC5taW47XG4gICAgdmFyIG1heCQxID0gTWF0aC5tYXg7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHN2KHIsZyxiKVxuICAgICAqIC0gcmdiMmhzdihbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzdih7cixnLGJ9KVxuICAgICAqL1xuICAgIHZhciByZ2IyaHNsJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRoKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIG1pbl8gPSBtaW4kMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heF8gPSBtYXgkMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4XyAtIG1pbl87XG4gICAgICAgIHZhciBoLHMsdjtcbiAgICAgICAgdiA9IG1heF8gLyAyNTUuMDtcbiAgICAgICAgaWYgKG1heF8gPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gZGVsdGEgLyBtYXhfO1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heF8pIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heF8pIHsgaCA9IDIrKGIgLSByKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoYiA9PT0gbWF4XykgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIHMsIHZdXG4gICAgfTtcblxuICAgIHZhciByZ2IyaHN2ID0gcmdiMmhzbCQxO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblxuICAgIHZhciBoc3YycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRpKGFyZ3MsICdoc3YnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciB2ID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuICAgICAgICB2ICo9IDI1NTtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaCA9PT0gMzYwKSB7IGggPSAwOyB9XG4gICAgICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgICAgICBoIC89IDYwO1xuXG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yJDEoaCk7XG4gICAgICAgICAgICB2YXIgZiA9IGggLSBpO1xuICAgICAgICAgICAgdmFyIHAgPSB2ICogKDEgLSBzKTtcbiAgICAgICAgICAgIHZhciBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogKGFzc2lnbiA9IFt2LCB0LCBwXSwgciA9IGFzc2lnblswXSwgZyA9IGFzc2lnblsxXSwgYiA9IGFzc2lnblsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAoYXNzaWduJDEgPSBbcSwgdiwgcF0sIHIgPSBhc3NpZ24kMVswXSwgZyA9IGFzc2lnbiQxWzFdLCBiID0gYXNzaWduJDFbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMjogKGFzc2lnbiQyID0gW3AsIHYsIHRdLCByID0gYXNzaWduJDJbMF0sIGcgPSBhc3NpZ24kMlsxXSwgYiA9IGFzc2lnbiQyWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM6IChhc3NpZ24kMyA9IFtwLCBxLCB2XSwgciA9IGFzc2lnbiQzWzBdLCBnID0gYXNzaWduJDNbMV0sIGIgPSBhc3NpZ24kM1syXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0OiAoYXNzaWduJDQgPSBbdCwgcCwgdl0sIHIgPSBhc3NpZ24kNFswXSwgZyA9IGFzc2lnbiQ0WzFdLCBiID0gYXNzaWduJDRbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNTogKGFzc2lnbiQ1ID0gW3YsIHAsIHFdLCByID0gYXNzaWduJDVbMF0sIGcgPSBhc3NpZ24kNVsxXSwgYiA9IGFzc2lnbiQ1WzJdKTsgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLGFyZ3MubGVuZ3RoID4gMz9hcmdzWzNdOjFdO1xuICAgIH07XG5cbiAgICB2YXIgaHN2MnJnYl8xID0gaHN2MnJnYjtcblxuICAgIHZhciB1bnBhY2skaiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ4ID0gdXRpbHMudHlwZTtcblxuXG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oc3YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc3YodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHN2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHN2J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHN2ID0gaHN2MnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaihhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ4KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBwb3cgPSBNYXRoLnBvdztcblxuICAgIHZhciByZ2IybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skayhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdygociArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X2xhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0ID4gbGFiQ29uc3RhbnRzLnQzKSB7IHJldHVybiBwb3codCwgMSAvIDMpOyB9XG4gICAgICAgIHJldHVybiB0IC8gbGFiQ29uc3RhbnRzLnQyICsgbGFiQ29uc3RhbnRzLnQwO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnh5eiA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICByID0gcmdiX3h5eihyKTtcbiAgICAgICAgZyA9IHJnYl94eXooZyk7XG4gICAgICAgIGIgPSByZ2JfeHl6KGIpO1xuICAgICAgICB2YXIgeCA9IHh5el9sYWIoKDAuNDEyNDU2NCAqIHIgKyAwLjM1NzU3NjEgKiBnICsgMC4xODA0Mzc1ICogYikgLyBsYWJDb25zdGFudHMuWG4pO1xuICAgICAgICB2YXIgeSA9IHh5el9sYWIoKDAuMjEyNjcyOSAqIHIgKyAwLjcxNTE1MjIgKiBnICsgMC4wNzIxNzUwICogYikgLyBsYWJDb25zdGFudHMuWW4pO1xuICAgICAgICB2YXIgeiA9IHh5el9sYWIoKDAuMDE5MzMzOSAqIHIgKyAwLjExOTE5MjAgKiBnICsgMC45NTAzMDQxICogYikgLyBsYWJDb25zdGFudHMuWm4pO1xuICAgICAgICByZXR1cm4gW3gseSx6XTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsYWJfMSA9IHJnYjJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJGwgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyQxID0gTWF0aC5wb3c7XG5cbiAgICAvKlxuICAgICAqIEwqIFswLi4xMDBdXG4gICAgICogYSBbLTEwMC4uMTAwXVxuICAgICAqIGIgWy0xMDAuLjEwMF1cbiAgICAgKi9cbiAgICB2YXIgbGFiMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgeCx5LHosIHIsZyxiXztcblxuICAgICAgICB5ID0gKGwgKyAxNikgLyAxMTY7XG4gICAgICAgIHggPSBpc05hTihhKSA/IHkgOiB5ICsgYSAvIDUwMDtcbiAgICAgICAgeiA9IGlzTmFOKGIpID8geSA6IHkgLSBiIC8gMjAwO1xuXG4gICAgICAgIHkgPSBsYWJDb25zdGFudHMuWW4gKiBsYWJfeHl6KHkpO1xuICAgICAgICB4ID0gbGFiQ29uc3RhbnRzLlhuICogbGFiX3h5eih4KTtcbiAgICAgICAgeiA9IGxhYkNvbnN0YW50cy5abiAqIGxhYl94eXooeik7XG5cbiAgICAgICAgciA9IHh5el9yZ2IoMy4yNDA0NTQyICogeCAtIDEuNTM3MTM4NSAqIHkgLSAwLjQ5ODUzMTQgKiB6KTsgIC8vIEQ2NSAtPiBzUkdCXG4gICAgICAgIGcgPSB4eXpfcmdiKC0wLjk2OTI2NjAgKiB4ICsgMS44NzYwMTA4ICogeSArIDAuMDQxNTU2MCAqIHopO1xuICAgICAgICBiXyA9IHh5el9yZ2IoMC4wNTU2NDM0ICogeCAtIDAuMjA0MDI1OSAqIHkgKyAxLjA1NzIyNTIgKiB6KTtcblxuICAgICAgICByZXR1cm4gW3IsZyxiXyxhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciB4eXpfcmdiID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIDI1NSAqIChyIDw9IDAuMDAzMDQgPyAxMi45MiAqIHIgOiAxLjA1NSAqIHBvdyQxKHIsIDEgLyAyLjQpIC0gMC4wNTUpXG4gICAgfTtcblxuICAgIHZhciBsYWJfeHl6ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPiBsYWJDb25zdGFudHMudDEgPyB0ICogdCAqIHQgOiBsYWJDb25zdGFudHMudDIgKiAodCAtIGxhYkNvbnN0YW50cy50MClcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJyZ2JfMSA9IGxhYjJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJG0gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkOSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybGFiXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGFiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubGFiID0gbGFiMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skbShhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJG4gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yID0gTWF0aC5hdGFuMjtcbiAgICB2YXIgcm91bmQkNCA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgbGFiMmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJG4oYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYyA9IHNxcnQkMShhICogYSArIGIgKiBiKTtcbiAgICAgICAgdmFyIGggPSAoYXRhbjIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDQoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJG8gPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIHJnYjJsY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRvKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gcmdiMmxhYl8xKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoXzEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJHAgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIERFRzJSQUQgPSB1dGlscy5ERUcyUkFEO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcblxuICAgIHZhciBsY2gybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHAoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQxKGgpICogYywgc2luKGgpICogY11cbiAgICB9O1xuXG4gICAgdmFyIGxjaDJsYWJfMSA9IGxjaDJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJHEgPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIGxjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWJfMSAobCxjLGgpO1xuICAgICAgICB2YXIgTCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gbGFiMnJnYl8xIChMLGEsYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGxjaDJyZ2JfMSA9IGxjaDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG5cblxuICAgIHZhciBoY2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBoY2wgPSB1bnBhY2skcihhcmdzLCAnaGNsJykucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gbGNoMnJnYl8xLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHMgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkYSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoXzEodGhpcy5fcmdiKTsgfTtcbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oY2wgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYjJsY2hfMSh0aGlzLl9yZ2IpLnJldmVyc2UoKTsgfTtcblxuICAgIGNocm9tYV8xLmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2xjaCddKSApKTtcbiAgICB9O1xuICAgIGNocm9tYV8xLmhjbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjbCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmxjaCA9IGxjaDJyZ2JfMTtcbiAgICBpbnB1dC5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayRzKGFyZ3MsIG0pO1xuICAgICAgICAgICAgaWYgKHR5cGUkYShhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7IH0pO1xuXG4gICAgLyoqXG4gICAgXHRYMTEgY29sb3IgbmFtZXNcblxuICAgIFx0aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yXG4gICAgKi9cblxuICAgIHZhciB3M2N4MTEgPSB7XG4gICAgICAgIGFsaWNlYmx1ZTogJyNmMGY4ZmYnLFxuICAgICAgICBhbnRpcXVld2hpdGU6ICcjZmFlYmQ3JyxcbiAgICAgICAgYXF1YTogJyMwMGZmZmYnLFxuICAgICAgICBhcXVhbWFyaW5lOiAnIzdmZmZkNCcsXG4gICAgICAgIGF6dXJlOiAnI2YwZmZmZicsXG4gICAgICAgIGJlaWdlOiAnI2Y1ZjVkYycsXG4gICAgICAgIGJpc3F1ZTogJyNmZmU0YzQnLFxuICAgICAgICBibGFjazogJyMwMDAwMDAnLFxuICAgICAgICBibGFuY2hlZGFsbW9uZDogJyNmZmViY2QnLFxuICAgICAgICBibHVlOiAnIzAwMDBmZicsXG4gICAgICAgIGJsdWV2aW9sZXQ6ICcjOGEyYmUyJyxcbiAgICAgICAgYnJvd246ICcjYTUyYTJhJyxcbiAgICAgICAgYnVybHl3b29kOiAnI2RlYjg4NycsXG4gICAgICAgIGNhZGV0Ymx1ZTogJyM1ZjllYTAnLFxuICAgICAgICBjaGFydHJldXNlOiAnIzdmZmYwMCcsXG4gICAgICAgIGNob2NvbGF0ZTogJyNkMjY5MWUnLFxuICAgICAgICBjb3JhbDogJyNmZjdmNTAnLFxuICAgICAgICBjb3JuZmxvd2VyOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5mbG93ZXJibHVlOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5zaWxrOiAnI2ZmZjhkYycsXG4gICAgICAgIGNyaW1zb246ICcjZGMxNDNjJyxcbiAgICAgICAgY3lhbjogJyMwMGZmZmYnLFxuICAgICAgICBkYXJrYmx1ZTogJyMwMDAwOGInLFxuICAgICAgICBkYXJrY3lhbjogJyMwMDhiOGInLFxuICAgICAgICBkYXJrZ29sZGVucm9kOiAnI2I4ODYwYicsXG4gICAgICAgIGRhcmtncmF5OiAnI2E5YTlhOScsXG4gICAgICAgIGRhcmtncmVlbjogJyMwMDY0MDAnLFxuICAgICAgICBkYXJrZ3JleTogJyNhOWE5YTknLFxuICAgICAgICBkYXJra2hha2k6ICcjYmRiNzZiJyxcbiAgICAgICAgZGFya21hZ2VudGE6ICcjOGIwMDhiJyxcbiAgICAgICAgZGFya29saXZlZ3JlZW46ICcjNTU2YjJmJyxcbiAgICAgICAgZGFya29yYW5nZTogJyNmZjhjMDAnLFxuICAgICAgICBkYXJrb3JjaGlkOiAnIzk5MzJjYycsXG4gICAgICAgIGRhcmtyZWQ6ICcjOGIwMDAwJyxcbiAgICAgICAgZGFya3NhbG1vbjogJyNlOTk2N2EnLFxuICAgICAgICBkYXJrc2VhZ3JlZW46ICcjOGZiYzhmJyxcbiAgICAgICAgZGFya3NsYXRlYmx1ZTogJyM0ODNkOGInLFxuICAgICAgICBkYXJrc2xhdGVncmF5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmtzbGF0ZWdyZXk6ICcjMmY0ZjRmJyxcbiAgICAgICAgZGFya3R1cnF1b2lzZTogJyMwMGNlZDEnLFxuICAgICAgICBkYXJrdmlvbGV0OiAnIzk0MDBkMycsXG4gICAgICAgIGRlZXBwaW5rOiAnI2ZmMTQ5MycsXG4gICAgICAgIGRlZXBza3libHVlOiAnIzAwYmZmZicsXG4gICAgICAgIGRpbWdyYXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZGltZ3JleTogJyM2OTY5NjknLFxuICAgICAgICBkb2RnZXJibHVlOiAnIzFlOTBmZicsXG4gICAgICAgIGZpcmVicmljazogJyNiMjIyMjInLFxuICAgICAgICBmbG9yYWx3aGl0ZTogJyNmZmZhZjAnLFxuICAgICAgICBmb3Jlc3RncmVlbjogJyMyMjhiMjInLFxuICAgICAgICBmdWNoc2lhOiAnI2ZmMDBmZicsXG4gICAgICAgIGdhaW5zYm9ybzogJyNkY2RjZGMnLFxuICAgICAgICBnaG9zdHdoaXRlOiAnI2Y4ZjhmZicsXG4gICAgICAgIGdvbGQ6ICcjZmZkNzAwJyxcbiAgICAgICAgZ29sZGVucm9kOiAnI2RhYTUyMCcsXG4gICAgICAgIGdyYXk6ICcjODA4MDgwJyxcbiAgICAgICAgZ3JlZW46ICcjMDA4MDAwJyxcbiAgICAgICAgZ3JlZW55ZWxsb3c6ICcjYWRmZjJmJyxcbiAgICAgICAgZ3JleTogJyM4MDgwODAnLFxuICAgICAgICBob25leWRldzogJyNmMGZmZjAnLFxuICAgICAgICBob3RwaW5rOiAnI2ZmNjliNCcsXG4gICAgICAgIGluZGlhbnJlZDogJyNjZDVjNWMnLFxuICAgICAgICBpbmRpZ286ICcjNGIwMDgyJyxcbiAgICAgICAgaXZvcnk6ICcjZmZmZmYwJyxcbiAgICAgICAga2hha2k6ICcjZjBlNjhjJyxcbiAgICAgICAgbGFzZXJsZW1vbjogJyNmZmZmNTQnLFxuICAgICAgICBsYXZlbmRlcjogJyNlNmU2ZmEnLFxuICAgICAgICBsYXZlbmRlcmJsdXNoOiAnI2ZmZjBmNScsXG4gICAgICAgIGxhd25ncmVlbjogJyM3Y2ZjMDAnLFxuICAgICAgICBsZW1vbmNoaWZmb246ICcjZmZmYWNkJyxcbiAgICAgICAgbGlnaHRibHVlOiAnI2FkZDhlNicsXG4gICAgICAgIGxpZ2h0Y29yYWw6ICcjZjA4MDgwJyxcbiAgICAgICAgbGlnaHRjeWFuOiAnI2UwZmZmZicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9kOiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z3JheTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodGdyZWVuOiAnIzkwZWU5MCcsXG4gICAgICAgIGxpZ2h0Z3JleTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodHBpbms6ICcjZmZiNmMxJyxcbiAgICAgICAgbGlnaHRzYWxtb246ICcjZmZhMDdhJyxcbiAgICAgICAgbGlnaHRzZWFncmVlbjogJyMyMGIyYWEnLFxuICAgICAgICBsaWdodHNreWJsdWU6ICcjODdjZWZhJyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyYXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyZXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzdGVlbGJsdWU6ICcjYjBjNGRlJyxcbiAgICAgICAgbGlnaHR5ZWxsb3c6ICcjZmZmZmUwJyxcbiAgICAgICAgbGltZTogJyMwMGZmMDAnLFxuICAgICAgICBsaW1lZ3JlZW46ICcjMzJjZDMyJyxcbiAgICAgICAgbGluZW46ICcjZmFmMGU2JyxcbiAgICAgICAgbWFnZW50YTogJyNmZjAwZmYnLFxuICAgICAgICBtYXJvb246ICcjODAwMDAwJyxcbiAgICAgICAgbWFyb29uMjogJyM3ZjAwMDAnLFxuICAgICAgICBtYXJvb24zOiAnI2IwMzA2MCcsXG4gICAgICAgIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZjZGFhJyxcbiAgICAgICAgbWVkaXVtYmx1ZTogJyMwMDAwY2QnLFxuICAgICAgICBtZWRpdW1vcmNoaWQ6ICcjYmE1NWQzJyxcbiAgICAgICAgbWVkaXVtcHVycGxlOiAnIzkzNzBkYicsXG4gICAgICAgIG1lZGl1bXNlYWdyZWVuOiAnIzNjYjM3MScsXG4gICAgICAgIG1lZGl1bXNsYXRlYmx1ZTogJyM3YjY4ZWUnLFxuICAgICAgICBtZWRpdW1zcHJpbmdncmVlbjogJyMwMGZhOWEnLFxuICAgICAgICBtZWRpdW10dXJxdW9pc2U6ICcjNDhkMWNjJyxcbiAgICAgICAgbWVkaXVtdmlvbGV0cmVkOiAnI2M3MTU4NScsXG4gICAgICAgIG1pZG5pZ2h0Ymx1ZTogJyMxOTE5NzAnLFxuICAgICAgICBtaW50Y3JlYW06ICcjZjVmZmZhJyxcbiAgICAgICAgbWlzdHlyb3NlOiAnI2ZmZTRlMScsXG4gICAgICAgIG1vY2Nhc2luOiAnI2ZmZTRiNScsXG4gICAgICAgIG5hdmFqb3doaXRlOiAnI2ZmZGVhZCcsXG4gICAgICAgIG5hdnk6ICcjMDAwMDgwJyxcbiAgICAgICAgb2xkbGFjZTogJyNmZGY1ZTYnLFxuICAgICAgICBvbGl2ZTogJyM4MDgwMDAnLFxuICAgICAgICBvbGl2ZWRyYWI6ICcjNmI4ZTIzJyxcbiAgICAgICAgb3JhbmdlOiAnI2ZmYTUwMCcsXG4gICAgICAgIG9yYW5nZXJlZDogJyNmZjQ1MDAnLFxuICAgICAgICBvcmNoaWQ6ICcjZGE3MGQ2JyxcbiAgICAgICAgcGFsZWdvbGRlbnJvZDogJyNlZWU4YWEnLFxuICAgICAgICBwYWxlZ3JlZW46ICcjOThmYjk4JyxcbiAgICAgICAgcGFsZXR1cnF1b2lzZTogJyNhZmVlZWUnLFxuICAgICAgICBwYWxldmlvbGV0cmVkOiAnI2RiNzA5MycsXG4gICAgICAgIHBhcGF5YXdoaXA6ICcjZmZlZmQ1JyxcbiAgICAgICAgcGVhY2hwdWZmOiAnI2ZmZGFiOScsXG4gICAgICAgIHBlcnU6ICcjY2Q4NTNmJyxcbiAgICAgICAgcGluazogJyNmZmMwY2InLFxuICAgICAgICBwbHVtOiAnI2RkYTBkZCcsXG4gICAgICAgIHBvd2RlcmJsdWU6ICcjYjBlMGU2JyxcbiAgICAgICAgcHVycGxlOiAnIzgwMDA4MCcsXG4gICAgICAgIHB1cnBsZTI6ICcjN2YwMDdmJyxcbiAgICAgICAgcHVycGxlMzogJyNhMDIwZjAnLFxuICAgICAgICByZWJlY2NhcHVycGxlOiAnIzY2MzM5OScsXG4gICAgICAgIHJlZDogJyNmZjAwMDAnLFxuICAgICAgICByb3N5YnJvd246ICcjYmM4ZjhmJyxcbiAgICAgICAgcm95YWxibHVlOiAnIzQxNjllMScsXG4gICAgICAgIHNhZGRsZWJyb3duOiAnIzhiNDUxMycsXG4gICAgICAgIHNhbG1vbjogJyNmYTgwNzInLFxuICAgICAgICBzYW5keWJyb3duOiAnI2Y0YTQ2MCcsXG4gICAgICAgIHNlYWdyZWVuOiAnIzJlOGI1NycsXG4gICAgICAgIHNlYXNoZWxsOiAnI2ZmZjVlZScsXG4gICAgICAgIHNpZW5uYTogJyNhMDUyMmQnLFxuICAgICAgICBzaWx2ZXI6ICcjYzBjMGMwJyxcbiAgICAgICAgc2t5Ymx1ZTogJyM4N2NlZWInLFxuICAgICAgICBzbGF0ZWJsdWU6ICcjNmE1YWNkJyxcbiAgICAgICAgc2xhdGVncmF5OiAnIzcwODA5MCcsXG4gICAgICAgIHNsYXRlZ3JleTogJyM3MDgwOTAnLFxuICAgICAgICBzbm93OiAnI2ZmZmFmYScsXG4gICAgICAgIHNwcmluZ2dyZWVuOiAnIzAwZmY3ZicsXG4gICAgICAgIHN0ZWVsYmx1ZTogJyM0NjgyYjQnLFxuICAgICAgICB0YW46ICcjZDJiNDhjJyxcbiAgICAgICAgdGVhbDogJyMwMDgwODAnLFxuICAgICAgICB0aGlzdGxlOiAnI2Q4YmZkOCcsXG4gICAgICAgIHRvbWF0bzogJyNmZjYzNDcnLFxuICAgICAgICB0dXJxdW9pc2U6ICcjNDBlMGQwJyxcbiAgICAgICAgdmlvbGV0OiAnI2VlODJlZScsXG4gICAgICAgIHdoZWF0OiAnI2Y1ZGViMycsXG4gICAgICAgIHdoaXRlOiAnI2ZmZmZmZicsXG4gICAgICAgIHdoaXRlc21va2U6ICcjZjVmNWY1JyxcbiAgICAgICAgeWVsbG93OiAnI2ZmZmYwMCcsXG4gICAgICAgIHllbGxvd2dyZWVuOiAnIzlhY2QzMidcbiAgICB9O1xuXG4gICAgdmFyIHczY3gxMV8xID0gdzNjeDExO1xuXG4gICAgdmFyIHR5cGUkYiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXhfMSh0aGlzLl9yZ2IsICdyZ2InKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBPYmplY3Qua2V5cyh3M2N4MTFfMSk7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgIGlmICh3M2N4MTFfMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubmFtZWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodzNjeDExXzFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2JfMSh3M2N4MTFfMVtuYW1lXSk7IH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbG9yIG5hbWU6ICcrbmFtZSk7XG4gICAgfTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDUsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJGIoaCkgPT09ICdzdHJpbmcnICYmIHczY3gxMV8xW2gudG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25hbWVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayR0KGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgcmV0dXJuIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJudW1fMSA9IHJnYjJudW07XG5cbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRjKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubnVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbnVtJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNSxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlJGQoYXJnc1swXSkgPT09ICdudW1iZXInICYmIGFyZ3NbMF0gPj0gMCAmJiBhcmdzWzBdIDw9IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJHUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHJvdW5kJDUgPSBNYXRoLnJvdW5kO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiID0gZnVuY3Rpb24ocm5kKSB7XG4gICAgICAgIGlmICggcm5kID09PSB2b2lkIDAgKSBybmQ9dHJ1ZTtcblxuICAgICAgICBpZiAocm5kID09PSBmYWxzZSkgeyByZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyk7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpLm1hcChyb3VuZCQ1KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiYSA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDQpLm1hcChmdW5jdGlvbiAodixpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTwzID8gKHJuZCA9PT0gZmFsc2UgPyB2IDogcm91bmQkNSh2KSkgOiB2O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsncmdiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJHUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAncmdiYScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZShhcmdzKSA9PT0gJ2FycmF5JyAmJiAoYXJncy5sZW5ndGggPT09IDMgfHxcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlJGUoYXJnc1szXSkgPT0gJ251bWJlcicgJiYgYXJnc1szXSA+PSAwICYmIGFyZ3NbM10gPD0gMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogQmFzZWQgb24gaW1wbGVtZW50YXRpb24gYnkgTmVpbCBCYXJ0bGV0dFxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZWlsYmFydGxldHQvY29sb3ItdGVtcGVyYXR1cmVcbiAgICAgKi9cblxuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2coZyk7XG4gICAgICAgICAgICBiID0gdGVtcCA8IDIwID8gMCA6IC0yNTQuNzY5MzUxODQxMjA5MDIgKyAwLjgyNzQwOTYwNjQwMDczOTUgKiAoYiA9IHRlbXAtMTApICsgMTE1LjY3OTk0NDAxMDY2MTQ3ICogbG9nKGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IDM1MS45NzY5MDU2NjgwNTY5MyArIDAuMTE0MjA2NDUzNzg0MTY1ICogKHIgPSB0ZW1wLTU1KSAtIDQwLjI1MzY2MzA5MzMyMTI3ICogbG9nKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nKGcpO1xuICAgICAgICAgICAgYiA9IDI1NTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgIH07XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiXzEgPSB0ZW1wZXJhdHVyZTJyZ2I7XG5cbiAgICAvKlxuICAgICAqIEJhc2VkIG9uIGltcGxlbWVudGF0aW9uIGJ5IE5laWwgQmFydGxldHRcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbmVpbGJhcnRsZXR0L2NvbG9yLXRlbXBlcmF0dXJlXG4gICAgICoqL1xuXG5cbiAgICB2YXIgdW5wYWNrJHYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIHJnYjJ0ZW1wZXJhdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJHYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYl8xKHRlbXApO1xuICAgICAgICAgICAgaWYgKChyZ2IkMVsyXSAvIHJnYiQxWzBdKSA+PSAoYiAvIHIpKSB7XG4gICAgICAgICAgICAgICAgbWF4VGVtcCA9IHRlbXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3VuZCQ2KHRlbXApO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnRlbXBlcmF0dXJlXzEgPSByZ2IydGVtcGVyYXR1cmU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS50ZW1wID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5rZWx2aW4gPVxuICAgIENvbG9yXzEucHJvdG90eXBlLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IydGVtcGVyYXR1cmVfMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS50ZW1wID1cbiAgICBjaHJvbWFfMS5rZWx2aW4gPVxuICAgIGNocm9tYV8xLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LnRlbXAgPVxuICAgIGlucHV0LmZvcm1hdC5rZWx2aW4gPVxuICAgIGlucHV0LmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHR5cGUkZiA9IHV0aWxzLnR5cGU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5hbHBoYSA9IGZ1bmN0aW9uKGEsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlPWZhbHNlO1xuXG4gICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQgJiYgdHlwZSRmKGEpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JnYlszXSA9IGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoW3RoaXMuX3JnYlswXSwgdGhpcy5fcmdiWzFdLCB0aGlzLl9yZ2JbMl0sIGFdLCAncmdiJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYlszXTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuY2xpcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmdiLl9jbGlwcGVkIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5kYXJrZW4gPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsYWIgPSBtZS5sYWIoKTtcbiAgICBcdGxhYlswXSAtPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGFiLCAnbGFiJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHJldHVybiB0aGlzLmRhcmtlbigtYW1vdW50KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuZGFya2VyID0gQ29sb3JfMS5wcm90b3R5cGUuZGFya2VuO1xuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVyID0gQ29sb3JfMS5wcm90b3R5cGUuYnJpZ2h0ZW47XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihtYykge1xuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7IHJldHVybiBzcmNbaV07IH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR5cGUkZyA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQyID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSRnKGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yXzEoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDIoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yID0ge307XG5cbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcblxuXG4gICAgdmFyIG1peCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAzIF07XG5cbiAgICAgICAgdmFyIG1vZGUgPSByZXN0WzBdIHx8ICdscmdiJztcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0gJiYgIXJlc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGZpcnN0IHN1cHBvcnRlZCBtb2RlXG4gICAgICAgICAgICBtb2RlID0gT2JqZWN0LmtleXMoaW50ZXJwb2xhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVycG9sYXRvclttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImludGVycG9sYXRpb24gbW9kZSBcIiArIG1vZGUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUkaChjb2wxKSAhPT0gJ29iamVjdCcpIHsgY29sMSA9IG5ldyBDb2xvcl8xKGNvbDEpOyB9XG4gICAgICAgIGlmICh0eXBlJGgoY29sMikgIT09ICdvYmplY3QnKSB7IGNvbDIgPSBuZXcgQ29sb3JfMShjb2wyKTsgfVxuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdG9yW21vZGVdKGNvbDEsIGNvbDIsIGYpXG4gICAgICAgICAgICAuYWxwaGEoY29sMS5hbHBoYSgpICsgZiAqIChjb2wyLmFscGhhKCkgLSBjb2wxLmFscGhhKCkpKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubWl4ID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKGNvbDIsIGYpIHtcbiAgICBcdGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgXHR2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBcdHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICAgIFx0cmV0dXJuIG1peC5hcHBseSh2b2lkIDAsIFsgdGhpcywgY29sMiwgZiBdLmNvbmNhdCggcmVzdCApKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucHJlbXVsdGlwbHkgPSBmdW5jdGlvbihtdXRhdGUpIHtcbiAgICBcdGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICBcdHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgXHR2YXIgYSA9IHJnYlszXTtcbiAgICBcdGlmIChtdXRhdGUpIHtcbiAgICBcdFx0dGhpcy5fcmdiID0gW3JnYlswXSphLCByZ2JbMV0qYSwgcmdiWzJdKmEsIGFdO1xuICAgIFx0XHRyZXR1cm4gdGhpcztcbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdHJldHVybiBuZXcgQ29sb3JfMShbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV0sICdyZ2InKTtcbiAgICBcdH1cbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsY2ggPSBtZS5sY2goKTtcbiAgICBcdGxjaFsxXSArPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJGkgPSB1dGlscy50eXBlO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obWMsIHZhbHVlLCBtdXRhdGUpIHtcbiAgICAgICAgaWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaSh2YWx1ZSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHZhbHVlLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKyc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKic6IHNyY1tpXSAqPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6IHNyY1tpXSAvPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogc3JjW2ldID0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlJGkodmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzcmNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB2YWx1ZSBmb3IgQ29sb3Iuc2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3V0ID0gbmV3IENvbG9yXzEoc3JjLCBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JnYiA9IG91dC5fcmdiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJnYiQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIHh5ejAgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5fcmdiO1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoXG4gICAgICAgICAgICB4eXowWzBdICsgZiAqICh4eXoxWzBdLXh5ejBbMF0pLFxuICAgICAgICAgICAgeHl6MFsxXSArIGYgKiAoeHl6MVsxXS14eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0teHl6MFsyXSksXG4gICAgICAgICAgICAncmdiJ1xuICAgICAgICApXG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvci5yZ2IgPSByZ2IkMTtcblxuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQzID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHgxLDIpICogKDEtZikgKyBwb3ckMyh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHkxLDIpICogKDEtZikgKyBwb3ckMyh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHoxLDIpICogKDEtZikgKyBwb3ckMyh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubHJnYiA9IGxyZ2I7XG5cbiAgICB2YXIgbGFiJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGFiID0gbGFiJDE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHVlMCwgaHVlMSwgc2F0MCwgc2F0MSwgbGJ2MCwgbGJ2MTtcbiAgICAgICAgaWYgKG0uc3Vic3RyKDAsIDEpID09PSAnaCcpIHtcbiAgICAgICAgICAgIChhc3NpZ24gPSB4eXowLCBodWUwID0gYXNzaWduWzBdLCBzYXQwID0gYXNzaWduWzFdLCBsYnYwID0gYXNzaWduWzJdKTtcbiAgICAgICAgICAgIChhc3NpZ24kMSA9IHh5ejEsIGh1ZTEgPSBhc3NpZ24kMVswXSwgc2F0MSA9IGFzc2lnbiQxWzFdLCBsYnYxID0gYXNzaWduJDFbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNhdCwgaHVlLCBsYnYsIGRoO1xuXG4gICAgICAgIGlmICghaXNOYU4oaHVlMCkgJiYgIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICAvLyBib3RoIGNvbG9ycyBoYXZlIGh1ZVxuICAgICAgICAgICAgaWYgKGh1ZTEgPiBodWUwICYmIGh1ZTEgLSBodWUwID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxLShodWUwKzM2MCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGh1ZTEgPCBodWUwICYmIGh1ZTAgLSBodWUxID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxKzM2MC1odWUwO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIGh1ZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodWUgPSBodWUwICsgZiAqIGRoO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUwKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMDtcbiAgICAgICAgICAgIGlmICgobGJ2MSA9PSAxIHx8IGxidjEgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQwOyB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICBodWUgPSBodWUxO1xuICAgICAgICAgICAgaWYgKChsYnYwID09IDEgfHwgbGJ2MCA9PSAwKSAmJiBtICE9ICdoc3YnKSB7IHNhdCA9IHNhdDE7IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh1ZSA9IE51bWJlci5OYU47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2F0ID09PSB1bmRlZmluZWQpIHsgc2F0ID0gc2F0MCArIGYgKiAoc2F0MSAtIHNhdDApOyB9XG4gICAgICAgIGxidiA9IGxidjAgKyBmICogKGxidjEtbGJ2MCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbaHVlLCBzYXQsIGxidl0sIG0pO1xuICAgIH07XG5cbiAgICB2YXIgbGNoJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2xjaCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGNoID0gbGNoJDE7XG4gICAgaW50ZXJwb2xhdG9yLmhjbCA9IGxjaCQxO1xuXG4gICAgdmFyIG51bSQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubnVtID0gbnVtJDE7XG5cbiAgICB2YXIgaGNnJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaGNnID0gaGNnJDE7XG5cbiAgICB2YXIgaHNpJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNpID0gaHNpJDE7XG5cbiAgICB2YXIgaHNsJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNsID0gaHNsJDE7XG5cbiAgICB2YXIgaHN2JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHN2ID0gaHN2JDE7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMSA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yXzEoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDEoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQxKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yXzEoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQzKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMyh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDMoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShjbGlwX3JnYiQyKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG5cbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBwb3ckNSA9IE1hdGgucG93O1xuXG4gICAgdmFyIHNjYWxlID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWFfMSgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkaihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWFfMS5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWFfMS5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hXzEuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJGooY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYV8xKGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQ1KHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSRqKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hXzEoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSRqKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYV8xLmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWFfMS5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMsIF9wb3MpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYV8xW291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hXzEoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuXG5cblxuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvcl8xKGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICB2YXIgSTAgPSBiZXppZXIoY29sb3JzLnNsaWNlKDAsIDMpKTtcbiAgICAgICAgICAgIHZhciBJMSA9IGJlemllcihjb2xvcnMuc2xpY2UoMiwgNSkpO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTAodCoyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTEoKHQtMC41KSoyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJO1xuICAgIH07XG5cbiAgICB2YXIgYmV6aWVyXzEgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG4gICAgICAgIHZhciBmID0gYmV6aWVyKGNvbG9ycyk7XG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FsZShmKTsgfTtcbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogaW50ZXJwb2xhdGVzIGJldHdlZW4gYSBzZXQgb2YgY29sb3JzIHV6aW5nIGEgYmV6aWVyIHNwbGluZVxuICAgICAqIGJsZW5kIG1vZGUgZm9ybXVsYXMgdGFrZW4gZnJvbSBodHRwOi8vd3d3LnZlbnR1cmUtd2FyZS5jb20va2V2aW4vY29kaW5nL2xldHMtbGVhcm4tbWF0aC1waG90b3Nob3AtYmxlbmQtbW9kZXMvXG4gICAgICovXG5cblxuXG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWFfMSh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hXzEoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMS5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiQxID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSA+IGIgPyBiIDogYTsgfTtcbiAgICB2YXIgbGlnaHRlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYSA6IGI7IH07XG4gICAgdmFyIHNjcmVlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIDI1NSAqICgxIC0gKDEtYS8yNTUpICogKDEtYi8yNTUpKTsgfTtcbiAgICB2YXIgb3ZlcmxheSA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGIgPCAxMjggPyAyICogYSAqIGIgLyAyNTUgOiAyNTUgKiAoMSAtIDIgKiAoMSAtIGEgLyAyNTUgKSAqICggMSAtIGIgLyAyNTUgKSk7IH07XG4gICAgdmFyIGJ1cm4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxIC0gYiAvIDI1NSkgLyAoYS8yNTUpKTsgfTtcbiAgICB2YXIgZG9kZ2UgPSBmdW5jdGlvbiAoYSxiKSB7XG4gICAgICAgIGlmIChhID09PSAyNTUpIHsgcmV0dXJuIDI1NTsgfVxuICAgICAgICBhID0gMjU1ICogKGIgLyAyNTUpIC8gKDEgLSBhIC8gMjU1KTtcbiAgICAgICAgcmV0dXJuIGEgPiAyNTUgPyAyNTUgOiBhXG4gICAgfTtcblxuICAgIC8vICMgYWRkID0gKGEsYikgLT5cbiAgICAvLyAjICAgICBpZiAoYSArIGIgPiAyNTUpIHRoZW4gMjU1IGVsc2UgYSArIGJcblxuICAgIGJsZW5kLm5vcm1hbCA9IGJsZW5kX2YoZWFjaChub3JtYWwpKTtcbiAgICBibGVuZC5tdWx0aXBseSA9IGJsZW5kX2YoZWFjaChtdWx0aXBseSkpO1xuICAgIGJsZW5kLnNjcmVlbiA9IGJsZW5kX2YoZWFjaChzY3JlZW4pKTtcbiAgICBibGVuZC5vdmVybGF5ID0gYmxlbmRfZihlYWNoKG92ZXJsYXkpKTtcbiAgICBibGVuZC5kYXJrZW4gPSBibGVuZF9mKGVhY2goZGFya2VuJDEpKTtcbiAgICBibGVuZC5saWdodGVuID0gYmxlbmRfZihlYWNoKGxpZ2h0ZW4pKTtcbiAgICBibGVuZC5kb2RnZSA9IGJsZW5kX2YoZWFjaChkb2RnZSkpO1xuICAgIGJsZW5kLmJ1cm4gPSBibGVuZF9mKGVhY2goYnVybikpO1xuICAgIC8vIGJsZW5kLmFkZCA9IGJsZW5kX2YoZWFjaChhZGQpKTtcblxuICAgIHZhciBibGVuZF8xID0gYmxlbmQ7XG5cbiAgICAvLyBjdWJlaGVsaXggaW50ZXJwb2xhdGlvblxuICAgIC8vIGJhc2VkIG9uIEQuQS4gR3JlZW4gXCJBIGNvbG91ciBzY2hlbWUgZm9yIHRoZSBkaXNwbGF5IG9mIGFzdHJvbm9taWNhbCBpbnRlbnNpdHkgaW1hZ2VzXCJcbiAgICAvLyBodHRwOi8vYXN0cm9uLXNvYy5pbi9idWxsZXRpbi8xMUp1bmUvMjg5MzkyMDExLnBkZlxuXG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNsaXBfcmdiJDMgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBwb3ckNiA9IE1hdGgucG93O1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBjb3MkMyA9IE1hdGguY29zO1xuXG5cbiAgICB2YXIgY3ViZWhlbGl4ID0gZnVuY3Rpb24oc3RhcnQsIHJvdGF0aW9ucywgaHVlLCBnYW1tYSwgbGlnaHRuZXNzKSB7XG4gICAgICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0PTMwMDtcbiAgICAgICAgaWYgKCByb3RhdGlvbnMgPT09IHZvaWQgMCApIHJvdGF0aW9ucz0tMS41O1xuICAgICAgICBpZiAoIGh1ZSA9PT0gdm9pZCAwICkgaHVlPTE7XG4gICAgICAgIGlmICggZ2FtbWEgPT09IHZvaWQgMCApIGdhbW1hPTE7XG4gICAgICAgIGlmICggbGlnaHRuZXNzID09PSB2b2lkIDAgKSBsaWdodG5lc3M9WzAsMV07XG5cbiAgICAgICAgdmFyIGRoID0gMCwgZGw7XG4gICAgICAgIGlmICh0eXBlJGsobGlnaHRuZXNzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgZGwgPSBsaWdodG5lc3NbMV0gLSBsaWdodG5lc3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICBsaWdodG5lc3MgPSBbbGlnaHRuZXNzLCBsaWdodG5lc3NdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihmcmFjdCkge1xuICAgICAgICAgICAgdmFyIGEgPSBUV09QSSQyICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQ2KGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDMoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMihhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMShjbGlwX3JnYiQzKFtyKjI1NSxnKjI1NSxiKjI1NSwxXSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc3RhcnQgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBpZiAoKHMgPT0gbnVsbCkpIHsgcmV0dXJuIHN0YXJ0OyB9XG4gICAgICAgICAgICBzdGFydCA9IHM7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnJvdGF0aW9ucyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIGlmICgociA9PSBudWxsKSkgeyByZXR1cm4gcm90YXRpb25zOyB9XG4gICAgICAgICAgICByb3RhdGlvbnMgPSByO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5nYW1tYSA9IGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICAgIGlmICgoZyA9PSBudWxsKSkgeyByZXR1cm4gZ2FtbWE7IH1cbiAgICAgICAgICAgIGdhbW1hID0gZztcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuaHVlID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBodWU7IH1cbiAgICAgICAgICAgIGh1ZSA9IGg7XG4gICAgICAgICAgICBpZiAodHlwZSRrKGh1ZSkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZVsxXSAtIGh1ZVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZGggPT09IDApIHsgaHVlID0gaHVlWzFdOyB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYubGlnaHRuZXNzID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBsaWdodG5lc3M7IH1cbiAgICAgICAgICAgIGlmICh0eXBlJGsoaCkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBoO1xuICAgICAgICAgICAgICAgIGRsID0gaFsxXSAtIGhbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtoLGhdO1xuICAgICAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjaHJvbWFfMS5zY2FsZShmKTsgfTtcblxuICAgICAgICBmLmh1ZShodWUpO1xuXG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICB2YXIgZGlnaXRzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuICAgIHZhciByYW5kb21fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvZGUgPSAnIyc7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw2OyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gZGlnaXRzLmNoYXJBdChmbG9vciQyKHJhbmRvbSgpICogMTYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoY29kZSwgJ2hleCcpO1xuICAgIH07XG5cbiAgICB2YXIgbG9nJDEgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IkMyA9IE1hdGguZmxvb3I7XG4gICAgdmFyIGFicyA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2ckMShtaW4pO1xuICAgICAgICAgICAgdmFyIG1heF9sb2cgPSBNYXRoLkxPRzEwRSAqIGxvZyQxKG1heCk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTE7IGkkMTxudW07IGkkMSsrKSB7XG4gICAgICAgICAgICAgICAgbGltaXRzLnB1c2gocG93JDcoMTAsIG1pbl9sb2cgKyAoKGkkMS9udW0pICogKG1heF9sb2cgLSBtaW5fbG9nKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAncScpIHsgLy8gcXVhbnRpbGUgc2NhbGVcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MTsgaSQyPG51bTsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9ICgodmFsdWVzLmxlbmd0aC0xKSAqIGkkMikvbnVtO1xuICAgICAgICAgICAgICAgIHZhciBwYiA9IGZsb29yJDMocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzKGNlbnRyb2lkc1tqJDFdLXZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluZGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVyU2l6ZXNbYmVzdF0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW2kkNF0gPSBiZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNlbnRyb2lkcyBzdGVwXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NlbnRyb2lkcyA9IG5ldyBBcnJheShudW0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMj0wOyBqJDI8bnVtOyBqJDIrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQyXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkkNT0wOyBpJDU8bjsgaSQ1KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbY2x1c3Rlcl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdICs9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMz0wOyBqJDM8bnVtOyBqJDMrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQzXSAqPSAxL2NsdXN0ZXJTaXplc1tqJDNdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGNvbnZlcmdlbmNlXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQ0PTA7IGokNDxudW07IGokNCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbaiQ0XSAhPT0gY2VudHJvaWRzW2okNF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNlbnRyb2lkcyA9IG5ld0NlbnRyb2lkcztcbiAgICAgICAgICAgICAgICBuYl9pdGVycysrO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5iX2l0ZXJzID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmluaXNoZWQgay1tZWFucyBjbHVzdGVyaW5nXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBwYXJ0IGlzIGJvcnJvd2VkIGZyb20gZ2FicmllbGZsb3IuaXRcbiAgICAgICAgICAgIHZhciBrQ2x1c3RlcnMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGokNT0wOyBqJDU8bnVtOyBqJDUrKykge1xuICAgICAgICAgICAgICAgIGtDbHVzdGVyc1tqJDVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpJDY9MDsgaSQ2PG47IGkkNisrKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNl07XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2NsdXN0ZXJdLnB1c2godmFsdWVzW2kkNl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRtcEtNZWFuc0JyZWFrcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ2PTA7IGokNjxudW07IGokNisrKSB7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1bMF0pO1xuICAgICAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcy5wdXNoKGtDbHVzdGVyc1tqJDZdW2tDbHVzdGVyc1tqJDZdLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MgPSB0bXBLTWVhbnNCcmVha3Muc29ydChmdW5jdGlvbiAoYSxiKXsgcmV0dXJuIGEtYjsgfSk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaCh0bXBLTWVhbnNCcmVha3NbMF0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ3PTE7IGkkNyA8IHRtcEtNZWFuc0JyZWFrcy5sZW5ndGg7IGkkNys9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRtcEtNZWFuc0JyZWFrc1tpJDddO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odikgJiYgKGxpbWl0cy5pbmRleE9mKHYpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfTtcblxuICAgIHZhciBhbmFseXplXzEgPSB7YW5hbHl6ZTogYW5hbHl6ZSwgbGltaXRzOiBsaW1pdHN9O1xuXG4gICAgdmFyIGNvbnRyYXN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gV0NBRyBjb250cmFzdCByYXRpb1xuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyNjb250cmFzdC1yYXRpb2RlZlxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5sdW1pbmFuY2UoKTtcbiAgICAgICAgdmFyIGwyID0gYi5sdW1pbmFuY2UoKTtcbiAgICAgICAgcmV0dXJuIGwxID4gbDIgPyAobDEgKyAwLjA1KSAvIChsMiArIDAuMDUpIDogKGwyICsgMC4wNSkgLyAobDEgKyAwLjA1KTtcbiAgICB9O1xuXG4gICAgdmFyIHNxcnQkNCA9IE1hdGguc3FydDtcbiAgICB2YXIgYXRhbjIkMiA9IE1hdGguYXRhbjI7XG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG4gICAgdmFyIGNvcyQ0ID0gTWF0aC5jb3M7XG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEwsIEMpIHtcbiAgICAgICAgaWYgKCBMID09PSB2b2lkIDAgKSBMPTE7XG4gICAgICAgIGlmICggQyA9PT0gdm9pZCAwICkgQz0xO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENNQylcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DTUMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIHJlZiA9IEFycmF5LmZyb20oYS5sYWIoKSk7XG4gICAgICAgIHZhciBMMSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGExID0gcmVmWzFdO1xuICAgICAgICB2YXIgYjEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IEFycmF5LmZyb20oYi5sYWIoKSk7XG4gICAgICAgIHZhciBMMiA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgYTIgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGIyID0gcmVmJDFbMl07XG4gICAgICAgIHZhciBjMSA9IHNxcnQkNCgoYTEgKiBhMSkgKyAoYjEgKiBiMSkpO1xuICAgICAgICB2YXIgYzIgPSBzcXJ0JDQoKGEyICogYTIpICsgKGIyICogYjIpKTtcbiAgICAgICAgdmFyIHNsID0gTDEgPCAxNi4wID8gMC41MTEgOiAoMC4wNDA5NzUgKiBMMSkgLyAoMS4wICsgKDAuMDE3NjUgKiBMMSkpO1xuICAgICAgICB2YXIgc2MgPSAoKDAuMDYzOCAqIGMxKSAvICgxLjAgKyAoMC4wMTMxICogYzEpKSkgKyAwLjYzODtcbiAgICAgICAgdmFyIGgxID0gYzEgPCAwLjAwMDAwMSA/IDAuMCA6IChhdGFuMiQyKGIxLCBhMSkgKiAxODAuMCkgLyBQSSQyO1xuICAgICAgICB3aGlsZSAoaDEgPCAwKSB7IGgxICs9IDM2MDsgfVxuICAgICAgICB3aGlsZSAoaDEgPj0gMzYwKSB7IGgxIC09IDM2MDsgfVxuICAgICAgICB2YXIgdCA9IChoMSA+PSAxNjQuMCkgJiYgKGgxIDw9IDM0NS4wKSA/ICgwLjU2ICsgYWJzJDEoMC4yICogY29zJDQoKFBJJDIgKiAoaDEgKyAxNjguMCkpIC8gMTgwLjApKSkgOiAoMC4zNiArIGFicyQxKDAuNCAqIGNvcyQ0KChQSSQyICogKGgxICsgMzUuMCkpIC8gMTgwLjApKSk7XG4gICAgICAgIHZhciBjNCA9IGMxICogYzEgKiBjMSAqIGMxO1xuICAgICAgICB2YXIgZiA9IHNxcnQkNChjNCAvIChjNCArIDE5MDAuMCkpO1xuICAgICAgICB2YXIgc2ggPSBzYyAqICgoKGYgKiB0KSArIDEuMCkgLSBmKTtcbiAgICAgICAgdmFyIGRlbEwgPSBMMSAtIEwyO1xuICAgICAgICB2YXIgZGVsQyA9IGMxIC0gYzI7XG4gICAgICAgIHZhciBkZWxBID0gYTEgLSBhMjtcbiAgICAgICAgdmFyIGRlbEIgPSBiMSAtIGIyO1xuICAgICAgICB2YXIgZEgyID0gKChkZWxBICogZGVsQSkgKyAoZGVsQiAqIGRlbEIpKSAtIChkZWxDICogZGVsQyk7XG4gICAgICAgIHZhciB2MSA9IGRlbEwgLyAoTCAqIHNsKTtcbiAgICAgICAgdmFyIHYyID0gZGVsQyAvIChDICogc2MpO1xuICAgICAgICB2YXIgdjMgPSBzaDtcbiAgICAgICAgcmV0dXJuIHNxcnQkNCgodjEgKiB2MSkgKyAodjIgKiB2MikgKyAoZEgyIC8gKHYzICogdjMpKSk7XG4gICAgfTtcblxuICAgIC8vIHNpbXBsZSBFdWNsaWRlYW4gZGlzdGFuY2VcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiLCBtb2RlKSB7XG4gICAgICAgIGlmICggbW9kZSA9PT0gdm9pZCAwICkgbW9kZT0nbGFiJztcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMTk3NilcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXF1YXRpb25zLmh0bWxcbiAgICAgICAgYSA9IG5ldyBDb2xvcl8xKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yXzEoYik7XG4gICAgICAgIHZhciBsMSA9IGEuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgbDIgPSBiLmdldChtb2RlKTtcbiAgICAgICAgdmFyIHN1bV9zcSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgaW4gbDEpIHtcbiAgICAgICAgICAgIHZhciBkID0gKGwxW2ldIHx8IDApIC0gKGwyW2ldIHx8IDApO1xuICAgICAgICAgICAgc3VtX3NxICs9IGQqZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHN1bV9zcSk7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzKSApKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gc29tZSBwcmUtZGVmaW5lZCBjb2xvciBzY2FsZXM6XG5cblxuXG5cbiAgICB2YXIgc2NhbGVzID0ge1xuICAgIFx0Y29vbDogZnVuY3Rpb24gY29vbCgpIHsgcmV0dXJuIHNjYWxlKFtjaHJvbWFfMS5oc2woMTgwLDEsLjkpLCBjaHJvbWFfMS5oc2woMjUwLC43LC40KV0pIH0sXG4gICAgXHRob3Q6IGZ1bmN0aW9uIGhvdCgpIHsgcmV0dXJuIHNjYWxlKFsnIzAwMCcsJyNmMDAnLCcjZmYwJywnI2ZmZiddLCBbMCwuMjUsLjc1LDFdKS5tb2RlKCdyZ2InKSB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgICBDb2xvckJyZXdlciBjb2xvcnMgZm9yIGNocm9tYS5qc1xuXG4gICAgICAgIENvcHlyaWdodCAoYykgMjAwMiBDeW50aGlhIEJyZXdlciwgTWFyayBIYXJyb3dlciwgYW5kIFRoZVxuICAgICAgICBQZW5uc3lsdmFuaWEgU3RhdGUgVW5pdmVyc2l0eS5cblxuICAgICAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICAgICAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gICAgICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICAgICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuICAgICAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkXG4gICAgICAgIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SXG4gICAgICAgIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gICAgICAgIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICAgKi9cblxuICAgIHZhciBjb2xvcmJyZXdlciA9IHtcbiAgICAgICAgLy8gc2VxdWVudGlhbFxuICAgICAgICBPclJkOiBbJyNmZmY3ZWMnLCAnI2ZlZThjOCcsICcjZmRkNDllJywgJyNmZGJiODQnLCAnI2ZjOGQ1OScsICcjZWY2NTQ4JywgJyNkNzMwMWYnLCAnI2IzMDAwMCcsICcjN2YwMDAwJ10sXG4gICAgICAgIFB1QnU6IFsnI2ZmZjdmYicsICcjZWNlN2YyJywgJyNkMGQxZTYnLCAnI2E2YmRkYicsICcjNzRhOWNmJywgJyMzNjkwYzAnLCAnIzA1NzBiMCcsICcjMDQ1YThkJywgJyMwMjM4NTgnXSxcbiAgICAgICAgQnVQdTogWycjZjdmY2ZkJywgJyNlMGVjZjQnLCAnI2JmZDNlNicsICcjOWViY2RhJywgJyM4Yzk2YzYnLCAnIzhjNmJiMScsICcjODg0MTlkJywgJyM4MTBmN2MnLCAnIzRkMDA0YiddLFxuICAgICAgICBPcmFuZ2VzOiBbJyNmZmY1ZWInLCAnI2ZlZTZjZScsICcjZmRkMGEyJywgJyNmZGFlNmInLCAnI2ZkOGQzYycsICcjZjE2OTEzJywgJyNkOTQ4MDEnLCAnI2E2MzYwMycsICcjN2YyNzA0J10sXG4gICAgICAgIEJ1R246IFsnI2Y3ZmNmZCcsICcjZTVmNWY5JywgJyNjY2VjZTYnLCAnIzk5ZDhjOScsICcjNjZjMmE0JywgJyM0MWFlNzYnLCAnIzIzOGI0NScsICcjMDA2ZDJjJywgJyMwMDQ0MWInXSxcbiAgICAgICAgWWxPckJyOiBbJyNmZmZmZTUnLCAnI2ZmZjdiYycsICcjZmVlMzkxJywgJyNmZWM0NGYnLCAnI2ZlOTkyOScsICcjZWM3MDE0JywgJyNjYzRjMDInLCAnIzk5MzQwNCcsICcjNjYyNTA2J10sXG4gICAgICAgIFlsR246IFsnI2ZmZmZlNScsICcjZjdmY2I5JywgJyNkOWYwYTMnLCAnI2FkZGQ4ZScsICcjNzhjNjc5JywgJyM0MWFiNWQnLCAnIzIzODQ0MycsICcjMDA2ODM3JywgJyMwMDQ1MjknXSxcbiAgICAgICAgUmVkczogWycjZmZmNWYwJywgJyNmZWUwZDInLCAnI2ZjYmJhMScsICcjZmM5MjcyJywgJyNmYjZhNGEnLCAnI2VmM2IyYycsICcjY2IxODFkJywgJyNhNTBmMTUnLCAnIzY3MDAwZCddLFxuICAgICAgICBSZFB1OiBbJyNmZmY3ZjMnLCAnI2ZkZTBkZCcsICcjZmNjNWMwJywgJyNmYTlmYjUnLCAnI2Y3NjhhMScsICcjZGQzNDk3JywgJyNhZTAxN2UnLCAnIzdhMDE3NycsICcjNDkwMDZhJ10sXG4gICAgICAgIEdyZWVuczogWycjZjdmY2Y1JywgJyNlNWY1ZTAnLCAnI2M3ZTljMCcsICcjYTFkOTliJywgJyM3NGM0NzYnLCAnIzQxYWI1ZCcsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbEduQnU6IFsnI2ZmZmZkOScsICcjZWRmOGIxJywgJyNjN2U5YjQnLCAnIzdmY2RiYicsICcjNDFiNmM0JywgJyMxZDkxYzAnLCAnIzIyNWVhOCcsICcjMjUzNDk0JywgJyMwODFkNTgnXSxcbiAgICAgICAgUHVycGxlczogWycjZmNmYmZkJywgJyNlZmVkZjUnLCAnI2RhZGFlYicsICcjYmNiZGRjJywgJyM5ZTlhYzgnLCAnIzgwN2RiYScsICcjNmE1MWEzJywgJyM1NDI3OGYnLCAnIzNmMDA3ZCddLFxuICAgICAgICBHbkJ1OiBbJyNmN2ZjZjAnLCAnI2UwZjNkYicsICcjY2NlYmM1JywgJyNhOGRkYjUnLCAnIzdiY2NjNCcsICcjNGViM2QzJywgJyMyYjhjYmUnLCAnIzA4NjhhYycsICcjMDg0MDgxJ10sXG4gICAgICAgIEdyZXlzOiBbJyNmZmZmZmYnLCAnI2YwZjBmMCcsICcjZDlkOWQ5JywgJyNiZGJkYmQnLCAnIzk2OTY5NicsICcjNzM3MzczJywgJyM1MjUyNTInLCAnIzI1MjUyNScsICcjMDAwMDAwJ10sXG4gICAgICAgIFlsT3JSZDogWycjZmZmZmNjJywgJyNmZmVkYTAnLCAnI2ZlZDk3NicsICcjZmViMjRjJywgJyNmZDhkM2MnLCAnI2ZjNGUyYScsICcjZTMxYTFjJywgJyNiZDAwMjYnLCAnIzgwMDAyNiddLFxuICAgICAgICBQdVJkOiBbJyNmN2Y0ZjknLCAnI2U3ZTFlZicsICcjZDRiOWRhJywgJyNjOTk0YzcnLCAnI2RmNjViMCcsICcjZTcyOThhJywgJyNjZTEyNTYnLCAnIzk4MDA0MycsICcjNjcwMDFmJ10sXG4gICAgICAgIEJsdWVzOiBbJyNmN2ZiZmYnLCAnI2RlZWJmNycsICcjYzZkYmVmJywgJyM5ZWNhZTEnLCAnIzZiYWVkNicsICcjNDI5MmM2JywgJyMyMTcxYjUnLCAnIzA4NTE5YycsICcjMDgzMDZiJ10sXG4gICAgICAgIFB1QnVHbjogWycjZmZmN2ZiJywgJyNlY2UyZjAnLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM2N2E5Y2YnLCAnIzM2OTBjMCcsICcjMDI4MThhJywgJyMwMTZjNTknLCAnIzAxNDYzNiddLFxuICAgICAgICBWaXJpZGlzOiBbJyM0NDAxNTQnLCAnIzQ4Mjc3NycsICcjM2Y0YThhJywgJyMzMTY3OGUnLCAnIzI2ODM4ZicsICcjMWY5ZDhhJywgJyM2Y2NlNWEnLCAnI2I2ZGUyYicsICcjZmVlODI1J10sXG5cbiAgICAgICAgLy8gZGl2ZXJnaW5nXG5cbiAgICAgICAgU3BlY3RyYWw6IFsnIzllMDE0MicsICcjZDUzZTRmJywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDhiJywgJyNmZmZmYmYnLCAnI2U2ZjU5OCcsICcjYWJkZGE0JywgJyM2NmMyYTUnLCAnIzMyODhiZCcsICcjNWU0ZmEyJ10sXG4gICAgICAgIFJkWWxHbjogWycjYTUwMDI2JywgJyNkNzMwMjcnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZDllZjhiJywgJyNhNmQ5NmEnLCAnIzY2YmQ2MycsICcjMWE5ODUwJywgJyMwMDY4MzcnXSxcbiAgICAgICAgUmRCdTogWycjNjcwMDFmJywgJyNiMjE4MmInLCAnI2Q2NjA0ZCcsICcjZjRhNTgyJywgJyNmZGRiYzcnLCAnI2Y3ZjdmNycsICcjZDFlNWYwJywgJyM5MmM1ZGUnLCAnIzQzOTNjMycsICcjMjE2NmFjJywgJyMwNTMwNjEnXSxcbiAgICAgICAgUGlZRzogWycjOGUwMTUyJywgJyNjNTFiN2QnLCAnI2RlNzdhZScsICcjZjFiNmRhJywgJyNmZGUwZWYnLCAnI2Y3ZjdmNycsICcjZTZmNWQwJywgJyNiOGUxODYnLCAnIzdmYmM0MScsICcjNGQ5MjIxJywgJyMyNzY0MTknXSxcbiAgICAgICAgUFJHbjogWycjNDAwMDRiJywgJyM3NjJhODMnLCAnIzk5NzBhYicsICcjYzJhNWNmJywgJyNlN2Q0ZTgnLCAnI2Y3ZjdmNycsICcjZDlmMGQzJywgJyNhNmRiYTAnLCAnIzVhYWU2MScsICcjMWI3ODM3JywgJyMwMDQ0MWInXSxcbiAgICAgICAgUmRZbEJ1OiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA5MCcsICcjZmZmZmJmJywgJyNlMGYzZjgnLCAnI2FiZDllOScsICcjNzRhZGQxJywgJyM0NTc1YjQnLCAnIzMxMzY5NSddLFxuICAgICAgICBCckJHOiBbJyM1NDMwMDUnLCAnIzhjNTEwYScsICcjYmY4MTJkJywgJyNkZmMyN2QnLCAnI2Y2ZThjMycsICcjZjVmNWY1JywgJyNjN2VhZTUnLCAnIzgwY2RjMScsICcjMzU5NzhmJywgJyMwMTY2NWUnLCAnIzAwM2MzMCddLFxuICAgICAgICBSZEd5OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZmZmZmZmJywgJyNlMGUwZTAnLCAnI2JhYmFiYScsICcjODc4Nzg3JywgJyM0ZDRkNGQnLCAnIzFhMWExYSddLFxuICAgICAgICBQdU9yOiBbJyM3ZjNiMDgnLCAnI2IzNTgwNicsICcjZTA4MjE0JywgJyNmZGI4NjMnLCAnI2ZlZTBiNicsICcjZjdmN2Y3JywgJyNkOGRhZWInLCAnI2IyYWJkMicsICcjODA3M2FjJywgJyM1NDI3ODgnLCAnIzJkMDA0YiddLFxuXG4gICAgICAgIC8vIHF1YWxpdGF0aXZlXG5cbiAgICAgICAgU2V0MjogWycjNjZjMmE1JywgJyNmYzhkNjInLCAnIzhkYTBjYicsICcjZTc4YWMzJywgJyNhNmQ4NTQnLCAnI2ZmZDkyZicsICcjZTVjNDk0JywgJyNiM2IzYjMnXSxcbiAgICAgICAgQWNjZW50OiBbJyM3ZmM5N2YnLCAnI2JlYWVkNCcsICcjZmRjMDg2JywgJyNmZmZmOTknLCAnIzM4NmNiMCcsICcjZjAwMjdmJywgJyNiZjViMTcnLCAnIzY2NjY2NiddLFxuICAgICAgICBTZXQxOiBbJyNlNDFhMWMnLCAnIzM3N2ViOCcsICcjNGRhZjRhJywgJyM5ODRlYTMnLCAnI2ZmN2YwMCcsICcjZmZmZjMzJywgJyNhNjU2MjgnLCAnI2Y3ODFiZicsICcjOTk5OTk5J10sXG4gICAgICAgIFNldDM6IFsnIzhkZDNjNycsICcjZmZmZmIzJywgJyNiZWJhZGEnLCAnI2ZiODA3MicsICcjODBiMWQzJywgJyNmZGI0NjInLCAnI2IzZGU2OScsICcjZmNjZGU1JywgJyNkOWQ5ZDknLCAnI2JjODBiZCcsICcjY2NlYmM1JywgJyNmZmVkNmYnXSxcbiAgICAgICAgRGFyazI6IFsnIzFiOWU3NycsICcjZDk1ZjAyJywgJyM3NTcwYjMnLCAnI2U3Mjk4YScsICcjNjZhNjFlJywgJyNlNmFiMDInLCAnI2E2NzYxZCcsICcjNjY2NjY2J10sXG4gICAgICAgIFBhaXJlZDogWycjYTZjZWUzJywgJyMxZjc4YjQnLCAnI2IyZGY4YScsICcjMzNhMDJjJywgJyNmYjlhOTknLCAnI2UzMWExYycsICcjZmRiZjZmJywgJyNmZjdmMDAnLCAnI2NhYjJkNicsICcjNmEzZDlhJywgJyNmZmZmOTknLCAnI2IxNTkyOCddLFxuICAgICAgICBQYXN0ZWwyOiBbJyNiM2UyY2QnLCAnI2ZkY2RhYycsICcjY2JkNWU4JywgJyNmNGNhZTQnLCAnI2U2ZjVjOScsICcjZmZmMmFlJywgJyNmMWUyY2MnLCAnI2NjY2NjYyddLFxuICAgICAgICBQYXN0ZWwxOiBbJyNmYmI0YWUnLCAnI2IzY2RlMycsICcjY2NlYmM1JywgJyNkZWNiZTQnLCAnI2ZlZDlhNicsICcjZmZmZmNjJywgJyNlNWQ4YmQnLCAnI2ZkZGFlYycsICcjZjJmMmYyJ10sXG4gICAgfTtcblxuICAgIC8vIGFkZCBsb3dlcmNhc2UgYWxpYXNlcyBmb3IgY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGVzXG4gICAgZm9yICh2YXIgaSQxID0gMCwgbGlzdCQxID0gT2JqZWN0LmtleXMoY29sb3JicmV3ZXIpOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdCQxW2kkMV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIG9wZXJhdG9ycyAtLT4gbW9kaWZ5IGV4aXN0aW5nIENvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gaW50ZXJwb2xhdG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gZ2VuZXJhdG9ycyAtLSA+IGNyZWF0ZSBuZXcgY29sb3JzXG4gICAgY2hyb21hXzEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hXzEuYmV6aWVyID0gYmV6aWVyXzE7XG4gICAgY2hyb21hXzEuYmxlbmQgPSBibGVuZF8xO1xuICAgIGNocm9tYV8xLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWFfMS5taXggPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZSA9IG1peDtcbiAgICBjaHJvbWFfMS5yYW5kb20gPSByYW5kb21fMTtcbiAgICBjaHJvbWFfMS5zY2FsZSA9IHNjYWxlO1xuXG4gICAgLy8gb3RoZXIgdXRpbGl0eSBtZXRob2RzXG4gICAgY2hyb21hXzEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYV8xLmNvbnRyYXN0ID0gY29udHJhc3Q7XG4gICAgY2hyb21hXzEuZGVsdGFFID0gZGVsdGFFO1xuICAgIGNocm9tYV8xLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hXzEubGltaXRzID0gYW5hbHl6ZV8xLmxpbWl0cztcbiAgICBjaHJvbWFfMS52YWxpZCA9IHZhbGlkO1xuXG4gICAgLy8gc2NhbGVcbiAgICBjaHJvbWFfMS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWFfMS5jb2xvcnMgPSB3M2N4MTFfMTtcbiAgICBjaHJvbWFfMS5icmV3ZXIgPSBjb2xvcmJyZXdlcl8xO1xuXG4gICAgdmFyIGNocm9tYV9qcyA9IGNocm9tYV8xO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///792
`)}},__webpack_module_cache__={};function __webpack_require__(i){var g=__webpack_module_cache__[i];if(g!==void 0)return g.exports;var $=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call($.exports,$,$.exports,__webpack_require__),$.exports}__webpack_require__.n=i=>{var g=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(g,{a:g}),g},__webpack_require__.d=(i,g)=>{for(var $ in g)__webpack_require__.o(g,$)&&!__webpack_require__.o(i,$)&&Object.defineProperty(i,$,{enumerable:!0,get:g[$]})},__webpack_require__.o=(i,g)=>Object.prototype.hasOwnProperty.call(i,g),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(773);return __webpack_exports__})()})})(bundle);var bundleExports=bundle.exports;let nanoid=(i=21)=>crypto.getRandomValues(new Uint8Array(i)).reduce((g,$)=>($&=63,$<36?g+=$.toString(36):$<62?g+=($-26).toString(36).toUpperCase():$>62?g+="-":g+="_",g),"");const importFromFile=async(i,g)=>{if(i.name.endsWith(".excalidraw")){const $=await mainExports.loadFromBlob(i,g,null);return{...$,appState:{...g,...$.appState}}}return i.type==="image/svg+xml"?{elements:await convertSvgToElements(i),appState:g,files:null}:i.type.startsWith("image/")?{elements:await convertImageToElements(i),appState:g,files:null}:(console.log("Unsupported file dropped",i),window.alert("Unsupported file dropped"),null)},convertSvgToElements=async i=>{const g=await i.text(),{hasErrors:$,content:tt}=bundleExports.convert(g);if($)throw Error("Error in convertSvgToElements");return tt.elements},convertImageToElements=async i=>{const g=await createImageBitmap(i),$=64/Math.max(g.width,g.height),tt=document.createElement("canvas");tt.width=g.width*$,tt.height=g.height*$;const ut=tt.getContext("2d");if(!ut)throw Error("Error in convertSvgToElements");ut.drawImage(g,0,0,g.width,g.height,0,0,tt.width,tt.height);const mt=ut.getImageData(0,0,tt.width,tt.height),nn=[],yn=nanoid();for(let Dn=0;Dn<tt.height;++Dn)for(let jn=0;jn<tt.width;++jn){const[Vn,$n,Ht,St]=mt.data.slice((Dn*tt.width+jn)*4),_={type:"rectangle",version:1,versionNonce:0,isDeleted:!1,id:nanoid(),fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",roughness:0,opacity:100,angle:0,x:300+jn*5,y:100+Dn*5,strokeColor:"transparent",backgroundColor:`rgba(${Vn},${$n},${Ht},${St})`,width:5,height:5,seed:0,groupIds:[yn],roundness:null,boundElements:null,updated:1,link:null,locked:!1};nn.push(_)}return nn},previewGif=i=>new Promise(g=>{const $=new GIF;i.forEach((tt,ut)=>{const mt=ut+1===i.length;$.addFrame(tt.imageData,{delay:mt?2e3:500})}),$.on("finished",tt=>{const ut=URL.createObjectURL(tt);g(ut)}),$.render()}),Export=({fontSize:i=14})=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-folder-down-icon lucide-folder-down",children:[jsxRuntimeExports.jsx("path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}),jsxRuntimeExports.jsx("path",{d:"M12 10v6"}),jsxRuntimeExports.jsx("path",{d:"m15 13-3 3-3-3"})]}),Preview$1=({fontSize:i=14})=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-play-icon lucide-play",children:jsxRuntimeExports.jsx("polygon",{points:"6 3 20 12 6 21 6 3"})}),Loading=i=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",...i,children:jsxRuntimeExports.jsxs("circle",{fill:"none",strokeOpacity:1,stroke:"inherit",strokeWidth:.5,cx:100,cy:100,r:0,children:[jsxRuntimeExports.jsx("animate",{attributeName:"r",calcMode:"spline",dur:"2s",values:"1;80",keyTimes:"0;1",keySplines:"0 .2 .5 1",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animate",{attributeName:"stroke-width",calcMode:"spline",dur:"2s",values:"0;25",keyTimes:"0;1",keySplines:"0 .2 .5 1",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animate",{attributeName:"stroke-opacity",calcMode:"spline",dur:"2s",values:"1;0",keyTimes:"0;1",keySplines:"0 .2 .5 1",repeatCount:"indefinite"})]})}),ClayMateIcons={Export,Preview:Preview$1,Loading},Dialog$1="",Dialog=({className:i="",open:g,title:$,actions:tt,handleClose:ut,dividers:mt,dividerTop:nn=!0,dividerBottom:yn=!1,dialogActionProps:Dn,dialogContentProps:jn,headerActions:Vn,children:$n,position:Ht="center"})=>{if(!g)return null;const St=`claymate-modal ${i} ${Ht}`;return reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"claymate-modal-wrapper",children:jsxRuntimeExports.jsxs("div",{className:St,children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{className:"typography",children:$}),Vn&&jsxRuntimeExports.jsx("div",{className:"header-actions",children:Vn}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:ut,children:"X"})]}),(mt||nn)&&jsxRuntimeExports.jsx("div",{className:"divider"}),jsxRuntimeExports.jsx("div",{className:"modal-content",...jn,children:$n}),(mt||yn)&&jsxRuntimeExports.jsx("div",{className:"divider"}),jsxRuntimeExports.jsx("div",{className:"modal-actions",...Dn,children:tt})]})}),document.body)},AutoAddSceneConfig$1="",AutoAddSceneConfig=({autoSceneConfig:i,setAutoSceneConfig:g})=>{const $=()=>{g(tt=>({...tt,enabled:!tt.enabled}))};return jsxRuntimeExports.jsxs("div",{className:"auto-add-configs",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i.enabled,onChange:$}),jsxRuntimeExports.jsx("span",{className:"text-nobreak",children:"Auto add scene"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("label",{htmlFor:"autoSceneFrequency",children:"Frequency ( Scenes / 10sec )"}),jsxRuntimeExports.jsxs("select",{id:"autoSceneFrequency",value:i.frequency,onChange:tt=>{g(ut=>({...ut,frequency:parseInt(tt.target.value)}))},children:[jsxRuntimeExports.jsx("option",{value:"50",children:"50 Scenes"}),jsxRuntimeExports.jsx("option",{value:"25",children:"25 Scenes"}),jsxRuntimeExports.jsx("option",{value:"10",children:"10 Scenes"})]})]})]})},DARK_FILTER="invert(93%) hue-rotate(180deg)",Preview=reactExports.memo(({scene:i,darkMode:g})=>{const $=reactExports.useRef(null);reactExports.useEffect(()=>{if(!$.current)return;const nn=$.current.getContext("2d");nn&&nn.putImageData(i.imageData,0,0)},[i]);const tt=g?"dark":"light",mt=i.drawing.appState.theme!==tt?DARK_FILTER:void 0;return jsxRuntimeExports.jsx("canvas",{ref:$,width:i.width,height:i.height,style:{filter:mt}})}),Claymate=({scenes:i,currentIndex:g,updateScenes:$,moveToScene:tt,addScene:ut,updateDrawing:mt,autoAddSceneUnit:nn=.1})=>{var pn;const[yn,Dn]=reactExports.useState(!1),[jn,Vn]=reactExports.useState(!1),[$n,Ht]=reactExports.useState({}),[St,_]=reactExports.useState({open:!1,url:""}),[pt,ht]=reactExports.useState(!1),[ot,at]=reactExports.useState({enabled:!1,frequency:50}),gt=reactExports.useRef(null),xt=reactExports.useCallback(An=>An*nn*1e3,[nn]),vt=((pn=i[g||0])==null?void 0:pn.drawing.appState.theme)==="dark",it=async An=>{var Bt;const ft=(Bt=An.dataTransfer)==null?void 0:Bt.files[0],Rt=g!==void 0&&i[g].drawing.appState;if(ft&&Rt){const bt=await importFromFile(ft,Rt);bt&&ut(bt)}},kt=async()=>{await exportToGif(i)},Ot=async()=>{const An=await previewGif(i);_({open:!0,url:An})},an=()=>{_({open:!1,url:""})},gn=async()=>{await exportToHtml(i,{darkMode:vt,animate:jn,animateOptions:$n})},Qt=async()=>{if(g!==void 0){let An="";const ft=document.getElementById("previewOuter");ft&&(An="previewInner"),await previewHtml(i[g],{darkMode:vt,animate:jn,animateOptions:$n},An),ft&&(ft.style.display="block")}},bn=An=>{const ft=i.findIndex(Bt=>Bt.id===An);if(ft<0)return;let Rt;if(g!==void 0){const Bt=i.length-1,bt=g===Bt||g>ft?g-1:g,Gt=ft<=g&&Bt!==ft?bt+1:bt;Rt={index:bt,drawing:i[Gt].drawing}}$(Bt=>{const bt=[...Bt];return bt.splice(ft,1),bt},Rt)},fn=An=>{const ft=i.findIndex(Rt=>Rt.id===An);$(Rt=>{const Bt=[...Rt];return Bt[ft-1]=Rt[ft],Bt[ft]=Rt[ft-1],Bt},{index:ft-1,drawing:i[ft].drawing})},Zn=An=>{const ft=i.findIndex(Rt=>Rt.id===An);$(Rt=>{const Bt=[...Rt];return Bt[ft+1]=Rt[ft],Bt[ft]=Rt[ft+1],Bt},{index:ft+1,drawing:i[ft].drawing})},mn=()=>{$(An=>[...An].reverse(),g!==void 0?{index:i.length-1-g,drawing:i[g].drawing}:void 0)};return reactExports.useEffect(()=>(ot.enabled&&(gt.current=setInterval(()=>ut(),xt(ot.frequency))),()=>{gt.current&&clearInterval(gt.current)}),[ot,ut,xt]),jsxRuntimeExports.jsxs("div",{className:"Claymate",style:{filter:vt?DARK_FILTER:void 0},onDragOver:An=>An.preventDefault(),onDrop:it,children:[jsxRuntimeExports.jsx("div",{className:"Claymate-scenes",children:i.map((An,ft)=>{let Rt="MissingId";return lodashExports.isEmpty(i[ft].drawing.elements)||(Rt=i[ft].drawing.elements[0].id),jsxRuntimeExports.jsxs("div",{className:`Claymate-scene ${ft===g?"Claymate-current-scene":""}`,onClick:()=>tt(ft),"data-testid":Rt,children:[jsxRuntimeExports.jsx(Preview,{scene:An,darkMode:vt}),jsxRuntimeExports.jsx("button",{type:"button",className:"Claymate-delete","aria-label":"Delete",disabled:i.length<=1,onClick:Bt=>{Bt.stopPropagation(),bn(An.id)},children:""}),jsxRuntimeExports.jsx("button",{type:"button",className:"Claymate-left","aria-label":"Move Left",disabled:ft===0,onClick:Bt=>{Bt.stopPropagation(),fn(An.id)},children:""}),jsxRuntimeExports.jsx("button",{type:"button",className:"Claymate-right","aria-label":"Move Right",disabled:ft===i.length-1,onClick:Bt=>{Bt.stopPropagation(),Zn(An.id)},children:""})]},An.id)})}),jsxRuntimeExports.jsxs("div",{className:"Claymate-configs",children:[yn&&jsxRuntimeExports.jsx(AnimateConfig,{animateEnabled:jn,setAnimateEnabled:Vn,scene:g===void 0?void 0:i[g],updateDrawing:mt,animateOptions:$n,setAnimateOptions:Ht,previewCurrentScene:Qt}),pt&&jsxRuntimeExports.jsx(AutoAddSceneConfig,{autoSceneConfig:ot,setAutoSceneConfig:at})]}),jsxRuntimeExports.jsxs("div",{className:"Claymate-buttons",children:[jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("button",{type:"button",title:"Show auto add scene config",onClick:()=>ht(An=>!An),children:pt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:""}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:""})}),jsxRuntimeExports.jsxs("button",{type:"button",title:"Add scene",onClick:()=>ut(),children:[ot.enabled&&jsxRuntimeExports.jsx("span",{className:"auto-add-scene-tag flex",title:"Auto add scene enabled",children:jsxRuntimeExports.jsx(ClayMateIcons.Loading,{})}),"Add scene"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{type:"button",disabled:i.length===0,onClick:Ot,title:"Preview GIF",children:jsxRuntimeExports.jsx(ClayMateIcons.Preview,{})}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:kt,disabled:i.length===0,title:"Export GIF",children:[jsxRuntimeExports.jsx(ClayMateIcons.Export,{}),"Export GIF"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{type:"button",title:"Animate",onClick:()=>Dn(An=>!An),children:yn?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:""}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:""})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gn(),disabled:i.length===0,title:"Export HTML",children:"Export HTML"})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:mn,disabled:i.length<=1,children:"Reverse order"})]}),St.open&&jsxRuntimeExports.jsx(Dialog,{open:St.open,title:"Preview GIF",handleClose:an,children:jsxRuntimeExports.jsx("div",{className:"preview-gif-wrapper",children:jsxRuntimeExports.jsx("img",{src:St.url,alt:"Preview GIF",className:"preview-gif"})})}),St.open&&jsxRuntimeExports.jsx(Dialog,{open:St.open,title:"Preview GIF",handleClose:an,children:jsxRuntimeExports.jsx("div",{className:"preview-gif-wrapper",children:jsxRuntimeExports.jsx("img",{src:St.url,alt:"Preview GIF",className:"preview-gif"})})})]})},createScene=async(i,g)=>{const $=await mainExports.exportToCanvas(i),tt=g?g.width:$.width,ut=g?g.height:$.height;if(!tt||!ut)return;const mt=$.getContext("2d");if(mt)return{id:nanoid(),width:tt,height:ut,imageData:mt.getImageData(0,0,tt,ut),drawing:i}},ELEMENTS_STORAGE_KEY="excalidraw-elements",SCENE_STORAGE_KEY="claymate-scenes",loadDrawingFromStorage=()=>{try{const i=JSON.parse(localStorage.getItem(ELEMENTS_STORAGE_KEY)||"");return i.appState.collaborators=new Map,i}catch{return null}},loadStorage=async()=>{try{const i=localStorage.getItem(SCENE_STORAGE_KEY)||"",g=i&&i.length>0?JSON.parse(i):void 0;if(g&&g.length>0){let $;const tt=[];for(const ut of g){ut.appState.collaborators=new Map;const mt=await createScene(ut,$?{width:$.width,height:$.height}:void 0);mt&&($||($=mt),tt.push(mt))}return tt}}catch(i){console.error("Error loading from storage",i);try{const g=loadDrawingFromStorage();if(g){const $=await createScene(g);if($)return[$]}}catch{}}return null},saveStorage=i=>{const g=JSON.stringify(i.map($=>$.drawing));localStorage.setItem(SCENE_STORAGE_KEY,g)},useScenes=()=>{const i=reactExports.useRef(0),[g,$]=reactExports.useState(0),[tt,ut]=reactExports.useState(0),[mt,nn]=reactExports.useState([]),[yn,Dn]=reactExports.useState(),jn=tt!==void 0&&tt<mt.length?{...mt[tt],drawing:yn}:void 0;let Vn,$n;jn!=null&&mt.length!==1&&(Vn=jn.width,$n=jn.height);const Ht=reactExports.useCallback((at,gt,xt)=>{$(vt=>vt+1),Dn(at),xt&&gt!==void 0&&xt(gt,at)},[]),St=reactExports.useCallback((at,gt)=>{at!=null&&gt&&(async()=>{const xt=await createScene(gt,Vn===void 0||$n===void 0?void 0:{width:Vn,height:$n});xt&&nn(vt=>{const it=[...vt];return it[at]=xt,it})})()},[Vn,$n]),_=reactExports.useCallback((at,gt)=>{nn(at),gt&&(ut(gt.index),Ht(gt.drawing,gt.index,St))},[ut,Ht,St]),pt=(at,gt,xt)=>{if(tt!==void 0&&(yn==null||!lodashExports.isEqual(at,yn.elements)||!lodashExports.isEqual(gt,yn.appState))){const vt={elements:at.map(it=>({...it})),appState:{...gt},files:xt};Dn(vt),St(tt,vt)}},ht=reactExports.useCallback(at=>{Ht(mt[at].drawing,at,St),ut(at)},[Ht,mt,St]),ot=reactExports.useCallback(at=>{const gt=at||yn;gt&&(async()=>{const xt=await createScene(gt,mt[0]&&{width:mt[0].width,height:mt[0].height});xt&&_(vt=>[...vt,xt],{index:mt.length,drawing:gt})})()},[_,mt,yn]);return reactExports.useEffect(()=>{i.current===0&&(i.current=1,(async()=>{const at=await loadStorage();at&&at.length>0?(nn(at),ut(0),Ht(at[0].drawing,0,St)):ot(),i.current=2})())},[St,Ht,ot]),reactExports.useEffect(()=>{i.current===2&&saveStorage(mt)},[mt]),{moveToScene:ht,addScene:ot,onChange:pt,drawingVersion:g,currentIndex:tt,scenes:mt,updateScenes:_,initialData:yn}},LIBRARY_STORAGE_KEY="claymate-libraries",loadLibraries=()=>{try{const i=localStorage.getItem(LIBRARY_STORAGE_KEY),g=i?JSON.parse(i):void 0;if(g)return g}catch(i){console.error("Unable to load libraries",i)}},saveLibraries=i=>{const g=JSON.stringify(i);localStorage.setItem(LIBRARY_STORAGE_KEY,g)},useLibrary=()=>{const i=reactExports.useMemo(()=>loadLibraries(),[]),g=reactExports.useRef(i);return{onLibraryChange:reactExports.useCallback(tt=>{saveLibraries(tt),g.current=tt},[]),libraryItems:g.current}},App=()=>{const i=reactExports.useRef(null),g=St=>{var _;(_=i.current)==null||_.updateScene(St)},{moveToScene:$,addScene:tt,onChange:ut,drawingVersion:mt,currentIndex:nn,initialData:yn,scenes:Dn,updateScenes:jn}=useScenes(),{onLibraryChange:Vn,libraryItems:$n}=useLibrary(),Ht=reactExports.useMemo(()=>$n?{...yn,libraryItems:$n,files:(yn==null?void 0:yn.files)||void 0}:{...yn,files:(yn==null?void 0:yn.files)||void 0},[yn,$n]);return jsxRuntimeExports.jsxs("div",{className:"ClaymateApp",children:[jsxRuntimeExports.jsx(mainExports.Excalidraw,{ref:i,initialData:Ht,onChange:ut,onLibraryChange:Vn},mt),jsxRuntimeExports.jsx(Claymate,{scenes:Dn,currentIndex:nn,updateScenes:jn,moveToScene:$,addScene:tt,updateDrawing:g})]})};window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function unregister(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(i=>{i.unregister()}).catch(i=>{console.error(i.message)})}const index="",container=document.getElementById("root"),root=createRoot(container);root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));unregister();
